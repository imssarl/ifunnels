!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/skin/pagebuilder/build/",n(n.s=268)}([function(e,t,n){(function(e){e.exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Ct(e,t,n,i,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=m(e),n=i.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function b(e){var t=f(NaN);return null!=e?p(m(t),e):m(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=r.momentProperties=[],y=!1;function _(e,t){var n,i,r;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),v.length>0)for(n=0;n<v.length;n++)c(r=t[i=v[n]])||(e[i]=r);return e}function w(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function x(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,l=[];for(a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];l.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var C,S={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),S[e]||(x(t),S[e]=!0)}function T(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e,t){var n,i=p({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(i[n]=p({},i[n]));return i}function L(e){null!=e&&this.set(e)}function M(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},B={};function O(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(B[e]=r),t&&(B[t[0]]=function(){return M(r.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e,t){return e.isValid()?(t=R(t,e.localeData()),I[t]=I[t]||function(e){var t,n,i,r=e.match($);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,a="";for(i=0;i<n;i++)a+=T(r[i])?r[i].call(t,e):r[i];return a}}(t),I[t](e)):e.localeData().invalidDate()}function R(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,i),F.lastIndex=0,n-=1;return e}var N={};function P(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function H(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function Y(e){var t,n,i={};for(n in e)s(e,n)&&(t=H(n))&&(i[t]=e[n]);return i}var z={};function W(e,t){z[e]=t}function U(e){return e%4==0&&e%100!=0||e%400==0}function q(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=q(t)),n}function G(e,t){return function(n){return null!=n?(X(this,e,n),r.updateOffset(this,t),this):K(this,e)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function X(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&U(e.year())&&1===e.month()&&29===e.date()?(n=V(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ke(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var Q,J=/\d/,Z=/\d\d/,ee=/\d{3}/,te=/\d{4}/,ne=/[+-]?\d{6}/,ie=/\d\d?/,re=/\d\d\d\d?/,ae=/\d\d\d\d\d\d?/,oe=/\d{1,3}/,se=/\d{1,4}/,le=/[+-]?\d{1,6}/,ce=/\d+/,de=/[+-]?\d+/,ue=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function fe(e,t,n){Q[e]=T(t)?t:function(e,i){return e&&n?n:t}}function me(e,t){return s(Q,e)?Q[e](t._strict,t._locale):new RegExp(ge(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,i,r){return t||n||i||r}))))}function ge(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var be,ve={};function ye(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),d(t)&&(i=function(e,n){n[t]=V(e)}),n=0;n<e.length;n++)ve[e[n]]=i}function _e(e,t){ye(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function we(e,t,n){null!=t&&s(ve,e)&&ve[e](t,n._a,n,e)}function ke(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?U(e)?29:28:31-i%7%2}be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},O("M",["MM",2],"Mo",(function(){return this.month()+1})),O("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),O("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),W("month",8),fe("M",ie),fe("MM",ie,Z),fe("MMM",(function(e,t){return t.monthsShortRegex(e)})),fe("MMMM",(function(e,t){return t.monthsRegex(e)})),ye(["M","MM"],(function(e,t){t[1]=V(e)-1})),ye(["MMM","MMMM"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:m(n).invalidMonth=e}));var xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ce=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Se=pe,Ee=pe;function Te(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=be.call(this._shortMonthsParse,o))?r:null:-1!==(r=be.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=be.call(this._shortMonthsParse,o))||-1!==(r=be.call(this._longMonthsParse,o))?r:null:-1!==(r=be.call(this._longMonthsParse,o))||-1!==(r=be.call(this._shortMonthsParse,o))?r:null}function De(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=V(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),ke(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Le(e){return null!=e?(De(this,e),r.updateOffset(this,!0),this):K(this,"Month")}function Me(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],a=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)i[t]=ge(i[t]),r[t]=ge(r[t]);for(t=0;t<24;t++)a[t]=ge(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function $e(e){return U(e)?366:365}O("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),O(0,["YY",2],0,(function(){return this.year()%100})),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),P("year","y"),W("year",1),fe("Y",de),fe("YY",ie,Z),fe("YYYY",se,te),fe("YYYYY",le,ne),fe("YYYYYY",le,ne),ye(["YYYYY","YYYYYY"],0),ye("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):V(e)})),ye("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),ye("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var Fe=G("FullYear",!0);function Ie(e,t,n,i,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,a,o),s}function Be(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Oe(e,t,n){var i=7+t-n;return-(7+Be(e,0,i).getUTCDay()-t)%7+i-1}function je(e,t,n,i,r){var a,o,s=1+7*(t-1)+(7+n-i)%7+Oe(e,i,r);return s<=0?o=$e(a=e-1)+s:s>$e(e)?(a=e+1,o=s-$e(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Re(e,t,n){var i,r,a=Oe(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?i=o+Ne(r=e.year()-1,t,n):o>Ne(e.year(),t,n)?(i=o-Ne(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function Ne(e,t,n){var i=Oe(e,t,n),r=Oe(e+1,t,n);return($e(e)-i+r)/7}function Pe(e,t){return e.slice(t,7).concat(e.slice(0,t))}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),W("week",5),W("isoWeek",5),fe("w",ie),fe("ww",ie,Z),fe("W",ie),fe("WW",ie,Z),_e(["w","ww","W","WW"],(function(e,t,n,i){t[i.substr(0,1)]=V(e)})),O("d",0,"do","day"),O("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),O("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),O("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),W("day",11),W("weekday",11),W("isoWeekday",11),fe("d",ie),fe("e",ie),fe("E",ie),fe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),fe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),fe("dddd",(function(e,t){return t.weekdaysRegex(e)})),_e(["dd","ddd","dddd"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:m(n).invalidWeekday=e})),_e(["d","e","E"],(function(e,t,n,i){t[i]=V(e)}));var He="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),We=pe,Ue=pe,qe=pe;function Ve(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=be.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=be.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=be.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=be.call(this._weekdaysParse,o))||-1!==(r=be.call(this._shortWeekdaysParse,o))||-1!==(r=be.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=be.call(this._shortWeekdaysParse,o))||-1!==(r=be.call(this._weekdaysParse,o))||-1!==(r=be.call(this._minWeekdaysParse,o))?r:null:-1!==(r=be.call(this._minWeekdaysParse,o))||-1!==(r=be.call(this._weekdaysParse,o))||-1!==(r=be.call(this._shortWeekdaysParse,o))?r:null}function Ge(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=ge(this.weekdaysMin(n,"")),r=ge(this.weekdaysShort(n,"")),a=ge(this.weekdays(n,"")),o.push(i),s.push(r),l.push(a),c.push(i),c.push(r),c.push(a);o.sort(e),s.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Xe(e,t){O(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Qe(e,t){return t._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Ke),O("k",["kk",2],0,(function(){return this.hours()||24})),O("hmm",0,0,(function(){return""+Ke.apply(this)+M(this.minutes(),2)})),O("hmmss",0,0,(function(){return""+Ke.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),O("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),O("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),P("hour","h"),W("hour",13),fe("a",Qe),fe("A",Qe),fe("H",ie),fe("h",ie),fe("k",ie),fe("HH",ie,Z),fe("hh",ie,Z),fe("kk",ie,Z),fe("hmm",re),fe("hmmss",ae),fe("Hmm",re),fe("Hmmss",ae),ye(["H","HH"],3),ye(["k","kk"],(function(e,t,n){var i=V(e);t[3]=24===i?0:i})),ye(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ye(["h","hh"],(function(e,t,n){t[3]=V(e),m(n).bigHour=!0})),ye("hmm",(function(e,t,n){var i=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i)),m(n).bigHour=!0})),ye("hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i,2)),t[5]=V(e.substr(r)),m(n).bigHour=!0})),ye("Hmm",(function(e,t,n){var i=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i))})),ye("Hmmss",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=V(e.substr(0,i)),t[4]=V(e.substr(i,2)),t[5]=V(e.substr(r))}));var Je,Ze=G("Hours",!0),et={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:Ae,week:{dow:0,doy:6},weekdays:He,weekdaysMin:ze,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},tt={},nt={};function it(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function rt(e){return e?e.toLowerCase().replace("_","-"):e}function at(t){var i=null;if(void 0===tt[t]&&void 0!==e&&e&&e.exports)try{i=Je._abbr,n(217)("./"+t),ot(i)}catch(e){tt[t]=null}return tt[t]}function ot(e,t){var n;return e&&((n=c(t)?lt(e):st(e,t))?Je=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Je._abbr}function st(e,t){if(null!==t){var n,i=et;if(t.abbr=e,null!=tt[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=tt[e]._config;else if(null!=t.parentLocale)if(null!=tt[t.parentLocale])i=tt[t.parentLocale]._config;else{if(null==(n=at(t.parentLocale)))return nt[t.parentLocale]||(nt[t.parentLocale]=[]),nt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return tt[e]=new L(D(i,t)),nt[e]&&nt[e].forEach((function(e){st(e.name,e.config)})),ot(e),tt[e]}return delete tt[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Je;if(!a(e)){if(t=at(e))return t;e=[e]}return function(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=rt(e[a]).split("-")).length,n=(n=rt(e[a+1]))?n.split("-"):null;t>0;){if(i=at(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&it(r,n)>=t-1)break;t--}a++}return Je}(e)}function ct(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ke(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var dt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,gt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vt(e){var t,n,i,r,a,o,s=e._i,l=dt.exec(s)||ut.exec(s);if(l){for(m(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[1])){r=pt[t][0],i=!1!==pt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(l[3])){a=(l[2]||" ")+ft[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),xt(e)}else e._isValid=!1}function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function _t(e){var t,n,i,r,a,o,s,l,c=gt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],a=c[5],o=c[6],s=c[7],l=[yt(n),Ae.indexOf(i),parseInt(r,10),parseInt(a,10),parseInt(o,10)],s&&l.push(parseInt(s,10)),t=l,!function(e,t,n){return!e||Ye.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=Be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function wt(e,t,n){return null!=e?e:null!=t?t:n}function kt(e){var t,n,i,a,o,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,a,o,s,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=wt(t.GG,e._a[0],Re(St(),1,4).year),i=wt(t.W,1),((r=wt(t.E,1))<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=Re(St(),a,o),n=wt(t.gg,e._a[0],c.year),i=wt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>Ne(n,a,o)?m(e)._overflowWeeks=!0:null!=l?m(e)._overflowWeekday=!0:(s=je(n,i,r,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=wt(e._a[0],i[0]),(e._dayOfYear>$e(o)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Be(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Be:Ie).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(m(e).weekdayMismatch=!0)}}function xt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,l=""+e._i,c=l.length,d=0;for(i=R(e._f,e._locale).match($)||[],t=0;t<i.length;t++)a=i[t],(n=(l.match(me(a,e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&m(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),d+=n.length),B[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),we(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-d,l.length>0&&m(e).unusedInput.push(l),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),kt(e),ct(e)}else _t(e);else vt(e)}function At(e){var t=e._i,n=e._f;return e._locale=e._locale||lt(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(ct(t)):(u(t)?e._d=t:a(n)?function(e){var t,n,i,r,a,o,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],xt(t),g(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<i&&(i=a,n=t):(null==i||a<i||o)&&(i=a,n=t,o&&(s=!0));p(e,n||t)}(e):n?xt(e):function(e){var t=e._i;c(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(vt(e),!1===e._isValid&&(delete e._isValid,_t(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),kt(e)):o(t)?function(e){if(!e._d){var t=Y(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),kt(e)}}(e):d(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Ct(e,t,n,i,r){var s,c={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=r,c._l=n,c._i=e,c._f=t,c._strict=i,(s=new w(ct(At(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function St(e,t,n,i){return Ct(e,t,n,i,!1)}r.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Et=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Tt=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=St.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Dt(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var Lt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=Y(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,n,i=!1;for(t in e)if(s(e,t)&&(-1===be.call(Lt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Lt.length;++n)if(e[Lt[n]]){if(i)return!1;parseFloat(e[Lt[n]])!==V(e[Lt[n]])&&(i=!0)}return!0}(t),this._milliseconds=+u+1e3*d+6e4*c+1e3*l*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=lt(),this._bubble()}function $t(e){return e instanceof Mt}function Ft(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){O(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}It("Z",":"),It("ZZ",""),fe("Z",he),fe("ZZ",he),ye(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ot(he,e)}));var Bt=/([\+\-]|\d\d)/gi;function Ot(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Bt)||["-",0,0])[1]+V(n[2]))?0:"+"===n[0]?i:-i}function jt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||u(e)?e.valueOf():St(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):St(e).local()}function Rt(e){return-Math.round(e._d.getTimezoneOffset())}function Nt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Pt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,i,r,a,o,l,c=e,u=null;return $t(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(u=Pt.exec(e))?(n="-"===u[1]?-1:1,c={y:0,d:V(u[2])*n,h:V(u[3])*n,m:V(u[4])*n,s:V(u[5])*n,ms:V(Ft(1e3*u[6]))*n}):(u=Ht.exec(e))?(n="-"===u[1]?-1:1,c={y:zt(u[2],n),M:zt(u[3],n),w:zt(u[4],n),d:zt(u[5],n),h:zt(u[6],n),m:zt(u[7],n),s:zt(u[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=St(c.from),o=St(c.to),r=a.isValid()&&o.isValid()?(o=jt(o,a),a.isBefore(o)?l=Wt(a,o):((l=Wt(o,a)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=r.milliseconds,c.M=r.months),i=new Mt(c),$t(e)&&s(e,"_locale")&&(i._locale=e._locale),$t(e)&&s(e,"_isValid")&&(i._isValid=e._isValid),i}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ut(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),qt(this,Yt(n,i),e),this}}function qt(e,t,n,i){var a=t._milliseconds,o=Ft(t._days),s=Ft(t._months);e.isValid()&&(i=null==i||i,s&&De(e,K(e,"Month")+s*n),o&&X(e,"Date",K(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Yt.fn=Mt.prototype,Yt.invalid=function(){return Yt(NaN)};var Vt=Ut(1,"add"),Gt=Ut(-1,"subtract");function Kt(e){return"string"==typeof e||e instanceof String}function Xt(e){return k(e)||u(e)||Kt(e)||d(e)||function(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!d(t)&&Kt(e)})).length),t&&n}(e)||function(e){var t,n,i=o(e)&&!l(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],r=r||s(e,n);return i&&r}(e)||null==e}function Qt(e){var t,n=o(e)&&!l(e),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<r.length;t+=1)i=i||s(e,r[t]);return n&&i}function Jt(e,t){if(e.date()<t.date())return-Jt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function tn(){return this._locale}function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function an(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function on(e,t){return t.erasAbbrRegex(e)}function sn(){var e,t,n=[],i=[],r=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)i.push(ge(o[e].name)),n.push(ge(o[e].abbr)),r.push(ge(o[e].narrow)),a.push(ge(o[e].name)),a.push(ge(o[e].abbr)),a.push(ge(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function ln(e,t){O(0,[e,e.length],0,t)}function cn(e,t,n,i,r){var a;return null==e?Re(this,i,r).year:(t>(a=Ne(e,i,r))&&(t=a),dn.call(this,e,t,n,i,r))}function dn(e,t,n,i,r){var a=je(e,t,n,i,r),o=Be(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),fe("N",on),fe("NN",on),fe("NNN",on),fe("NNNN",(function(e,t){return t.erasNameRegex(e)})),fe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ye(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?m(n).era=r:m(n).invalidEra=e})),fe("y",ce),fe("yy",ce),fe("yyy",ce),fe("yyyy",ce),fe("yo",(function(e,t){return t._eraYearOrdinalRegex||ce})),ye(["y","yy","yyy","yyyy"],0),ye(["yo"],(function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),O(0,["gg",2],0,(function(){return this.weekYear()%100})),O(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),W("weekYear",1),W("isoWeekYear",1),fe("G",de),fe("g",de),fe("GG",ie,Z),fe("gg",ie,Z),fe("GGGG",se,te),fe("gggg",se,te),fe("GGGGG",le,ne),fe("ggggg",le,ne),_e(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,i){t[i.substr(0,2)]=V(e)})),_e(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),O("Q",0,"Qo","quarter"),P("quarter","Q"),W("quarter",7),fe("Q",J),ye("Q",(function(e,t){t[1]=3*(V(e)-1)})),O("D",["DD",2],"Do","date"),P("date","D"),W("date",9),fe("D",ie),fe("DD",ie,Z),fe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ye(["D","DD"],2),ye("Do",(function(e,t){t[2]=V(e.match(ie)[0])}));var un=G("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),W("dayOfYear",4),fe("DDD",oe),fe("DDDD",ee),ye(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=V(e)})),O("m",["mm",2],0,"minute"),P("minute","m"),W("minute",14),fe("m",ie),fe("mm",ie,Z),ye(["m","mm"],4);var hn=G("Minutes",!1);O("s",["ss",2],0,"second"),P("second","s"),W("second",15),fe("s",ie),fe("ss",ie,Z),ye(["s","ss"],5);var pn,fn,mn=G("Seconds",!1);for(O("S",0,0,(function(){return~~(this.millisecond()/100)})),O(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),O(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),O(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),O(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),O(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),O(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),W("millisecond",16),fe("S",oe,J),fe("SS",oe,Z),fe("SSS",oe,ee),pn="SSSS";pn.length<=9;pn+="S")fe(pn,ce);function gn(e,t){t[6]=V(1e3*("0."+e))}for(pn="S";pn.length<=9;pn+="S")ye(pn,gn);fn=G("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var bn=w.prototype;function vn(e){return e}bn.add=Vt,bn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Xt(arguments[0])?(e=arguments[0],t=void 0):Qt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||St(),i=jt(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(T(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,St(n)))},bn.clone=function(){return new w(this)},bn.diff=function(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=jt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=H(t)){case"year":a=Jt(this,i)/12;break;case"month":a=Jt(this,i);break;case"quarter":a=Jt(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:q(a)},bn.endOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?an:rn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},bn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)},bn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||St(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.fromNow=function(e){return this.from(St(),e)},bn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||St(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.toNow=function(e){return this.to(St(),e)},bn.get=function(e){return T(this[e=H(e)])?this[e]():this},bn.invalidAt=function(){return m(this).overflow},bn.isAfter=function(e,t){var n=k(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},bn.isBefore=function(e,t){var n=k(e)?e:St(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},bn.isBetween=function(e,t,n,i){var r=k(e)?e:St(e),a=k(t)?t:St(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n)))},bn.isSame=function(e,t){var n,i=k(e)?e:St(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=H(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},bn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},bn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},bn.isValid=function(){return g(this)},bn.lang=en,bn.locale=Zt,bn.localeData=tn,bn.max=Tt,bn.min=Et,bn.parsingFlags=function(){return p({},m(this))},bn.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:z[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=Y(e));for(n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(T(this[e=H(e)]))return this[e](t);return this},bn.startOf=function(e){var t,n;if(void 0===(e=H(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?an:rn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},bn.subtract=Gt,bn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},bn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},bn.toDate=function(){return new Date(this.valueOf())},bn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(bn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),bn.toJSON=function(){return this.isValid()?this.toISOString():null},bn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bn.unix=function(){return Math.floor(this.valueOf()/1e3)},bn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bn.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""},bn.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""},bn.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""},bn.eraYear=function(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()},bn.year=Fe,bn.isLeapYear=function(){return U(this.year())},bn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},bn.quarter=bn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},bn.month=Le,bn.daysInMonth=function(){return ke(this.year(),this.month())},bn.week=bn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},bn.isoWeek=bn.isoWeeks=function(e){var t=Re(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},bn.weeksInYear=function(){var e=this.localeData()._week;return Ne(this.year(),e.dow,e.doy)},bn.weeksInWeekYear=function(){var e=this.localeData()._week;return Ne(this.weekYear(),e.dow,e.doy)},bn.isoWeeksInYear=function(){return Ne(this.year(),1,4)},bn.isoWeeksInISOWeekYear=function(){return Ne(this.isoWeekYear(),1,4)},bn.date=un,bn.day=bn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},bn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},bn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},bn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},bn.hour=bn.hours=Ze,bn.minute=bn.minutes=hn,bn.second=bn.seconds=mn,bn.millisecond=bn.milliseconds=fn,bn.utcOffset=function(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ot(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Rt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?qt(this,Yt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Rt(this)},bn.utc=function(e){return this.utcOffset(0,e)},bn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rt(this),"m")),this},bn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ot(ue,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},bn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60==0)},bn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bn.isLocal=function(){return!!this.isValid()&&!this._isUTC},bn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bn.isUtc=Nt,bn.isUTC=Nt,bn.zoneAbbr=function(){return this._isUTC?"UTC":""},bn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bn.dates=A("dates accessor is deprecated. Use date instead.",un),bn.months=A("months accessor is deprecated. Use month instead",Le),bn.years=A("years accessor is deprecated. Use year instead",Fe),bn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),bn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=At(t))._a?(e=t._isUTC?f(t._a):St(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&V(e[i])!==V(t[i]))&&o++;return o+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=L.prototype;function _n(e,t,n,i){var r=lt(),a=f().set(i,t);return r[n](a,e)}function wn(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return _n(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=_n(e,i,n,"month");return r}function kn(e,t,n,i){"boolean"==typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var r,a=lt(),o=e?a._week.dow:0,s=[];if(null!=n)return _n(t,(n+o)%7,i,"day");for(r=0;r<7;r++)s[r]=_n(t,(r+o)%7,i,"day");return s}yn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return T(i)?i.call(t,n):i},yn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match($).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(e){return this._ordinal.replace("%d",e)},yn.preparse=vn,yn.postformat=vn,yn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return T(r)?r(e,t,n,i):r.replace(/%d/i,e)},yn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},yn.set=function(e){var t,n;for(n in e)s(e,n)&&(T(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(e,t){var n,i,a,o=this._eras||lt("en")._eras;for(n=0,i=o.length;n<i;++n){switch(typeof o[n].since){case"string":a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}}return o},yn.erasParse=function(e,t,n){var i,r,a,o,s,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(a=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[i];break;case"NNNN":if(a===e)return l[i];break;case"NNNNN":if(s===e)return l[i]}else if([a,o,s].indexOf(e)>=0)return l[i]},yn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n},yn.erasAbbrRegex=function(e){return s(this,"_erasAbbrRegex")||sn.call(this),e?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(e){return s(this,"_erasNameRegex")||sn.call(this),e?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(e){return s(this,"_erasNarrowRegex")||sn.call(this),e?this._erasNarrowRegex:this._erasRegex},yn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ce).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},yn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ce.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(e,t,n){var i,r,a;if(this._monthsParseExact)return Te.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},yn.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Se),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(e){return Re(e,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Pe(n,this._week.dow):e?n[e.day()]:n},yn.weekdaysMin=function(e){return!0===e?Pe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},yn.weekdaysShort=function(e){return!0===e?Pe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},yn.weekdaysParse=function(e,t,n){var i,r,a;if(this._weekdaysParseExact)return Ve.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},yn.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ue),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ge.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},yn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===V(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=A("moment.lang is deprecated. Use moment.locale instead.",ot),r.langData=A("moment.langData is deprecated. Use moment.localeData instead.",lt);var xn=Math.abs;function An(e,t,n,i){var r=Yt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Cn(e){return e<0?Math.floor(e):Math.ceil(e)}function Sn(e){return 4800*e/146097}function En(e){return 146097*e/4800}function Tn(e){return function(){return this.as(e)}}var Dn=Tn("ms"),Ln=Tn("s"),Mn=Tn("m"),$n=Tn("h"),Fn=Tn("d"),In=Tn("w"),Bn=Tn("M"),On=Tn("Q"),jn=Tn("y");function Rn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nn=Rn("milliseconds"),Pn=Rn("seconds"),Hn=Rn("minutes"),Yn=Rn("hours"),zn=Rn("days"),Wn=Rn("months"),Un=Rn("years"),qn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Gn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var Kn=Math.abs;function Xn(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,a,o,s,l=Kn(this._milliseconds)/1e3,c=Kn(this._days),d=Kn(this._months),u=this.asSeconds();return u?(e=q(l/60),t=q(e/60),l%=60,e%=60,n=q(d/12),d%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=Xn(this._months)!==Xn(u)?"-":"",o=Xn(this._days)!==Xn(u)?"-":"",s=Xn(this._milliseconds)!==Xn(u)?"-":"",r+"P"+(n?a+n+"Y":"")+(d?a+d+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+i+"S":"")):"P0D"}var Jn=Mt.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var e=this._data;return this._milliseconds=xn(this._milliseconds),this._days=xn(this._days),this._months=xn(this._months),e.milliseconds=xn(e.milliseconds),e.seconds=xn(e.seconds),e.minutes=xn(e.minutes),e.hours=xn(e.hours),e.months=xn(e.months),e.years=xn(e.years),this},Jn.add=function(e,t){return An(this,e,t,1)},Jn.subtract=function(e,t){return An(this,e,t,-1)},Jn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=H(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Sn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Jn.asMilliseconds=Dn,Jn.asSeconds=Ln,Jn.asMinutes=Mn,Jn.asHours=$n,Jn.asDays=Fn,Jn.asWeeks=In,Jn.asMonths=Bn,Jn.asQuarters=On,Jn.asYears=jn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Jn._bubble=function(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Cn(En(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=q(a/1e3),l.seconds=e%60,t=q(e/60),l.minutes=t%60,n=q(t/60),l.hours=n%24,o+=q(n/24),r=q(Sn(o)),s+=r,o-=Cn(En(r)),i=q(s/12),s%=12,l.days=o,l.months=s,l.years=i,this},Jn.clone=function(){return Yt(this)},Jn.get=function(e){return e=H(e),this.isValid()?this[e+"s"]():NaN},Jn.milliseconds=Nn,Jn.seconds=Pn,Jn.minutes=Hn,Jn.hours=Yn,Jn.days=zn,Jn.weeks=function(){return q(this.days()/7)},Jn.months=Wn,Jn.years=Un,Jn.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,a=Vn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(a=Object.assign({},Vn,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=this.localeData(),i=function(e,t,n,i){var r=Yt(e).abs(),a=qn(r.as("s")),o=qn(r.as("m")),s=qn(r.as("h")),l=qn(r.as("d")),c=qn(r.as("M")),d=qn(r.as("w")),u=qn(r.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,h[3]=+e>0,h[4]=i,Gn.apply(null,h)}(this,!r,a,n),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Jn.toISOString=Qn,Jn.toString=Qn,Jn.toJSON=Qn,Jn.locale=Zt,Jn.localeData=tn,Jn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),Jn.lang=en,O("X",0,0,"unix"),O("x",0,0,"valueOf"),fe("x",de),fe("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ye("x",(function(e,t,n){n._d=new Date(V(e))})),
//! moment.js
r.version="2.29.1",t=St,r.fn=bn,r.min=function(){var e=[].slice.call(arguments,0);return Dt("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Dt("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return St(1e3*e)},r.months=function(e,t){return wn(e,t,"months")},r.isDate=u,r.locale=ot,r.invalid=b,r.duration=Yt,r.isMoment=k,r.weekdays=function(e,t,n){return kn(e,t,n,"weekdays")},r.parseZone=function(){return St.apply(null,arguments).parseZone()},r.localeData=lt,r.isDuration=$t,r.monthsShort=function(e,t){return wn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return kn(e,t,n,"weekdaysMin")},r.defineLocale=st,r.updateLocale=function(e,t){if(null!=t){var n,i,r=et;null!=tt[e]&&null!=tt[e].parentLocale?tt[e].set(D(tt[e]._config,t)):(null!=(i=at(e))&&(r=i._config),t=D(r,t),null==i&&(t.abbr=e),(n=new L(t)).parentLocale=tt[e],tt[e]=n),ot(e)}else null!=tt[e]&&(null!=tt[e].parentLocale?(tt[e]=tt[e].parentLocale,e===ot()&&ot(e)):null!=tt[e]&&delete tt[e]);return tt[e]},r.locales=function(){return C(tt)},r.weekdaysShort=function(e,t,n){return kn(e,t,n,"weekdaysShort")},r.normalizeUnits=H,r.relativeTimeRounding=function(e){return void 0===e?qn:"function"==typeof e&&(qn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Vn[e]&&(void 0===t?Vn[e]:(Vn[e]=t,"s"===e&&(Vn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=bn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(39)(e))},,,,,,function(e,t){e.exports=function(e){function t(e){"undefined"!=typeof console&&(console.error||console.log)("[Script Loader]",e)}try{"undefined"!=typeof execScript&&"undefined"!=typeof attachEvent&&"undefined"==typeof addEventListener?execScript(e):"undefined"!=typeof eval?eval.call(null,e):t("EvalError: No eval function available")}catch(e){t(e)}}},,function(e,t,n){"use strict";var i=n(29),r=Object.prototype.toString;function a(e){return"[object Array]"===r.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===r.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},deepMerge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]="object"==typeof n?e({},n):n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){const{reject:i}=n(235);!function(){"use strict";let t=n(15),i=n(12),r=n(11).appUI,a=n(10),o=n(49),s=n(15),l=n(40);const c=n(315),{variant:d}=n(236);c.addUserActionsToRoot();var u={allBlocks:{},primarySideMenuWrapper:document.getElementById("main"),buttonBack:document.getElementById("backButton"),buttonBackConfirm:document.getElementById("leavePageButton"),aceEditors:{},frameContents:"",templateID:0,modalDeleteBlock:document.getElementById("deleteBlock"),modalResetBlock:document.getElementById("resetBlock"),modalDeletePage:document.getElementById("deletePage"),buttonDeletePageConfirm:document.getElementById("deletePageConfirm"),dropdownPageLinks:document.getElementById("internalLinksDropdown"),pageInUrl:null,tempFrame:{},currentResponsiveMode:{},sideSecondBlocksNav:document.querySelector('*[data-sidesecond="blocks"] nav'),sideSecondComponentsNav:document.querySelector('*[data-sidesecond="components"] nav'),sideSecondPopupNav:document.querySelector('*[data-sidesecond="popups"] nav'),init:function(){document.body.classList.contains("builderUI")&&u.loadBlocksComponents(),$(this.primarySideMenuWrapper).on("click","a:not(.actionButtons)",(function(e){e.preventDefault()})),$(this.buttonBack).on("click",this.backButton),$(this.buttonBackConfirm).on("click",this.backButtonConfirm),$(u.sideSecondBlocksNav).on("click","li a.delFavBlock",(function(){return u.deleteFavBlock(this.getAttribute("data-block-id")),!1})),$(window).bind("beforeunload",(function(){if(!0===f.pendingChanges)return"Your site contains changed which haven't been saved yet. Are you sure you want to leave?"})),u.pageInUrl=t.getParameterByName("p"),a.subscribe("onBeforeSave",(function(){"function"==typeof i.onBeforeSave&&i.onBeforeSave()})),window.addEventListener("message",(function(e){"onFrameContentChanged"===e.data&&(f.activePage.heightAdjustment(),f.setPendingChanges(!0))}),!1),a.subscribe("canvasWidthChanged",(function(){f.activePage.heightAdjustment()})),a.subscribe("onPendingChanges",(function(){f.setPendingChanges(!0)})),a.subscribe("onResponsiveViewChange",(function(e){if(void 0===f.activePage.blocks)return!1;f.activePage.blocks.forEach((function(t){"mobile"===e?t.hideFrameCover():t.unhideFrameCover()}))})),c.callbackAfterUserNotActive=()=>f.autoSave()},loadBlocksComponents:function(e=!0,t=!0){$.getJSON(r.dataUrls.loadAll,(function(n){u.allBlocks=n,e&&u.implementBlocks(),t&&u.implementComponents(),a.publish("onSidebarDataReady")}))},implementBlocks:function(){var e,n,o,s,l,c,d,h=0;for(e in this.sideSecondBlocksNav.innerHTML="",void 0===this.allBlocks.elements&&($('button[data-side="blocks"]').remove(),$('div[data-sidesecond="blocks"]').remove()),this.allBlocks.elements)if("popups"!==e.toLowerCase()){for(e.toLowerCase().replace(/ /g,"_"),n=document.createElement("BUTTON"),(o=document.createElement("SPAN")).innerText=e,n.appendChild(o),s=t.htmlToElement(i.sideMenuArrowSVG),n.appendChild(s),this.sideSecondBlocksNav.appendChild(n),c=document.createElement("UL"),0===h&&c.setAttribute("data-no-fav-blocks",u.sideSecondBlocksNav.getAttribute("data-no-fav-blocks")),l=0;l<this.allBlocks.elements[e].length;l++)d=void 0===this.allBlocks.elements[e][l].blocks_category?$('<li><a href="" class="delFavBlock" data-block-id="'+this.allBlocks.elements[e][l].id+'"><i class="fui-cross-circle"></i></a><img data-original-src="'+r.cnmPath+this.allBlocks.elements[e][l].blocks_thumb+'" data-srcc="'+r.baseUrl+this.allBlocks.elements[e][l].blocks_url+'" data-height="'+this.allBlocks.elements[e][l].blocks_height+'"></li>'):$('<li><img data-original-src="'+r.cnmPath+this.allBlocks.elements[e][l].blocks_thumb+'" data-srcc="'+r.cnmPath+this.allBlocks.elements[e][l].blocks_url+'" data-height="'+this.allBlocks.elements[e][l].blocks_height+'"></li>'),c.appendChild(d[0]);this.sideSecondBlocksNav.appendChild(c),h++}else a.publish("createPopupsSidebar",e,this.allBlocks.elements[e]);u.makeDraggable()},implementComponents:function(){var e,n,a,o,s,l,c,d,u=void 0===this.allBlocks.elements?Object.keys(this.allBlocks)[0]:Object.keys(this.allBlocks)[1];for(n in this.allBlocks[u]){for(a=n.toLowerCase().replace(" ","_"),o=document.createElement("BUTTON"),(s=document.createElement("SPAN")).innerText=n,o.appendChild(s),l=t.htmlToElement(i.sideMenuArrowSVG),o.appendChild(l),this.sideSecondComponentsNav.appendChild(o),d=document.createElement("UL"),c=0;c<this.allBlocks[u][n].length;c++)(e=$('<li class="component '+a+'"><img data-original-src="'+r.cnmPath+this.allBlocks[u][n][c].components_thumb+'" data-height="'+this.allBlocks[u][n][c].components_height+'"></li>')).find("img").attr("data-insert-html",this.allBlocks[u][n][c].components_markup),d.appendChild(e[0]);this.sideSecondComponentsNav.appendChild(d)}},backButton:function(){if(!0===f.pendingChanges)return $("#backModal").modal("show"),!1},backButtonConfirm:function(){f.pendingChanges=!1},makeDraggable:function(){$('[data-sidesecond="blocks"] ul li, #templates li').each((function(){$(this).draggable({helper:function(){return $('<div style="height: 100px; width: 300px; background: #F9FAFA; box-shadow: 5px 5px 1px rgba(0,0,0,0.1); text-align: center; line-height: 100px; font-size: 28px; color: #16A085"><span class="fui-list"></span></div>')},revert:"invalid",appendTo:"body",connectToSortable:"#pageList > ul:visible",start:function(e,t){f.activePage.transparentOverlay("on"),$(this).data("startingScrollTop",window.pageYOffset)},stop:function(e,t){f.activePage.transparentOverlay("off")},drag:function(e,t){if(t.originalPosition.top-t.offset.top>100){var n=parseInt($(this).data("startingScrollTop"));t.position.top-=n}}})})),$("#elements li a").each((function(){$(this).unbind("click").bind("click",(function(e){e.preventDefault()}))}))},populateCanvas:function(){var e,t=1;for(e in f.pages){t++;var n=new h(e,f.pages[e],t);u.pageInUrl===e&&n.selectPage()}f.sitePages.length>0&&null===u.pageInUrl&&f.sitePages[0].selectPage()},canvasLoading:function(e){if("on"===e&&0===document.getElementById("frameWrapper").querySelectorAll("#canvasOverlay").length){var t=document.createElement("DIV");t.style.display="flex",$(t).hide(),t.id="canvasOverlay",t.innerHTML='<div class="loader"><span>{</span><span>}</span></div>',document.getElementById("frameWrapper").appendChild(t),$("#canvasOverlay").fadeIn(500)}else"off"===e&&1===document.getElementById("frameWrapper").querySelectorAll("#canvasOverlay").length&&(f.loaded(),$("#canvasOverlay").fadeOut(500,(function(){this.remove()})))},deleteFavBlock:function(e){$.ajax({url:r.dataUrls.deleteblock,type:"post",data:{id:e},dataType:"json"}).done((function(t){1===t.responseCode&&$('a[data-block-id="'+e+'"]',u.sideSecondBlocksNav).parent().fadeOut((function(){this.remove()}))}))}};function h(e,o,l){this.name=e||"",this.pageID=o.page_id||0,this.blocks=[],this.popups=[],this.parentUL={},this.status="",this.scripts=[],this.variants=["#"],this.currentVariant="#",this.pageSettings={title:o.pages_title||"",meta_description:o.meta_description||"",meta_keywords:o.meta_keywords||"",header_includes:o.header_includes||"",page_css:o.page_css||"",google_fonts:o.google_fonts||[],header_script:o.header_script||"",footer_script:o.footer_script||"",protected:o.protected||0,memberships:o.memberships||[],primary_membership:o.primary_membership||null,variantsSettings:[],optimize_page_settings:"",drip_feed:{enable:0,after_period:"month",value:null},optimization_test:{enable:!1,name:null,goals:{lead:{enable:!1,value:null},registration:{enable:!1,value:null},sale:{enable:!1,value:null}}}},null!=o.drip_feed&&(this.pageSettings.drip_feed={enable:o.drip_feed.enable,after_period:o.drip_feed.after_period,value:o.drip_feed.value}),o.optimization_test&&(this.pageSettings.optimization_test=o.optimization_test),this.pageMenuTemplate='<a href="" class="menuItemLink" style="width:45%;">page</a>\n\t\t\t<span class="pageButtons">\n\t\t\t\t<button class="btn btn-xs btn-primary fileEdit fui-new"></button>\n\t\t\t\t<button class="btn btn-xs btn-default fileDuplicate fui-windows"></button>\n\t\t\t\t<button class="btn btn-xs btn-danger fileDel fui-cross"></button>\n\t\t\t\t<button class="btn btn-xs btn-primary fileSave fui-check" href="#"></button>\n\t\t\t</span>',this.menuItem={},this.linksDropdownItem={},this.parentUL=document.createElement("UL"),this.parentUL.setAttribute("id","page"+l),this.selectPage=function(){if(0===this.parentUL.children.length&&o.hasOwnProperty("blocks")){for(var i=0;i<o.blocks.length;i++){var s=new p("block");o.blocks[i].src=r.dataUrls.getframe+"?id="+o.blocks[i].id,s.frameID=o.blocks[i].id,s.page=this,"1"===o.blocks[i].frames_global&&(s.global=!0),s.createParentLI(o.blocks[i].frames_height),s.createFrame(o.blocks[i]),s.createFrameCover(),e==t.getParameterByName("p")||"index"==e&&null==t.getParameterByName("p")?s.insertBlockIntoDom(this.parentUL):s.insertBlockIntoTemp(this.parentUL),$(s.frameContent).find("[data-options]").each((function(e,t){var i=document.createElement("button");i.classList.add("content"),$(t).data("options")==$(this.element).data("options")?i.style.color="#42E54D":i.style.color="#bbb",i.title="Show variant "+$(t).data("options"),i.innerHTML=$(t).data("options"),f.pageVariantsArray.includes(i.innerHTML)||f.pageVariantsArray.push(i.innerHTML),i.addEventListener("click",function(e){if(null!=this.element){$(this.element).hide();var t=$(this.element).parent().find('[data-prntid="'+$(this.element).data("prntid")+'"][data-options="'+$(e.target)[0].innerText+'"]'),i=n(38).Element;t.show();var r=new i(t[0]);r.setParentBlock(),r.activate(),r.unsetNoIntent();let s=n(12);var a=n(28).styleeditor;for(var o in a.setupCanvasElements($(this.element).parent()),s.editableItems)$(r.element).find(o).each((function(){$(this).attr("data-id",a.makedataid()),a.setupCanvasElementsOnElement(this,o)}));r.element.hasAttribute("data-nointent")||r.element.hasAttribute("data-sbpro-editor")||($(r.element).parents(".sb_hover").removeClass("sb_hover"),r.element.classList.add("sb_hover"),r.buildQuizToolBar(),r.buildToolBar()),r.element.setAttribute("data-hover",!0),$(r.element).parents("*[data-selector]")[0]&&$(r.element).parents("*[data-selector]")[0].setAttribute("data-nointent",!0),siteBuilder.site.setPendingChanges(!0)}}.bind(this))})),this.blocks.push(s)}if(void 0!==o.popups)for(var l=0;l<o.popups.length;l++){var c=new p("block");if(c.type="popup",c.popupType=o.popups[l].frames_popup,o.popups[l].frames_settings){let e=JSON.parse(o.popups[l].frames_settings);for(let t in e)c[t]=e[t]}o.popups[l].src=r.dataUrls.getframe+"?id="+o.popups[l].id,c.frameID=o.popups[l].frames_id,c.page=this,c.createParentLI(o.popups[l].frames_height),c.parentLI.setAttribute("data-page-id",this.pageID),c.createFrame(o.popups[l]),c.createFrameCover(),"entry"===c.popupType?c.insertBlockIntoDom(document.querySelector("#entryPopup > ul")):"exit"===c.popupType?c.insertBlockIntoDom(document.querySelector("#exitPopup > ul")):"regular"===c.popupType&&c.insertBlockIntoDom(document.querySelector("#regularPopup > ul")),this.popups.push(c)}}for(var d in f.deActivateAll(),$(this.menuItem).addClass("active"),f.setActive(this),f.pageTitle.innerHTML=this.name,f.inputPageSettingsTitle.value=this.pageSettings.title,f.inputPageSettingsMetaDescription.value=this.pageSettings.meta_description,f.inputPageSettingsMetaKeywords.value=this.pageSettings.meta_keywords,f.inputPageSettingsIncludes.value=this.pageSettings.header_includes,f.inputPageSettingsPageCss.value=this.pageSettings.page_css,f.inputPageSettingsHeaderScript.value=this.pageSettings.header_script,f.inputPageSettingsFooterScript.value=this.pageSettings.footer_script,f.inputPageSettingsMemberships&&f.inputPageSettingsMemberships.forEach(e=>{-1!==this.pageSettings.memberships.indexOf(e.value)&&(e.checked=!0)}),"1"==this.pageSettings.protected&&$("#protected_page").bootstrapSwitch("state",!0),$(f.inputPageSettingsGoogleFonts).tagsinput("removeAll"),f.activePage.pageSettings.google_fonts.forEach((function(e){$(f.inputPageSettingsGoogleFonts).tagsinput("add",e.nice_name)})),$("body").trigger("changePage"),a.publish("onChangePage",this),this.blocks)Object.keys(this.blocks[d].frameDocument).length>0&&this.blocks[d].heightAdjustment();return this.isEmpty(),!1},this.setPosition=function(e,t){for(var n in this.blocks)this.blocks[n].frame.getAttribute("id")===e&&this.blocks.splice(t,0,this.blocks.splice(n,1)[0])},this.fireBlockLoadEvent=function(e){for(var t in this.blocks)this.blocks[t].frame.getAttribute("id")===e&&a.publish("onBlockLoaded",this.blocks[t])},this.deleteBlock=function(e){for(var t in this.blocks)this.blocks[t]===e&&this.blocks.splice(t,1);for(var t in this.popups)this.popups[t]===e&&this.popups.splice(t,1);f.setPendingChanges(!0)},this.transparentOverlay=function(e="on"){for(var t in this.blocks)this.blocks[t].transparentOverlay(e)},this.flgRunEdit=!1,this.editPageName=function(){if(!this.menuItem.classList.contains("edit")){this.menuItem.querySelector("a.menuItemLink").style.display="none";var e=document.createElement("input");e.type="text",e.setAttribute("name","page"),e.setAttribute("value",this.name),this.menuItem.insertBefore(e,this.menuItem.firstChild),e.focus();var t=e.getAttribute("value");e.setAttribute("value",""),e.setAttribute("value",t),this.menuItem.classList.add("edit")}},this.updatePageNameEvent=function(e){if(this.menuItem.classList.contains("edit")){var n=this.menuItem.querySelector('input[name="page"]');f.checkPageName(n.value)?(this.name=f.prepPageName(n.value),this.menuItem.querySelector('input[name="page"]').remove(),this.menuItem.querySelector("a.menuItemLink").innerHTML=this.name,this.menuItem.querySelector("a.menuItemLink").style.display="block",this.menuItem.querySelector("a.menuItemLink").setAttribute("href",`${window.location.pathname}?id=${t.getParameterByName("id")}&p=${this.name}`),this.menuItem.classList.remove("edit"),this.linksDropdownItem.text=this.name,this.linksDropdownItem.setAttribute("value",this.name+".html"),f.pageTitle.innerHTML=this.name,$.ajax({url:r.dataUrls.ajax,type:"post",data:{pageid:this.pageID,pagename:this.name},dataType:"json"}).done((function(e){})),this.flgRunEdit=!1,f.save(!1)):alert(f.pageNameError)}},this.delete=function(){for(var e in f.sitePages)f.sitePages[e]===this&&(f.sitePages.splice(e,1),this.parentUL.remove(),f.pagesToDelete.push(this.name),this.menuItem.remove(),this.linksDropdownItem.remove())},this.isEmpty=function(){0===this.blocks.length?(f.messageStart.style.display="block",f.divFrameWrapper.classList.add("empty")):(f.messageStart.style.display="none",f.divFrameWrapper.classList.remove("empty"))},this.prepForSave=function(){this.detectGoogleFonts();var e={};e.name=this.name,e.pageSettings=this.pageSettings,e.status=this.status,e.pageID=this.pageID,e.blocks=[],e.popups=[],e.pageSettings.access_options=this.variants;for(var t=0;t<this.blocks.length;t++){var n={};"function"==typeof i.inBlockBeforeSave&&i.inBlockBeforeSave(this.blocks[t].frameDocument),$("head",this.blocks[t].frameDocument).find('script[src*="maps.googleapis.com"]').remove();const r=this.blocks[t].getSource();n.frames_embeds=r.embeds,n.frameContent=r.source,n.sandbox=!1,n.loaderFunction="",n.frameHeight=this.blocks[t].frameHeight,n.originalUrl=this.blocks[t].originalUrl,n.position=t,void 0!==this.blocks[t].id&&(n.id=this.blocks[t].id),this.blocks[t].global&&(n.frames_global=!0),e.blocks.push(n)}for(var r=0;r<this.popups.length;r++){let t={};"function"==typeof i.inBlockBeforeSave&&i.inBlockBeforeSave(this.popups[r].frameDocument),$("head",this.popups[r].frameDocument).find('script[src*="maps.googleapis.com"]').remove();const n=this.popups[r].getSource();t.frameContent=n.source,t.frames_embeds=n.embeds,t.sandbox=!1,t.loaderFunction="",t.frameHeight=this.popups[r].frameHeight,t.originalUrl=this.popups[r].originalUrl,this.popups[r].global&&(t.frames_global=!0);let a={};void 0!==this.popups[r].popupReoccurrence?a.popupReoccurrence=this.popups[r].popupReoccurrence:a.popupReoccurrence="All",void 0!==this.popups[r].popupDelay?a.popupDelay=this.popups[r].popupDelay:a.popupDelay=0,void 0!==this.popups[r].popupID?a.popupID=this.popups[r].popupID:a.popupID=s.randomString(10),0!==Object.keys(a).length&&(t.additionalSettings=a),t.type=this.popups[r].popupType,e.popups.push(t)}return e},this.unique=function(e){let t={};for(let n=0;n<e.length;n++){t[e[n]]=!0}return Object.keys(t)},this.fullPage=function(){var e=this;e.scripts=[];var t,n=$("iframe#skeleton").contents().find(i.pageContainer),r=$("iframe#skeleton").contents().find("#popups");for(var a in $("iframe#skeleton").contents().find(i.pageContainer).html(""),$("iframe#skeleton").contents().find("#popups").html(""),$("iframe#skeleton").contents().find("script").each((function(){$(this).remove()})),$("iframe#skeleton").contents().find("link").each((function(){$(this).remove()})),this.blocks){for(var o in(t=!1!==this.blocks[a].sandbox?$("#sandboxes #"+this.blocks[a].sandbox).contents().find(i.pageContainer).clone():$(this.blocks[a].frameDocument.body).find(i.pageContainer).clone()).find(".frameCover").each((function(){$(this).remove()})),i.editableItems)t.find(o).each((function(){$(this).removeAttr("data-selector"),$(this).css("outline",""),$(this).css("outline-offset",""),$(this).css("cursor",""),""===$(this).attr("style")&&$(this).removeAttr("style")}));const r=t.get(0).querySelector('[data-component="video2"] > .videoWrapper');if(r){const e=r.querySelector('script[type="application/json"]'),{src:t,type:n}=JSON.parse(e.innerText),i=r.querySelector(".video-container");r.removeChild(e),i.innerHTML=`<video width="100%" height="100%" class="video-js"><source src="${t}" type="${n}"></video>`}n.append($(t.html())),n.find("*[data-parallax]").each((function(){this.style.backgroundImage=""})),n.find("*[draggable]").each((function(){this.removeAttribute("draggable")}));var l=$(this.blocks[a].frameDocument).find('script:not([type="application/json"]):not([src="/skin/pagebuilder/build/video-ui.bundle.js"])'),c=$(this.blocks[a].frameDocument).find("link");const s=$(this.blocks[a].frameDocument).find('style:not([class^="vjs-styles"]):not([data-variants="true"])');var d=document.getElementById("skeleton");c.size()>0&&c.each((function(){var e;(e=d.contentWindow.document.createElement("link")).rel="stylesheet",e.href=$(this).prop("href"),0===d.contentWindow.document.head.querySelectorAll(`link[href="${$(this).prop("href")}"]`).length&&d.contentWindow.document.head.appendChild(e)})),s.size()>0&&s.each((function(){var e;(e=d.contentWindow.document.createElement("style")).innerHTML=this.innerHTML,d.contentWindow.document.head.appendChild(e)})),l.size()>0&&l.each((function(){var t;-1===["https://www.youtube.com/s/player/82e684c7/www-widgetapi.vflset/www-widgetapi.js","https://www.youtube.com/iframe_api"].indexOf(this.src)&&(""!==$(this).text()?((t=d.contentWindow.document.createElement("script")).type="text/javascript",t.innerHTML=$(this).text(),d.contentWindow.document.body.appendChild(t)):null!==$(this).attr("src")&&-1===e.scripts.indexOf($(this).attr("src"))&&((t=d.contentWindow.document.createElement("script")).type="text/javascript",t.src=$(this).attr("src"),d.contentWindow.document.body.appendChild(t),e.scripts.push($(this).attr("src"))))}))}if("true"===e.pageSettings.optimization_test.enable){$("iframe#skeleton").contents().find("head").append('<style class="test-ab">[data-variant-current="#"] [data-vhide-default],[data-variant-name]:not([data-variant-name="#"]):not([data-vshow~="#"]){display: none;}</style'),n.find("[data-variant-name]").removeClass("hidden"),$("iframe#skeleton").contents().find("body").append('<script src="/skin/ifunnels-studio/dist/js/preview.bundle.js"><\/script>')}if(n.find('[data-component="countdown"]').length){const e=d.contentWindow.document.createElement("script");e.type="text/javascript",e.src="/skin/pagebuilder/build/flipobj.bundle.js",d.contentWindow.document.body.appendChild(e)}if(n.find('[data-component="video2"]').length){const e=d.contentWindow.document.createElement("script");e.type="text/javascript",e.src="/skin/ifunnels-studio/dist/js/video2.bundle.js",d.contentWindow.document.body.appendChild(e)}for(var h in this.popups){for(o in(t=$(this.popups[h].frameDocument.body).find(".modal .modal-body > div:first-child").clone()).find(".frameCover").each((function(){$(this).remove()})),t[0].querySelectorAll("script").forEach(e=>e.remove()),i.editableItems)t.find(o).each((function(){$(this).removeAttr("data-selector"),$(this).css("outline",""),$(this).css("outline-offset",""),$(this).css("cursor",""),""===$(this).attr("style")&&$(this).removeAttr("style")}));let e=s.htmlToElement(u.settings.popup_wrapping_html.replace(/%s/g,""));e.setAttribute("data-popup",this.popups[h].popupType),"entry"===this.popups[h].popupType||"exit"===this.popups[h].popupType?(e.setAttribute("data-popup-occurrence",this.popups[h].popupReoccurrence),e.setAttribute("data-popup-delay",this.popups[h].popupDelay)):e.setAttribute("id",this.popups[h].popupID),e.querySelector(".modal-body").appendChild(t.get(0)),r.get(0).appendChild(e),r.get(0).querySelectorAll("[data-embed-id]").forEach(e=>{const t=e.getAttribute("data-embed-id");e.innerHTML=f.embeds[t]}),n.get(0).querySelectorAll("[data-embed-id]").forEach(e=>{const t=e.getAttribute("data-embed-id");e.innerHTML=f.embeds[t]}),r.find("*[draggable]").each((function(){this.removeAttribute("draggable")}))}},this.loaded=function(){var e;for(e=0;e<this.blocks.length;e++)if(!this.blocks[e].loaded)return!1;return!0},this.clear=function(){for(var e=this.blocks.pop();void 0!==e;)e.delete(),e=this.blocks.pop()},this.heightAdjustment=function(){for(var e=0;e<this.blocks.length;e++)this.blocks[e].heightAdjustment()},this.gridView=function(e){var t;for(t in this.blocks)this.blocks[t].gridView(e)},this.detectGoogleFonts=function(){},f.sitePages.push(this),f.divCanvas.appendChild(this.parentUL);var c=this;$(this.parentUL).sortable({revert:!0,placeholder:"drop-hover",handle:".dragBlock",cancel:"",stop:function(){f.activePage.transparentOverlay("off"),f.setPendingChanges(!0),f.loaded()||u.canvasLoading("on")},beforeStop:function(e,t){var n,a=t.item.attr("data-frames");if(void 0!==a&&!1!==a){$("#start").hide(),c.clear();for(var o=t.item.attr("data-frames").split("-"),s=t.item.attr("data-heights").split("-"),l=(t.item.attr("data-originalurls").split("-"),0);l<o.length;l++){(n=new p("block")).createParentLI(s[l]);var d={};d.src=r.moduleURL+"getframe/?id="+o[l],d.frames_original_url=r.moduleURL+"getframe/?id="+o[l],d.frames_height=s[l],n.createFrame(d),n.createFrameCover(),n.insertBlockIntoDom(c.parentUL),c.blocks.push(n),f.setPendingChanges(!0)}u.templateID=t.item.attr("data-pageid"),t.item.html(null),$("body .ui-sortable-helper").remove()}else if(t.item.find(".frameCover > button").size()>0){var h=t.item.find("iframe").attr("id"),m=t.item.index();f.activePage.setPosition(h,m),t.item.find("iframe").on("load",(function(){$(this).contents().find(i.pageContainer).html(u.frameContents),f.activePage.heightAdjustment(),f.activePage.fireBlockLoadEvent(h)}))}else(n=new p("block")).placeOnCanvas(t)},start:function(e,t){f.activePage.transparentOverlay("on"),0!==t.item.find(".frameCover").size()&&(u.frameContents=t.item.find("iframe").contents().find(i.pageContainer).html())},over:function(){$("#start").hide()}}),this.menuItem=document.createElement("LI"),this.menuItem.innerHTML=this.pageMenuTemplate,$(this.menuItem).find("a:first").text(e).attr("data-href","#page"+l),$(this.menuItem).find("a:first").text(e).attr("href",window.location.pathname+"?id="+t.getParameterByName("id")+"&p="+e);$(this.menuItem).find("a:first").get(0);this.menuItem.addEventListener("click",this,!1),1===l?(this.menuItem.querySelector(".fileEdit").remove(),this.menuItem.querySelector(".fileDel").remove()):(this.menuItem.querySelector(".fileEdit").addEventListener("click",this,!1),this.menuItem.querySelector(".fileSave").addEventListener("click",this,!1),this.menuItem.querySelector(".fileDel").addEventListener("click",this,!1)),this.menuItem.querySelector(".fileDuplicate").addEventListener("click",(function(){for(var e in f.sitePages)if(f.sitePages[e].name===this.parentNode.parentNode.getElementsByClassName("menuItemLink")[0].innerHTML){f.deActivateAll();var t=f.sitePages[e].pageSettings;t.page_id=0;var n=new h("Dup"+e+"_"+f.sitePages[e].name,t,f.sitePages.length+1);n.status="new";for(var i=0;i<f.sitePages[e].blocks.length;i++){var a=new p("block");o.blocks[i].src=r.dataUrls.getframe+"?id="+o.blocks[i].id,"1"===o.blocks[i].frames_sandbox&&(a.sandbox_loader=o.blocks[i].frames_loaderfunction),a.page=n,"1"===o.blocks[i].frames_global&&(a.global=!0),a.createParentLI(o.blocks[i].frames_height),a.createFrame(o.blocks[i]),a.createFrameCover(),a.insertBlockIntoDom(n.parentUL),n.blocks.push(a)}n.isEmpty(),n.selectPage(),f.setPendingChanges(!0)}}),!1),this.linksDropdownItem=document.createElement("OPTION"),this.linksDropdownItem.setAttribute("value",e+".html"),this.linksDropdownItem.text=e,u.dropdownPageLinks.appendChild(this.linksDropdownItem),f.pagesMenu.appendChild(this.menuItem)}function p(e){this.type=e,this.frameID=0,this.page={},this.loaded=!1,this.sandbox=!1,this.sandbox_loader="",this.status="",this.global=!1,this.originalUrl="",this.parentLI={},this.frameCover={},this.frame={},this.frameDocument={},this.frameHeight=0,this.dublicate=!1,this.frameContent=null,this.annot={},this.annotTimeout={},this.oldWidth=0,this.createParentLI=function(e){this.parentLI=document.createElement("LI"),this.parentLI.setAttribute("class","element")},this.createFrame=function(e,t=!1){if(this.frame=document.createElement("IFRAME"),this.frame.setAttribute("frameborder",0),this.frame.setAttribute("scrolling",0),this.frame.setAttribute("src",e.src),this.frame.setAttribute("data-originalurl",e.frames_original_url),this.originalUrl=e.frames_original_url,this.frameHeight=e.frames_height,this.frameContent=e.frames_content,-1!==e.frames_height.indexOf("vh")&&(this.frame.style.height=e.frames_height),$(this.frame).uniqueId(),!1!==this.sandbox){this.frame.setAttribute("data-loaderfunction",this.sandbox_loader),this.frame.setAttribute("data-sandbox",this.sandbox);var n=$('<iframe src="'+e.src+'" id="'+this.sandbox+'" sandbox="allow-same-origin"></iframe>');$("#sandboxes").append(n)}this.dublicate=t},this.applyCustomCSS=function(){if(void 0!==this.frameDocument.querySelector){let e=this.frameDocument.querySelector("head style#custom_css");e&&e.remove()}let e=document.createElement("style");e.id="custom_css",e.innerText="",f.data.global_css&&(e.innerText+=f.data.global_css),void 0!==this.page.pageSettings&&""!==this.page.pageSettings.page_css&&(e.innerText=e.innerText+"\n"+this.page.pageSettings.page_css),""!==e.innerText&&this.frameDocument.querySelector("head").appendChild(e)},this.insertBlockIntoDom=function(e){this.parentLI.appendChild(this.frame),e.appendChild(this.parentLI),this.dublicate&&$(this.frame).contents().find("#page").replaceWith(this.frameContent),this.frame.addEventListener("load",this,!1),u.canvasLoading("on")},this.insertBlockIntoTemp=function(e){this.parentLI.appendChild(this.frame);var t=document.createElement("textarea");t.style="display:none",t.innerHTML=this.parentLI.outerHTML,e.appendChild(t)},this.setFrameDocument=function(){this.frame.contentDocument?this.frameDocument=this.frame.contentDocument:this.frameDocument=this.frame.contentWindow.document},this.hideFrameCover=function(){this.frameCover.style.display="none"},this.unhideFrameCover=function(){this.frameCover.style.display="block"},this.createFrameCover=function(){let e="popup"!==this.type?document.importNode(document.getElementById("frameCoverTemplate").content,!0):document.importNode(document.getElementById("frameCoverPopupTemplate").content,!0);this.frameCover=e.querySelector(".frameCover"),this.parentLI.appendChild(this.frameCover),"popup"===this.type&&("exit"===this.popupType||"entry"===this.popupType?(this.frameCover.classList.add("entry"),$(".divPopupID",this.frameCover).remove(),$("select.selectPopupRecurrence",this.frameCover).val(this.popupReoccurrence),$("select.selectPopupRecurrence",this.frameCover).trigger("change"),$("select.selectPopupDelay",this.frameCover).val(this.popupDelay),$("select.selectPopupDelay",this.frameCover).trigger("change"),"exit"!==this.popupType&&"regular"!==this.popupType||($("select.selectPopupDelay",this.frameCover).val("0"),$("select.selectPopupDelay",this.frameCover).trigger("change"),$("select.selectPopupDelay",this.frameCover).select2("destroy"),$("select.selectPopupDelay",this.frameCover).prop("disabled",!0),$("select.selectPopupDelay",this.frameCover).select2()),$("select.selectPopupRecurrence",this.frameCover).on("change",e=>{this.popupReoccurrence=e.currentTarget.value,f.setPendingChanges(!0)}),$("select.selectPopupDelay",this.frameCover).on("change",e=>{this.popupDelay=e.currentTarget.value,f.setPendingChanges(!0)})):(this.frameCover.classList.add("regular"),this.frameCover.querySelector(".divPopupDelayWrapper").remove(),this.frameCover.querySelector(".divPopupOccurrenceWrapper").remove(),$(".divPopupID",this.frameCover).text("#"+this.popupID))),!0===this.global&&$('input[type="checkbox"]',$(this.frameCover)).attr("checked",!0);var t=this;$('input[type="checkbox"]',$(this.frameCover)).on("change",(function(e){t.toggleGlobal(e)})).radiocheck();let n=this.frameCover.querySelectorAll(".btn:not(.dragBlock)");for(let e of n)e.addEventListener("click",this,!1);-1!==this.frame.getAttribute("data-originalurl").indexOf("sites/getframe")&&-1===this.frame.getAttribute("data-originalurl").indexOf(".html")&&(this.frameCover.querySelector("button.buttonDelOriginal")&&this.frameCover.querySelector("button.buttonDelOriginal").setAttribute("disabled",!0),this.frameCover.querySelector("button.buttonSaveOriginal")&&this.frameCover.querySelector("button.buttonSaveOriginal").setAttribute("disabled",!0)),$(this.frameCover.querySelector("button.frameCoverToggle")).on("click",function(){this.frameCover.classList.contains("stay")?(this.frameCover.classList.remove("stay"),this.frameCover.querySelector("button.frameCoverToggle").innerHTML='<span class="fui-gear"></span>',this.parentLI.style.overflow="hidden"):(this.frameCover.classList.add("stay"),this.frameCover.querySelector("button.frameCoverToggle").innerHTML='<span class="fui-cross-circle"></span>')}.bind(this)),$("select",this.frameCover).select2({minimumResultsForSearch:-1}),$(".dropdownCloneInCat a",this.frameCover).on("click",function(e){return this.cloneInCategory(e.currentTarget),!1}.bind(this)),$(".dropdownCloneInCat",this.frameCover).on("show.bs.dropdown",(function(e){$(e.currentTarget).closest("li").css("overflow","visible")})),$(".dropdownCloneInCat",this.frameCover).on("hide.bs.dropdown",(function(e){$(e.currentTarget).closest("li").css("overflow","hidden")}))},this.frameCovertooltips=function(){this.frameDocument.body.clientHeight>200&&$('[data-toggle="tooltip"]',$(this.frameCover)).tooltip({trigger:"hover",placement:"bottom"})},this.transparentOverlay=function(e="on"){var t;if("on"===e){for(t of this.parentLI.querySelectorAll("div[data-overlay]"))t.remove();(t=document.createElement("DIV")).style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.background="none",t.setAttribute("data-overlay",!0),this.parentLI.appendChild(t)}else if("off"===e)for(t of this.parentLI.querySelectorAll("div[data-overlay]"))t.remove()},this.toggleGlobal=function(e){e.currentTarget.checked?this.global=!0:this.global=!1,f.setPendingChanges(!0)},this.heightAdjustment=function(){if(0!==Object.keys(this.frameDocument).length&&-1===this.frame.style.height.indexOf("vh")){this.frame.style.height="0px",this.frameDocument.body.style.display="inline-block";var e=this.frameDocument.querySelector("html").offsetHeight;this.frameDocument.body.style.display="",this.frame.style.height=e+"px",this.parentLI.style.height=e+"px",this.frameHeight=e}else-1!==this.frame.style.height.indexOf("vh")&&(this.parentLI.style.height=this.frame.style.height)},this.delete=function(){$(this.frame.parentNode).fadeOut(500,(function(){this.remove(),f.activePage.isEmpty()})),f.activePage.deleteBlock(this),this.sanbdox&&document.getElementById(this.sandbox).remove(),f.setPendingChanges(!0)},this.reset=function(e){if(void 0===e&&(e=!0),this.frame.contentWindow.location=this.frame.getAttribute("data-originalurl"),this.sandbox)document.getElementById(this.sandbox).contentWindow.location.reload();f.setPendingChanges(!0),u.canvasLoading("on"),e&&a.publish("onBlockChange",this,"reload")},this.source=function(){this.frame.style.display="none",$(this.parentLI.parentNode).sortable("disable");var e=document.createElement("DIV");e.classList.add("aceEditor"),$(e).uniqueId(),this.parentLI.appendChild(e);var t=document.createElement("LI"),r=document.createElement("DIV");r.classList.add("errorDrawer"),r.setAttribute("id","div_errorDrawer"),r.innerHTML='<button type="button" class="btn btn-xs btn-embossed btn-default button_clearErrorDrawer" id="button_clearErrorDrawer">CLEAR</button>',t.appendChild(r),r.querySelector("button").addEventListener("click",this,!1),this.parentLI.parentNode.insertBefore(t,this.parentLI.nextSibling),n(206),n(207);var a=e.getAttribute("id"),s=o.edit(a),l=this.frameDocument.querySelector(i.pageContainer).innerHTML;s.setValue(l),s.setTheme("ace/theme/"+i.aceTheme),s.getSession().setMode("ace/mode/html");var c=this;s.getSession().on("changeAnnotation",(function(){var e;c.annot=s.getSession().getAnnotations(),clearTimeout(c.annotTimeout),e=0===$("#div_errorDrawer p").size()?i.sourceCodeEditSyntaxDelay:100,c.annotTimeout=setTimeout((function(){for(var e in c.annot)if(c.annot.hasOwnProperty(e)&&"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>."!==c.annot[e].text){var t=$("<p></p>"),n=$("<b>"+c.annot[e].type+": </b>"),i=$("<span> "+c.annot[e].text+"on line  <b>"+c.annot[e].row+"</b></span>");t.append(n),t.append(i),$("#div_errorDrawer").append(t)}"none"===$("#div_errorDrawer").css("display")&&$("#div_errorDrawer").find("p").size()>0&&$("#div_errorDrawer").slideDown()}),e)}));var d=document.createElement("DIV");d.classList.add("editorButtons");let h=document.importNode(document.getElementById("sourceEditorButtons").content,!0);d.append(h.querySelector("#editCancelButton")),d.append(h.querySelector("#editSaveButton")),d.querySelector("#editCancelButton").addEventListener("click",this,!1),d.querySelector("#editSaveButton").addEventListener("click",this,!1),this.parentLI.appendChild(d),this.parentLI.offsetHeight<300&&(this.parentLI.setAttribute("data-original-height",this.parentLI.offsetHeight+"px"),this.parentLI.style.height="300px"),u.aceEditors[a]=s},this.cancelSourceBlock=function(){$(this.parentLI.parentNode).sortable("enable"),$(this.parentLI.nextSibling).remove(),this.parentLI.querySelector(".aceEditor").remove(),$(this.frame).fadeIn(500),this.parentLI.hasAttribute("data-original-height")&&(this.parentLI.style.height=this.parentLI.getAttribute("data-original-height"),this.parentLI.removeAttribute("data-original-height")),$(this.parentLI.querySelector(".editorButtons")).fadeOut(500,(function(){$(this).remove()}))},this.saveSourceBlock=function(){$(this.parentLI.parentNode).sortable("enable");var e=this.parentLI.querySelector(".aceEditor").getAttribute("id"),t=u.aceEditors[e].getValue();if(document.getElementById("div_errorDrawer").parentNode.remove(),this.parentLI.querySelector(".aceEditor").remove(),this.frameDocument.querySelector(i.pageContainer).innerHTML=t,this.frame.style.display="block",this.sandbox){var n=document.getElementById(this.sandbox),r=n.contentDocument||n.contentWindow.document;u.tempFrame=n,r.querySelector(i.pageContainer).innerHTML=t,this.sandbox_loader}$(this.parentLI.querySelector(".editorButtons")).fadeOut(500,(function(){$(this).remove()})),this.parentLI.hasAttribute("data-original-height")&&this.parentLI.removeAttribute("data-original-height"),this.heightAdjustment(),f.setPendingChanges(!0),this.status="changed",a.publish("onBlockChange",this,"change"),a.publish("onBlockLoaded",this)},this.clearErrorDrawer=function(){for(var e=this.parentLI.nextSibling.querySelectorAll("p"),t=0;t<e.length;t++)e[t].remove()},this.getSource=function(e){let t={},n="<html>";const i=this.frameDocument.head.cloneNode(!0);i.querySelectorAll(".resize-triggers-styles").forEach(e=>e.remove());const r=this.frameDocument.body.cloneNode(!0);r.querySelectorAll(".resize-triggers").forEach(e=>e.remove()),r.querySelectorAll("[data-embed-id]").forEach(n=>{const i=n.getAttribute("data-embed-id");if(n.innerHTML=f.embeds[i],t[i]=f.embeds[i],e){const e=shortid.generate();n.setAttribute("data-embed-id",e);const a=document.createElement("SCRIPT");a.text=`\n\t\t\t\t\tif (!window.blockEmbeds) window.blockEmbeds = {};\n\t\t\t\t\t\twindow.blockEmbeds["${e}"] = "${s.custom_base64_encode(t[i])}";\n\t\t\t\t\t`,a.classList.add("embed-data"),r.appendChild(a)}});const a=r.querySelector('[data-component="video2"] > .videoWrapper');if(a){const e=a.querySelector('script[type="application/json"]'),{src:t,type:n}=JSON.parse(e.innerText),r=a.querySelector(".video-container");a.removeChild(e),r.innerHTML=`<video width="100%" height="100%" class="video-js"><source src="${t}" type="${n}"></video>`;const o=i.querySelectorAll('style[class^="vjs-styles"]');o.length&&o.forEach(e=>i.removeChild(e)),["https://www.youtube.com/iframe_api","https://www.youtube.com/s/player/82e684c7/www-widgetapi.vflset/www-widgetapi.js"].map(e=>{const t=i.querySelectorAll(`script[src="${e}"]`);t.length&&t.forEach(e=>i.removeChild(e))})}const o=r.querySelector('script[src="/skin/pagebuilder/build/video-ui.bundle.js"]');return o&&r.removeChild(o),n+=i.outerHTML+r.outerHTML,n+="</html>",n=s.custom_base64_encode(n),t=JSON.stringify(t),t=s.custom_base64_encode(t),{source:n,embeds:t}},this.placeOnCanvas=function(e){var n,i={};e.item.find("iframe").size()>0?(i.src=e.item.find("iframe").attr("src"),i.frames_original_url=e.item.find("iframe").attr("src"),i.frames_height=e.item.height(),void 0!==(n=e.item.find("iframe").attr("sandbox"))&&!1!==n&&(this.sandbox=t.getRandomArbitrary(1e4,1e9),this.sandbox_loader=e.item.find("iframe").attr("data-loaderfunction"))):(i.src=e.item.find("img").attr("data-srcc"),i.frames_original_url=e.item.find("img").attr("data-srcc"),i.frames_height=e.item.find("img").attr("data-height"),void 0!==(n=e.item.find("img").attr("data-sandbox"))&&!1!==n&&(this.sandbox=t.getRandomArbitrary(1e4,1e9),this.sandbox_loader=e.item.find("img").attr("data-loaderfunction"))),this.frameID=0,this.parentLI=e.item.get(0),this.parentLI.innerHTML="",this.status="new",this.createFrame(i),"popup"===this.type&&(this.parentLI.setAttribute("data-page-name",f.activePage.name),this.parentLI.setAttribute("data-page-id",f.activePage.pageID)),-1!==i.frames_height.indexOf("vh")?this.parentLI.style.height=i.frames_height:this.parentLI.style.height=this.frameHeight+"px",this.createFrameCover(),this.frame.addEventListener("load",this),e.item.append($(this.frame)),"block"===this.type?f.activePage.blocks.splice(e.item.index(),0,this):f.activePage.popups.splice(e.item.index(),0,this),e.item.find("iframe").trigger("canvasupdated"),f.setPendingChanges(!0)},this.loadJavascript=function(){var e,t;for(this.frameDocument.querySelectorAll("script.builder"),e=0;e<i.externalJS.length;e++)(t=document.createElement("SCRIPT")).classList.add("builder"),t.src=i.externalJS[e],this.frameDocument.querySelector("body").appendChild(t);this.frameDocument.querySelector('[data-component="video2"] > .videoWrapper')&&((t=document.createElement("SCRIPT")).src="/skin/pagebuilder/build/video-ui.bundle.js",this.frameDocument.body.appendChild(t))},this.hasExternalCSS=function(e){return 0!==this.frameDocument.querySelectorAll('link[href*="'+e+'"]').length},this.gridView=function(e){e?this.frameDocument.querySelector("body").classList.add("gridView"):this.frameDocument.querySelector("body").classList.remove("gridView")},this.variantView=function(){this.frameDocument.querySelectorAll("[data-variant-name]").forEach(e=>e.removeAttribute("data-variant-show")),this.addStyleToVariant(),this.heightAdjustment()},this.addStyleToVariant=function(){let e=this.frameDocument.head.querySelector("[data-variants]");const t=`[data-variant-current="#"] [data-vhide-default],[data-variant-name]:not([data-variant-name="${f.activePage.currentVariant}"]):not([data-vshow~="${f.activePage.currentVariant}"]):not([data-variant-show="true"]){display: none;}[data-variant-show="true"]{visibility:visible;}[data-variant-show="false"]{display:none;}`;e||(e=this.frameDocument.createElement("style"),e.setAttribute("data-variants",!0),this.frameDocument.head.appendChild(e)),this.frameDocument.body.setAttribute("data-variant-current",f.activePage.currentVariant),e.innerHTML=t},this.updateAttrShow=function(){const{frameDocument:e}=this,t=[...e.querySelectorAll('[data-variant-name="#"]')];t.length&&t.forEach(e=>{const t=e.getAttribute("data-selector"),n=e.tagName,i=(e.getAttribute("data-vhide")||"").split(","),r=[...e.parentNode.querySelectorAll(`${n.toLowerCase()}[data-selector='${t}']:not([data-variant-name="#"])`)].map(e=>e.getAttribute("data-variant-name"));let a=f.activePage.variants.filter(e=>-1===r.indexOf(e)&&"#"!==e);a=a.filter(e=>!i.includes(e)),e.setAttribute("data-vshow",a.join(" "))})},this.cloneInCategory=function(e){let t=$(e).closest(".btn-group").find(".dropdown-toggle"),n=s.custom_base64_encode(this.getSource()),i=this.frameHeight,a=this.frameDocument.querySelector("body").offsetWidth,o=e.getAttribute("data-cat-id");t.dropdown("toggle"),t.attr("disabled",!0),$.ajax({url:r.dataUrls.cloneblock,type:"POST",data:{frames_content:n,frames_height:i,frames_width:a,category:o},dataType:"json"}).done((function(e){let n=l.config;t.removeAttr("disabled"),1===e.responseCode?(n.className="joy",$.notify(e.content,n),u.loadBlocksComponents(!0,!1)):(n.className="bummer",$.notify(e.content,n))}))},this.deleteOriginalBlock=function(e){let t=this,n=e.classList.contains("btn")?e:e.parentNode;n.blur();new Promise((function(e,t){$("i",n).fadeOut(()=>{let t=document.createElement("SPAN");t.innerText=n.getAttribute("data-saving"),n.appendChild(t),e(n)})})).then((function(e){let n=t.frame.getAttribute("data-originalurl");return new Promise((function(t,i){$.ajax({url:r.dataUrls.deleteoriginal_block,type:"POST",data:{frames_url:n},dataType:"json"}).done((function(n){let r=l.config;1===n.responseCode?(r.className="joy",$.notify(n.content,r),u.loadBlocksComponents(!0,!1),t(e)):(r.className="bummer",$.notify(n.content,r),i(e))}))}))})).then((function(e){return new Promise((function(t,n){$("span",e).fadeOut((function(){this.remove();let n=document.createElement("SPAN");n.innerText=e.getAttribute("data-confirmation"),e.appendChild(n),t(e)}))}))})).then((function(e){setTimeout(()=>{$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn(),t.frameCover.classList.remove("stay")}))},3e3)})).catch((function(e){$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn()}))}))},this.saveOriginalBlock=function(e){let t=this,n=e.classList.contains("btn")?e:e.parentNode;n.blur();new Promise((function(e,t){$("i",n).fadeOut(()=>{let t=document.createElement("SPAN");t.innerText=n.getAttribute("data-saving"),n.appendChild(t),e(n)})})).then((function(e){let n=s.custom_base64_encode(t.getSource()),i=t.frame.getAttribute("data-originalurl"),a=t.frameHeight,o=t.frameDocument.querySelector("body").offsetWidth;return new Promise((function(t,s){$.ajax({url:r.dataUrls.updateoriginal_block,type:"POST",data:{frames_content:n,frames_url:i,frames_height:a,frames_width:o},dataType:"json"}).done((function(n){let i=l.config;1===n.responseCode?(i.className="joy",$.notify(n.content,i),u.loadBlocksComponents(!0,!1),t(e)):(i.className="bummer",$.notify(n.content,i),s(e))}))}))})).then((function(e){return new Promise((function(t,n){$("span",e).fadeOut((function(){this.remove();let n=document.createElement("SPAN");n.innerText=e.getAttribute("data-confirmation"),e.appendChild(n),t(e)}))}))})).then((function(e){setTimeout(()=>{$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn(),t.frameCover.classList.remove("stay")}))},3e3)})).catch((function(e){$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn()}))}))},this.saveAsFav=function(e){let t=this,n=e.classList.contains("btn")?e:e.parentNode;n.blur();new Promise((function(e,i){$("i",n).fadeOut(()=>{let i=document.createElement("SPAN");i.innerText=n.getAttribute("data-saving"),n.appendChild(i),t.frameCover.classList.add("stay"),e(n)})})).then((function(e){let n=t.getSource().source,i=t.frameHeight,a=t.originalUrl,o=t.frameDocument.querySelector("body").offsetWidth,s=t.type;return new Promise((function(t,l){$.ajax({url:r.dataUrls.favoriteblock,type:"POST",data:{frames_content:n,frames_height:i,frames_original_url:a,frames_width:o,frames_type:s},dataType:"json"}).done((function(n){if(1===n.responseCode){let i=!1;"popup"==s?(i=$('<li style="display: none"><a href="" class="delFavBlock" data-block-id="'+n.block.blocks_id+'"><i class="fui-cross-circle"></i></a><img src="'+r.cnmPath+n.block.blocks_thumb+'" data-srcc="'+n.block.blocks_url+'" data-height="'+n.block.blocks_height+'"></li>'),$(u.sideSecondPopupNav).find("ul:first").append(i)):(i=$('<li style="display: none"><a href="" class="delFavBlock" data-block-id="'+n.block.blocks_id+'"><i class="fui-cross-circle"></i></a><img src="'+n.block.blocks_thumb+'" data-srcc="'+n.block.blocks_url+'" data-height="'+n.block.blocks_height+'"></li>'),$(u.sideSecondBlocksNav).find("ul:first").append(i)),i.fadeIn(),u.makeDraggable(),t(e),$(u.sideSecondComponentsNav).empty(),u.loadBlocksComponents()}else l(e)}))}))})).then((function(e){return new Promise((function(t,n){$("span",e).fadeOut((function(){this.remove();let n=document.createElement("SPAN");n.innerText=e.getAttribute("data-confirmation"),e.appendChild(n),t(e)}))}))})).then((function(e){setTimeout(()=>{$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn(),t.frameCover.classList.remove("stay")}))},3e3)})).catch((function(e){alert("Could not save the block as favourite, please try again"),$("span",e).fadeOut((function(){this.remove(),$("i",e).fadeIn()}))}))}}h.prototype.handleEvent=function(e){switch(e.type){case"click":if(e.target.classList.contains("fileEdit"))this.editPageName(),this.flgRunEdit=!0;else if(e.target.classList.contains("fileDuplicate"));else if(e.target.classList.contains("fileSave"))this.updatePageNameEvent(e.target);else if(e.target.classList.contains("fileDel")){var t=this;$(u.modalDeletePage).modal("show"),$(u.modalDeletePage).off("click","#deletePageConfirm").on("click","#deletePageConfirm",(function(){t.delete(),f.setPendingChanges(!0),null!=document.getElementById("saveTemplate")?$(document.getElementById("saveTemplate")).trigger("click"):f.save(!0);window.location.href.indexOf("/site-backend/"),e.target.localName,$(u.modalDeletePage).modal("hide")}))}else if(e.preventDefault(),f.pendingChanges=!1,!this.flgRunEdit){if(null!=document.getElementById("saveTemplate")){const{templates:t}=n(239);return void t.save().then(t=>window.location=$(e.target).attr("href"))}f.save(!1),"li"!=e.target.localName&&(window.location=$(e.target).attr("href"))}}},p.prototype.handleEvent=function(e){switch(e.type){case"load":this.setFrameDocument(),this.applyCustomCSS(),this.heightAdjustment(),this.loadJavascript(),this.frameCovertooltips(),$(this.frameCover).removeClass("fresh",500),a.publish("onBlockLoaded",this),this.loaded=!0,u.canvasLoading("off"),c.addUserActionsToIframe(this.frameDocument);break;case"click":var t=this;e.target.classList.contains("deleteBlock")||e.target.parentNode.classList.contains("deleteBlock")?($(u.modalDeleteBlock).modal("show"),$(u.modalDeleteBlock).off("click","#deleteBlockConfirm").on("click","#deleteBlockConfirm",(function(){t.delete(e),$(u.modalDeleteBlock).modal("hide")}))):e.target.classList.contains("resetBlock")||e.target.parentNode.classList.contains("resetBlock")?($(u.modalResetBlock).modal("show"),$(u.modalResetBlock).off("click","#resetBlockConfirm").on("click","#resetBlockConfirm",(function(){t.reset(),$(u.modalResetBlock).modal("hide")}))):e.target.classList.contains("htmlBlock")||e.target.parentNode.classList.contains("htmlBlock")?t.source():e.target.classList.contains("favBlock")||e.target.parentNode.classList.contains("favBlock")?t.saveAsFav(e.target):e.target.classList.contains("editCancelButton")||e.target.parentNode.classList.contains("editCancelButton")?t.cancelSourceBlock():e.target.classList.contains("editSaveButton")||e.target.parentNode.classList.contains("editSaveButton")?t.saveSourceBlock():e.target.classList.contains("button_clearErrorDrawer")?t.clearErrorDrawer():e.target.classList.contains("buttonSaveOriginal")||e.target.parentNode.classList.contains("buttonSaveOriginal")?t.saveOriginalBlock(e.target):(e.target.classList.contains("buttonDelOriginal")||e.target.parentNode.classList.contains("buttonDelOriginal"))&&t.deleteOriginalBlock(e.target)}};var f={pendingChanges:!1,pages:{},is_admin:0,data:{},pagesToDelete:[],sitePages:[],sitePagesReadyForServer:{},activePage:{},pageTitle:document.getElementById("pageTitle"),pageVariants:document.getElementById("pageVariants"),pageVariantsArray:["#"],currentOptimizeVariant:"#",divCanvas:document.getElementById("pageList"),pagesMenu:document.getElementById("pages"),valueNewPage:document.getElementById("selectNewPage"),buttonNewPage:document.getElementById("addPage"),liNewPage:document.getElementById("newPageLI"),pName:document.querySelector(".pName"),inputPageSettingsTitle:document.getElementById("pageData_title"),inputPageSettingsMetaDescription:document.getElementById("pageData_metaDescription"),inputPageSettingsMetaKeywords:document.getElementById("pageData_metaKeywords"),inputPageSettingsIncludes:document.getElementById("pageData_headerIncludes"),inputPageSettingsPageCss:document.getElementById("pageData_headerCss"),inputPageSettingsGoogleFonts:document.getElementById("pageData_googleFonts"),inputPageSettingsHeaderScript:document.getElementById("pageData_headerScript"),inputPageSettingsFooterScript:document.getElementById("pageData_footerScript"),inputPageSettingsProtected:document.getElementById("protected_page"),inputPageSettingsMemberships:document.querySelectorAll('[name="arrData[memberships][]"]'),selectPageSettingsPrimaryMembership:document.getElementById("primary-membership"),inpuPageSettingstDripFeedEnable:document.getElementById("drip_feed"),selectPageSettingsAfterPeriod:document.getElementById("after_period"),inputPageSettingsDripFeedValue:document.getElementById("drip_value"),checkboxEnableTest:document.getElementById("optimization_test"),inputNameTest:document.querySelector('[name="arrData[optimization_test][name]"]'),checkboxGoalLeadTest:document.getElementById("goal_lead"),inputGoalLeadValue:document.querySelector('[name="arrData[goals][lead][value]"]'),checkboxGoalRegistrationTest:document.getElementById("goal_registration"),inputGoalRegistrationValue:document.querySelector('[name="arrData[goals][registration][value]"]'),checkboxGoalSaleTest:document.getElementById("goal_sale"),inputGoalSaleValue:document.querySelector('[name="arrData[goals][sale][value]"]'),inputTrackingCode:document.getElementById("tracking_code"),buttonSubmitPageSettings:document.getElementById("pageSettingsSubmittButton"),modalPageSettings:document.getElementById("pageSettingsModal"),modalOptimizeCreateBlock:document.getElementById("optimize_create_block"),modalOptimizeCreateBlockButton:document.getElementById("optimize_create_block_button"),buttonOptimizeCreateBlockSave:document.getElementById("optimize_create_block_save"),modalOptimizeVariantSettings:document.getElementById("optimize_create_variant"),modalOptimizeVariantSettingsButton:document.getElementById("optimize_create_variant_button"),buttonOptimizeVariantSettingsSave:document.getElementById("optimize_create_variant_save"),inputVariantFlgWinner:document.getElementById("flg_select_winer"),inputVariantDays:document.getElementById("optimize_days"),inputVariantVisits:document.getElementById("optimize_visits"),buttonSave:document.getElementById("savePage"),messageStart:document.getElementById("start"),divFrameWrapper:document.getElementById("frameWrapper"),skeleton:document.getElementById("skeleton"),autoSaveTimer:{},customFonts:{},linkNewPage:document.getElementById("linkNewPage"),init:function(e){$.getJSON(r.dataUrls.siteData,(function(e){f.customFonts=e.fonts,e.language&&(window.language=e.language),e.settings&&(u.settings=e.settings),void 0!==e.site&&(f.data=e.site,e.site.viewmode&&a.publish("onSetMode",e.site.viewmode)),void 0!==e.pages&&(f.pages=e.pages),f.is_admin=e.is_admin,void 0!==e.google_api&&(i.google_api=e.google_api),$("#pageList").size()>0&&u.populateCanvas(),void 0!==e.templateID&&(u.templateID=e.templateID),$("body").trigger("siteDataLoaded"),a.publish("siteDataLoaded")})),this.loadPageSettings=this.loadPageSettings.bind(this),$(this.buttonNewPage).on("click",f.newPage),$(this.modalPageSettings).on("show.bs.modal",f.loadPageSettings),$(this.buttonSubmitPageSettings).on("click",f.updatePageSettings),$(this.buttonSave).on("click",e=>{f.save(!0)}),$(this.linkNewPage).on("click",f.addNewPage),this.loadVariantSettings=this.loadVariantSettings.bind(this),$(this.modalOptimizeVariantSettings).on("show.bs.modal",f.loadVariantSettings),$(this.buttonOptimizeVariantSettingsSave).on("click",e=>{f.activePage.pageSettings.variantsSettings[this.surrentOptimizeVariant]=[this.inputVariantFlgWinner.checked,this.inputVariantDays.value,this.inputVariantVisits.value];var t,n="";for(t in f.activePage.pageSettings.variantsSettings)n=t+":"+f.activePage.pageSettings.variantsSettings[t].join()+(""==n?n:"|"+n);f.activePage.pageSettings.optimize_page_settings=n,document.getElementById("optimize_page_settings").value=n,f.setPendingChanges(!0),$(this.modalOptimizeVariantSettings).modal("hide")}),this.autoSaveTimer=setTimeout(f.autoSave,i.autoSaveTimeout),a.subscribe("onBlockChange",(function(e,t){if(e.global)for(var n=0;n<f.sitePages.length;n++)for(var i=0;i<f.sitePages[n].blocks.length;i++)if(f.sitePages[n].blocks[i]!==e&&f.sitePages[n].blocks[i].originalUrl===e.originalUrl&&f.sitePages[n].blocks[i].global){if("change"===t){let t=e.frameDocument.body.cloneNode(!0),r=t.querySelectorAll(".sb_open");for(let e of r)e.classList.remove("sb_open");f.sitePages[n].blocks[i].frameDocument.body=t,a.publish("onBlockLoaded",f.sitePages[n].blocks[i])}else"reload"===t&&f.sitePages[n].blocks[i].reset(!1);f.sitePages[n].status="changed"}})),a.subscribe("onSiteDetailsSaved",(function(e){e.forEach((function(e){"sites_name"===e.name&&(f.data.sites_name=e.value),"global_css"===e.name&&(f.data.global_css=e.value)})),f.applyCustomCSS()})),$(f.skeleton).on("load",(function(){a.publish("onSkeletonLoaded",this)})),this.inputPageSettingsMemberships.forEach(e=>e.addEventListener("change",this.updateSelectPrimaryMembership))},initBlock:function(){return new p("block")},applyCustomCSS:function(){for(let e of f.sitePages)for(let t of e.blocks)t.applyCustomCSS()},autoSave:function(){c.getStatus()||(f.pendingChanges&&f.save(!1),window.clearInterval(this.autoSaveTimer),this.autoSaveTimer=setTimeout(f.autoSave,i.autoSaveTimeout))},setPendingChanges:function(e){f.pendingChanges=e,!0===e?(window.clearInterval(this.autoSaveTimer),this.autoSaveTimer=setTimeout(f.autoSave,i.autoSaveTimeout),$("#savePage .bLabel").text($("#savePage").attr("data-label2")),"new"!==f.activePage.status&&(f.activePage.status="changed")):($("#savePage .bLabel").text($("#savePage").attr("data-label")),f.updatePageStatus("")),c.pendingChanges=e},save:function(e){a.publish("onBeforeSave"),$("body").trigger("beforeSave"),$("#savePage").addClass("disabled"),$("#savePage").find(".bLabel").text($("#savePage").attr("data-loading")),$("#errorModal .modal-body > *, #successModal .modal-body > *").each((function(){$(this).remove()})),$(".tick").each((function(){$(this).remove()})),f.prepForSave(!1);var n={};n.pages=this.sitePagesReadyForServer,this.pagesToDelete.length>0&&(n.toDelete=this.pagesToDelete,this.pagesToDelete=[]),$.ajax({url:r.dataUrls.siteData,dataType:"json",async:!1,success:function(e){f.customFonts=e.fonts,e.language&&(window.language=e.language),void 0!==e.site&&(f.data=e.site),void 0!==e.pages&&(f.pages=e.pages),f.is_admin=e.is_admin}}),n.siteData=f.data,n.siteData.responsiveMode=u.currentResponsiveMode,n.autosave=!e,$.ajax({url:r.dataUrls.save,type:"POST",dataType:"json",data:n,async:!1}).done((function(n){if($("#savePage").removeClass("disabled"),$("#savePage").find(".bLabel").text($("#savePage").attr("data-label")),0===n.responseCode)e&&($("#errorModal .modal-body").html($(n.responseHTML)),$("#errorModal").modal("show"));else if(1===n.responseCode){let o=f.activePage.name;o=t.getParameterByName("p"),f.sitePages=[],$.getJSON(r.dataUrls.siteData,(function(e){f.customFonts=e.fonts,e.language&&(window.language=e.language),void 0!==e.site&&(f.data=e.site,e.site.viewmode&&a.publish("onSetMode",e.site.viewmode)),void 0!==e.pages&&(f.pages=e.pages),f.is_admin=e.is_admin,void 0!==e.google_api&&(i.google_api=e.google_api),$("#pageList").size()>0&&($("#pageList, #pages, #entryPopup > ul, #exitPopup > ul, #regularPopup > ul").empty(),u.populateCanvas(),f.sitePages.forEach((function(e){e.name==o&&e.selectPage()}))),void 0!==e.templateID&&(u.templateID=e.templateID),$("body").trigger("siteDataLoaded"),a.publish("siteDataLoaded")})),e&&($("#successModal .modal-body").html($(n.responseHTML)),$("#successModal").modal("show")),f.setPendingChanges(!1),this.pagesToDelete=[],$("body").trigger("changePage")}a.publish("onAfterSave")}))},prepForSave:function(e){this.sitePagesReadyForServer={};for(var t=0;t<this.sitePages.length;t++)""!==this.sitePages[t].status&&(this.sitePagesReadyForServer[this.sitePages[t].name]=this.sitePages[t].prepForSave())},setActive:function(e){for(var t in this.activePage=e,this.sitePages)this.sitePages[t].parentUL.style.display="none";this.activePage.parentUL.style.display="block"},deActivateAll:function(){for(var e=this.pagesMenu.querySelectorAll("li"),t=0;t<e.length;t++)e[t].classList.remove("active")},newPage:function(){f.deActivateAll(),$("#newPageModal").modal("show")},addNewPage:function(e){e.preventDefault(),$("#newPageModal").modal("hide");const t=window.storage.getData("pageId")||"new";if("new"!=t)$.ajax({dataType:"json",url:r.dataUrls.pageDataUrl,data:{pageID:t},success:function(e){if(void 0!==e.page){const t={},n=Object.keys(e.page)[0];t[n]=e.page[n],t[n].page_id=0;const i=new h(`new-${n}`,t[n],f.sitePages.length+1);i.status="new";for(let e=0;e<t[n].blocks.length;e++){const a=new p("block");t[n].blocks[e].src=`${r.dataUrls.getframe}?id=${t[n].blocks[e].id}`,"1"===t[n].blocks[e].frames_sandbox&&(a.sandbox_loader=page.blocks[e].frames_loaderfunction),a.page=i,"1"===t[n].blocks[e].frames_global&&(a.global=!0),a.createParentLI(t[n].blocks[e].frames_height),a.createFrame(t[n].blocks[e]),a.createFrameCover(),a.insertBlockIntoDom(i.parentUL),i.blocks.push(a)}i.selectPage(),i.isEmpty()}}});else{const e=new h(`page${f.sitePages.length+1}`,{pages_id:0,drip_feed:{enable:0,after_period:"month",value:null}},f.sitePages.length+1);e.status="new",e.selectPage(),e.editPageName(),e.isEmpty()}f.activePage.flgRunEdit=!0,f.setPendingChanges(!0)},checkPageName:function(e){var t=[];for(var n in this.sitePages)null==t[this.sitePages[n].name]&&(t[this.sitePages[n].name]=0),t[this.sitePages[n].name]++;return!(t[e]>1)||(this.pageNameError="The page name must be unique.",!1)},prepPageName:function(e){return e=(e=e.replace(" ","")).replace(/[?*!.|&#;$%@"<>()+,^]/g,"")},loadVariantSettings:function(){void 0!==f.activePage.pageSettings.variantsSettings[this.surrentOptimizeVariant]&&($(this.inputVariantFlgWinner).prop("checked",f.activePage.pageSettings.variantsSettings[this.surrentOptimizeVariant][0]).change(),this.inputVariantDays.value=f.activePage.pageSettings.variantsSettings[this.surrentOptimizeVariant][1],this.inputVariantVisits.value=f.activePage.pageSettings.variantsSettings[this.surrentOptimizeVariant][2])},updatePageSettings:function(){f.activePage.pageSettings.title=f.inputPageSettingsTitle.value,f.activePage.pageSettings.meta_description=f.inputPageSettingsMetaDescription.value,f.activePage.pageSettings.meta_keywords=f.inputPageSettingsMetaKeywords.value,f.activePage.pageSettings.header_includes=f.inputPageSettingsIncludes.value,f.activePage.pageSettings.page_css=f.inputPageSettingsPageCss.value,f.activePage.pageSettings.header_script=f.inputPageSettingsHeaderScript.value,f.activePage.pageSettings.footer_script=f.inputPageSettingsFooterScript.value,f.inputPageSettingsProtected&&(f.activePage.pageSettings.protected=f.inputPageSettingsProtected.checked?"1":"0",f.activePage.pageSettings.memberships=f.getSelectedMemberships(f.inputPageSettingsMemberships),f.activePage.pageSettings.primary_membership=f.selectPageSettingsPrimaryMembership.value,f.activePage.pageSettings.drip_feed.enable=f.inpuPageSettingstDripFeedEnable.checked?"1":"0",f.activePage.pageSettings.drip_feed.after_period=f.selectPageSettingsAfterPeriod.value,f.activePage.pageSettings.drip_feed.value=f.inputPageSettingsDripFeedValue.value),f.checkboxEnableTest&&(f.activePage.pageSettings.optimization_test.enable=f.checkboxEnableTest.checked?"true":"false",f.activePage.pageSettings.optimization_test.name=f.checkboxEnableTest?f.inputNameTest.value:null,f.checkboxEnableTest.checked?(f.activePage.pageSettings.optimization_test.goals.lead={enable:f.checkboxGoalLeadTest.checked,value:f.checkboxGoalLeadTest.checked?f.inputGoalLeadValue.value:null},f.activePage.pageSettings.optimization_test.goals.registration={enable:f.checkboxGoalRegistrationTest.checked,value:f.checkboxGoalRegistrationTest.checked?f.inputGoalRegistrationValue.value:null},f.activePage.pageSettings.optimization_test.goals.sale={enable:f.checkboxGoalSaleTest.checked,value:f.checkboxGoalSaleTest.checked?f.inputGoalSaleValue.value:null}):f.activePage.pageSettings.optimization_test.goals.lead=f.activePage.pageSettings.optimization_test.goals.registration=f.activePage.pageSettings.optimization_test.goals.sale={enable:!1,value:null},a.publish("onChangedStatus",f.checkboxEnableTest));let e=$(f.inputPageSettingsGoogleFonts).tagsinput("items");f.activePage.pageSettings.google_fonts.forEach((function(t){if(-1===e.indexOf(t.nice_name)){let e=f.activePage.pageSettings.google_fonts.indexOf(t);f.activePage.pageSettings.google_fonts.splice(e,1)}})),f.setPendingChanges(!0),$(f.modalPageSettings).modal("hide"),f.applyCustomCSS()},getSelectedMemberships:function(e){const t=[];return e&&e.forEach(e=>{e.checked&&t.push(e.value)}),t},updatePageStatus:function(e){for(var t in this.sitePages)this.sitePages[t].status=e},loaded:function(){var e;for(e=0;e<this.sitePages.length;e++)if(!this.sitePages[e].loaded())return!1;return!0},gridView:function(e){var t;for(t in this.sitePages)this.sitePages[t].gridView(e)},openOptimizeVariant:function(){$(this.modalOptimizeVariantSettingsButton).trigger("click")},openOptimizeSettings:function(e="create",t,n,i=!0){$(this.modalOptimizeCreateBlockButton).trigger("click"),$("#select_variant").empty(),$("#show_variant").prop("checked",i).change(),t.forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,n==e&&(t.selected=!0),document.getElementById("select_variant").appendChild(t),$(document.getElementById("select_variant")).selectpicker("refresh")});document.getElementById("new_variant").value=" ABCDEFGHIJKLMNOPQRSTUVWXYZ"[t.length],document.getElementById("crerate_variant").value=e},loadPageSettings:function(e){f.pName.innerHTML=`${f.activePage.name}.html`;const{memberships:t,drip_feed:n}=f.activePage.pageSettings;"1"==f.activePage.pageSettings.protected&&(f.inputPageSettingsProtected.checked=!0),this.inputPageSettingsMemberships&&this.inputPageSettingsMemberships.forEach(e=>{-1!==t.indexOf(e.value)&&(e.checked=!0)}),1==n.enable&&(f.inpuPageSettingstDripFeedEnable.checked=!0,$("#drip_feed").bootstrapSwitch("state",!0),f.selectPageSettingsAfterPeriod.querySelector(`option[value="${n.after_period}"]`).setAttribute("selected","selected"),$(f.selectPageSettingsAfterPeriod).selectpicker("refresh"),f.inputPageSettingsDripFeedValue.value=n.value);const{optimization_test:i}=f.activePage.pageSettings;if(this.checkboxEnableTest){if(this.checkboxEnableTest.checked="true"===i.enable,$(this.checkboxEnableTest).bootstrapSwitch("state","true"===i.enable),this.inputNameTest.value=i.name||"",this.checkboxGoalLeadTest.checked="true"===i.goals.lead.enable,this.inputGoalLeadValue.value=i.goals.lead.value||"","true"===i.goals.lead.enable){const e=this.checkboxGoalLeadTest.parentNode.nextElementSibling;e&&(e.style.display=this.checkboxGoalLeadTest.checked?"flex":"none")}if(this.checkboxGoalRegistrationTest.checked="true"===i.goals.registration.enable,this.inputGoalRegistrationValue.value=i.goals.registration.value||"","true"===i.goals.registration.enable){const e=this.checkboxGoalRegistrationTest.parentNode.nextElementSibling;e&&(e.style.display=this.checkboxGoalRegistrationTest.checked?"flex":"none")}if(this.checkboxGoalSaleTest.checked="true"===i.goals.sale.enable,this.inputGoalSaleValue.value=i.goals.sale.value||"","true"===i.goals.sale.enable){const e=this.checkboxGoalSaleTest.parentNode.nextElementSibling;e&&(e.style.display=this.checkboxGoalSaleTest.checked?"flex":"none")}}f.updateSelectPrimaryMembership()},updateSelectPrimaryMembership:function(e){const t=[];f.selectPageSettingsPrimaryMembership&&(f.inputPageSettingsMemberships.forEach(e=>{e.checked&&t.push({name:e.previousSibling.textContent.trim(),value:e.value})}),f.selectPageSettingsPrimaryMembership.querySelectorAll("option").forEach(e=>{f.selectPageSettingsPrimaryMembership.removeChild(e)}),t.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.name,f.activePage.pageSettings.primary_membership==e.value&&(t.selected=!0),f.selectPageSettingsPrimaryMembership.appendChild(t),$(f.selectPageSettingsPrimaryMembership).selectpicker("refresh")}))}};u.init(),f.init(),e.exports.site=f,e.exports.builderUI=u,e.exports.Block=p}()},function(e,t,n){var i;e.exports=(i=function(e){var t={};function n(n,i,r){var a={handler:i,context:r||e};return(n=t[n]||(t[n]=[])).push(a),{attach:function(){return n.push(a),this},detach:function(){return function(e,t){for(var n=0,i=e.length;n<i;n++)e[n]===t&&e.splice(n,1)}(n,a),this}}}function i(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=n(i,e[i]));return t}function r(e,t){return n(t,e[t],e)}function a(e,t){for(var n=[],i=0,a=t.length;i<a;i++)n.push(r(e,t[i]));return n}return(e=e||{}).publish=function(n){if(!t[n])return e;for(var i=[].slice.call(arguments,1),r=0,a=t[n].length;r<a;r++)t[n][r].handler.apply(t[n][r].context,i);return e},e.subscribe=function(e,t){var o=typeof e;return"string"===o?n.apply(null,arguments):"object"!==o||t?"string"==typeof t?r.apply(null,arguments):a.apply(null,arguments):i.apply(null,arguments)},e})(i)},function(e,t,n){!function(){"use strict";var t=n(10),i={firstMenuWidth:190,secondMenuWidth:300,loaderAnimation:document.getElementById("loader"),siteUrl:siteUrl,baseUrl:baseUrl,moduleURL:siteUrl+"ecom_funnels/",cnmPath:siteUrl+"skin/pagebuilder/",dataUrls:{},gridViewMode:!1,fixedSidebarButtons:document.querySelectorAll("#fixedSidebar button"),buttonCloseSideSecond:document.querySelectorAll('*[data-js="closeSideSecond"]'),theBody:document.querySelector("body"),sideSecondBlocks:document.querySelector('*[data-sidesecond="blocks"]'),sideSecondComponents:document.querySelector('*[data-sidesecond="components"]'),sideSecondTemplates:document.querySelector('*[data-sidesecond="templates"]'),setup:function(){$(i.loaderAnimation).fadeOut(),$(".nav-tabs a").on("click",(function(e){e.preventDefault(),$(this).tab("show")})),$("select.select:not([data-with-search])").select2({minimumResultsForSearch:-1}),$("select.select[data-with-search]").select2(),$(":radio, :checkbox").radiocheck(),$("[data-toggle=tooltip]").tooltip("hide"),$(".table .toggle-all :checkbox").on("click",(function(){var e=$(this),t=e.prop("checked");e.closest(".table").find("tbody :checkbox").radiocheck(t?"check":"uncheck")})),$(".tooltip").addClass((function(){if($(this).prev().attr("data-tooltip-style"))return"tooltip-"+$(this).prev().attr("data-tooltip-style")})),$(".btn-group").on("click","a",(function(){$(this).siblings().removeClass("active").end().addClass("active")})),$(".input-group").on("focus",".form-control",(function(){$(this).closest(".input-group, .form-group").addClass("focus")})).on("blur",".form-control",(function(){$(this).closest(".input-group, .form-group").removeClass("focus")})),$(".table .toggle-all").on("click",(function(){var e=$(this).find(":checkbox").prop("checked");"function"==typeof $(this).closest(".table").find("tbody :checkbox").checkbox&&$(this).closest(".table").find("tbody :checkbox").checkbox(e?"uncheck":"check")})),$(".table tbody :checkbox").on("check uncheck toggle",(function(e){var t=$(this),n=t.prop("checked"),i="toggle"===e.type,r=$(".table tbody :checkbox"),a=r.length===r.filter(":checked").length;t.closest("tr")[n?"addClass":"removeClass"]("selected-row"),i&&t.closest(".table").find(".toggle-all :checkbox").checkbox(a?"check":"uncheck")})),$('[data-toggle="switch"]').bootstrapSwitch(),$('*[data-toggle="modal"][data-open-tab]').on("click",(function(){$(this.getAttribute("href")+" .nav-tabs li:nth-child("+Number(this.getAttribute("data-open-tab"))+") a").tab("show")})),t.subscribe("onSideClose",(function(){i.closeOpenSide()}))},setupNew:function(){for(var e of Array.from(this.fixedSidebarButtons))e.addEventListener("click",e=>this.loadSide(e.currentTarget));for(var t of Array.from(this.buttonCloseSideSecond))t.addEventListener("click",()=>this.closeOpenSide());$(this.sideSecondBlocks).on("click","nav button:not(.active)",e=>this.openCategory(e.currentTarget)).on("click","nav button.active",e=>this.closeCategory(e.currentTarget)),$(this.sideSecondComponents).on("click","nav button:not(.active)",e=>this.openCategory(e.currentTarget)).on("click","nav button.active",e=>this.closeCategory(e.currentTarget)),$(this.sideSecondTemplates).on("click","nav button:not(.active)",e=>this.openCategory(e.currentTarget)).on("click","nav button.active",e=>this.closeCategory(e.currentTarget))},loadSide:function(e){var n,i,r,a;for(n of(this.theBody.classList.add("sideSecondOpen"),Array.from(this.fixedSidebarButtons))){if(n===e&&n.classList.contains("active"))return this.closeOpenSide(),!1;n.classList.remove("active")}e.classList.add("active"),(i=document.querySelector("*[data-sidesecond].open"))&&i.classList.remove("open"),r=document.querySelector('*[data-sidesecond="'+e.getAttribute("data-side")+'"]'),i?(setTimeout(()=>r.classList.add("open"),550),a=1100):(r.classList.add("open"),a=1e3),setTimeout(()=>{t.publish("canvasWidthChanged"),t.publish("onSideOpen",e.getAttribute("data-side"))},a)},closeOpenSide:function(){var e,n;for(e of(this.theBody.classList.remove("sideSecondOpen"),Array.from(this.fixedSidebarButtons)))e.classList.remove("active");(n=document.querySelector("*[data-sidesecond].open"))&&(n.classList.remove("open"),setTimeout(()=>{t.publish("canvasWidthChanged"),t.publish("onSideClose")},1e3))},openCategory:function(e){var t,n,i,r;for(n of("blocks"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")?t=this.sideSecondBlocks.querySelectorAll("nav button"):"components"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")?t=this.sideSecondComponents.querySelectorAll("nav button"):"templates"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")&&(t=this.sideSecondTemplates.querySelectorAll("nav button")),Array.from(t)))n!==e&&(n.classList.add("invisible"),n.classList.add("noshow"));for(i of(e.classList.add("active"),$(e).next().addClass("unhide"),r=$(e).next().find("img[data-original-src]"),Array.from(r)))i.setAttribute("src",i.getAttribute("data-original-src")),i.removeAttribute("data-original-src")},closeCategory:function(e){var t,n;for(n of("blocks"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")?t=this.sideSecondBlocks.querySelectorAll("nav button.noshow"):"components"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")?t=this.sideSecondComponents.querySelectorAll("nav button.noshow"):"templates"===$(e).closest("*[data-sidesecond]").attr("data-sidesecond")&&(t=this.sideSecondTemplates.querySelectorAll("nav button.noshow")),e.classList.remove("active"),$(e).next().removeClass("unhide"),Array.from(t)))n.classList.remove("noshow"),n.classList.remove("invisible")}};"undefined"!=typeof dataURLs&&(i.dataUrls=dataURLs),i.setup(),i.setupNew(),e.exports.appUI=i}()},function(e,t,n){!function(){"use strict";var t=n(37);e.exports.google_api_url=t.google_api_url?t.google_api_url:"https://fonts.googleapis.com/css?display=swap&family=",e.exports.pageContainer=t.pageContainer?t.pageContainer:"#page",e.exports.bodyPaddingClass=t.bodyPaddingClass?t.bodyPaddingClass:"bPadding",e.exports.editableItems=t.editableItems?t.editableItems:{"span.fa, i.fa":["color","font-size"],".bg.bg1":["background-color"],"nav a":["text","color","font-weight","text-transform","background-color"],img:["border-top-left-radius","border-top-right-radius","border-bottom-left-radius","border-bottom-right-radius","border-color","border-style","border-width","inline-position"],"hr.dashed":["border-color","border-width"],".divider > span":["color","font-size"],"hr.shadowDown":["margin-top","margin-bottom"],"ul > li > a":["text","color"],".social a":["color"],".bg.bg1, .bg.bg2, .header10, .header11":["background-image","background-color"],".frameCover":[],"#pricing_table2 .pricing2 .bottom li":["content"],"a.btn, button.btn":["text","color","font-family","font-size","btn-style","btn-size","btn-block","inline-position","background-color","margin-top","margin-bottom","border-style","border-width","border-color","border-radius"],'*[data-container="button"] > .btn':["margin-top","margin-bottom","margin-left","margin-right"],'*[data-container="divider"] > hr':["margin-top","margin-bottom","margin-left","margin-right","divider-style"],'*[data-container="form"] > form':["margin-top","margin-bottom","margin-left","margin-right"],'*[data-component="heading"] > *':["font-size","font-weight","text-transform","color","margin-top","margin-bottom","margin-left","margin-right","text-align","background-color"],'*[data-component="icon"] > span.fa, *[data-component="icon"] > a > span.fa':["font-size","color","margin-top","margin-bottom","margin-left","margin-right"],'*[data-component="image"] > img, *[data-component="image"] > a img':["margin-top","margin-bottom","margin-left","margin-right","image-style"],'*[data-component="text"] > *':["font-size","font-weight","text-transform","color","margin-top","margin-bottom","margin-left","margin-right","text-align","background-color"],'*[data-component="video"] > .videoWrapper':["margin-top","margin-bottom","margin-left","margin-right","stick"],'*[data-component="list"] > ul':["margin-top","margin-bottom"],'*[data-component="list"] > ul > li':["margin-top","margin-bottom"],".inline-wrapper":["inline-position"],'*[data-component="grid"]':["custom","margin-top","margin-bottom"],'*[data-component="grid"] > div':["margin-top","margin-bottom","margin-left","margin-right","padding-top","padding-bottom","padding-left","padding-right","background-color","background-color-overlay","background-image","text-align","stick"],'*[data-component="code"] > .codeblock':["margin-top","margin-bottom","margin-left","margin-right"],'*[data-component="countdown"]':["countdown-type","countdown-value","countdown-action","countdown-redirect","countdown-style","countdown-labels","countdown-delay","countdown-direction","countdown-textcolor","countdown-panelcolor","countdown-labelcolor","margin-top","margin-bottom","margin-left","margin-right","padding-top","padding-bottom","padding-left","padding-right","background-color"],'*[data-component="quest-box"]':["blockid","width","height","margin","padding","background-color","border-radius","border-style","border-width","border-color"],'*[data-component="quest-bar"]':["margin","padding","background-color","progress-color"],'*[data-component="quest"]':["margin","padding","background-color","border-radius","border-style","border-width","border-color","hover-background-color"],'*[data-component="divider"]':["divider-style","divider-color"],form:["margin-top","margin-bottom"],nav:["navbar-style","navbar-alignment","margin-top","margin-bottom"],".sbpro-bg-styler":["sbpro-bg-styler-padding","sbpro-border-radius","sbpro-bg","sbpro-border","background-image","background-color","stick"],'ul[class*="social-"]':["social-list-size","list-align"],'*[data-component="map"] .mapOverlay':["height","margin-top","margin-bottom"],".block":["background-color","background-color-overlay","background-image","padding-top","padding-bottom","background-position","parallax","stick"],".navbar-brand img":["margin-left","margin-right","height"],".sbpro-block-background, .background-cover":["background-color","background-image","padding-top","padding-bottom","background-position"],".sbpro-content-background":["background-color"],"input, textarea":["margin","padding","height","background-image","background-color","border-radius","border-style","border-width","border-color","font-size"],label:["margin-top","margin-right","margin-bottom","margin-left","color","display"],a:["color"],'*[data-component="chat"]':["margin-top","margin-right","margin-bottom","margin-left","height"],'*[data-component="nft"]':["margin-top","margin-right","margin-bottom","margin-left","text-align"]},e.exports.inputAppend=t.inputAppend?t.inputAppend:["custom","border-radius","font-size","margin-top","margin-bottom","margin-left","margin-right","padding-top","padding-bottom","padding-left","padding-right","height","width","countdown-value","countdown-delay","countdown-textcolor","countdown-panelcolor","countdown-labelcolor","countdown-redirect","progress-color","progress-color","quiz-progress","blockid","quiz-blockid"],e.exports.editableItemOptions=t.editableItemOptions?t.editableItemOptions:{"nav a : font-weight":["100","200","300","400","500","600","700","800","900"],"input, textarea : border-style":["none","dotted","dashed","solid"],"input, textarea : border-width":["1px","2px","3px","4px"],"a.btn, button.btn : border-style":["none","dotted","dashed","solid"],"a.btn, button.btn : border-width":["1px","2px","3px","4px"],'*[data-component="quest-box"] : border-style':["none","dotted","dashed","solid"],'*[data-component="quest-box"] : border-width':["1px","2px","3px","4px"],'*[data-component="quest-bar"] : border-style':["none","dotted","dashed","solid"],'*[data-component="quest-bar"] : border-width':["1px","2px","3px","4px"],'*[data-component="quest"] : border-style':["none","dotted","dashed","solid"],'*[data-component="quest"] : border-width':["1px","2px","3px","4px"],'*[data-component="heading"] > * : font-weight':["100","200","300","400","500","600","700","800","900"],'*[data-component="text"] > * : font-weight':["100","200","300","400","500","600","700","800","900"],'*[data-component="heading"] > * : text-transform':["capitalize","lowercase","uppercase","none"],'*[data-component="text"] > * : text-transform':["capitalize","lowercase","uppercase","none"],"h1, h2, h3, h4, h5, p : font-family":["default","Lato","Helvetica","Arial","Times New Roman"],"h2 : font-family":["default","Lato","Helvetica","Arial","Times New Roman"],"h3 : font-family":["default","Lato","Helvetica","Arial","Times New Roman"],"p : font-family":["default","Lato","Helvetica","Arial","Times New Roman"],".block : parallax":["off","on"]},e.exports.customStyleDropdowns=t.customStyleDropdowns?t.customStyleDropdowns:{stick:{label:"Make it sticky",values:{Default:"default",Sticky:"sticky"},default:"default"},"countdown-action":{label:"Action field",values:{Nothing:"nothing",Hide:"hide","Redirects to page":"redirect",URL:"url","Reset and Restart":"reset"},default:"nothing"},"countdown-style":{label:"Preset",values:{"Month day hour min sec":"months","Day hour min sec":"days","Day hour min":"days2","Hour min sec":"hours","Min sec":"minuts"},default:"days"},"countdown-direction":{label:"Count Direction",values:{Up:"up",Down:"down"},default:"down"},"countdown-labels":{label:"Labels",values:{Hide:"hide",Show:"show"},default:"hide"},"countdown-type":{label:"Countdown Type",values:{Counter:"counter",Bilboard:"bilboard",Timer:"timer","Timed countdown":"timercountdown",Clock:"clock"},default:"timer"},"btn-style":{label:"Button style",values:{default:"btn-default",primary:"btn-primary",success:"btn-success",info:"btn-info",warning:"btn-warning",danger:"btn-danger"},default:"btn-default"},"btn-size":{label:"Button size",values:{huge:"btn-hg",default:"",small:"btn-sm","extra small":"btn-xs"},default:""},"btn-block":{label:"Button block",values:{Block:"btn-block","No block":""},default:""},"navbar-style":{label:"Navigation bar style",values:{Default:"navbar-default",Inverse:"navbar-inverse",Plain:"navbar-plain"}},"navbar-alignment":{label:"Navigation alignment",values:{Left:"sbpro-navbar-left","Left / right":"sbpro-navbar-left-right",Right:"sbpro-navbar-right",Centered:"sbpro-navbar-centered"}},"background-position":{label:"Background alignment",values:{"Top left":"top-left","Top center":"top-center","Top right":"top-right","Bottom left":"bottom-left","Bottom center":"bottom-center","Bottom right":"bottom-right","Center center":"center-center"},default:"top-left"},"inline-position":{label:"Inline positioning",values:{"Pull left":"pull-left","Pull center":"pull-center","Pull right":"pull-right"}},"sbpro-bg-styler-padding":{label:"Padding",values:{"No padding":"padding-no","Medium padding":"padding-md","Large padding":"padding-lg"},default:"padding-no"},"sbpro-border-radius":{label:"Border radius",values:{"No radius":"border-radius-no","Small radius":"border-radius-sm","Medium radius":"border-radius-md","Large radius":"border-radius-lg"},default:"border-radius-no"},"sbpro-bg":{label:"Background",values:{Light:"bg-light",Dark:"bg-dark",None:"bg-none"},default:"bg-none"},"sbpro-border":{label:"Border",values:{"No border":"border-none","Light + thin":"border-light-thin","Light + thick":"border-light-thick"},default:"border-none"},"image-style":{label:"Image style",values:{Responsive:"img-responsive",Rounded:"img-rounded",Circle:"img-circle",Thumbnail:"img-thumbnail"},default:"img-responsive"},"social-list-size":{label:"Icon size",values:{Small:"social-basic-sm",Medium:"social-basic-md"},default:"social-basic-sm"},"list-align":{label:"List alignment",values:{Left:"list-left",Right:"list-right"},default:"list-left"},"text-align":{label:"Alignment",values:{Left:"text-left",Right:"text-right",Center:"text-center"},default:"text-left"},"font-family":{label:"Font Family",values:{"Abril Fatface":"font-AbrilFatface","Alegreya Sans":"font-AlegreyaSans",Anton:"font-Anton","Bree Serif":"font-BreeSerif","Nanum Brush Script":"font-NanumBrushScript","Patua One":"font-PatuaOne","Architects Daughter":"font-ArchitectsDaughter","Give You Glory":"font-GiveYouGlory","Gochi Hand":"font-GochiHand","Kaushan Script":"font-KaushanScript","La Belle Aurore":"font-LaBelleAurore","Loved by the King":"font-LovedbytheKing","Marck Script":"font-MarckScript","Over the Rainbow":"font-OvertheRainbow","Walter Turncoat":"font-WalterTurncoat",Yellowtail:"font-Yellowtail",Cinzel:"font-Cinzel",Exo:"font-Exo",Lato:"font-Lato",Magra:"font-Magra",Oxygen:"font-Oxygen","Permanent Marker":"font-PermanentMarker",Rambla:"font-Rambla","Signika Negative":"font-SignikaNegative","Titillium Web":"font-TitilliumWeb"},default:"font-AbrilFatface"},"divider-style":{label:"Divider Style",values:{Dashed:"dashed",Dotted:"dotted",Solid:"solid"}},"quiz-action":{label:"Quiz Action",values:{"- select -":"","Open URL":"open-url"}},display:{label:"Display",values:{Block:"d-block",Flex:"d-flex",None:"d-none"},default:"d-block"}},e.exports.responsiveModes=t.responsiveModes?t.responsiveModes:{desktop:"100%",mobile:"480px",tablet:"1024px"},e.exports.autoSaveTimeout=t.autoSaveTimeout?t.autoSaveTimeout:3e5,e.exports.sourceCodeEditSyntaxDelay=t.sourceCodeEditSyntaxDelay?t.sourceCodeEditSyntaxDelay:1e4,e.exports.cssUrls=["/skin/pagebuilder/elements/css/blocks.css","/skin/pagebuilder/elements/css/media.css"],e.exports.externalJS=t.externalJS?t.externalJS:["/skin/pagebuilder/build/inblock.bundle.js","/skin/pagebuilder/build/sticky.bundle.js"],e.exports.aceTheme=t.externalJS?t.externalJS:"twilight",e.exports.navSelector=t.navSelector?t.navSelector:"nav",e.exports.navActiveClass=t.navActiveClass?t.navActiveClass:"active",e.exports.sentApiURL=t.sentApiURL?t.sentApiURL:"services/ifunnels.php",e.exports.imageLightboxWrapper=t.imageLightboxWrapper?t.imageLightboxWrapper:".overlay-wrapper",e.exports.imageLightboxAttr=t.imageLightboxAttr?t.imageLightboxAttr:"data-gallery",e.exports.sideMenuArrowSVG=t.sideMenuArrowSVG?t.sideMenuArrowSVG:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve" width="16" height="16"><g class="nc-icon-wrapper" fill="#bdc3c7"><polygon fill="#bdc3c7" points="4.9,15.7 3.4,14.3 9.7,8 3.4,1.7 4.9,0.3 12.6,8 "></polygon></g></svg>',e.exports.froalaConfig=t.froalaConfig?t.froalaConfig:{toolbarInline:!0,charCounterCount:!1,toolbarButtons:["bold","italic","underline","strikeThrough","|","fontFamily","fontSize","color","|","paragraphFormat","align","|","insertLink","|","clearFormatting","|","undo","redo"],linkInsertButtons:["linkBack"],paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",H5:"Heading 5"},nestedIframes:!0,fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","'Times New Roman',Times,serif":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana","Oswald, sans-serif":"Oswald"}},e.exports.runInBlocks=t.runInBlocks?t.runInBlocks:function(){window.onload=function(){$(".carousel").each((function(){$(this).carousel("pause"),$(this).find("a.right.carousel-control").on("click",function(e){e.stopPropagation(),e.preventDefault(),$(this).carousel("next"),$(this).carousel("pause")}.bind(this)),$(this).find("a.left.carousel-control").on("click",function(e){e.stopPropagation(),e.preventDefault(),$(this).carousel("prev"),$(this).carousel("pause")}.bind(this));var e=this;$(this).find(".carousel-indicators li").on("click",(function(t){t.stopPropagation(),$(e).carousel($(this).index()),setTimeout((function(){$(e).carousel("pause")}),1e3),$(this).siblings().removeClass("active"),$(this).addClass("active")})),$(this).on("slid.bs.carousel",(function(){parent.postMessage("onFrameContentChanged","*")}))})),$("*[data-parallax]").each((function(){this.style.backgroundImage="url('"+this.getAttribute("data-image-src")+"')"}))}},e.exports.rebuildSlideshowNavigation=t.rebuildSlideshowNavigation?t.rebuildSlideshowNavigation:function(e){var t,n,i=document.createElement("OL"),r=e.querySelectorAll(".carousel-inner .item"),a=0,o=!0;for(n in e.querySelector(".carousel-indicators").remove(),r)r.hasOwnProperty(n)&&((t=document.createElement("LI")).setAttribute("data-target",e.id),t.setAttribute("data-slide-to",a),r[n].classList.contains("active")&&(t.classList.add("active"),o=!1),i.appendChild(t),a++);i.classList.add("carousel-indicators"),$(e).find(".carousel-indicators-wrapper").prepend(i),o&&($(e).find(".carousel-indicators li:first-child").addClass("active"),$(e).find(".carousel-inner .item:first-child").addClass("active"),$(e).carousel(0)),$(e).carousel(),$(e).carousel("pause"),$(e).find(".carousel-indicators li").on("click",(function(t){t.stopPropagation(),$(e).carousel($(this).index()),$(e).carousel("pause"),$(this).siblings().removeClass("active"),$(this).addClass("active")}))},e.exports.inBlockBeforeSave=t.inBlockBeforeSave?t.inBlockBeforeSave:function(e){$(e).find(".carousel").each((function(){$(this).find(".carousel-indicators li").removeClass("active"),$(this).find(".carousel-indicators li:first-child").addClass("active"),$(this).find(".carousel-inner .item").removeClass("active"),$(this).find(".carousel-inner .item:first-child").addClass("active")})),$(e).find("*[data-sbpro-editor]").each((function(){$(this).froalaEditor("destroy"),this.classList.remove("sb_open")}))},e.exports.shapeDividers={curve:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M119.849,0C47.861,0,0,24,0,24h240C240,24,191.855,0.021,119.849,0z"}]},"curve-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,13.229V23.87h240V13.27C212.247,6.884,170.508,0,119.81,0C69.18,0,27.642,6.884,0,13.229z","fill-opacity":"0.33"},{fill:"#464D54",d:"M0,18.904V24h240v-5.036c-21.641-6.315-64.639-16.257-120.171-16.257C64.351,2.707,21.572,12.589,0,18.904z","fill-opacity":"0.33"},{fill:"#464D54",d:"M119.849,0C47.861,0,0,24,0,24h240C240,24,191.855,0.021,119.849,0z"}]},"curve-asym":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,24C47.998-8.383,93.12-7.614,240,24H0z"}]},"curve-asym-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,7.172V24h240v-4.516C97.769-1.212,33.652-5.596,0,7.172z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,14.252V24h240v-2.828C95.62-3.818,34.971-6.586,0,14.252z"},{fill:"#464D54",d:"M0,24C47.91-5.717,92.93-5,239.521,24H0z"}]},book:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,24C96.789,22.854,120,3.417,120,0c0,3.417,23.203,22.854,120,24H0z"}]},spear:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M134.698,24C124.5,24,120,13.04,120,0c0,13.04-4.5,24-14.698,24H134.698z"}]},arrow:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M132,24L119.988,0L108,23.97V24H132z"}]},mountains:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24v-3.896c-1.68-2.084-4.492-5.312-5.898-5.881c-1.836-0.678-3.086-2.103-4.647-3.528l0,0c0,0-0.021,0-0.021-0.06l-0.02-0.06c-0.098-0.119-0.215-0.199-0.312-0.269c-0.117-0.09-0.233-0.209-0.352-0.339c-1.914-1.595-9.375-8.542-9.375-8.542l-1.523,0.588l-2.266-1.515c0,0-3.613,3.797-4.004,4.375c-0.381,0.568-1.738,1.595-2.471,2.551c-0.205,0.25-0.557,0.697-0.986,1.186l0,0c-1.123,1.306-2.852,3.109-4.385,3.738c-2.109,0.837-5.732,3.309-5.732,3.309s-0.625-0.589-1.328-1.246l0,0c-0.215-0.21-0.449-0.488-0.684-0.679l0,0c-0.078-0.08-0.156-0.158-0.205-0.209c-0.029,0-0.029-0.062-0.049-0.062c-0.098-0.062-0.137-0.14-0.215-0.196c-0.029,0-0.029-0.041-0.049-0.041c-0.06-0.062-0.117-0.119-0.187-0.199c-0.021,0-0.021-0.062-0.039-0.062c-0.06-0.062-0.116-0.119-0.215-0.18l-0.021-0.062c-0.049-0.08-0.117-0.14-0.215-0.199c-0.957-1.125-3.809-2.699-4.922-3.309c-1.152-0.588-3.477,0.957-4.609,1.714c-1.133,0.737-2.285,1.713-3.457,2.182c-0.039,0-0.059,0.062-0.116,0.062c-0.029,0-0.029,0-0.05,0.039c-0.02,0-0.078,0.04-0.106,0.04c-0.021,0-0.021,0-0.039,0c-0.06,0.061-0.098,0.061-0.116,0.079h-0.05c-1.337,0.567-3.604,1.715-4.109,2.552c-0.625,0.977-2.48,2.452-4.386,3.408c-1.122,0.609-3.584,1.654-5.614,2.672c-1.017-0.997-1.953-1.924-2.812-2.701c-0.02-0.039-0.059-0.039-0.078-0.061c-0.127-0.1-0.215-0.208-0.293-0.27c-0.039-0.039-0.059-0.061-0.117-0.119c-0.059-0.08-0.176-0.158-0.215-0.199c-0.049-0.059-0.078-0.079-0.117-0.159c-0.098-0.06-0.137-0.119-0.215-0.14c-0.039-0.039-0.078-0.08-0.117-0.119c-0.029-0.062-0.098-0.141-0.156-0.16c-0.039-0.039-0.088-0.059-0.155-0.118c-0.039-0.041-0.106-0.08-0.156-0.142c-0.039-0.039-0.099-0.078-0.116-0.078c-0.06-0.039-0.117-0.062-0.156-0.141c-0.039-0.039-0.078-0.039-0.107-0.061c-0.049-0.062-0.088-0.062-0.127-0.08c-0.02,0-0.039-0.04-0.059-0.04c-0.068-0.062-0.117-0.08-0.195-0.08c-1.348-0.485-2.832-1.834-2.832-1.834s-4.59,4.865-5.195,5.022c-0.059,0-0.117,0.062-0.176,0.062h-0.039c-0.039,0.04-0.078,0.04-0.137,0.08l0,0l0,0c-0.605,0.271-1.387,0.797-1.387,0.797s-5.195-6.815-7.295-7.573c-1.847-0.697-3.097-2.104-4.64-3.539l0,0c0,0-0.021,0-0.021-0.04l-0.02-0.06c-0.117-0.12-0.215-0.199-0.293-0.289c0-0.114-0.098-0.203-0.234-0.323c-1.895-1.615-9.375-8.541-9.375-8.541l-1.483,0.638l-2.296-1.515c0,0-3.622,3.797-3.993,4.375c-0.392,0.568-1.738,1.595-2.48,2.551c-0.205,0.27-0.547,0.698-0.986,1.186l0,0c-1.133,1.306-2.861,3.11-4.365,3.738c-2.109,0.837-5.747,3.309-5.747,3.309s-0.62-0.568-1.318-1.246l0,0c-0.22-0.21-0.459-0.47-0.698-0.679l0,0c-0.073-0.08-0.142-0.159-0.21-0.209c-0.02,0-0.02-0.04-0.054-0.04c-0.068-0.08-0.117-0.159-0.186-0.208c-0.024,0-0.024-0.04-0.054-0.04c-0.049-0.08-0.117-0.12-0.171-0.199c-0.02,0-0.02-0.06-0.039-0.06c-0.049-0.061-0.117-0.12-0.171-0.18l-0.02-0.06c-0.049-0.06-0.117-0.14-0.166-0.199c-0.962-1.106-3.823-2.721-4.971-3.309c-1.113-0.568-3.394,0.977-4.541,1.754c-1.152,0.717-2.28,1.714-3.433,2.163c-0.049,0-0.068,0.06-0.117,0.06c-0.02,0-0.02,0-0.049,0.041c-0.02-0.011-0.073,0.029-0.093,0.029s-0.02,0-0.049,0c-0.049,0.06-0.103,0.06-0.122,0.079h0.054c-1.323,0.588-3.623,1.735-4.13,2.571c-0.581,0.957-2.471,2.432-4.39,3.408c-1.133,0.588-3.604,1.653-5.62,2.633c-0.962-0.959-1.943-1.924-2.812-2.692c0.083-0.021,0.054-0.021,0.029-0.06c-0.088-0.08-0.19-0.199-0.288-0.25c-0.039-0.039-0.068-0.061-0.122-0.119c-0.068-0.101-0.146-0.159-0.21-0.209c-0.049-0.049-0.068-0.061-0.117-0.119c-0.068-0.08-0.122-0.119-0.19-0.16c-0.049-0.039-0.068-0.059-0.122-0.118c-0.049-0.041-0.107-0.09-0.156-0.11c-0.054-0.06-0.073-0.08-0.122-0.119c-0.049-0.08-0.088-0.1-0.142-0.141c-0.02-0.06-0.068-0.08-0.098-0.08c-0.049-0.049-0.103-0.068-0.142-0.106c-0.02-0.062-0.068-0.062-0.098-0.08c-0.054-0.062-0.103-0.062-0.122-0.08c-0.02,0-0.039-0.062-0.068-0.062c-0.049-0.039-0.103-0.059-0.151-0.059c-1.338-0.45-2.861-1.766-2.861-1.766s-4.58,4.845-5.156,5.021c-0.044,0-0.093,0.062-0.142,0.062h-0.02c-0.049,0.029-0.103,0.029-0.142,0.049l0,0l0,0c-0.601,0.29-1.401,0.816-1.401,0.816s-5.107-6.776-7.197-7.494c-1.831-0.697-3.071-2.104-4.629-3.539l0,0c0,0-0.02,0-0.02-0.06l-0.024-0.04c-0.088-0.12-0.186-0.189-0.308-0.269c-0.122-0.1-0.239-0.219-0.361-0.329c-1.919-1.623-9.36-8.55-9.36-8.55l-1.539,0.569L38.111,0c0,0-3.618,3.817-4.009,4.375c-0.381,0.588-1.724,1.595-2.471,2.572c-0.21,0.249-0.552,0.678-0.981,1.166l0,0c-1.127,1.326-2.86,3.129-4.37,3.717c-2.109,0.837-5.737,3.329-5.737,3.329s-0.62-0.567-1.323-1.246l0,0c-0.21-0.199-0.449-0.468-0.688-0.679l0,0c-0.068-0.078-0.151-0.158-0.22-0.217c-0.02,0-0.02-0.062-0.049-0.062c-0.073-0.062-0.122-0.13-0.19-0.17c-0.02,0-0.02-0.061-0.054-0.061c-0.039-0.08-0.117-0.119-0.166-0.199c-0.02,0-0.02-0.042-0.054-0.042c-0.049-0.079-0.117-0.119-0.166-0.199l-0.02-0.05c-0.054-0.055-0.122-0.135-0.171-0.175c-0.962-1.126-3.813-2.741-4.971-3.33c-1.152-0.578-3.433,0.958-4.58,1.715c-1.152,0.767-2.28,1.734-3.433,2.183c-0.049,0-0.068,0.04-0.117,0.04c-0.02,0-0.02,0-0.049,0.061c-0.024,0-0.073,0.061-0.103,0.061s-0.02,0-0.049,0c-0.049,0.04-0.093,0.04-0.122,0.062h-0.01C2.779,13.404,0.669,14.48,0,15.318V24H240z"}]},clouds:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,24h240V5.194c-2.617-1.615-6.191-3.108-10.605-3.108c-9.608,0-13.076,5.393-13.076,5.393s-3.661-2.947-8.213-0.762c-7.401,3.579-1.885,11.708-1.885,11.708s-1.104,0.161-1.543,0.742c-0.43,0.622-0.137,1.663-0.137,1.663s-1.006-0.432-2.07-0.189c-1.084,0.271-1.191,1.233-1.191,1.233s-0.165-2.856-2.069-4.371c-3.955-2.848-7.334-0.171-7.334-0.171s-0.558-0.611-0.946-0.771c-0.361-0.181-1.046-0.181-1.046-0.181s-4.413-3.127-10.526-2.266c-6.094,0.86-7.969,6.896-7.969,6.896s-0.929-2.786-4.181-4.291c-4.59-2.086-6.483,0-6.483,0s1.483-3.487-2.656-5.583c-4.16-2.115-5.273,1.033-5.273,1.033s-0.859-0.431-1.914-0.431c-1.035,0-1.855,0.933-1.855,0.933s-0.02-0.603-1.112-0.933c-1.113-0.342-1.759,0-1.759,0s2.169-5.945-4.413-7.75c-5.548-1.574-6.543,2.276-6.798,3.499c-0.155-0.261-0.448-0.612-0.977-0.943c-0.967-0.531-1.211-0.421-1.211-0.421s0.264-3.499-2.295-4.521c-2.559-1.042-3.545,0.932-3.545,0.932s-2.896-0.862-4.795,1.233c-1.909,2.096-1.03,4.792-1.03,4.792s-0.791,0-1.748,0.61c-0.962,0.603-0.981,1.485-0.981,1.485s-1.68-1.044-3.96-1.044c-2.28,0-3.77,1.044-3.77,1.044s-0.84-1.333-2.832-2.106c-1.987-0.762-3.53,0-3.53,0s1.392-5.152-5.498-7.828C91.804-1.943,88.201,3.63,88.201,3.63s-0.879,0-1.626,0.17c-0.742,0.261-1.182,0.772-1.182,0.772s-2.422-2.365-6.26-1.584c-3.809,0.772-4.15,4.953-4.15,4.953s-3.223-4.36-11.401-3.418c-8.11,0.863-8.848,5.213-8.848,5.213s-1.27-1.233-3.633-0.591c-0.669,0.16-1.147,0.431-1.44,0.772c-1.079-1.765-3.096-4.181-6.118-3.86c-2.759,0.341-3.188,1.935-3.188,1.935s-0.552-0.601-1.152-0.601h-1.23c0,0-0.581-0.772-1.699-1.223c-1.128-0.431-2.109,0-2.109,0s-2.212-1.043-4.131,0C28.11,7.2,27.92,9.735,27.92,9.735s-1.699-1.233-3.262-0.602c-1.558,0.602-1.25,2.446-1.25,2.446s-0.498-0.34-1.528-0.18c-1.04,0.18-1.128,0.61-1.128,0.61s-0.942-1.834-2.861-2.275c-2.021-0.431-3.75,0.181-3.75,0.181s-2.139-4.301-10.66-5.233c-1.27-0.121-2.383-0.15-3.359-0.07L0,24L0,24z"}]},city:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M239.941,24L240,17.346h-1.25v1.301h-0.84l-0.02,3.105h-1.681v-2.618h-1.562l0.078-8.623l-3.242-0.02l0.02-1.359h-2.91v0.7h-0.488l-0.039,8.521l-2.812-0.021l0.068-7.464l-1.808-0.03l-0.02,1.25l-2.031-0.03v2.308l-1.309-0.03l0.02-3.038h-2.725V10.41h-2.871l-0.02,8.312h-1.025l0.02-6.685l-1.816-0.03l0.039-8.763h-3.28l-0.039,8.663l-1.603-0.04l-0.547,0.749l-0.879-0.021v1.68h-0.781v4.099h-0.742l-0.02,2.577h-1.094v-2.809h-1.309l0.02-1.229h-1.27v1.069l-4.98-0.021v0.971l-1.494-0.021v1.607H192.9l0.02-3.026l-1.377-0.039v-3.247h-0.488l0.039-4.907l-3.086-0.01l-0.039,8.073h-0.43l-0.02,2.068h-0.47v0.84h-1.172l0.039-5.864h-0.293v-2.216h-0.508V10.26l-4.043-0.05l-0.039,7.204h-0.693l0.021-4.865h-0.519v-0.87h-1.514v0.939h-0.431l-0.02,5.457h-0.742v1.769h-0.391l0.049-6.404h-0.801v-1.239l-1.699-0.011v-0.989h-1.426v-1.039l-2.031-0.02v0.529h-0.918v0.899l-2.09-0.02v1.378l-1.035-0.029V10.76h-0.645v-0.64h-1.445l0.039-1.039h-2.09v1.029h-0.928V11.1l-0.918-0.03l0.02-1.999h-2.666l0.039-0.899l-2.021-0.02v1.319l-1.865-0.05l0.021-5.496l-1.758-0.02V3.038l-2.091-0.03h-1.582v1.829l-0.801-0.04l-0.039,9.483h-0.819v-2.63h-1.388l0.021-1.349h-3.008v1.269h-1.31l0.021-3.897h-1.113l0.021-1.588l-4.609-0.04V11l-3.184-0.02l-0.021,6.105h-4.159l0.098-16.466h-1.611V0h-2.803v1.309h-0.381l-0.078,15.207l-3.17-0.021l0.021-6.035h-1.211V9.083l-4.639-0.01v3.177h-0.742l-0.049,9.303l-2.061-0.01v-3.718l-1.411-0.029v-1.067h-1.357v1.067H108.1l-0.029,3.896h-1.333l0.093-12.318h-1.06l0.02-1.049l-3.423-0.03v0.779h-0.537l0.029-1.159l-2.271-0.02L99.55,21.712l-4.502-0.021l0.049-9.461l-0.889-0.03v-0.85h-1.87l-0.508,0.709h-0.57l-0.01,8.443h-1.318v1.658H88.98L89,14.098h-1.128l0.02-0.77h-1.318v-1.08H85.48l-0.029,2.219h-0.747l-0.044,7.594h-1.567l0.059-16.604h-1.519V3.647l-5.103-0.03v1.888h-0.869l-0.02,3.128h-0.552L75.04,21.242l-4.59-0.02v-3.339H69.2v-1.079l-1.997-0.021v1.079H66.47l-0.01,4.258h-1.172l0.044-5.866H63.56l0.029-1.14l-2.026-0.021l0.02-1.049h-1.934v1.107H58.76l-0.01,6.705l-2.612-0.021v-3.654l-5.029-0.02L51.08,22.18h-1.631l0.044-6.025l-5.21-0.01v1.998H43.33v-1.25H42.3v1.198h-0.981l0.02-6.004H40.41V11.25h-2.241v1.139l-0.747-0.02l-0.063,10.083l-1.138-0.021L36.25,11.22h-1.201v-0.899h-1.787v1.049L32.5,11.35l-0.049,11.272l-6.592-0.031l0.049-7.843h-1.616v-0.92L21.06,13.8v0.897h-1.392l-0.02,8.095h-1.187V21.73H17.47l0.03-5.523h-0.938v-0.96h-1.694l-0.029,1.8h-0.537l0.029-0.908h-1.382v0.758H11.64l-0.02,4.537H9.849v1.998L8.33,23.41v-1.719l-1.211-0.039v-0.801l-2.217-0.039v-0.989h-1.25l-0.044,1.069H2.319L2.29,22.861L0.01,22.84L0,23.999L239.941,24L239.941,24z"}]},triangle:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24L119.878,0L0,23.96V24H240z"}]},pyramids:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24L159.961,0l-74.36,21.1l-28.56-7.31L0,24H240z"}]},tilt:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24V0L0,24H240z"}]},"tilt-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M240,24V0L0,24H240z"},{fill:"#464D54",d:"M240,24V3.72L0,24H240z"},{fill:"#464D54","fill-opacity":"0.33",d:"M240,24V1.99L0,24H240z"}]},"ray-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24V0L0,24H240z"},{fill:"#464D54","fill-opacity":"0.33",d:"M240,0H0v24"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,11.611V24L240,0L0,11.611z"}]},"fan-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.25",d:"M0,24h240V0L0,11.26V24z"},{fill:"#464D54",d:"M240,24H0V11.26L240,24z"},{fill:"#464D54","fill-opacity":"0.5",d:"M240,24H0V11.26h240V24z"}]},swoosh:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M239.766,24L240,0c-51.797,0-69.883,14.65-94.707,17.68c-24.691,2.98-43.872-4.1-63.765-4c-19.17,0.101-31.196,4.562-51.309,8.2C15.552,24.529,4.321,23.59,0,23.04V24H239.766z"}]},"swoosh-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M240,24V0c-51.797,0-69.883,13.18-94.707,15.59c-24.691,2.4-43.872-1.17-63.765-1.08c-19.17,0.1-31.196,3.65-51.309,6.58C15.552,23.21,4.321,22.471,0,22.01V24H240z"},{fill:"#464D54","fill-opacity":"0.33",d:"M240,24V2.21c-51.797,0-69.883,11.96-94.707,14.16c-24.691,2.149-43.872-1.08-63.765-1.021c-19.17,0.069-31.196,3.311-51.309,5.971C15.552,23.23,4.321,22.58,0,22.189V24h239.766H240z"},{fill:"#464D54",d:"M240,24V3.72c-51.797,0-69.883,11.64-94.707,14.021c-24.691,2.359-43.872-3.25-63.765-3.17c-19.17,0.109-31.196,3.6-51.309,6.529C15.552,23.209,4.321,22.47,0,22.029V24H240z"}]},waves:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,0.393c-4.844-0.838-10.605-0.279-17.471,1.149c-20.303,4.149-24.6,14.056-38.877,19.621C159.648,30.525,142.076,0.523,120,0.523c-23.516,0-35.499,29.375-61.632,21.333C39.721,16.104,32.948,6.39,15.888,9.458C9.751,10.566,4.438,12.747,0,15.773V24h240V0.393z"}]},"waves-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M239.971,0.038c-4.61-0.19-9.552,0.34-15,1.32c-20.395,3.721-26.233,12.311-39.419,17.292c-22.208,8.379-41.546-14.521-65.619-14.521c-25.681,0-30.486,25.262-62.506,18.051C34.632,16.999,27.625,8.329,10.323,11.059c-2.71,0.44-6.553,1.04-10.323,1.81V24h240V0.038H239.971z"},{fill:"#464D54","fill-opacity":"0.33",d:"M222.049,3.889c-20.803,3.72-25.198,12.582-39.849,17.582c-24.611,8.399-40.728-18.493-63.342-18.493c-24.124,0-38.287,26.312-65.082,19.102C34.707,16.919,27.743,8.239,10.27,10.979c-3.717,0.59-7.149,1.52-10.27,2.72V24h240V2.888C234.979,2.148,229.1,2.638,222.049,3.889z"},{fill:"#464D54",d:"M239.99,5.699c-4.825-0.64-10.606-0.21-17.48,0.89C202.234,9.81,197.917,17.48,183.618,21.8c-23.967,7.28-39.71-16.011-61.787-16.011c-23.521,0-37.345,22.751-63.486,16.542C39.701,17.88,32.922,10.35,15.861,12.73C9.751,13.58,4.438,15.29,0,19.423V24h240V7.152L239.99,5.699z"}]},hills:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M138.75,22.41c-5.43,0.619-12.363-0.09-18.125-1.27c-5.654-1.19-17.017-5.711-24.116-8.642C78.34,4.689,64.438,1.708,50.312,0.429c-5.664-0.5-11.685-0.84-24.814,0.62C12.358,2.499,0,7.249,0,7.249V24h240v-7.34c0,0-17.285-7.921-38.018-7.381c-9.404,0.17-22.275,1.61-32.158,5.442c-5.098,1.959-12.539,4.409-19.121,5.879C144.17,22.061,141.191,22.17,138.75,22.41z"}]},"hills-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M209.18,9.257c-10.176,0.18-24.004,1.61-34.697,5.44c-5.518,1.972-13.545,4.41-20.645,5.882c-7.002,1.479-10.225,1.581-12.861,1.87c-5.879,0.609-13.358-0.1-19.551-1.27c-6.133-1.221-18.364-5.722-26.025-8.652C75.771,4.677,60.771,1.696,45.532,0.436c-6.123-0.5-12.603-0.86-26.763,0.62c-6.958,0.691-13.682,2.21-18.75,3.541V24H240V13.259C232.422,11.168,221.348,8.967,209.18,9.257z"},{fill:"#464D54","fill-opacity":"0.33",d:"M207.461,10.527c-9.961,0.181-23.555,1.491-33.984,4.971c-5.391,1.811-13.262,4.021-20.215,5.37c-6.914,1.372-10.078,1.462-12.676,1.682c-5.723,0.55-13.096-0.101-19.16-1.149c-6.006-1.08-18.008-5.201-25.518-7.893C76.64,6.367,61.948,3.667,47.002,2.486c-6.001-0.48-12.363-0.8-26.25,0.54c-7.939,0.74-15.601,2.5-20.713,3.851v17.114H240v-9.193C232.656,12.758,220.684,10.238,207.461,10.527z"},{fill:"#464D54",d:"M138.75,22.619c-5.43,0.561-12.344-0.061-18.125-1.061c-5.654-1.01-17.017-4.811-24.116-7.291C78.34,7.667,64.438,5.167,50.312,4.087c-5.664-0.431-11.685-0.721-24.814,0.53C12.358,5.847,0,9.847,0,9.847V24h240v-6.212c0,0-17.285-6.67-38.018-6.23c-9.404,0.14-22.295,1.37-32.178,4.581c-5.099,1.649-12.539,3.721-19.121,4.971C144.17,22.359,141.191,22.43,138.75,22.619z"}]},flow:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,5.513c-10.195-6.548-32.402-6.238-52.285,0.07c-15.596,4.889-25.732,12.188-37.217,11.099c-11.045-1.039-8.398-8.449-18.789-8.499c-14.258-0.09-25.801,13.897-40.078,15.277C75.352,25.039,81.899,7.692,64.81,1.864C49.629-3.305,21.479,2.554,0,16.011V24h240V5.513L240,5.513z"}]},"flow-opacity":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,24h240V0.359c-11.387-1.23-27.227,0.77-44.746,4.87c-19.092,4.46-23.965,12.33-36.084,11.378c-11.553-0.906-10.596-7.438-21.67-7.468c-15-0.02-25.952,11.817-40.542,12.917c-16.318,1.219-10-13.167-25.938-17.999C57.48-0.068,21.582,4.509,0,14.631V24L0,24z"},{fill:"#464D54","fill-opacity":"0.33",d:"M191.934,6.021c-18.008,4.371-22.969,12.083-34.883,11.141c-11.328-0.898-9.746-7.29-20.488-7.29C121.993,9.852,108.243,21.421,94.17,22.5C78.481,23.701,85.991,9.669,69.912,4.912C55.752,0.723,19.248,5.69,0,16.393V24h240V4.371C228.818,0.96,211.68,1.25,191.934,6.021z"},{fill:"#464D54",d:"M240,9.141c-10.195-5.24-32.402-5.01-52.285,0.05c-15.615,3.95-25.732,9.818-37.236,8.959c-11.045-0.852-8.397-6.77-18.789-6.839c-14.257-0.051-25.8,11.162-40.078,12.261C75.342,24.87,81.89,10.899,64.8,6.223C49.629,2.042,21.479,6.771,0,17.602V24h240V9.141L240,9.141z"}]},step:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,0v24H0V0H240z"}]},step_1_2:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M120,0v24H0V0H120z"}]},step_2_3:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24h160V0H0z"}]},step_3_4:{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24h180V0H0z"}]},"curve-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,24l0.01-0.24V0H240v24c0,0-48.115-23.471-120.039-23.48C48.018,0.52,0,24,0,24L0,24z"}]},"curve-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24V0H0v24C0,24,47.861,5.107,119.849,5.107C191.855,5.107,240,24,240,24z","fill-opacity":"0.33"},{fill:"#464D54",d:"M119.829,2.661c55.562,0,98.521,9.957,120.171,16.271V0H0v18.902C21.582,12.598,64.37,2.65,119.829,2.661z","fill-opacity":"0.33"},{fill:"#464D54",d:"M119.81,0.117c50.737,0,92.456,6.89,120.19,13.271V0H0v13.34C27.651,6.979,69.17,0.117,119.81,0.117z"}]},"curve-asym-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24C47.998-8.379,93.12-7.608,240,24l0,0V0H0z"}]},"curve-asym-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v24C47.91-5.42,92.93-4.712,239.512,24H240V0.02L0,0z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,0.02v14.361C34.971-6.26,95.62-3.501,240,21.203V0.02H0L0,0.02z"},{fill:"#464D54",d:"M0,0.02v7.359C33.652-5.278,97.769-0.918,240,19.553V0.02H0L0,0.02z"}]},"book-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24c0,0,19.131-0.15,46.562-0.068C91.348,24.093,119.761,4.839,120,0.239c0.239,4.6,28.633,23.854,73.438,23.692C220.879,23.857,240,24,240,24V0H0z"}]},"spear-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,0v24H134.698C124.5,24,120,13.04,120,0H240z M0,24h105.302C115.5,24,120,13.04,120,0H0V24z"}]},"arrow-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,24V0H119.98l22.812,24H240z M97.202,24v-0.029L119.971,0H0v24H97.202z"}]},"mountains-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,16.754c0.668-0.888,2.768-2.017,4.017-2.62h0.02c0.024-0.052,0.073-0.052,0.122-0.072c0.02,0,0.02,0,0.048,0c0.029,0,0.073-0.043,0.103-0.043c0.02-0.053,0.02-0.053,0.049-0.053c0.039,0,0.068-0.053,0.122-0.053c1.137-0.508,2.274-1.542,3.407-2.334c1.147-0.813,3.437-2.461,4.579-1.86c1.147,0.624,3.997,2.346,4.958,3.591c0.049,0.043,0.117,0.116,0.166,0.189l0.024,0.055c0.039,0.072,0.117,0.127,0.166,0.209c0.024,0,0.024,0.045,0.054,0.045c0.049,0.072,0.117,0.125,0.176,0.209c0.024,0,0.024,0.045,0.054,0.045c0.059,0.052,0.107,0.136,0.181,0.209c0.02,0,0.02,0.056,0.049,0.056c0.068,0.071,0.151,0.146,0.21,0.221c0.239,0.224,0.478,0.519,0.698,0.729c0.693,0.74,1.333,1.343,1.333,1.343s3.597-2.642,5.715-3.57c1.508-0.655,3.241-2.608,4.368-4.036c0.43-0.53,0.771-0.984,0.981-1.269c0.747-1.046,2.079-2.156,2.47-2.769C34.434,4.361,38.056,0,38.056,0H0V16.754z M38.017,0l2.279,1.87l1.538-0.624c0,0,7.429,7.479,9.347,9.201c0.127,0.126,0.229,0.232,0.361,0.359c0.117,0.127,0.205,0.211,0.308,0.306l0.02,0.053c0,0.053,0.02,0.053,0.02,0.053c1.562,1.542,2.801,3.074,4.617,3.805c2.079,0.821,7.238,8.175,7.238,8.175s0.781-0.603,1.381-0.888c0.049-0.062,0.098-0.062,0.146-0.084h0.024c0.049,0,0.098-0.062,0.146-0.062c0.581-0.212,5.149-5.41,5.149-5.41s1.499,1.468,2.841,1.966c0.049,0,0.098,0.073,0.146,0.096c0.02,0,0.044,0.041,0.073,0.041c0.02,0.062,0.078,0.062,0.127,0.084c0.019,0.063,0.073,0.063,0.092,0.105c0.049,0.042,0.098,0.062,0.146,0.127c0.024,0,0.073,0.042,0.112,0.074c0.039,0.052,0.088,0.072,0.142,0.137c0.049,0.043,0.068,0.096,0.117,0.139c0.049,0.041,0.103,0.104,0.151,0.125c0.049,0.074,0.068,0.097,0.117,0.149c0.073,0.021,0.122,0.04,0.19,0.125c0.054,0.044,0.073,0.085,0.122,0.129c0.068,0.041,0.141,0.138,0.209,0.224c0.049,0.053,0.068,0.084,0.122,0.138c0.107,0.062,0.21,0.211,0.288,0.254c0.02,0.052,0.049,0.052,0.068,0.084c0.849,0.834,1.85,1.892,2.802,2.916c2.016-1.078,4.476-2.251,5.608-2.853c1.918-1.06,3.817-2.644,4.378-3.698c0.498-0.909,2.807-2.155,4.115-2.759l0,0c0.024-0.053,0.073-0.053,0.122-0.073c0.02,0,0.02,0,0.049,0s0.083-0.052,0.103-0.052c0.02-0.055,0.02-0.055,0.049-0.055c0.049,0,0.068-0.063,0.122-0.063c1.138-0.484,2.27-1.521,3.417-2.312c1.152-0.812,3.417-2.45,4.578-1.849c1.137,0.604,3.997,2.334,4.959,3.57c0.049,0.054,0.117,0.127,0.181,0.223l0.02,0.054c0.049,0.073,0.117,0.126,0.17,0.2c0.02,0,0.02,0.052,0.039,0.052c0.049,0.075,0.117,0.14,0.181,0.212c0.02,0,0.02,0.055,0.049,0.055c0.068,0.053,0.117,0.127,0.19,0.201c0.02,0,0.02,0.053,0.049,0.053c0.068,0.084,0.151,0.156,0.21,0.222c0.229,0.222,0.468,0.508,0.678,0.739c0.693,0.719,1.333,1.343,1.333,1.343s3.592-2.642,5.701-3.571c1.513-0.654,3.241-2.608,4.383-4.035c0.429-0.541,0.771-0.995,0.986-1.259c0.742-1.055,2.089-2.154,2.479-2.777c0.391-0.613,3.973-4.702,3.973-4.702l2.294,1.638l1.533-0.612c0,0,7.419,7.479,9.342,9.211c0.146,0.126,0.226,0.221,0.371,0.348c0.116,0.127,0.205,0.211,0.282,0.295l0.039,0.042c0,0.063,0.02,0.063,0.02,0.063c1.562,1.542,2.812,3.063,4.639,3.792c2.049,0.812,7.242,8.155,7.242,8.155s0.801-0.604,1.405-0.889c0.078-0.062,0.116-0.062,0.176-0.097h0.021c0.059,0,0.117-0.052,0.156-0.052c0.586-0.2,5.153-5.397,5.153-5.397s1.503,1.447,2.851,1.965c0.039,0,0.098,0.053,0.137,0.072c0.059,0,0.098,0.062,0.117,0.062c0.02,0.043,0.078,0.043,0.117,0.062c0.02,0.074,0.098,0.074,0.137,0.097c0.039,0.053,0.098,0.085,0.137,0.126c0.039,0,0.098,0.062,0.117,0.105c0.059,0.041,0.098,0.062,0.137,0.125c0.059,0.057,0.078,0.086,0.176,0.129c0.039,0.053,0.117,0.138,0.156,0.181c0.078,0.041,0.098,0.063,0.156,0.127c0.078,0.043,0.137,0.073,0.205,0.159c0.059,0.053,0.078,0.084,0.127,0.137c0.078,0.074,0.156,0.137,0.215,0.223c0.059,0.053,0.078,0.084,0.156,0.127c0.098,0.094,0.195,0.224,0.252,0.284c0.039,0.042,0.06,0.042,0.078,0.063c0.859,0.845,1.875,1.881,2.772,2.927c2.011-1.101,4.472-2.251,5.623-2.862c1.894-1.048,3.826-2.644,4.373-3.679c0.537-0.908,2.812-2.152,4.14-2.756h0.02c0.02-0.053,0.088-0.053,0.146-0.074c0.02,0,0.02,0,0.039,0c0.038,0,0.106-0.062,0.127-0.062c0.02-0.055,0.02-0.055,0.059-0.055s0.059-0.054,0.127-0.054c1.143-0.507,2.273-1.542,3.438-2.333c1.131-0.812,3.444-2.46,4.567-1.849c1.132,0.612,3.974,2.333,4.959,3.582c0.039,0.043,0.146,0.127,0.205,0.201l0.021,0.051c0.039,0.086,0.127,0.141,0.166,0.214c0.039,0,0.039,0.052,0.077,0.052c0.039,0.075,0.146,0.129,0.187,0.202c0.019,0,0.019,0.062,0.058,0.062c0.067,0.055,0.127,0.129,0.205,0.201c0.021,0,0.021,0.053,0.049,0.053c0.099,0.074,0.177,0.158,0.205,0.225c0.205,0.221,0.498,0.506,0.674,0.729c0.664,0.729,1.308,1.341,1.308,1.341s3.623-2.641,5.74-3.567c1.475-0.656,3.213-2.611,4.373-4.026c0.43-0.528,0.723-0.993,0.978-1.268c0.741-1.035,2.089-2.155,2.479-2.768c0.37-0.612,3.963-4.712,3.963-4.712l2.293,1.649l1.523-0.614c0,0,7.391,7.48,9.361,9.191c0.137,0.137,0.215,0.222,0.332,0.358c0.154,0.138,0.214,0.211,0.312,0.307l0.021,0.042c0,0.053,0.02,0.053,0.02,0.053c1.543,1.542,2.792,3.074,4.627,3.801c1.445,0.581,4.237,4.107,5.916,6.34V0H38.017L38.017,0z"}]},"clouds-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0.02,5.098c0.981-0.077,2.09-0.055,3.359,0.066c8.521,1.031,10.649,5.712,10.649,5.712s1.733-0.669,3.75-0.197c1.924,0.471,2.861,2.488,2.861,2.488s0.103-0.481,1.128-0.668c1.03-0.187,1.543,0.187,1.543,0.187s-0.312-1.997,1.25-2.631c1.558-0.669,3.271,0.658,3.271,0.658s0.186-2.773,2.109-3.914c1.919-1.141,4.131,0,4.131,0s0.977-0.472,2.109,0c1.128,0.471,1.699,1.348,1.699,1.348H39.1c0.601,0,1.147,0.658,1.147,0.658s0.43-1.754,3.188-2.116c3.042-0.351,5.044,2.291,6.123,4.221c0.288-0.374,0.771-0.669,1.44-0.844c2.349-0.669,3.618,0.657,3.618,0.657s0.752-4.758,8.872-5.712c8.182-1.042,11.4,3.739,11.4,3.739s0.352-4.572,4.175-5.427c3.838-0.844,6.26,1.744,6.26,1.744s0.43-0.548,1.167-0.844c0.752-0.187,1.641-0.187,1.641-0.187S91.72-2.05,98.702,0.899c6.89,2.949,5.498,8.574,5.498,8.574s1.533-0.833,3.54,0c1.992,0.844,2.832,2.281,2.832,2.281s1.489-1.13,3.77-1.13c2.329,0,4.009,1.108,4.009,1.108s0.02-0.943,0.981-1.612c0.957-0.668,1.748-0.668,1.748-0.668s-0.889-2.949,1.04-5.241c1.919-2.281,4.795-1.337,4.795-1.337s0.978-2.182,3.524-1.03c2.578,1.129,2.295,4.944,2.295,4.944s0.244-0.121,1.23,0.471c0.488,0.351,0.801,0.724,0.967,1.02c0.226-1.337,1.25-5.526,6.797-3.826c6.562,2.006,4.404,8.464,4.404,8.464s0.635-0.36,1.768,0c1.084,0.373,1.104,1.031,1.104,1.031s0.802-1.031,1.886-1.031c1.045,0,1.885,0.472,1.885,0.472s1.133-3.443,5.272-1.141c4.16,2.312,2.638,6.107,2.638,6.107s1.934-2.291,6.494,0c3.28,1.61,4.188,4.681,4.188,4.681s1.875-6.578,7.969-7.521c6.074-0.943,10.508,2.478,10.508,2.478s0.703,0,1.085,0.196c0.37,0.188,0.946,0.834,0.946,0.834s3.397-2.948,7.334,0.209c1.884,1.609,2.05,4.768,2.05,4.768s0.107-1.043,1.211-1.338c1.084-0.264,2.051,0.207,2.051,0.207s-0.264-1.139,0.166-1.818c0.431-0.681,1.515-0.835,1.515-0.835s-5.537-8.901,1.885-12.793c4.57-2.39,8.242,0.844,8.242,0.844s3.457-5.888,13.047-5.888c4.385,0,8.008,1.656,10.625,3.398V0H0"}]},"city-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v23.99l0,0l0.02-1.061l2.28,0.04L2.329,21h1.289l0.02-1.068h1.265v1.008l2.227,0.021v0.819l1.201,0.021v1.739l1.528,0.021v-1.988h1.753l0.02-4.559h1.318v-0.771h1.372l-0.02,0.93h0.547l0.02-1.819h1.68v0.989H17.5l-0.02,5.498h1.001v1.06h1.196l0.024-8.096h1.396v-0.91l3.213,0.021v0.949h1.626l-0.059,7.825l6.572,0.062L32.5,11.445l0.771,0.02v-1.04h1.797v0.91h1.201L36.22,22.551l1.147,0.021l0.054-10.106l0.757,0.01v-1.13h2.231v0.84h0.938l-0.02,6.017h0.991v-1.219h1.03v1.248h0.942v-1.988l5.21,0.02l-0.02,6.017h1.626l0.02-4.009l5.024,0.021v3.669l2.607,0.021l0.02-6.719h0.889v-1.13h1.924l-0.01,1.04l2.036,0.02l-0.02,1.16h1.753l-0.039,5.836h1.147l0.02-4.228h0.732v-1.08l2.007,0.03v1.061h1.25v3.338l4.58,0.021l0.049-12.624h0.552l0.02-3.119h0.859v-1.9l5.093,0.02v1.829h1.528l-0.068,16.634h1.587l0.02-7.606h0.771l0.02-2.208h1.084v1.069h1.318l-0.02,0.78h1.147l-0.029,8.057h0.933v-1.66h1.318l0.02-8.436h0.562l0.527-0.72h1.87v0.86l0.889,0.03l-0.049,9.436l4.492,0.021L99.59,7.986l2.261,0.02l-0.02,1.149h0.547v-0.75l3.413,0.02l-0.01,1.05h1.06l-0.073,12.285h1.323l0.02-3.888h1.03v-1.08h1.367v1.069l1.421,0.031v3.717l2.061,0.021l0.049-9.306h0.723V9.146l4.648,0.02v1.369h1.201l-0.021,6.038l3.169,0.02l0.078-15.204h0.391V0.11h2.783v0.62h1.641l-0.098,16.454h4.141l0.021-6.078l3.175,0.02V6.147l4.608,0.02l-0.021,1.609h1.094l-0.028,3.888h1.317v-1.29h3.027l-0.02,1.37h1.396v2.617h0.819l0.039-9.464l0.819,0.02v-1.85h1.572l2.101,0.02v0.89l1.758,0.03l-0.021,5.468l1.836,0.02v-1.3l2.051,0.02l-0.038,0.91h2.655l-0.039,1.989l0.957,0.02v-0.949h0.898v-1h2.09l-0.039,1.02h1.455v0.65h0.635v2.129l1.045,0.021v-1.38l2.09,0.02v-0.91h0.938v-0.51l2.013,0.03v1.03h1.455v0.99l1.68,0.02v1.229h0.801l-0.02,6.418h0.36v-1.77h0.724l0.02-5.479h0.43v-0.918h1.514v0.86h0.537l-0.039,4.868h0.693l0.039-7.198l4.043,0.02v1.93h0.488v2.22h0.312l-0.039,5.877h1.151v-0.84h0.488l0.021-2.068h0.43l0.039-8.097l3.086,0.02l-0.039,4.897h0.498v3.27l1.367,0.021l-0.021,3.047h0.879v-1.588l1.476,0.02v-0.989l4.979,0.021v-1.06h1.271l-0.021,1.22h1.317v2.809h1.084l0.021-2.578h0.742v-4.118h0.78v-1.679l0.88,0.02l0.547-0.729l1.582,0.05l0.039-8.657h3.28l-0.02,8.776l1.797,0.02l-0.02,6.688h1.045l0.039-8.327h2.852v0.89h2.705l-0.02,3.057l1.309,0.021v-2.299l2.031,0.02l0.02-1.25l1.826,0.02l-0.068,7.447l2.793,0.038l0.039-8.535h0.488v-0.67h2.91l-0.02,1.339l3.242,0.02l-0.06,8.637h1.543v2.617h1.68l0.021-3.117h0.859v-1.291H240V0.01L0,0L0,0z M240,24v-6.547L239.941,24H240z"}]},"triangle-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M119.888,0.24L240,24V0H0v23.971L119.888,0.24z"}]},"pyramids-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M159.961,0L240,23.99V0H159.961z M0,24l57.051-10.216l28.56,7.315L159.961,0H0V24z"}]},"tilt-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24L240,0H0z"}]},"tilt-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v24L240,0H0z"},{fill:"#464D54",d:"M0,0v20.279L240,0H0z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v22.01L240,0H0z"}]},"ray-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v24L240,0H0z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,24h240V0"},{fill:"#464D54","fill-opacity":"0.33",d:"M240,12.393V0L0,24L240,12.393z"}]},"fan-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.25",d:"M240,0H0v24l240-11.26V0z"},{fill:"#464D54",d:"M0,0h240v12.74L0,0z"},{fill:"#464D54","fill-opacity":"0.5",d:"M0,0h240v12.74H0V0z"}]},"swoosh-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,23.368c4.321,0.576,15.532,1.5,30.21-1.188c20.112-3.711,32.138-8.234,51.309-8.315c19.902-0.103,39.072,7.08,63.754,4.057C170.117,14.889,188.203,0,240,0H0V23.368z"}]},"swoosh-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M240,0H0v23.539c4.321,0.414,15.532,1.113,30.21-0.912c20.112-2.798,32.139-6.213,51.309-6.309c19.902-0.073,39.072,3.361,63.754,1.07c24.806-2.301,42.91-15.015,94.707-15.015"},{fill:"#464D54","fill-opacity":"0.33",d:"M240,0H0v23.359c4.321,0.468,15.532,1.25,30.21-0.987c20.112-3.085,32.139-6.827,51.309-6.923c19.902-0.074,39.072,5.874,63.754,3.361c24.806-2.524,42.91-14.867,94.707-14.867"},{fill:"#464D54",d:"M0,23.338c4.321,0.455,15.532,1.241,30.21-0.996c20.112-3.105,32.139-6.871,51.309-6.977c19.902-0.098,39.072,3.699,63.754,1.145C170.117,13.975,188.203,0,240,0H0V23.338z"}]},"waves-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v16.426c4.438-3.019,9.751-5.239,15.889-6.328c17.07-3.109,23.833,6.718,42.48,12.496C84.502,30.713,96.484,1.02,120,1.02c22.075,0,39.648,30.363,63.652,20.895c14.277-5.64,18.574-15.616,38.877-19.845c6.865-1.43,12.628-1.99,17.472-1.15V0H0L0,0z"}]},"waves-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v14.182c3.124-1.22,6.56-2.13,10.27-2.708c17.499-2.73,24.44,5.98,43.547,11.129C80.628,29.842,93.06,3.44,117.158,3.44c22.631,0,40.458,26.955,65.074,18.553c14.645-5.021,19.015-13.912,39.855-17.623c7.049-1.25,12.926-1.79,17.912-1.02V0"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v13.372c3.764-0.791,7.63-1.391,10.323-1.801c17.298-2.74,24.341,5.98,47.129,11.132C89.473,29.934,92.539,4.58,118.224,4.58c24.092,0,45.193,22.971,67.344,14.572c13.188-5.021,19.053-13.632,39.426-17.354C230.469,0.81,235.387,0.3,240,0.48V0"},{fill:"#464D54",d:"M0,0v18.102c4.434-2.317,9.751-4,15.885-4.869c17.067-2.378,23.832,5.16,42.482,9.621C84.5,29.109,96.594,6.26,120.117,6.26c22.078,0,39.531,23.332,63.539,16.063c14.271-4.341,18.572-12.032,38.865-15.242C229.402,5.98,235.171,5.55,240,6.19V0"}]},"hills-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M0,0v8.043c0,0,12.358-4.922,25.488-6.433c13.13-1.51,19.151-1.18,24.81-0.65c14.141,1.291,28.032,4.392,46.23,12.505c7.1,3.082,18.462,7.754,24.121,8.976c5.758,1.25,12.69,1.961,18.121,1.319c2.44-0.26,5.42-0.34,11.953-1.901c6.602-1.479,14.043-4.029,19.12-6.093c9.884-3.951,22.716-5.472,32.169-5.642c20.702-0.54,37.987,7.674,37.987,7.674V0H0z"}]},"hills-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v4.852C5.059,3.421,11.812,1.84,18.75,1.101C32.91-0.43,39.399-0.07,45.532,0.46C60.771,1.8,75.771,4.901,95.39,13.104c7.661,3.111,19.922,7.832,26.021,9.084c6.226,1.229,13.706,1.979,19.565,1.35c2.637-0.26,5.858-0.35,12.891-1.909c7.129-1.541,15.137-4.142,20.625-6.183c10.664-4.011,24.551-5.521,34.697-5.711c12.178-0.28,23.252,2.041,30.811,4.221V0H0z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v7.232c5.112-1.42,12.788-3.231,20.708-4.021C34.6,1.78,40.962,2.13,46.948,2.621c14.951,1.2,29.663,4.061,48.911,11.543c7.51,2.831,19.541,7.162,25.513,8.312c6.099,1.119,13.433,1.799,19.175,1.219c2.598-0.238,5.732-0.34,12.656-1.75c6.973-1.439,14.844-3.771,20.215-5.641c10.449-3.701,24.062-5.062,34.004-5.222c13.242-0.291,25.176,2.34,32.539,4.501V0H0z"},{fill:"#464D54",d:"M50.288,4.321c14.141,1.13,28.032,3.771,46.23,10.684c7.1,2.63,18.462,6.601,24.121,7.672c5.768,1.04,12.69,1.681,18.12,1.109c2.441-0.209,5.421-0.31,11.943-1.619c6.603-1.302,14.043-3.491,19.121-5.212c9.883-3.381,22.715-4.692,32.168-4.822c20.293-0.46,37.305,6.252,37.987,6.553V0H0v10.373c0,0,12.358-4.221,25.488-5.501C38.608,3.551,44.629,3.871,50.288,4.321z"}]},"flow-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M64.819,1.902c17.09,5.936,10.542,23.624,26.831,21.993c14.277-1.422,25.83-15.676,40.079-15.576c10.391,0.08,7.754,7.626,18.789,8.649c11.465,1.101,21.621-6.337,37.178-11.312c19.893-6.417,42.109-6.737,52.305-0.06V0H0v16.327C21.479,2.603,49.629-3.363,64.819,1.902z"}]},"flow-opacity-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54","fill-opacity":"0.33",d:"M0,0v14.873C21.602,4.718,57.48,0.13,71.021,4.278C86.958,9.136,80.64,23.589,96.958,22.37C111.548,21.26,122.5,9.375,137.5,9.415c11.055,0.02,10.098,6.587,21.68,7.487c12.129,0.959,16.992-6.938,36.074-11.436C212.773,1.339,228.613-0.62,240,0.569V0H0z"},{fill:"#464D54","fill-opacity":"0.33",d:"M0,16.672C19.248,5.947,55.752,0.959,69.912,5.138C85.991,9.896,78.481,23.98,94.17,22.789c14.072-1.039,27.822-12.684,42.393-12.653c10.742,0.021,9.16,6.438,20.488,7.316c11.914,0.948,16.875-6.767,34.883-11.155C211.67,1.509,228.799,1.209,240,4.638V0H0"},{fill:"#464D54",d:"M0,0v17.922C21.479,7.057,49.629,2.329,64.819,6.497c17.09,4.708,10.542,18.69,26.831,17.422c14.277-1.119,25.83-12.344,40.079-12.304c10.391,0.05,7.754,6.037,18.789,6.876c11.465,0.858,21.621-5.017,37.178-8.966c19.893-5.097,42.109-5.347,52.305-0.06V0H0z"}]},"step_1_2-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M120,0v24h120V0H120z"}]},"step_2_3-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,0v24h-80V0H240z"}]},"step_3_4-inv":{x:"0px",y:"0px",width:"240px",height:"24px",viewBox:"0 0 240 24","enable-background":"new 0 0 240 24","xml:space":"preserve",preserveAspectRatio:"none",path:[{fill:"#464D54",d:"M240,0v24h-60V0H240z"}]}},e.exports.countdownProps=["countdown-type","countdown-action","countdown-style","countdown-labels","countdown-direction"]}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},i=[],r=0;r<e.length;r++){var a=e[r],l=t.base?a[0]+t.base:a[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=s(d),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:d,updater:g(h,t),references:1}),i.push(d)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,m=0;function g(e,t){var n,i,r;if(t.singleton){var a=m++;n=f||(f=c(t)),i=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=c(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=l(e,t),c=0;c<n.length;c++){var d=s(n[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}n=a}}}},function(e,t){!function(){"use strict";t.getRandomArbitrary=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},t.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t.contains=function(e){var t=e!=e;return(t||"function"!=typeof Array.prototype.indexOf?function(e){var n=-1,i=-1;for(n=0;n<this.length;n++){var r=this[n];if(t&&r!=r||r===e){i=n;break}}return i}:Array.prototype.indexOf).call(this,e)>-1},t.htmlToElement=function(e){var t=document.createElement("template");return t.innerHTML=e,t.content.firstChild},t.custom_base64_encode=function(e){return window.btoa(unescape(encodeURIComponent(e)))},t.custom_base64_decode=function(e){if(!e)return null;return decodeURIComponent(escape(window.atob(e)))},t.debounce=(e,t,n)=>{var i;return()=>{const r=this,a=arguments,o=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,a)}),t),o&&e.apply(r,a)}}}()},,,function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(a).concat([r]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];null!=o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){},function(e,t,n){n(6)(n(21))},function(e,t){e.exports='/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */\n!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,o=/^-ms-/,p=/-([\\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",N="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",O=N.replace("w","w#"),P="\\\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\"|("+O+"))|)"+M+"*\\\\]",Q=":("+N+")(?:\\\\(((\'((?:\\\\\\\\.|[^\\\\\\\\\'])*)\'|\\"((?:\\\\\\\\.|[^\\\\\\\\\\"])*)\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+P+")*)|.*)\\\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\\\]\'\\"]*?)"+M+"*\\\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+M+"*(even|odd|(([+-]|)(\\\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\\\d+)|))"+M+"*\\\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+M+"*((?:-\\\\d)?\\\\d*)"+M+"*\\\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\\d$/i,$=/^[^{]+\\{\\s*\\[native \\w/,_=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ab=/[+~]/,bb=/\'|\\\\/g,cb=new RegExp("\\\\\\\\([\\\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\\\$&"):b.setAttribute("id",s),s="[id=\'"+s+"\'] ",l=o.length;while(l--)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class=\'a\'></div><div class=\'a i\'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=\'\'><option selected=\'\'></option></select>",a.querySelectorAll("[msallowclip^=\'\']").length&&q.push("[*^$]="+M+"*(?:\'\'|\\"\\")"),a.querySelectorAll("[selected]").length||q.push("\\\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!=\'\']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"=\'$1\']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href=\'#\'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,v=/^.[^:#\\[\\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;\nif(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type=\'radio\' checked=\'checked\' name=\'t\'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\\.(.+)|)$/;function ab(){return!0}function bb(){return!1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\\\.)"+p.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\\\.)"+q.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=bb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\\d+="(?:null|\\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\\\s/>]","i"),hb=/^\\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,jb=/<([\\w:]+)/,kb=/<tbody/i,lb=/<|&#?\\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\\s*(?:[^=]|=\\s*.checked.)/i,ob=/^$|\\/(?:java|ecma)script/i,pb=/^true\\/(.*)/,qb=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,rb={option:[1,"<select multiple=\'multiple\'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g)d[g]&&Bb(e,d[g]);if(b)if(c)for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++)Ab(e,d[g]);else Ab(a,f);return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++])ob.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0;if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++)d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Mb=/alpha\\([^)]*\\)/i,Nb=/opacity\\s*=\\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--)if(b=Tb[e]+c,b in a)return b;return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")\n},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jc(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href=\'/a\'>a</a><input type=\'checkbox\'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\\t\\r\\n\\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\\?/,xc=/(,)|(\\[|{)|(}|])|"(?:[^"\\\\\\r\\n]|\\\\["\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\\/\\//,Gc=/^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t)return v;h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\\[\\]$/,Sc=/\\r?\\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vc(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vc(c,a[c],b,e);return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\\r\\n")}}):{name:b.name,value:c.replace(Sc,"\\r\\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc)Xc[a](void 0,!0)}),k.cors=!!Yc&&"withCredentials"in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\\?(?=&|$)|\\?\\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd)return bd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});\n//# sourceMappingURL=jquery.min.map'},function(e,t,n){n(6)(n(23))},function(e,t){e.exports='/*! jQuery UI - v1.10.3 - 2013-05-04\n* http://jqueryui.com\n* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tooltip.js, jquery.ui.effect.js\n* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */\n\n(function(e,t){function i(t,i){var a,n,r,o=t.nodeName.toLowerCase();return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,n=/^ui-id-\\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,a,n=e(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),a=isNaN(s);return(a||s>=0)&&i(t,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function a(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(r,a(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(r,a(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i){var s,a=e.plugins[t];if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;a.length>s;s++)e.options[a[s][0]]&&a[s][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)}})})(jQuery);(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(i,s,n){var a,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),t):(l[i]=n,t)}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(n in r[o])a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,n=e.data(this,a);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,h),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method \'"+r+"\' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method \'"+r+"\'")}):this.each(function(){var t=e.data(this,a);t?t.option(r||{})._init():e.data(this,a,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=n.match(/^(\\w+)\\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,d=/^\\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style=\'display:block;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,m,g,v,b,_=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),k={};return b=n(_),_[0].preventDefault&&(e.at="left top"),p=b.width,m=b.height,g=b.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),a=i(k.at,p,m),v.left+=a[0],v.top+=a[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),b=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,T=d+b+s(this,"marginBottom")+w.height,C=t.extend({},v),M=i(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?C.left-=u:"center"===e.my[0]&&(C.left-=u/2),"bottom"===e.my[1]?C.top-=d:"center"===e.my[1]&&(C.top-=d/2),C.left+=M[0],C.top+=M[1],t.support.offsetFractions||(C.left=h(C.left),C.top=h(C.top)),n={marginLeft:f,marginTop:b},t.each(["left","top"],function(i,s){t.ui.position[x[i]]&&t.ui.position[x[i]][s](C,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:T,offset:[a[0]+M[0],a[1]+M[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(l=function(t){var i=g.left-C.left,s=i+p-u,n=g.top-C.top,a=n+m-d,h={target:{element:_,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:C.left,top:C.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(h.horizontal="center"),d>m&&m>r(n+a)&&(h.vertical="middle"),h.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,h)}),c.offset(t.extend(C,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-o-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-o-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(s=t.top+p+f+m+e.collisionHeight-o-a,t.top+p+f+m>c&&(0>s||r(c)>s)&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-h,t.top+p+f+m>u&&(i>0||u>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);(function(t){var e,i,s,n,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},l=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/\'/g,"\\\\\'"),n=s?t(s).find("[name=\'"+i+"\']"):t("[name=\'"+i+"\']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(d)}),c&&(this.element.bind("change"+this.eventNamespace,function(){n||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(n=!1,i=t.pageX,s=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||s!==t.pageY)&&(n=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||n?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||n)return!1;t(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var e=o.element[0];l(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,o.document.one("mouseup",function(){e=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for=\'"+this.element.attr("id")+"\']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+o+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?l(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class=\'ui-button-icon-primary ui-icon "+s.primary+"\'></span>"),s.secondary&&e.append("<span class=\'ui-button-icon-secondary ui-icon "+s.secondary+"\'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id=\'"+this._mainDivId+"\' class=\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(a.inline?e.parent()[0]:a.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var a,r="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,a;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),a=this._newInst(t(e),n),a.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\\-])/g,"\\\\\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class=\'"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,r,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,a,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=t("<span class=\'"+this._appendClass+"\'>"+r+"</span>"),e[o?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):t("<button type=\'button\'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:n,title:n}):n)),e[o?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,a=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},a.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,a,o){var h,l,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type=\'text\' id=\'"+h+"\' style=\'position: absolute; top: -100px; width: 0px;\'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],r,p)),n(p.settings,a||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,r);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,r),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,r);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),a=t.data(e,r);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,s,a){var r,o,h,l,c=this._getInst(i);return 2===arguments.length&&"string"==typeof s?"defaults"===s?t.extend({},t.datepicker._defaults):c?"all"===s?t.extend({},c.settings):this._get(c,s):null:(r=s||{},"string"==typeof s&&(r={},r[s]=a),c&&(this._curInst===c&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),h=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),n(c.settings,r),null!==h&&r.dateFormat!==e&&r.minDate===e&&(c.settings.minDate=this._formatDate(c,h)),null!==l&&r.dateFormat!==e&&r.maxDate===e&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,o),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,a=t.datepicker._getInst(e.target),r=!0,o=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv),n[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),i=t.datepicker._get(a,"onSelect"),i?(s=t.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var s,n,a=t.datepicker._getInst(i.target);return t.datepicker._get(a,"constrainInput")?(s=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),n=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">n||!s||s.indexOf(n)>-1):e},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,a,r,o,h,l;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),a=s?s.apply(e,[e,i]):{},a!==!1&&(n(i.settings,a),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),o=t.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,a=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),n=s[1],r=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-r:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+o?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+o):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,a,o=this._curInst;!o||e&&o!==t.data(e,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,i,s,n){var a,r=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(a=this._getInst(r[0]),a.selectedDay=a.currentDay=t("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,a=this._get(e,"altField");a&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(a).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,s,n){if(null==i||null==s)throw"Invalid arguments";if(s="object"==typeof s?""+s:s+"",""===s)return null;var a,r,o,h,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,m=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,_=-1,b=-1,y=!1,x=function(t){var e=i.length>a+1&&i.charAt(a+1)===t;return e&&a++,e},k=function(t){var e=x(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\\\d{1,"+i+"}"),a=s.substring(l).match(n);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(i,n,a){var r=-1,o=t.map(x(i)?a:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,i){var n=i[1];return s.substr(l,n.length).toLowerCase()===n.toLowerCase()?(r=i[0],l+=n.length,!1):e}),-1!==r)return r+1;throw"Unknown name at position "+l},D=function(){if(s.charAt(l)!==i.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;i.length>a;a++)if(y)"\'"!==i.charAt(a)||x("\'")?D():y=!1;else switch(i.charAt(a)){case"d":_=k("d");break;case"D":w("D",d,p);break;case"o":b=k("o");break;case"m":v=k("m");break;case"M":v=w("M",f,m);break;case"y":g=k("y");break;case"@":h=new Date(k("@")),g=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();break;case"!":h=new Date((k("!")-this._ticksTo1970)/1e4),g=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();break;case"\'":x("\'")?D():y=!0;break;default:D()}if(s.length>l&&(o=s.substr(l),!/^\\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),b>-1)for(v=1,_=b;;){if(r=this._getDaysInMonth(g,v-1),r>=_)break;v++,_-=r}if(h=this._daylightSavingAdjust(new Date(g,v-1,_)),h.getFullYear()!==g||h.getMonth()+1!==v||h.getDate()!==_)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"\'"!==t.charAt(s)||h("\'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,a);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),r,o);break;case"y":u+=h("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"\'":h("\'")?u+="\'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"\'"!==t.charAt(e)||n("\'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"\'":n("\'")?i+="\'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),a=n,r=this._getFormatConfig(t);try{a=this.parseDate(i,s,r)||n}catch(o){s=e?"":s}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=s?a.getDate():0,t.currentMonth=s?a.getMonth():0,t.currentYear=s?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},a=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,a=n.getFullYear(),r=n.getMonth(),o=n.getDate(),h=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,r));break;case"y":case"Y":a+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(a,r))}l=h.exec(i)}return new Date(a,r,o)},r=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?s:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,a=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),n===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\\\\\/g,"\\\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,a,r,o,h,l,c,u,d,p,f,m,g,v,_,b,y,x,k,w,D,T,C,M,S,N,I,P,A,z,H,E,F,O,W,j,R=new Date,L=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),J=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),Q=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),U=this._get(t,"stepMonths"),q=1!==Q[0]||1!==Q[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),$)for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-Q[0]*Q[1]+1,$.getDate())),e=G&&G>e?G:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-U,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class=\'ui-datepicker-prev ui-corner-all\' data-handler=\'prev\' data-event=\'click\' title=\'"+i+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"\'>"+i+"</span></a>":J?"":"<a class=\'ui-datepicker-prev ui-corner-all ui-state-disabled\' title=\'"+i+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"\'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+U,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,1,te,Z)?"<a class=\'ui-datepicker-next ui-corner-all\' data-handler=\'next\' data-event=\'click\' title=\'"+n+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"\'>"+n+"</span></a>":J?"":"<a class=\'ui-datepicker-next ui-corner-all ui-state-disabled\' title=\'"+n+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"\'>"+n+"</span></a>",r=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?X:L,r=K?this.formatDate(r,o,this._getFormatConfig(t)):r,h=t.inline?"":"<button type=\'button\' class=\'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\' data-handler=\'hide\' data-event=\'click\'>"+this._get(t,"closeText")+"</button>",l=B?"<div class=\'ui-datepicker-buttonpane ui-widget-content\'>"+(Y?h:"")+(this._isInRange(t,o)?"<button type=\'button\' class=\'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\' data-handler=\'today\' data-event=\'click\'>"+r+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;Q[0]>k;k++){for(w="",this.maxRows=4,D=0;Q[1]>D;D++){if(T=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),C=" ui-corner-all",M="",q){if(M+="<div class=\'ui-datepicker-group",Q[1]>1)switch(D){case 0:M+=" ui-datepicker-group-first",C=" ui-corner-"+(Y?"right":"left");break;case Q[1]-1:M+=" ui-datepicker-group-last",C=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",C=""}M+="\'>"}for(M+="<div class=\'ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"\'>"+(/all|left/.test(C)&&0===k?Y?a:s:"")+(/all|right/.test(C)&&0===k?Y?s:a:"")+this._generateMonthYearHeader(t,Z,te,G,$,k>0||D>0,f,m)+"</div><table class=\'ui-datepicker-calendar\'><thead>"+"<tr>",S=u?"<th class=\'ui-datepicker-week-col\'>"+this._get(t,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+c)%7,S+="<th"+((x+c+6)%7>=5?" class=\'ui-datepicker-week-end\'":"")+">"+"<span title=\'"+d[N]+"\'>"+p[N]+"</span></th>";for(M+=S+"</tr></thead><tbody>",I=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),P=(this._getFirstDayOfMonth(te,Z)-c+7)%7,A=Math.ceil((P+I)/7),z=q?this.maxRows>A?this.maxRows:A:A,this.maxRows=z,H=this._daylightSavingAdjust(new Date(te,Z,1-P)),E=0;z>E;E++){for(M+="<tr>",F=u?"<td class=\'ui-datepicker-week-col\'>"+this._get(t,"calculateWeek")(H)+"</td>":"",x=0;7>x;x++)O=g?g.apply(t.input?t.input[0]:null,[H]):[!0,""],W=H.getMonth()!==Z,j=W&&!_||!O[0]||G&&G>H||$&&H>$,F+="<td class=\'"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(H.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===H.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(W&&!v?"":" "+O[1]+(H.getTime()===X.getTime()?" "+this._currentClass:"")+(H.getTime()===L.getTime()?" ui-datepicker-today":""))+"\'"+(W&&!v||!O[2]?"":" title=\'"+O[2].replace(/\'/g,"&#39;")+"\'")+(j?"":" data-handler=\'selectDay\' data-event=\'click\' data-month=\'"+H.getMonth()+"\' data-year=\'"+H.getFullYear()+"\'")+">"+(W&&!v?"&#xa0;":j?"<span class=\'ui-state-default\'>"+H.getDate()+"</span>":"<a class=\'ui-state-default"+(H.getTime()===L.getTime()?" ui-state-highlight":"")+(H.getTime()===X.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"\' href=\'#\'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);M+=F+"</tr>"}Z++,Z>11&&(Z=0,te++),M+="</tbody></table>"+(q?"</div>"+(Q[0]>0&&D===Q[1]-1?"<div class=\'ui-datepicker-row-break\'></div>":""):""),w+=M}y+=w}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,a,r,o){var h,l,c,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class=\'ui-datepicker-title\'>",y="";if(a||!g)y+="<span class=\'ui-datepicker-month\'>"+r[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class=\'ui-datepicker-month\' data-handler=\'selectMonth\' data-event=\'change\'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value=\'"+c+"\'"+(c===e?" selected=\'selected\'":"")+">"+o[c]+"</option>");y+="</select>"}if(_||(b+=y+(!a&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!v)b+="<span class=\'ui-datepicker-year\'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\\-].*/)?d+parseInt(t,10):parseInt(t,10);\nreturn isNaN(e)?d:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class=\'ui-datepicker-year\' data-handler=\'selectYear\' data-event=\'change\'>";m>=f;f++)t.yearshtml+="<option value=\'"+f+"\'"+(f===i?" selected=\'selected\'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!a&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,a)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),r=null,o=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\\-].*/)&&(r+=s),i[1].match(/[+\\-].*/)&&(o+=s)),(!n||e.getTime()>=n.getTime())&&(!a||e.getTime()<=a.getTime())&&(!r||e.getFullYear()>=r)&&(!o||o>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"})(jQuery);(function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class=\'ui-slider-handle ui-state-default ui-corner-all\' href=\'#\'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-a.width()/2,top:e.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})})(jQuery);(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class=\'ui-spinner ui-widget ui-widget-content ui-corner-all\'></span>"},_buttonHtml:function(){return"<a class=\'ui-spinner-button ui-spinner-up ui-corner-tr\'><span class=\'ui-icon "+this.options.icons.up+"\'>&#9650;</span>"+"</a>"+"<a class=\'ui-spinner-button ui-spinner-down ui-corner-br\'>"+"<span class=\'ui-icon "+this.options.icons.down+"\'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,a=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=a),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,s,n){function a(t){l.of=t,o.is(":hidden")||o.position(l)}var o,r,h,l=t.extend({},this.options.position);if(n){if(o=this._find(s),o.length)return o.find(".ui-tooltip-content").html(n),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),o=this._tooltip(s),e(s,o.attr("id")),o.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:a}),a(i)):o.position(t.extend({of:s},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){o.is(":visible")&&(a(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:o}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(o)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),a=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),a.stop(!0),this._hide(a,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:a}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})})(jQuery);(function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[c[l].cache]=o[c[l].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,h=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,o,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,h],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),a=c[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],l=s[a],c=u[n.type]||{};null!==l&&(null===o?h[a]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),h[a]=i((l-o)*e+o,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[o]=d,n):l(d)},f(a,function(e,i){l.fn[e]||(l.fn[e]=function(n){var a,o=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=l(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var h=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()})(jQuery);'},function(e,t,n){n(6)(n(25))},function(e,t){e.exports='if(function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method \'"+g+"\' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method \'"+g+"\'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\\w+)\\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&b+c>a}function d(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||d(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d&&(!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e))?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var b="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=b&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1):!1},_intersectsWithSides:function(a){var b=c(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=c(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&b||"up"===e&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||d(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||c(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),Math.abs(l-k)<g&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(b,h,null,!0):this._rearrange(b,null,this.containers[p].element,!0),this._trigger("change",b,this._uiHash()),this.containers[p]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",b,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);\n},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class=\'ui-draggable-iframeFix\' style=\'background: #fff;\'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];b<c.length;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,b,d){if(!b.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.width,j=h+a.helperProportions.height,k=b.offset.left,l=b.offset.top,m=k+b.proportions().width,n=l+b.proportions().height;switch(d){case"fit":return g>=k&&m>=i&&h>=l&&n>=j;case"intersect":return k<g+a.helperProportions.width/2&&i-a.helperProportions.width/2<m&&l<h+a.helperProportions.height/2&&j-a.helperProportions.height/2<n;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,c(f,l,b.proportions().height)&&c(e,k,b.proportions().width);case"touch":return(h>=l&&n>=h||j>=l&&n>=j||l>h&&j>n)&&(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\\+\\-]\\d+(\\.[\\d]+)?%?/,m=/^\\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style=\'display:block;position:absolute;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());\n"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&h(c+d)<n&&(i.horizontal="center"),m>p&&h(e+f)<p&&(i.vertical="middle"),g(h(c),h(d))>g(h(e),h(f))?i.important="horizontal":i.important="vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):j>0&&0>=i?a.left=e:i>j?a.left=e+f-b.collisionWidth:a.left=e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):j>0&&0>=i?a.top=e:i>j?a.top=e+f-b.collisionHeight:a.top=e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a,b){var c,d="ui-button ui-widget ui-state-default ui-corner-all",e="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},g=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/\'/g,"\\\\\'"),e=d?a(d).find("[name=\'"+c+"\']"):a("[name=\'"+c+"\']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,e=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===e.label&&(e.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){e.disabled||this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){e.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){e.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return e.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(e.disabled)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];g(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return e.disabled?!1:(a(this).addClass("ui-state-active"),c=this,void b.document.one("mouseup",function(){c=null}))}).bind("mouseup"+this.eventNamespace,function(){return e.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return e.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",e.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for=\'"+this.element.attr("id")+"\']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+e).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.element.prop("disabled",!!b),void(b&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?g(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(e),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,f=d.primary&&d.secondary,g=[];d.primary||d.secondary?(this.options.text&&g.push("ui-button-text-icon"+(f?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class=\'ui-button-icon-primary ui-icon "+d.primary+"\'></span>"),d.secondary&&b.append("<span class=\'ui-button-icon-secondary ui-icon "+d.secondary+"\'></span>"),this.options.text||(g.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id=\'"+this._mainDivId+"\' class=\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\\-])/g,"\\\\\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class=\'"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class=\'"+this._appendClass+"\'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type=\'button\'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type=\'text\' id=\'"+i+"\' style=\'position: absolute; top: -100px; width: 0px;\'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),void(k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=new RegExp("^\\\\d{1,"+d+"}"),f=c.substring(i).match(e);if(!f)throw"Missing number at position "+i;return i+=f[0].length,parseInt(f[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"\'"!==b.charAt(e)||u("\'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"\'":u("\'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),f>=r)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;\nif(b)for(d=0;d<a.length;d++)if(m)"\'"!==a.charAt(d)||i("\'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"\'":i("\'")?l+="\'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"\'"!==a.charAt(b)||e("\'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"\'":e("\'")?c+="\'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\\-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\\\\\/g,"\\\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(0>_&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,0>_&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class=\'ui-datepicker-prev ui-corner-all\' data-handler=\'prev\' data-event=\'click\' title=\'"+c+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"\'>"+c+"</span></a>":S?"":"<a class=\'ui-datepicker-prev ui-corner-all ui-state-disabled\' title=\'"+c+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"\'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class=\'ui-datepicker-next ui-corner-all\' data-handler=\'next\' data-event=\'click\' title=\'"+e+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"\'>"+e+"</span></a>":S?"":"<a class=\'ui-datepicker-next ui-corner-all ui-state-disabled\' title=\'"+e+"\'><span class=\'ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"\'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type=\'button\' class=\'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\' data-handler=\'hide\' data-event=\'click\'>"+this._get(a,"closeText")+"</button>",j=R?"<div class=\'ui-datepicker-buttonpane ui-widget-content\'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type=\'button\' class=\'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\' data-handler=\'today\' data-event=\'click\'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class=\'ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="\'>"}for(B+="<div class=\'ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"\'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class=\'ui-datepicker-calendar\'><thead><tr>",C=l?"<th class=\'ui-datepicker-week-col\'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class=\'ui-datepicker-week-end\'":"")+"><span title=\'"+m[D]+"\'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class=\'ui-datepicker-week-col\'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class=\'"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"\'"+(M&&!r||!L[2]?"":" title=\'"+L[2].replace(/\'/g,"&#39;")+"\'")+(N?"":" data-handler=\'selectDay\' data-event=\'click\' data-month=\'"+I.getMonth()+"\' data-year=\'"+I.getFullYear()+"\'")+">"+(M&&!r?"&#xa0;":N?"<span class=\'ui-state-default\'>"+I.getDate()+"</span>":"<a class=\'ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"\' href=\'#\'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class=\'ui-datepicker-row-break\'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class=\'ui-datepicker-title\'>",u="";if(f||!q)u+="<span class=\'ui-datepicker-month\'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class=\'ui-datepicker-month\' data-handler=\'selectMonth\' data-event=\'change\'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value=\'"+k+"\'"+(k===b?" selected=\'selected\'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class=\'ui-datepicker-year\'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class=\'ui-datepicker-year\' data-handler=\'selectYear\' data-event=\'change\'>";p>=o;o++)a.yearshtml+="<option value=\'"+o+"\'"+(o===c?" selected=\'selected\'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\\-].*/)&&(g+=d),c[1].match(/[+\\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.4"}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class=\'ui-slider-handle ui-state-default ui-corner-all\' href=\'#\'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class=\'ui-spinner ui-widget ui-widget-content ui-corner-all\'></span>"},_buttonHtml:function(){return"<a class=\'ui-spinner-button ui-spinner-up ui-corner-tr\'><span class=\'ui-icon "+this.options.icons.up+"\'>&#9650;</span></a><a class=\'ui-spinner-button ui-spinner-down ui-corner-br\'><span class=\'ui-icon "+this.options.icons.down+"\'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,i=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,\nparse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.4",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind("touchstart",a.proxy(b,"_touchStart")).bind("touchmove",a.proxy(b,"_touchMove")).bind("touchend",a.proxy(b,"_touchEnd")),e.call(b)}}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap\'s JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap\'s JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c=\'[data-dismiss="alert"]\',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.1",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.1",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest(\'[data-toggle="buttons"]\');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",\'[data-toggle^="button"]\',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",\'[data-toggle^="button"]\',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c="prev"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[i]()}if(f.hasClass("active"))return this.sliding=!1;var k=f[0],l=a.Event("slide.bs.carousel",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass("active")}var n=a.Event("slid.bs.carousel",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a(\'[data-ride="carousel"]\').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter(\'[href="#\'+b.id+\'"], [data-target="#\'+b.id+\'"]\'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.1",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:\'[data-toggle="collapse"]\'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find(\'[data-toggle="collapse"][data-parent="\'+this.options.parent+\'"]\').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",\'[data-toggle="collapse"]\',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f=\'[data-toggle="dropdown"]\',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.1",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(\'<div class="dropdown-backdrop"/>\').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find(\'[role="menu"]\'+h+\', [role="listbox"]\'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",\'[role="menu"]\',g.prototype.keydown).on("keydown.bs.dropdown.data-api",\'[role="listbox"]\',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.1",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",\'[data-dismiss="modal"]\',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.options.backdrop&&d.adjustBackdrop(),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(\'<div class="modal-backdrop \'+e+\'" />\').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},c.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",\'[data-toggle="modal"]\',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.tooltip",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,\nc.DEFAULTS={animation:!0,placement:"top",selector:!1,template:\'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.popover",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.1",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:\'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.1",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+\'[data-target="\'+b+\'"],\'+this.selector+\'[href="\'+b+\'"]\',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a(\'[data-spy="scroll"]\').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.1",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find(\'[data-toggle="tab"]\').attr("aria-expanded",!1),b.addClass("active").find(\'[data-toggle="tab"]\').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find(\'[data-toggle="tab"]\').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",\'[data-toggle="tab"]\',e).on("click.bs.tab.data-api",\'[data-toggle="pill"]\',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.1",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a(\'[data-spy="affix"]\').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(){var a=[].slice;!function(b,c){"use strict";var d;return d=function(){function a(a,c){null==c&&(c={}),this.$element=b(a),this.options=b.extend({},b.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class"),radioAllOff:this.$element.data("radio-all-off")},c),this.$wrapper=b("<div>",{"class":function(a){return function(){var b;return b=[""+a.options.baseClass].concat(a._getClasses(a.options.wrapperClass)),b.push(a.options.state?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),null!=a.options.size&&b.push(""+a.options.baseClass+"-"+a.options.size),a.options.animate&&b.push(""+a.options.baseClass+"-animate"),a.options.disabled&&b.push(""+a.options.baseClass+"-disabled"),a.options.readonly&&b.push(""+a.options.baseClass+"-readonly"),a.options.indeterminate&&b.push(""+a.options.baseClass+"-indeterminate"),a.$element.attr("id")&&b.push(""+a.options.baseClass+"-id-"+a.$element.attr("id")),b.join(" ")}}(this)()}),this.$container=b("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=b("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=b("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=b("<label>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this.$element.on("init.bootstrapSwitch",function(b){return function(){return b.options.onInit.apply(a,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(b){return function(){return b.options.onSwitchChange.apply(a,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.$on).before(this.$label).before(this.$off).trigger("init.bootstrapSwitch"),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler()}return a.prototype._constructor=a,a.prototype.state=function(a,b){return"undefined"==typeof a?this.options.state:this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(a=!!a,this.$element.prop("checked",a).trigger("change.bootstrapSwitch",b),this.$element)},a.prototype.toggleState=function(a){return this.options.disabled||this.options.readonly||this.options.indeterminate?this.$element:this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",a)},a.prototype.size=function(a){return"undefined"==typeof a?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),a&&this.$wrapper.addClass(""+this.options.baseClass+"-"+a),this.options.size=a,this.$element)},a.prototype.animate=function(a){return"undefined"==typeof a?this.options.animate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-animate"),this.options.animate=a,this.$element)},a.prototype.disabled=function(a){return"undefined"==typeof a?this.options.disabled:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-disabled"),this.$element.prop("disabled",a),this.options.disabled=a,this.$element)},a.prototype.toggleDisabled=function(){return this.$element.prop("disabled",!this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.options.disabled=!this.options.disabled,this.$element},a.prototype.readonly=function(a){return"undefined"==typeof a?this.options.readonly:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-readonly"),this.$element.prop("readonly",a),this.options.readonly=a,this.$element)},a.prototype.toggleReadonly=function(){return this.$element.prop("readonly",!this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.options.readonly=!this.options.readonly,this.$element},a.prototype.indeterminate=function(a){return"undefined"==typeof a?this.options.indeterminate:(a=!!a,this.$wrapper[a?"addClass":"removeClass"](""+this.options.baseClass+"-indeterminate"),this.$element.prop("indeterminate",a),this.options.indeterminate=a,this.$element)},a.prototype.toggleIndeterminate=function(){return this.$element.prop("indeterminate",!this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this.options.indeterminate=!this.options.indeterminate,this.$element},a.prototype.onColor=function(a){var b;return b=this.options.onColor,"undefined"==typeof a?b:(null!=b&&this.$on.removeClass(""+this.options.baseClass+"-"+b),this.$on.addClass(""+this.options.baseClass+"-"+a),this.options.onColor=a,this.$element)},a.prototype.offColor=function(a){var b;return b=this.options.offColor,"undefined"==typeof a?b:(null!=b&&this.$off.removeClass(""+this.options.baseClass+"-"+b),this.$off.addClass(""+this.options.baseClass+"-"+a),this.options.offColor=a,this.$element)},a.prototype.onText=function(a){return"undefined"==typeof a?this.options.onText:(this.$on.html(a),this.options.onText=a,this.$element)},a.prototype.offText=function(a){return"undefined"==typeof a?this.options.offText:(this.$off.html(a),this.options.offText=a,this.$element)},a.prototype.labelText=function(a){return"undefined"==typeof a?this.options.labelText:(this.$label.html(a),this.options.labelText=a,this.$element)},a.prototype.baseClass=function(a){return this.options.baseClass},a.prototype.wrapperClass=function(a){return"undefined"==typeof a?this.options.wrapperClass:(a||(a=b.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(a).join(" ")),this.options.wrapperClass=a,this.$element)},a.prototype.radioAllOff=function(a){return"undefined"==typeof a?this.options.radioAllOff:(this.options.radioAllOff=a,this.$element)},a.prototype.onInit=function(a){return"undefined"==typeof a?this.options.onInit:(a||(a=b.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=a,this.$element)},a.prototype.onSwitchChange=function(a){return"undefined"==typeof a?this.options.onSwitchChange:(a||(a=b.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=a,this.$element)},a.prototype.destroy=function(){var a;return a=this.$element.closest("form"),a.length&&a.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},a.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(a){return function(c,d){var e;return c.preventDefault(),c.stopImmediatePropagation(),e=a.$element.is(":checked"),e!==a.options.state?(a.options.state=e,a.$wrapper.removeClass(e?""+a.options.baseClass+"-off":""+a.options.baseClass+"-on").addClass(e?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),d?void 0:(a.$element.is(":radio")&&b("[name=\'"+a.$element.attr("name")+"\']").not(a.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),a.$element.trigger("switchChange.bootstrapSwitch",[e]))):void 0}}(this),"focus.bootstrapSwitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.addClass(""+a.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.removeClass(""+a.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(a){return function(b){if(b.which&&!a.options.disabled&&!a.options.readonly&&!a.options.indeterminate)switch(b.which){case 37:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!1);case 39:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!0)}}}(this)})},a.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(a){return function(b){return a.state(!1),a.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(a){return function(b){return a.state(!0),a.$element.trigger("focus.bootstrapSwitch")}}(this))},a.prototype._labelHandlers=function(){return this.$label.on({"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(a){return function(b){var c,d,e,f;if(a.isLabelDragging)return b.preventDefault(),a.isLabelDragged=!0,d=b.pageX||b.originalEvent.touches[0].pageX,e=(d-a.$wrapper.offset().left)/a.$wrapper.width()*100,c=25,f=75,a.options.animate&&a.$wrapper.removeClass(""+a.options.baseClass+"-animate"),c>e?e=c:e>f&&(e=f),a.$container.css("margin-left",""+(e-f)+"%"),a.$element.trigger("focus.bootstrapSwitch")}}(this),"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(a){return function(b){return a.isLabelDragging||a.options.disabled||a.options.readonly||a.options.indeterminate?void 0:(b.preventDefault(),a.isLabelDragging=!0,a.$element.trigger("focus.bootstrapSwitch"))}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(a){return function(b){return a.isLabelDragging?(b.preventDefault(),a.isLabelDragged?(a.isLabelDragged=!1,a.state(parseInt(a.$container.css("margin-left"),10)>-(a.$container.width()/6)),a.options.animate&&a.$wrapper.addClass(""+a.options.baseClass+"-animate"),a.$container.css("margin-left","")):a.state(!a.options.state),a.isLabelDragging=!1):void 0}}(this),"mouseleave.bootstrapSwitch":function(a){return function(b){return a.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},a.prototype._formHandler=function(){var a;return a=this.$element.closest("form"),a.data("bootstrap-switch")?void 0:a.on("reset.bootstrapSwitch",function(){return c.setTimeout(function(){return a.find("input").filter(function(){return b(this).data("bootstrap-switch")}).each(function(){return b(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},a.prototype._getClasses=function(a){var c,d,e,f;if(!b.isArray(a))return[""+this.options.baseClass+"-"+a];for(d=[],e=0,f=a.length;f>e;e++)c=a[e],d.push(""+this.options.baseClass+"-"+c);return d},a}(),b.fn.bootstrapSwitch=function(){var c,e,f;return e=arguments[0],c=2<=arguments.length?a.call(arguments,1):[],f=this,this.each(function(){var a,g;return a=b(this),g=a.data("bootstrap-switch"),g||a.data("bootstrap-switch",g=new d(this,e)),"string"==typeof e?f=g[e].apply(g,c):void 0}),f},b.fn.bootstrapSwitch.Constructor=d,b.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",baseClass:"bootstrap-switch",wrapperClass:"wrapper",radioAllOff:!1,onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(a){"use strict";function b(b,c){this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a(\'<div class="bootstrap-tagsinput"></div>\'),this.$input=a(\'<input type="text" placeholder="\'+this.placeholderText+\'"/>\').appendTo(this.$container),this.$element.after(this.$container);var d=(this.inputSize<3?3:this.inputSize)+"em";this.$input.get(0).style.cssText="width: "+d+" !important;",this.build(c)}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};b.prototype={constructor:b,add:function(b,c){var d=this;if(!(d.options.maxTags&&d.itemsArray.length>=d.options.maxTags)&&(b===!1||b)){if("string"==typeof b&&d.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!d.objectItems)throw"Can\'t add objects when itemValue option is not set";if(!b.toString().match(/^\\s*$/)){if(d.isSelect&&!d.multiple&&d.itemsArray.length>0&&d.remove(d.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var f=b.split(",");if(f.length>1){for(var g=0;g<f.length;g++)this.add(f[g],!0);return void(c||d.pushVal())}}var h=d.options.itemValue(b),i=d.options.itemText(b),j=d.options.tagClass(b),k=a.grep(d.itemsArray,function(a){return d.options.itemValue(a)===h})[0];if(!k||d.options.allowDuplicates){if(!(d.items().toString().length+b.length+1>d.options.maxInputLength)){var l=a.Event("beforeItemAdd",{item:b,cancel:!1});if(d.$element.trigger(l),!l.cancel){d.itemsArray.push(b);var m=a(\'<span class="tag \'+e(j)+\'">\'+e(i)+\'<span data-role="remove"></span></span>\');if(m.data("item",b),d.findInputWrapper().before(m),m.after(" "),d.isSelect&&!a(\'option[value="\'+encodeURIComponent(h)+\'"]\',d.$element)[0]){var n=a("<option selected>"+e(i)+"</option>");n.data("item",b),n.attr("value",h),d.$element.append(n)}c||d.pushVal(),(d.options.maxTags===d.itemsArray.length||d.items().toString().length===d.options.maxInputLength)&&d.$container.addClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemAdded",{item:b}))}}}else if(d.options.onTagExists){var o=a(".tag",d.$container).filter(function(){return a(this).data("item")===k});d.options.onTagExists(b,o)}}}},remove:function(b,c){var d=this;if(d.objectItems&&(b="object"==typeof b?a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==d.options.itemValue(b)}):a.grep(d.itemsArray,function(a){return d.options.itemValue(a)==b}),b=b[b.length-1]),b){var e=a.Event("beforeItemRemove",{item:b,cancel:!1});if(d.$element.trigger(e),e.cancel)return;a(".tag",d.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",d.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,d.itemsArray)&&d.itemsArray.splice(a.inArray(b,d.itemsArray),1)}c||d.pushVal(),d.options.maxTags>d.itemsArray.length&&d.$container.removeClass("bootstrap-tagsinput-max"),d.$element.trigger(a.Event("itemRemoved",{item:b}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString();\n});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),d(e.options,"tagClass"),e.options.typeahead){var i=e.options.typeahead||{};d(i,"source"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){e.add(this.map[a])},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var j=e.options.typeaheadjs||{};e.$input.typeahead(null,j).on("typeahead:selected",a.proxy(function(a,b){j.valueKey?e.add(b[j.valueKey]):e.add(b),e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(a){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val(""),b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d){var e=[];return this.each(function(){var f=a(this).data("tagsinput");if(f)if(c||d){if(void 0!==f[c]){var g=f[c](d);void 0!==g&&e.push(g)}}else e.push(f);else f=new b(this,c),a(this).data("tagsinput",f),e.push(f),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?e.length>1?e:e[0]:e},a.fn.tagsinput.Constructor=b;var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),!function(a,b,c){b[a]=c}("onDomReady",this,function(a){"use strict";function b(a){if(!v){if(!g.body)return e(b);for(v=!0;a=w.shift();)e(a)}}function c(a){(t||a.type===i||g[m]===l)&&(d(),b())}function d(){t?(g[s](q,c,j),a[s](i,c,j)):(g[o](r,c),a[o](k,c))}function e(a,b){setTimeout(a,+b>=0?b:1)}function f(a){v?e(a):w.push(a)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function y(){document.removeEventListener("DOMContentLoaded",y,!1),document.readyState="complete"},!1),document.readyState="loading");var g=a.document,h=g.documentElement,i="load",j=!1,k="on"+i,l="complete",m="readyState",n="attachEvent",o="detachEvent",p="addEventListener",q="DOMContentLoaded",r="onreadystatechange",s="removeEventListener",t=p in g,u=j,v=j,w=[];if(g[m]===l)e(b);else if(t)g[p](q,c,j),a[p](i,c,j);else{g[n](r,c),a[n](k,c);try{u=null==a.frameElement&&h}catch(x){}u&&u.doScroll&&!function z(){if(!v){try{u.doScroll("left")}catch(a){return e(z,50)}d(),b()}}()}return f.version="1.4.0",f.isReady=function(){return v},f}(this)),document.querySelectorAll||(document.querySelectorAll=function(a){var b,c=document.createElement("style"),d=[];for(document.documentElement.firstChild.appendChild(c),document._qsa=[],c.styleSheet.cssText=a+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),c.parentNode.removeChild(c);document._qsa.length;)b=document._qsa.shift(),b.style.removeAttribute("x-qsa"),d.push(b);return document._qsa=null,d}),document.querySelector||(document.querySelector=function(a){var b=document.querySelectorAll(a);return b.length?b[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(a){return a=String(a).replace(/^|\\s+/g,"."),document.querySelectorAll(a)}),Object.keys||(Object.keys=function(a){if(a!==Object(a))throw TypeError("Object.keys called on non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}),function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.atob=a.atob||function(a){a=String(a);var c,d=0,e=[],f=0,g=0;if(a=a.replace(/\\s/g,""),a.length%4===0&&(a=a.replace(/=+$/,"")),a.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)c=b.indexOf(a.charAt(d)),f=f<<6|c,g+=6,24===g&&(e.push(String.fromCharCode(f>>16&255)),e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(255&f)),g=0,f=0),d+=1;return 12===g?(f>>=4,e.push(String.fromCharCode(255&f))):18===g&&(f>>=2,e.push(String.fromCharCode(f>>8&255)),e.push(String.fromCharCode(255&f))),e.join("")},a.btoa=a.btoa||function(a){a=String(a);var c,d,e,f,g,h,i,j=0,k=[];if(/[^\\x00-\\xFF]/.test(a))throw Error("InvalidCharacterError");for(;j<a.length;)c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=a.charCodeAt(j++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,j===a.length+2?(h=64,i=64):j===a.length+1&&(i=64),k.push(b.charAt(f),b.charAt(g),b.charAt(h),b.charAt(i));return k.join("")}}(this),function(){function a(b,c,d){b.document;var e,f=b.currentStyle[c].match(/([\\d\\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],g=f[1],h=f[2];return d=d?/%|em/.test(h)&&b.parentElement?a(b.parentElement,"fontSize",null):16:d,e="fontSize"==c?d:/width/i.test(c)?b.clientWidth:b.clientHeight,"%"==h?g/100*e:"cm"==h?.3937*g*96:"em"==h?g*d:"in"==h?96*g:"mm"==h?.3937*g*96/10:"pc"==h?12*g*96/72:"pt"==h?96*g/72:g}function b(a,b){var c="border"==b?"Width":"",d=b+"Top"+c,e=b+"Right"+c,f=b+"Bottom"+c,g=b+"Left"+c;a[b]=(a[d]==a[e]&&a[d]==a[f]&&a[d]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(" ")}function c(c){var d,e=this,f=c.currentStyle,g=a(c,"fontSize"),h=function(a){return"-"+a.toLowerCase()};for(d in f)if(Array.prototype.push.call(e,"styleFloat"==d?"float":d.replace(/[A-Z]/,h)),"width"==d)e[d]=c.offsetWidth+"px";else if("height"==d)e[d]=c.offsetHeight+"px";else if("styleFloat"==d)e["float"]=f[d];else if(/margin.|padding.|border.+W/.test(d)&&"auto"!=e[d])e[d]=Math.round(a(c,d,g))+"px";else if(/^outline/.test(d))try{e[d]=f[d]}catch(i){e.outlineColor=f.color,e.outlineStyle=e.outlineStyle||"none",e.outlineWidth=e.outlineWidth||"0px",e.outline=[e.outlineColor,e.outlineWidth,e.outlineStyle].join(" ")}else e[d]=f[d];b(e,"margin"),b(e,"padding"),b(e,"border"),e.fontSize=Math.round(g)+"px"}window.getComputedStyle||(c.prototype={constructor:c,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(a){var b=a.replace(/-([a-z])/g,function(a){return a=a.charAt?a.split(""):a,a[1].toUpperCase()}),c=this[b];return c},item:function(a){return this[a]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=function(a){return new c(a)})}(),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),function(a,b){a.augment=b()}(this,function(){"use strict";var a=function(){},b=Array.prototype.slice,c=function(c,d){var e=a.prototype="function"==typeof c?c.prototype:c,f=new a,g=d.apply(f,b.call(arguments,2).concat(e));if("object"==typeof g)for(var h in g)f[h]=g[h];if(!f.hasOwnProperty("constructor"))return f;var i=f.constructor;return i.prototype=f,i};return c.defclass=function(a){var b=a.constructor;return b.prototype=a,b},c.extend=function(a,b){return c(a,function(a){return this.uber=a,b})},c}),function(a,b){function c(a,b,c,f){var g=d(c.substr(c.lastIndexOf(a.domain)),a);g&&e(null,f,g,b)}function d(a,b){for(var c={theme:p(A.settings.themes.gray,null),stylesheets:b.stylesheets,holderURL:[]},d=!1,e=String.fromCharCode(11),f=a.replace(/([^\\\\])\\//g,"$1"+e).split(e),g=/%[0-9a-f]{2}/gi,h=f.length,i=0;h>i;i++){var j=f[i];if(j.match(g))try{j=decodeURIComponent(j)}catch(k){j=f[i]}var l=!1;if(A.flags.dimensions.match(j))d=!0,c.dimensions=A.flags.dimensions.output(j),l=!0;else if(A.flags.fluid.match(j))d=!0,c.dimensions=A.flags.fluid.output(j),c.fluid=!0,l=!0;else if(A.flags.textmode.match(j))c.textmode=A.flags.textmode.output(j),l=!0;else if(A.flags.colors.match(j)){var m=A.flags.colors.output(j);c.theme=p(c.theme,m),l=!0}else if(b.themes[j])b.themes.hasOwnProperty(j)&&(c.theme=p(b.themes[j],null)),l=!0;else if(A.flags.font.match(j))c.font=A.flags.font.output(j),l=!0;else if(A.flags.auto.match(j))c.auto=!0,l=!0;else if(A.flags.text.match(j))c.text=A.flags.text.output(j),l=!0;else if(A.flags.random.match(j)){null==A.vars.cache.themeKeys&&(A.vars.cache.themeKeys=Object.keys(b.themes));var n=A.vars.cache.themeKeys[0|Math.random()*A.vars.cache.themeKeys.length];c.theme=p(b.themes[n],null),l=!0}l&&c.holderURL.push(j)}return c.holderURL.unshift(b.domain),c.holderURL=c.holderURL.join("/"),d?c:!1}function e(a,b,c,d){var e=c.dimensions,g=c.theme,h=e.width+"x"+e.height;if(a=null==a?c.fluid?"fluid":"image":a,null!=c.text&&(g.text=c.text,"object"===b.nodeName.toLowerCase())){for(var j=g.text.split("\\\\n"),l=0;l<j.length;l++)j[l]=v(j[l]);g.text=j.join("\\\\n")}var n=c.holderURL,o=p(d,null);c.font&&(g.font=c.font,!o.noFontFallback&&"img"===b.nodeName.toLowerCase()&&A.setup.supportsCanvas&&"svg"===o.renderer&&(o=p(o,{renderer:"canvas"}))),c.font&&"canvas"==o.renderer&&(o.reRender=!0),"background"==a?null==b.getAttribute("data-background-src")&&m(b,{"data-background-src":n}):m(b,{"data-src":n}),c.theme=g,b.holderData={flags:c,renderSettings:o},("image"==a||"fluid"==a)&&m(b,{alt:g.text?(g.text.length>16?g.text.substring(0,16)+"":g.text)+" ["+h+"]":h}),"image"==a?("html"!=o.renderer&&c.auto||(b.style.width=e.width+"px",b.style.height=e.height+"px"),"html"==o.renderer?b.style.backgroundColor=g.background:(f(a,{dimensions:e,theme:g,flags:c},b,o),c.textmode&&"exact"==c.textmode&&(A.vars.resizableImages.push(b),i(b)))):"background"==a&&"html"!=o.renderer?f(a,{dimensions:e,theme:g,flags:c},b,o):"fluid"==a&&("%"==e.height.slice(-1)?b.style.height=e.height:null!=c.auto&&c.auto||(b.style.height=e.height+"px"),"%"==e.width.slice(-1)?b.style.width=e.width:null!=c.auto&&c.auto||(b.style.width=e.width+"px"),("inline"==b.style.display||""===b.style.display||"none"==b.style.display)&&(b.style.display="block"),k(b),"html"==o.renderer?b.style.backgroundColor=g.background:(A.vars.resizableImages.push(b),i(b)))}function f(a,b,c,d){function e(){var a=null;switch(d.renderer){case"canvas":a=C(i);break;case"svg":a=D(i,d);break;default:throw"Holder: invalid renderer: "+d.renderer}return a}var f=null;switch(d.renderer){case"svg":if(!A.setup.supportsSVG)return;break;case"canvas":if(!A.setup.supportsCanvas)return;break;default:return}var h={width:b.dimensions.width,height:b.dimensions.height,theme:b.theme,flags:b.flags},i=g(h);if({text:h.text,width:h.width,height:h.height,textHeight:h.font.size,font:h.font.family,fontWeight:h.font.weight,template:h.theme},f=e(),null==f)throw"Holder: couldn\'t render placeholder";"background"==a?(c.style.backgroundImage="url("+f+")",c.style.backgroundSize=h.width+"px "+h.height+"px"):("img"===c.nodeName.toLowerCase()?m(c,{src:f}):"object"===c.nodeName.toLowerCase()&&(m(c,{data:f}),m(c,{type:"image/svg+xml"})),d.reRender&&setTimeout(function(){var a=e();if(null==a)throw"Holder: couldn\'t render placeholder";"img"===c.nodeName.toLowerCase()?m(c,{src:a}):"object"===c.nodeName.toLowerCase()&&(m(c,{data:a}),m(c,{type:"image/svg+xml"}))},100)),m(c,{"data-holder-rendered":!0})}function g(a){function b(a,b,c,d){b.width=c,b.height=d,a.width=Math.max(a.width,b.width),a.height+=b.height,a.add(b)}switch(a.font={family:a.theme.font?a.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:h(a.width,a.height,a.theme.size?a.theme.size:A.defaults.size),units:a.theme.units?a.theme.units:A.defaults.units,weight:a.theme.fontweight?a.theme.fontweight:"bold"},a.text=a.theme.text?a.theme.text:Math.floor(a.width)+"x"+Math.floor(a.height),a.flags.textmode){case"literal":a.text=a.flags.dimensions.width+"x"+a.flags.dimensions.height;break;case"exact":if(!a.flags.exactDimensions)break;a.text=Math.floor(a.flags.exactDimensions.width)+"x"+Math.floor(a.flags.exactDimensions.height)}var c=new E({width:a.width,height:a.height}),d=c.Shape,e=new d.Rect("holderBg",{fill:a.theme.background});e.resize(a.width,a.height),c.root.add(e);var f=new d.Group("holderTextGroup",{text:a.text,align:"center",font:a.font,fill:a.theme.foreground});f.moveTo(null,null,1),c.root.add(f);var g=f.textPositionData=B(c);if(!g)throw"Holder: staging fallback not supported yet.";f.properties.leading=g.boundingBox.height;var i=null,j=null;if(g.lineCount>1){var k=0,l=0,m=a.width*A.setup.lineWrapRatio,n=0;j=new d.Group("line"+n);for(var o=0;o<g.words.length;o++){var p=g.words[o];i=new d.Text(p.text);var q="\\\\n"==p.text;(k+p.width>=m||q===!0)&&(b(f,j,k,f.properties.leading),k=0,l+=f.properties.leading,n+=1,j=new d.Group("line"+n),j.y=l),q!==!0&&(i.moveTo(k,0),k+=g.spaceWidth+p.width,j.add(i))}b(f,j,k,f.properties.leading);for(var r in f.children)j=f.children[r],j.moveTo((f.width-j.width)/2,null,null);f.moveTo((a.width-f.width)/2,(a.height-f.height)/2,null),(a.height-f.height)/2<0&&f.moveTo(null,0,null)}else i=new d.Text(a.text),j=new d.Group("line0"),j.add(i),f.add(j),f.moveTo((a.width-g.boundingBox.width)/2,(a.height-g.boundingBox.height)/2,null);return c}function h(a,b,c){b=parseInt(b,10),a=parseInt(a,10);var d=Math.max(b,a),e=Math.min(b,a),f=A.defaults.scale,g=Math.min(.75*e,.75*d*f);return Math.round(Math.max(c,g))}function i(a){var b;b=null==a||null==a.nodeType?A.vars.resizableImages:[a];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(d.holderData){var e=d.holderData.flags,g=j(d,z.invisibleErrorFn(i));if(g){if(e.fluid&&e.auto){var h=d.holderData.fluidConfig;switch(h.mode){case"width":g.height=g.width/h.ratio;break;case"height":g.width=g.height*h.ratio}}var k={dimensions:g,theme:e.theme,flags:e};e.textmode&&"exact"==e.textmode&&(e.exactDimensions=g,k.dimensions=e.dimensions),f("image",k,d,d.holderData.renderSettings)}}}}function j(a,b){var c={height:a.clientHeight,width:a.clientWidth};return c.height||c.width?(a.removeAttribute("data-holder-invisible"),c):(m(a,{"data-holder-invisible":!0}),void b.call(this,a))}function k(a){if(a.holderData){var b=j(a,z.invisibleErrorFn(k));if(b){var c=a.holderData.flags,d={fluidHeight:"%"==c.dimensions.height.slice(-1),fluidWidth:"%"==c.dimensions.width.slice(-1),mode:null,initialDimensions:b};d.fluidWidth&&!d.fluidHeight?(d.mode="width",d.ratio=d.initialDimensions.width/parseFloat(c.dimensions.height)):!d.fluidWidth&&d.fluidHeight&&(d.mode="height",d.ratio=parseFloat(c.dimensions.width)/d.initialDimensions.height),a.holderData.fluidConfig=d}}}function l(a,b){return null==b?y.createElement(a):y.createElementNS(b,a)}function m(a,b){for(var c in b)a.setAttribute(c,b[c])}function n(a,b,c){if(null==a){a=l("svg",x);var d=l("defs",x);a.appendChild(d)}return a.webkitMatchesSelector&&a.setAttribute("xmlns",x),m(a,{width:b,height:c,viewBox:"0 0 "+b+" "+c,preserveAspectRatio:"none"}),a}function o(a,c){if(b.XMLSerializer){var d=new XMLSerializer,e="",f=c.stylesheets;if(a.querySelector("defs"),c.svgXMLStylesheet){for(var g=(new DOMParser).parseFromString("<xml />","application/xml"),h=f.length-1;h>=0;h--){var i=g.createProcessingInstruction("xml-stylesheet",\'href="\'+f[h]+\'" rel="stylesheet"\');g.insertBefore(i,g.firstChild)}var j=g.createProcessingInstruction("xml",\'version="1.0" encoding="UTF-8" standalone="yes"\');g.insertBefore(j,g.firstChild),g.removeChild(g.documentElement),e=d.serializeToString(g)}var k=d.serializeToString(a);return k=k.replace(/\\&amp;(\\#[0-9]{2,}\\;)/g,"&$1"),e+k}}function p(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);if(null!=b)for(var e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);return c}function q(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c+":"+a[c]);return b.join(";")}function r(a){A.vars.debounceTimer||a.call(this),A.vars.debounceTimer&&clearTimeout(A.vars.debounceTimer),A.vars.debounceTimer=setTimeout(function(){A.vars.debounceTimer=null,a.call(this)},A.setup.debounce)}function s(){r(function(){i(null)})}function t(a){var c=null;return"string"==typeof a?c=y.querySelectorAll(a):b.NodeList&&a instanceof b.NodeList?c=a:b.Node&&a instanceof b.Node?c=[a]:b.HTMLCollection&&a instanceof b.HTMLCollection?c=a:null===a&&(c=[]),c}function u(a,b){var c=new Image;c.onerror=function(){b.call(this,!1)},c.onload=function(){b.call(this,!0)},c.src=a}function v(a){for(var b=[],c=0,d=a.length-1;d>=0;d--)c=a.charCodeAt(d),c>128?b.unshift(["&#",c,";"].join("")):b.unshift(a[d]);return b.join("")}function w(a){return a.replace(/&#(\\d+);/g,function(a,b){return String.fromCharCode(b)})}var x="http://www.w3.org/2000/svg",y=b.document,z={addTheme:function(a,b){return null!=a&&null!=b&&(A.settings.themes[a]=b),delete A.vars.cache.themeKeys,this},addImage:function(a,b){var c=y.querySelectorAll(b);if(c.length)for(var d=0,e=c.length;e>d;d++){var f=l("img");m(f,{"data-src":a}),c[d].appendChild(f)}return this},run:function(a){a=a||{};var f={};A.vars.preempted=!0;var g=p(A.settings,a);f.renderer=g.renderer?g.renderer:A.setup.renderer,-1===A.setup.renderers.join(",").indexOf(f.renderer)&&(f.renderer=A.setup.supportsSVG?"svg":A.setup.supportsCanvas?"canvas":"html"),g.use_canvas?f.renderer="canvas":g.use_svg&&(f.renderer="svg");var h=t(g.images),i=t(g.bgnodes),j=t(g.stylenodes),k=t(g.objects);f.stylesheets=[],f.svgXMLStylesheet=!0,f.noFontFallback=g.noFontFallback?g.noFontFallback:!1;for(var m=0;m<j.length;m++){var n=j[m];if(n.attributes.rel&&n.attributes.href&&"stylesheet"==n.attributes.rel.value){var o=n.attributes.href.value,q=l("a");q.href=o;var r=q.protocol+"//"+q.host+q.pathname+q.search;f.stylesheets.push(r)}}for(m=0;m<i.length;m++){var s=b.getComputedStyle(i[m],null).getPropertyValue("background-image"),v=i[m].getAttribute("data-background-src"),w=null;w=null==v?s:v;var x=null,y="?"+g.domain+"/";if(0===w.indexOf(y))x=w.slice(1);else if(-1!=w.indexOf(y)){var z=w.substr(w.indexOf(y)).slice(1),B=z.match(/([^\\"]*)"?\\)/);null!=B&&(x=B[1])}if(null!=x){var C=d(x,g);C&&e("background",i[m],C,f)}}for(m=0;m<k.length;m++){var D=k[m],E={};try{E.data=D.getAttribute("data"),E.dataSrc=D.getAttribute("data-src")}catch(F){}var G=null!=E.data&&0===E.data.indexOf(g.domain),H=null!=E.dataSrc&&0===E.dataSrc.indexOf(g.domain);G?c(g,f,E.data,D):H&&c(g,f,E.dataSrc,D)}for(m=0;m<h.length;m++){var I=h[m],J={};try{J.src=I.getAttribute("src"),J.dataSrc=I.getAttribute("data-src"),J.rendered=I.getAttribute("data-holder-rendered")}catch(F){}var K=null!=J.src,L=null!=J.dataSrc&&0===J.dataSrc.indexOf(g.domain),M=null!=J.rendered&&"true"==J.rendered;K?0===J.src.indexOf(g.domain)?c(g,f,J.src,I):L&&(M?c(g,f,J.dataSrc,I):!function(a,b,d,e,f){u(a,function(a){a||c(b,d,e,f)})}(J.src,g,f,J.dataSrc,I)):L&&c(g,f,J.dataSrc,I)}return this},invisibleErrorFn:function(){return function(a){if(a.hasAttribute("data-holder-invisible"))throw"Holder: invisible placeholder"}}};z.add_theme=z.addTheme,z.add_image=z.addImage,z.invisible_error_fn=z.invisibleErrorFn;var A={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16},flags:{dimensions:{regex:/^(\\d+)x(\\d+)$/,output:function(a){var b=this.regex.exec(a);return{width:+b[1],height:+b[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(a){var b=this.regex.exec(a);return{width:b[1],height:b[2]}}},colors:{regex:/(?:#|\\^)([0-9a-f]{3,})\\:(?:#|\\^)([0-9a-f]{3,})/i,output:function(a){var b=this.regex.exec(a);return{foreground:"#"+b[2],background:"#"+b[1]}}},text:{regex:/text\\:(.*)/,output:function(a){return this.regex.exec(a)[1].replace("\\\\/","/")}},font:{regex:/font\\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},random:{regex:/^random$/}}},B=function(){var a=null,b=null,c=null;return function(d){var e=d.root;if(A.setup.supportsSVG){var f=!1,g=function(a){return y.createTextNode(a)};null==a&&(f=!0),a=n(a,e.properties.width,e.properties.height),f&&(b=l("text",x),c=g(null),m(b,{x:0}),b.appendChild(c),a.appendChild(b),y.body.appendChild(a),a.style.visibility="hidden",a.style.position="absolute",a.style.top="-100%",a.style.left="-100%");var h=e.children.holderTextGroup,i=h.properties;m(b,{y:i.font.size,style:q({"font-weight":i.font.weight,"font-size":i.font.size+i.font.units,"font-family":i.font.family,"dominant-baseline":"middle"})}),c.nodeValue=i.text;var j=b.getBBox(),k=Math.ceil(j.width/(e.properties.width*A.setup.lineWrapRatio)),o=i.text.split(" "),p=i.text.match(/\\\\n/g);k+=null==p?0:p.length,c.nodeValue=i.text.replace(/[ ]+/g,"");var r=b.getComputedTextLength(),s=j.width-r,t=Math.round(s/Math.max(1,o.length-1)),u=[];if(k>1){c.nodeValue="";for(var v=0;v<o.length;v++)if(0!==o[v].length){c.nodeValue=w(o[v]);var z=b.getBBox();u.push({text:o[v],width:z.width})}}return{spaceWidth:t,lineCount:k,boundingBox:j,words:u}}return!1}}(),C=function(){var a=l("canvas"),b=null;return function(c){null==b&&(b=a.getContext("2d"));var d=c.root;a.width=A.dpr(d.properties.width),a.height=A.dpr(d.properties.height),b.textBaseline="middle",b.fillStyle=d.children.holderBg.properties.fill,b.fillRect(0,0,A.dpr(d.children.holderBg.width),A.dpr(d.children.holderBg.height));var e=d.children.holderTextGroup;e.properties,b.font=e.properties.font.weight+" "+A.dpr(e.properties.font.size)+e.properties.font.units+" "+e.properties.font.family+", monospace",b.fillStyle=e.properties.fill;for(var f in e.children){var g=e.children[f];for(var h in g.children){var i=g.children[h],j=A.dpr(e.x+g.x+i.x),k=A.dpr(e.y+g.y+i.y+e.properties.leading/2);b.fillText(i.properties.text,j,k)}}return a.toDataURL("image/png")}}(),D=function(){if(b.XMLSerializer){var a=n(null,0,0),c=l("rect",x);return a.appendChild(c),function(b,d){var e=b.root;n(a,e.properties.width,e.properties.height);for(var f=a.querySelectorAll("g"),g=0;g<f.length;g++)f[g].parentNode.removeChild(f[g]);m(c,{width:e.children.holderBg.width,height:e.children.holderBg.height,fill:e.children.holderBg.properties.fill});var h=e.children.holderTextGroup,i=h.properties,j=l("g",x);a.appendChild(j);for(var k in h.children){var p=h.children[k];for(var r in p.children){var s=p.children[r],t=h.x+p.x+s.x,u=h.y+p.y+s.y+h.properties.leading/2,v=l("text",x),w=y.createTextNode(null);m(v,{x:t,y:u,style:q({fill:i.fill,"font-weight":i.font.weight,"font-family":i.font.family+", monospace","font-size":i.font.size+i.font.units,"dominant-baseline":"central"})}),w.nodeValue=s.properties.text,v.appendChild(w),j.appendChild(v)}}var z="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(o(a,d))));return z}}}(),E=function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}var c=1,d=augment.defclass({constructor:function(a){c++,this.parent=null,this.children={},this.id=c,this.name="n"+c,null!=a&&(this.name=a),this.x=0,this.y=0,this.z=0,this.width=0,this.height=0},resize:function(a,b){null!=a&&(this.width=a),null!=b&&(this.height=b)},moveTo:function(a,b,c){this.x=null!=a?a:this.x,this.y=null!=b?b:this.y,this.z=null!=c?c:this.z},add:function(a){var b=a.name;if(null!=this.children[b])throw"SceneGraph: child with that name already exists: "+b;this.children[b]=a,a.parent=this}}),e=augment(d,function(b){this.constructor=function(){b.constructor.call(this,"root"),this.properties=a}}),f=augment(d,function(a){function c(c,d){if(a.constructor.call(this,c),this.properties={fill:"#000"},null!=d)b(this.properties,d);else if(null!=c&&"string"!=typeof c)throw"SceneGraph: invalid node name"}this.Group=augment.extend(this,{constructor:c,type:"group"}),this.Rect=augment.extend(this,{constructor:c,type:"rect"}),this.Text=augment.extend(this,{constructor:function(a){c.call(this),this.properties.text=a},type:"text"})}),g=new e;return this.Shape=f,this.root=g,this};for(var F in A.flags)A.flags.hasOwnProperty(F)&&(A.flags[F].match=function(a){return a.match(this.regex)});A.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]},A.dpr=function(a){return a*A.setup.ratio},A.vars={preempted:!1,resizableImages:[],debounceTimer:null,cache:{}},function(){var a=1,c=1,d=l("canvas"),e=null;d.getContext&&-1!=d.toDataURL("image/png").indexOf("data:image/png")&&(A.setup.renderer="canvas",e=d.getContext("2d"),A.setup.supportsCanvas=!0),A.setup.supportsCanvas&&(a=b.devicePixelRatio||1,c=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),A.setup.ratio=a/c,y.createElementNS&&y.createElementNS(x,"svg").createSVGRect&&(A.setup.renderer="svg",A.setup.supportsSVG=!0)}(),a(z,"Holder",b),b.onDomReady&&b.onDomReady(function(){A.vars.preempted||z.run(),b.addEventListener?(b.addEventListener("resize",s,!1),b.addEventListener("orientationchange",s,!1)):b.attachEvent("onresize",s),"object"==typeof b.Turbolinks&&b.document.addEventListener("page:change",function(){z.run()})})}(function(a,b,c){var d="function"==typeof define&&define.amd;d?define(a):c[b]=a},this),function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,"\\\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,getUniqueId:function(){var a=0;return function(){return a++}}(),templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},noop:function(){}}}(),c="0.10.5",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\\W+/):[]}function d(a){return function(){var c=[].slice.call(arguments,0);return function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key]),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function a(a){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix))}function c(){return(new Date).getTime()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}function e(a){return JSON.parse(a)}var f,g;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(h){f=null}return g=f&&window.JSON?{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},get:function(a){return this.isExpired(a)&&this.remove(a),e(f.getItem(this._prefix(a)))},set:function(a,e,g){return b.isNumber(g)?f.setItem(this._ttlKey(a),d(c()+g)):f.removeItem(this._ttlKey(a)),f.setItem(this._prefix(a),d(e))},remove:function(a){return f.removeItem(this._ttlKey(a)),f.removeItem(this._prefix(a)),this},clear:function(){var a,b,c=[],d=f.length;for(a=0;d>a;a++)(b=f.key(a)).match(this.keyMatcher)&&c.push(b.replace(this.keyMatcher,""));for(a=c.length;a--;)this.remove(c[a]);return this},isExpired:function(a){var d=e(f.getItem(this._ttlKey(a)));return b.isNumber(d)&&c()>d?!0:!1}}:{get:b.noop,set:b.noop,remove:b.noop,clear:b.noop,isExpired:b.noop},b.mixin(a.prototype,g),a}(),g=function(){"use strict";function c(b){b=b||{},this.cancelled=!1,this.lastUrl=null,this._send=b.transport?d(b.transport):a.ajax,this._get=b.rateLimiter?b.rateLimiter(this._get):this._get,this._cache=b.cache===!1?new e(0):i}function d(c){return function(d,e){function f(a){b.defer(function(){h.resolve(a)})}function g(a){b.defer(function(){h.reject(a)})}var h=a.Deferred();return c(d,e,f,g),h}}var f=0,g={},h=6,i=new e(10);return c.setMaxPendingRequests=function(a){h=a},c.resetCache=function(){i.reset()},b.mixin(c.prototype,{_get:function(a,b,c){function d(b){c&&c(null,b),k._cache.set(a,b)}function e(){c&&c(!0)}function i(){f--,delete g[a],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null);\n}var j,k=this;this.cancelled||a!==this.lastUrl||((j=g[a])?j.done(d).fail(e):h>f?(f++,g[a]=this._send(a,b).done(d).fail(e).always(i)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(a,c,d){var e;return b.isFunction(c)&&(d=c,c={}),this.cancelled=!1,this.lastUrl=a,(e=this._cache.get(a))?b.defer(function(){d&&d(null,e)}):this._get(a,c,d),!!e},cancel:function(){this.cancelled=!0}}),c}(),h=function(){"use strict";function c(b){b=b||{},b.datumTokenizer&&b.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=b.datumTokenizer,this.queryTokenizer=b.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){return{ids:[],children:{}}}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){function c(a,b){return a-b}var d=0,e=0,f=[];a=a.sort(c),b=b.sort(c);for(var g=a.length,h=b.length;g>d&&h>e;)a[d]<b[e]?d++:a[d]>b[e]?e++:(f.push(a[d]),d++,e++);return f}return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;f=c.datums.push(a)-1,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b.children[g]||(b.children[g]=e()),b.ids.push(f)})})},get:function(a){var c,e,h=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=h.trie,c=a.split("");b&&(d=c.shift());)b=b.children[d];return b&&0===c.length?(f=b.ids.slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return h.datums[a]}):[]},reset:function(){this.datums=[],this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function d(a){return a.local||null}function e(d){var e,f;return f={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(e=d.prefetch||null)&&(e=b.isString(e)?{url:e}:e,e=b.mixin(f,e),e.thumbprint=c+e.thumbprint,e.ajax.type=e.ajax.type||"GET",e.ajax.dataType=e.ajax.dataType||"json",!e.url&&a.error("prefetch requires url to be set")),e}function f(c){function d(a){return function(c){return b.debounce(c,a)}}function e(a){return function(c){return b.throttle(c,a)}}var f,g;return g={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(f=c.remote||null)&&(f=b.isString(f)?{url:f}:f,f=b.mixin(g,f),f.rateLimiter=/^throttle$/i.test(f.rateLimitBy)?e(f.rateLimitWait):d(f.rateLimitWait),f.ajax.type=f.ajax.type||"GET",f.ajax.dataType=f.ajax.dataType||"json",delete f.rateLimitBy,delete f.rateLimitWait,!f.url&&a.error("remote requires url to be set")),f}return{local:d,prefetch:e,remote:f}}();!function(c){"use strict";function e(b){b&&(b.local||b.prefetch||b.remote)||a.error("one of local, prefetch, or remote is required"),this.limit=b.limit||5,this.sorter=j(b.sorter),this.dupDetector=b.dupDetector||k,this.local=i.local(b),this.prefetch=i.prefetch(b),this.remote=i.remote(b),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new h({datumTokenizer:b.datumTokenizer,queryTokenizer:b.queryTokenizer}),this.storage=this.cacheKey?new f(this.cacheKey):null}function j(a){function c(b){return b.sort(a)}function d(a){return a}return b.isFunction(a)?c:d}function k(){return!1}var l,m;return l=c.Bloodhound,m={data:"data",protocol:"protocol",thumbprint:"thumbprint"},c.Bloodhound=e,e.noConflict=function(){return c.Bloodhound=l,e},e.tokenizers=d,b.mixin(e.prototype,{_loadPrefetch:function(b){function c(a){f.clear(),f.add(b.filter?b.filter(a):a),f._saveToStorage(f.index.serialize(),b.thumbprint,b.ttl)}var d,e,f=this;return(d=this._readFromStorage(b.thumbprint))?(this.index.bootstrap(d),e=a.Deferred().resolve()):e=a.ajax(b.url,b.ajax).done(c),e},_getFromRemote:function(a,b){function c(a,c){b(a?[]:f.remote.filter?f.remote.filter(c):c)}var d,e,f=this;if(this.transport)return a=a||"",e=encodeURIComponent(a),d=this.remote.replace?this.remote.replace(this.remote.url,a):this.remote.url.replace(this.remote.wildcard,e),this.transport.get(d,this.remote.ajax,c)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(a,b,c){this.storage&&(this.storage.set(m.data,a,c),this.storage.set(m.protocol,location.protocol,c),this.storage.set(m.thumbprint,b,c))},_readFromStorage:function(a){var b,c={};return this.storage&&(c.data=this.storage.get(m.data),c.protocol=this.storage.get(m.protocol),c.thumbprint=this.storage.get(m.thumbprint)),b=c.thumbprint!==a||c.protocol!==location.protocol,c.data&&!b?c.data:null},_initialize:function(){function c(){e.add(b.isFunction(f)?f():f)}var d,e=this,f=this.local;return d=this.prefetch?this._loadPrefetch(this.prefetch):a.Deferred().resolve(),f&&d.done(c),this.transport=this.remote?new g(this.remote):null,this.initPromise=d.promise()},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){this.index.add(a)},get:function(a,c){function d(a){var d=f.slice(0);b.each(a,function(a){var c;return c=b.some(d,function(b){return e.dupDetector(a,b)}),!c&&d.push(a),d.length<e.limit}),c&&c(e.sorter(d))}var e=this,f=[],g=!1;f=this.index.get(a),f=this.sorter(f).slice(0,this.limit),f.length<this.limit?g=this._getFromRemote(a,d):this._cancelLastRemoteRequest(),g||(f.length>0||!this.transport)&&c&&c(f)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&g.resetCache()},ttAdapter:function(){return b.bind(this.get,this)}}),e}(this);var j=function(){return{wrapper:\'<span class="twitter-typeahead"></span>\',dropdown:\'<span class="tt-dropdown-menu"></span>\',dataset:\'<div class="tt-dataset-%CLASS%"></div>\',suggestions:\'<span class="tt-suggestions"></span>\',suggestion:\'<div class="tt-suggestion"></div>\'}}(),k=function(){"use strict";var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),b.isMsie()&&b.isMsie()<=7&&b.mixin(a.input,{marginTop:"-1px"}),a}(),l=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d="typeahead:";return b.mixin(c.prototype,{trigger:function(a){var b=[].slice.call(arguments,1);this.$el.trigger(d+a,b)}}),c}(),m=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),n=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\\\b("+f.join("|")+")\\\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),o=function(){"use strict";function c(c){var e,f,h,i,j=this;c=c||{},c.input||a.error("input is missing"),e=b.bind(this._onBlur,this),f=b.bind(this._onFocus,this),h=b.bind(this._onKeydown,this),i=b.bind(this._onInput,this),this.$hint=a(c.hint),this.$input=a(c.input).on("blur.tt",e).on("focus.tt",f).on("keydown.tt",h),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop),b.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){g[a.which||a.keyCode]||b.defer(b.bind(j._onInput,j,a))}):this.$input.on("input.tt",i),this.query=this.$input.val(),this.$overflowHelper=d(this.$input)}function d(b){return a(\'<pre aria-hidden="true"></pre>\').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function e(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function f(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var g;return g={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return(a||"").replace(/^\\s*/g,"").replace(/\\s{2,}/g," ")},b.mixin(c.prototype,m,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(a){var b=g[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(a,b){var c,d,e;switch(a){case"tab":d=this.getHint(),e=this.getInputValue(),c=d&&d!==e&&!f(b);break;case"up":case"down":c=!f(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!f(b);break;default:c=!0}return c},_checkInputValue:function(){var a,b,c;a=this.getInputValue(),b=e(a,this.query),c=b?this.query.length!==a.length:!1,this.query=a,b?c&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(a){this.query=a},getInputValue:function(){return this.$input.val()},setInputValue:function(a,b){this.$input.val(a),b?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),c}(),p=function(){"use strict";function c(c){c=c||{},c.templates=c.templates||{},c.source||a.error("missing source"),c.name&&!f(c.name)&&a.error("invalid dataset name: "+c.name),this.query=null,this.highlight=!!c.highlight,this.name=c.name||b.getUniqueId(),this.source=c.source,this.displayFn=d(c.display||c.displayKey),this.templates=e(c.templates,this.displayFn),this.$el=a(j.dataset.replace("%CLASS%",this.name))}function d(a){function c(b){return b[a]}return a=a||"value",b.isFunction(a)?a:c}function e(a,c){function d(a){return"<p>"+c(a)+"</p>"}return{empty:a.empty&&b.templatify(a.empty),header:a.header&&b.templatify(a.header),footer:a.footer&&b.templatify(a.footer),suggestion:a.suggestion||d}}function f(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var g="ttDataset",h="ttValue",i="ttDatum";return c.extractDatasetName=function(b){return a(b).data(g)},c.extractValue=function(b){return a(b).data(h)},c.extractDatum=function(b){return a(b).data(i)},b.mixin(c.prototype,m,{_render:function(c,d){function e(){return p.templates.empty({query:c,isEmpty:!0})}function f(){function e(b){var c;return c=a(j.suggestion).append(p.templates.suggestion(b)).data(g,p.name).data(h,p.displayFn(b)).data(i,b),c.children().each(function(){a(this).css(k.suggestionChild)}),c}var f,l;return f=a(j.suggestions).css(k.suggestions),l=b.map(d,e),f.append.apply(f,l),p.highlight&&n({className:"tt-highlight",node:f[0],pattern:c}),f}function l(){return p.templates.header({query:c,isEmpty:!o})}function m(){return p.templates.footer({query:c,isEmpty:!o})}if(this.$el){var o,p=this;this.$el.empty(),o=d&&d.length,!o&&this.templates.empty?this.$el.html(e()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null):o&&this.$el.html(f()).prepend(p.templates.header?l():null).append(p.templates.footer?m():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(a){function b(b){c.canceled||a!==c.query||c._render(a,b)}var c=this;this.query=a,this.canceled=!1,this.source(a,b)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),c}(),q=function(){"use strict";function c(c){var e,f,g,h=this;c=c||{},c.menu||a.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=b.map(c.datasets,d),e=b.bind(this._onSuggestionClick,this),f=b.bind(this._onSuggestionMouseEnter,this),g=b.bind(this._onSuggestionMouseLeave,this),this.$menu=a(c.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",f).on("mouseleave.tt",".tt-suggestion",g),b.each(this.datasets,function(a){h.$menu.append(a.getRoot()),a.onSync("rendered",h._onRendered,h)})}function d(a){return new p(a)}return b.mixin(c.prototype,m,{_onSuggestionClick:function(b){this.trigger("suggestionClicked",a(b.currentTarget))},_onSuggestionMouseEnter:function(b){this._removeCursor(),this._setCursor(a(b.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function a(a){return a.isEmpty()}this.isEmpty=b.every(this.datasets,a),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(a,b){a.first().addClass("tt-cursor"),!b&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(a){var b,c,d,e;if(this.isOpen){if(c=this._getCursor(),b=this._getSuggestions(),this._removeCursor(),d=b.index(c)+a,d=(d+1)%(b.length+1)-1,-1===d)return void this.trigger("cursorRemoved");-1>d&&(d=b.length-1),this._setCursor(e=b.eq(d)),this._ensureVisible(e)}},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$menu.scrollTop(),e=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>b?this.$menu.scrollTop(d+b):c>e&&this.$menu.scrollTop(d+(c-e))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(a){this.$menu.css("ltr"===a?k.ltr:k.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(a){var b=null;return a.length&&(b={raw:p.extractDatum(a),value:p.extractValue(a),datasetName:p.extractDatasetName(a)}),b},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(a){function c(b){b.update(a)}b.each(this.datasets,c)},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function a(a){a.destroy()}this.$menu.off(".tt"),this.$menu=null,b.each(this.datasets,a)}}),c}(),r=function(){"use strict";function c(c){var e,f,g;c=c||{},c.input||a.error("missing input"),this.isActivated=!1,this.autoselect=!!c.autoselect,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.$node=d(c.input,c.withHint),e=this.$node.find(".tt-dropdown-menu"),f=this.$node.find(".tt-input"),g=this.$node.find(".tt-hint"),f.on("blur.tt",function(a){var c,d,g;c=document.activeElement,d=e.is(c),g=e.has(c).length>0,b.isMsie()&&(d||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){f.focus()}))}),e.on("mousedown.tt",function(a){a.preventDefault()}),this.eventBus=c.eventBus||new l({el:f}),this.dropdown=new q({menu:e,datasets:c.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new o({input:f,hint:g}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function d(b,c){var d,f,h,i;d=a(b),f=a(j.wrapper).css(k.wrapper),h=a(j.dropdown).css(k.dropdown),i=d.clone().css(k.hint).css(e(d)),i.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),d.data(g,{dir:d.attr("dir"),autocomplete:d.attr("autocomplete"),spellcheck:d.attr("spellcheck"),style:d.attr("style")}),d.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(c?k.input:k.inputWithNoHint);try{!d.attr("dir")&&d.attr("dir","auto")}catch(l){}return d.wrap(f).parent().prepend(c?i:null).append(h)}function e(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function f(a){var c=a.find(".tt-input");b.each(c.data(g),function(a,d){b.isUndefined(a)?c.removeAttr(d):c.attr(d,a)}),c.detach().removeData(g).removeClass("tt-input").insertAfter(a),a.remove()}var g="ttAttrs";return b.mixin(c.prototype,{_onSuggestionClicked:function(a,b){var c;(c=this.dropdown.getDatumForSuggestion(b))&&this._select(c)},_onCursorMoved:function(){var a=this.dropdown.getDatumForCursor();this.input.setInputValue(a.value,!0),this.eventBus.trigger("cursorchanged",a.raw,a.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(a,b){var c,d;c=this.dropdown.getDatumForCursor(),d=this.dropdown.getDatumForTopSuggestion(),c?(this._select(c),b.preventDefault()):this.autoselect&&d&&(this._select(d),b.preventDefault())},_onTabKeyed:function(a,b){var c;(c=this.dropdown.getDatumForCursor())?(this._select(c),b.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var a=this.input.getQuery();this.dropdown.isEmpty&&a.length>=this.minLength?this.dropdown.update(a):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(a,b){this.input.clearHintIfInvalid(),b.length>=this.minLength?this.dropdown.update(b):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var a;this.dir!==(a=this.input.getLanguageDirection())&&(this.dir=a,this.$node.css("direction",a),this.dropdown.setLanguageDirection(a))},_updateHint:function(){var a,c,d,e,f,g;a=this.dropdown.getDatumForTopSuggestion(),a&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(c=this.input.getInputValue(),d=o.normalizeQuery(c),e=b.escapeRegExChars(d),f=new RegExp("^(?:"+e+")(.+$)","i"),g=f.exec(a.value),g?this.input.setHint(c+g[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(a){var b,c,d,e;b=this.input.getHint(),c=this.input.getQuery(),d=a||this.input.isCursorAtEnd(),b&&c!==b&&d&&(e=this.dropdown.getDatumForTopSuggestion(),e&&this.input.setInputValue(e.value),this.eventBus.trigger("autocompleted",e.raw,e.datasetName))},_select:function(a){this.input.setQuery(a.value),this.input.setInputValue(a.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",a.raw,a.datasetName),this.dropdown.close(),b.defer(b.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(a){a=b.toStr(a),this.isActivated?this.input.setInputValue(a):(this.input.setQuery(a),this.input.setInputValue(a,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),f(this.$node),this.$node=null}}),c}();!function(){"use strict";var c,d,e;c=a.fn.typeahead,d="ttTypeahead",e={initialize:function(c,e){function f(){var f,g,h=a(this);b.each(e,function(a){a.highlight=!!c.highlight}),g=new r({input:h,eventBus:f=new l({el:h}),withHint:b.isUndefined(c.hint)?!0:!!c.hint,minLength:c.minLength,autoselect:c.autoselect,datasets:e}),h.data(d,g)}return e=b.isArray(e)?e:[].slice.call(arguments,1),c=c||{},this.each(f)},open:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.open()}return this.each(b)},close:function(){function b(){var b,c=a(this);(b=c.data(d))&&b.close()}return this.each(b)},val:function(b){function c(){var c,e=a(this);(c=e.data(d))&&c.setVal(b)}function e(a){var b,c;return(b=a.data(d))&&(c=b.getVal()),c}return arguments.length?this.each(c):e(this.first())},destroy:function(){function b(){var b,c=a(this);(b=c.data(d))&&(b.destroy(),c.removeData(d))}return this.each(b)}},a.fn.typeahead=function(b){var c;return e[b]&&"initialize"!==b?(c=this.filter(function(){return!!a(this).data(d)}),e[b].apply(c,[].slice.call(arguments,1))):e.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this}}()}(window.jQuery),function(a,b,c){function d(a){var b={},d=/^jQuery\\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,b){var d=this,e=c(d);if(d.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){if(e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id")),a===!0)return e[0].value=b;e.focus()}else d.value="",e.removeClass("placeholder"),d==g()&&d.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function g(){try{return b.activeElement}catch(a){}}var h,i,j="[object OperaMini]"==Object.prototype.toString.call(a.operamini),k="placeholder"in b.createElement("input")&&!j,l="placeholder"in b.createElement("textarea")&&!j,m=c.fn,n=c.valHooks,o=c.propHooks;k&&l?(i=m.placeholder=function(){return this},i.input=i.textarea=!0):(i=m.placeholder=function(){var a=this;return a.filter((k?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=k,i.textarea=l,h={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var d=c(a),h=d.data("placeholder-password");return h?h[0].value=b:d.data("placeholder-enabled")?(""==b?(a.value=b,a!=g()&&f.call(a)):d.hasClass("placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b,d):a.value=b}},k||(n.input=h,o.value=h),l||(n.textarea=h,o.value=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function c(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function d(a){function b(a){return O[a]||a}return a.replace(/[^\\u0000-\\u007E]/g,b)}function e(a,b){for(var c=0,d=b.length;d>c;c+=1)if(g(a,b[c]))return c;return-1}function f(){var b=a(N);b.appendTo(document.body);var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function g(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function h(a,b,c){var d,e,f;if(null===a||a.length<1)return[];for(d=a.split(b),e=0,f=d.length;f>e;e+=1)d[e]=c(d[e]);return d}function i(a){return a.outerWidth(!1)-a.width()}function j(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function k(c){c.on("mousemove",function(c){var d=L;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function l(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function m(a,b){var c=l(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){e(a.target,b.get())>=0&&c(a)})}function n(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],d=a.val().length;a.focus();var e=c.offsetWidth>0||c.offsetHeight>0;e&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(d,d):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function o(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function p(a){a.preventDefault(),a.stopPropagation()}function q(a){a.preventDefault(),a.stopImmediatePropagation()}function r(b){if(!I){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);I=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),I.attr("class","select2-sizer"),a(document.body).append(I)}return I.text(b.val()),I.width()}function s(b,c,d){var e,f,g=[];e=a.trim(b.attr("class")),e&&(e=""+e,a(e.split(/\\s+/)).each2(function(){0===this.indexOf("select2-")&&g.push(this)})),e=a.trim(c.attr("class")),e&&(e=""+e,a(e.split(/\\s+/)).each2(function(){0!==this.indexOf("select2-")&&(f=d(this),f&&g.push(f))})),b.attr("class",g.join(" "))}function t(a,b,c,e){var f=d(a.toUpperCase()).indexOf(d(b.toUpperCase())),g=b.length;return 0>f?void c.push(e(a)):(c.push(e(a.substring(0,f))),c.push("<span class=\'select2-match\'>"),c.push(e(a.substring(f,f+g))),c.push("</span>"),void c.push(e(a.substring(f+g,a.length))))}function u(a){var b={"\\\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"\'\\/\\\\]/g,function(a){return b[a]})}function v(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page,i);i.callback(b)},error:function(a,b,c){var d={hasError:!0,jqXHR:a,textStatus:b,errorThrown:c};i.callback(d)}}),e=j.call(h,l)},f)}}function w(b){var c,d,e=b,f=function(a){return""+a.text};a.isArray(e)&&(d=e,e={results:d}),a.isFunction(e)===!1&&(d=e,e=function(){return d});var g=e();return g.text&&(f=g.text,a.isFunction(f)||(c=g.text,f=function(a){return a[c]})),function(b){var c,d=b.term,g={results:[]};return""===d?void b.callback(e()):(c=function(e,g){var h,i;if(e=e[0],e.children){h={};for(i in e)e.hasOwnProperty(i)&&(h[i]=e[i]);h.children=[],a(e.children).each2(function(a,b){c(b,h.children)}),(h.children.length||b.matcher(d,f(h),e))&&g.push(h)}else b.matcher(d,f(e),e)&&g.push(e)},a(e().results).each2(function(a,b){c(b,g.results)}),void b.callback(g))}}function x(c){var d=a.isFunction(c);return function(e){var f=e.term,g={\nresults:[]},h=d?c(e):c;a.isArray(h)&&(a(h).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g))}}function y(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function z(b,c){if(a.isFunction(b)){var d=Array.prototype.slice.call(arguments,2);return b.apply(c,d)}return b}function A(b){var c=0;return a.each(b,function(a,b){b.children?c+=A(b.children):c++}),c}function B(a,c,d,e){var f,h,i,j,k,l=a,m=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(h=-1,i=0,j=e.tokenSeparators.length;j>i&&(k=e.tokenSeparators[i],h=a.indexOf(k),!(h>=0));i++);if(0>h)break;if(f=a.substring(0,h),a=a.substring(h+k.length),f.length>0&&(f=e.createSearchChoice.call(this,f,c),f!==b&&null!==f&&e.id(f)!==b&&null!==e.id(f))){for(m=!1,i=0,j=c.length;j>i;i++)if(g(e.id(f),e.id(c[i]))){m=!0;break}m||d(f)}}return l!==a?a:void 0}function C(){var b=this;a.each(arguments,function(a,c){b[c].remove(),b[c]=null})}function D(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var E,F,G,H,I,J,K,L={x:0,y:0},M={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case M.LEFT:case M.RIGHT:case M.UP:case M.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case M.SHIFT:case M.CTRL:case M.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},N="<div class=\'select2-measure-scrollbar\'></div>",O={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};J=a(document),H=function(){var a=1;return function(){return a++}}(),E=D(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,g=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+H()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\\-\\.\\+\\*\\~\':"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g,"\\\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",c.element.attr("title")),this.body=a(document.body),s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(z(c.containerCss,this.opts.element)),this.container.addClass(z(c.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(c.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=d=this.container.find(g),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),k(this.results),this.dropdown.on("mousemove-filtered",g,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",g,this.bind(function(a){this._touchEvent=!0,this.highlightUnderEvent(a)})),this.dropdown.on("touchmove",g,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",g,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(a){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),m(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),p(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),p(a))}),j(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),K=K||f(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2"),d=this;this.close(),a.length&&a[0].detachEvent&&d._sync&&a.each(function(){d._sync&&this.detachEvent("onpropertychange",d._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show()),C.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:g(a.attr("locked"),"locked")||g(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,i,j=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option \'"+this+"\' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var g,h=this.opts.id,i=this.liveRegion;(g=function(d,e,k){var l,m,n,o,p,q,r,s,t,u;d=c.sortResults(d,e,f);var v=[];for(l=0,m=d.length;m>l;l+=1)n=d[l],p=n.disabled===!0,o=!p&&h(n)!==b,q=n.children&&n.children.length>0,r=a("<li></li>"),r.addClass("select2-results-dept-"+k),r.addClass("select2-result"),r.addClass(o?"select2-result-selectable":"select2-result-unselectable"),p&&r.addClass("select2-disabled"),q&&r.addClass("select2-result-with-children"),r.addClass(j.opts.formatResultCssClass(n)),r.attr("role","presentation"),s=a(document.createElement("div")),s.addClass("select2-result-label"),s.attr("id","select2-result-label-"+H()),s.attr("role","option"),u=c.formatResult(n,s,f,j.opts.escapeMarkup),u!==b&&(s.html(u),r.append(s)),q&&(t=a("<ul></ul>"),t.addClass("select2-result-sub"),g(n.children,t,k+1),r.append(t)),r.data("select2-data",n),v.push(r[0]);e.append(v),i.text(c.formatMatches(d.length))})(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute \'data-select2-tags\' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var c,e,f,g={results:[],more:!1},h=a.term;f=function(b,c){var d;b.is("option")?a.matcher(h,b.text(),b)&&c.push(j.optionToData(b)):b.is("optgroup")&&(d=j.optionToData(b),b.children().each2(function(a,b){f(b,d.children)}),d.children.length>0&&c.push(d))},c=d.children(),this.getPlaceholder()!==b&&c.length>0&&(e=this.getPlaceholderOption(),e&&(c=c.not(e))),c.each2(function(a,b){f(b,g.results)}),a.callback(g)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(i=c.element.data("ajax-url"),i&&i.length>0&&(c.ajax.url=i),c.query=v.call(c.element,c.ajax)):"data"in c?c.query=w(c.data):"tags"in c&&(c.query=x(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(h(b.val(),c.separator,c.transformVal)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return g(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be \'top\', \'bottom\' or a custom function";return c},monitorSource:function(){var c,d=this.opts.element,e=this;d.on("change.select2",this.bind(function(a){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var a=d.prop("disabled");a===b&&(a=!1),this.enable(!a);var c=d.prop("readonly");c===b&&(c=!1),this.readonly(c),this.container&&(s(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(z(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(s(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(z(this.opts.dropdownCssClass,this.opts.element)))}),d.length&&d[0].attachEvent&&d.each(function(){this.attachEvent("onpropertychange",e._sync)}),c=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,c!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new c(function(b){a.each(b,e._sync)}),this.propertyObserver.observe(d.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b,choice:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var b,c,d,e,f,g=this.dropdown,h=this.container,i=h.offset(),j=h.outerHeight(!1),k=h.outerWidth(!1),l=g.outerHeight(!1),m=a(window),n=m.width(),o=m.height(),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,t=q>=r+l,u=i.top-l>=m.scrollTop(),v=g.outerWidth(!1),w=function(){return p>=s+v},x=function(){return i.left+p+h.outerWidth(!1)>v},y=g.hasClass("select2-drop-above");y?(c=!0,!u&&t&&(d=!0,c=!1)):(c=!1,!t&&u&&(d=!0,c=!0)),d&&(g.hide(),i=this.container.offset(),j=this.container.outerHeight(!1),k=this.container.outerWidth(!1),l=g.outerHeight(!1),p=m.scrollLeft()+n,q=m.scrollTop()+o,r=i.top+j,s=i.left,v=g.outerWidth(!1),g.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(f=a(".select2-results",g)[0],g.addClass("select2-drop-auto-width"),g.css("width",""),v=g.outerWidth(!1)+(f.scrollHeight===f.clientHeight?0:K.width),v>k?k=v:v=k,l=g.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(b=this.body.offset(),r-=b.top,s-=b.left),!w()&&x()&&(s=i.left+this.container.outerWidth(!1)-v),e={left:s,width:k},c?(e.top=i.top-l,e.bottom="auto",this.container.addClass("select2-drop-above"),g.addClass("select2-drop-above")):(e.top=r,e.bottom="auto",this.container.removeClass("select2-drop-above"),g.removeClass("select2-drop-above")),e=a.extend(e,z(this.opts.dropdownCss,this.opts.element)),g.css(e)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),J.on("mousemove.select2Event",function(a){L.x=a.pageX,L.y=a.pageY}),!0):!1},opening:function(){var b,d=this.containerEventName,e="scroll."+d,f="resize."+d,g="orientationchange."+d;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),b=a("#select2-drop-mask"),0===b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),b.hide(),b.appendTo(this.body),b.on("mousedown touchstart click",function(d){c(b);var e,f=a("#select2-drop");f.length>0&&(e=f.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close(),d.preventDefault(),d.stopPropagation())})),this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),b.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){a(this).on(f+" "+e+" "+g,function(a){h.opened()&&h.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerEventName,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),J.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return z(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var b,c,d,e,f,g,h,i,j=this.results;if(c=this.highlight(),!(0>c)){if(0==c)return void j.scrollTop(0);b=this.findHighlightableChoices().find(".select2-result-label"),d=a(b[c]),i=(d.offset()||{}).top||0,e=i+d.outerHeight(!0),c===b.length-1&&(h=j.find("li.select2-more-results"),h.length>0&&(e=h.offset().top+h.outerHeight(!0))),f=j.offset().top+j.outerHeight(!1),e>f&&j.scrollTop(j.scrollTop()+(e-f)),g=i-j.offset().top,0>g&&"none"!=d.css("display")&&j.scrollTop(j.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c,d,f=this.findHighlightableChoices();return 0===arguments.length?e(f.filter(".select2-highlighted")[0],f.get()):(b>=f.length&&(b=f.length-1),0>b&&(b=0),this.removeHighlight(),c=a(f[b]),c.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",c.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(c.text()),d=c.data("select2-data"),void(d&&this.opts.element.trigger({type:"select2-highlight",val:this.id(d),choice:d})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:f,page:d,context:g}),e.postprocessResults(a,!1,!1),a.more===!0?(c.detach().appendTo(b).html(e.opts.escapeMarkup(z(e.opts.formatLoadMore,e.opts.element,d+1))),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=d,e.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(c){function d(){j.removeClass("select2-active"),m.positionDropdown(),k.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?m.liveRegion.text(k.text()):m.liveRegion.text(m.opts.formatMatches(k.find(\'.select2-result-selectable:not(".select2-selected")\').length))}function e(a){k.html(a),d()}var f,h,i,j=this.search,k=this.results,l=this.opts,m=this,n=j.val(),o=a.data(this.container,"select2-last-term");if((c===!0||!o||!g(n,o))&&(a.data(this.container,"select2-last-term",n),c===!0||this.showSearchInput!==!1&&this.opened())){i=++this.queryCount;var p=this.getMaximumSelectionSize();if(p>=1&&(f=this.data(),a.isArray(f)&&f.length>=p&&y(l.formatSelectionTooBig,"formatSelectionTooBig")))return void e("<li class=\'select2-selection-limit\'>"+z(l.formatSelectionTooBig,l.element,p)+"</li>");if(j.val().length<l.minimumInputLength)return e(y(l.formatInputTooShort,"formatInputTooShort")?"<li class=\'select2-no-results\'>"+z(l.formatInputTooShort,l.element,j.val(),l.minimumInputLength)+"</li>":""),void(c&&this.showSearch&&this.showSearch(!0));if(l.maximumInputLength&&j.val().length>l.maximumInputLength)return void e(y(l.formatInputTooLong,"formatInputTooLong")?"<li class=\'select2-no-results\'>"+z(l.formatInputTooLong,l.element,j.val(),l.maximumInputLength)+"</li>":"");l.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class=\'select2-searching\'>"+z(l.formatSearching,l.element)+"</li>"),j.addClass("select2-active"),this.removeHighlight(),h=this.tokenize(),h!=b&&null!=h&&j.val(h),this.resultsPage=1,l.query({element:l.element,term:j.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(f){var h;if(i==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(f.hasError!==b&&y(l.formatAjaxError,"formatAjaxError"))return void e("<li class=\'select2-ajax-error\'>"+z(l.formatAjaxError,l.element,f.jqXHR,f.textStatus,f.errorThrown)+"</li>");if(this.context=f.context===b?null:f.context,this.opts.createSearchChoice&&""!==j.val()&&(h=this.opts.createSearchChoice.call(m,j.val(),f.results),h!==b&&null!==h&&m.id(h)!==b&&null!==m.id(h)&&0===a(f.results).filter(function(){return g(m.id(this),m.id(h))}).length&&this.opts.createSearchChoicePosition(f.results,h)),0===f.results.length&&y(l.formatNoMatches,"formatNoMatches"))return void e("<li class=\'select2-no-results\'>"+z(l.formatNoMatches,l.element,j.val())+"</li>");k.empty(),m.opts.populateResults.call(this,k,f.results,{term:j.val(),page:this.resultsPage,context:null}),f.more===!0&&y(l.formatLoadMore,"formatLoadMore")&&(k.append("<li class=\'select2-more-results\'>"+l.escapeMarkup(z(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){m.loadMoreIfNeeded()},10)),this.postprocessResults(f,c),d(),this.opts.element.trigger({type:"select2-loaded",items:f})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){n(this.search)},selectHighlighted:function(a){if(this._touchMoved)return void this.clearTouchMoved();var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var c=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&c||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.trim(c.text())&&""===c.val())return c}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),F=D(E,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href=\'javascript:void(0)\' class=\'select2-choice\' tabindex=\'-1\'>","   <span class=\'select2-chosen\'>&#160;</span><abbr class=\'select2-search-choice-close\'></abbr>","   <span class=\'select2-arrow\' role=\'presentation\'><b role=\'presentation\'></b></span>","</a>","<label for=\'\' class=\'select2-offscreen\'></label>","<input class=\'select2-focusser select2-offscreen\' type=\'text\' aria-haspopup=\'true\' role=\'button\' />","<div class=\'select2-drop select2-display-none\'>","   <div class=\'select2-search\'>","       <label for=\'\' class=\'select2-offscreen\'></label>","       <input type=\'text\' autocomplete=\'off\' autocorrect=\'off\' autocapitalize=\'off\' spellcheck=\'false\' class=\'select2-input\' role=\'combobox\' aria-expanded=\'true\'","       aria-autocomplete=\'list\' />","   </div>","   <ul class=\'select2-results\' role=\'listbox\'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e))),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),\nthis.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for=\'"+this.focusser.attr("id")+"\']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"selection","focusser")},initContainer:function(){var b,d,e=this.container,f=this.dropdown,g=H();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=e.find(".select2-choice"),this.focusser=e.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+g),this.focusser.attr("aria-labelledby","select2-chosen-"+g),this.results.attr("id","select2-results-"+g),this.search.attr("aria-owns","select2-results-"+g),this.focusser.attr("id","s2id_autogen"+g),d=a("label[for=\'"+this.opts.element.attr("id")+"\']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(d.text()).attr("for",this.focusser.attr("id"));var h=this.opts.element.attr("title");this.opts.element.attr("title",h||d.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for=\'"+this.focusser.attr("id")+"\']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===M.PAGE_UP||a.which===M.PAGE_DOWN)return void p(a);switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return void this.selectHighlighted({noFocus:!0});case M.ESC:return this.cancel(a),void p(a)}}})),this.search.on("blur",this.bind(function(a){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.ESC){if(this.opts.openOnEnter===!1&&a.which===M.ENTER)return void p(a);if(a.which==M.DOWN||a.which==M.UP||a.which==M.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),void p(a)}return a.which==M.DELETE||a.which==M.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(a)):void 0}})),j(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),q(a),this.close(),this.selection&&this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(d){c(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(d)})),f.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),b.on("focus",this.bind(function(a){p(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(c,a.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()===b?!1:(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val()},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var h=g(e,b.id(d));return h&&(f=d),h},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return g(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var f=this.opts.minimumResultsForSearch;f>=0&&this.showSearch(A(a.results)>=f)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c,d,e=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),e.empty(),null!==a&&(c=this.opts.formatSelection(a,e,this.opts.escapeMarkup)),c!==b&&e.append(c),d=this.opts.formatSelectionCssClass(a,e),d!==b&&e.addClass(d),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return void this.clear(c);if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),void(a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)))}}),G=D(E,{createContainer:function(){var b=a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class=\'select2-choices\'>","  <li class=\'select2-search-field\'>","    <label for=\'\' class=\'select2-offscreen\'></label>","    <input type=\'text\' autocomplete=\'off\' autocorrect=\'off\' autocapitalize=\'off\' spellcheck=\'false\' class=\'select2-input\'>","  </li>","</ul>","<div class=\'select2-drop select2-drop-multi select2-display-none\'>","   <ul class=\'select2-results\'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=h(c.val(),b.separator,b.transformVal),f=[];b.query({matcher:function(c,d,h){var i=a.grep(e,function(a){return g(a,b.id(h))}).length;return i&&f.push(h),i},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var h=e[c],i=0;i<f.length;i++){var j=f[i];if(g(h,b.id(j))){a.push(j),f.splice(i,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for=\'"+this.search.attr("id")+"\']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),C.call(this,"searchContainer","selection")},initContainer:function(){var b,c=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=b=this.container.find(c);var d=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(b){d.search[0].focus(),d.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+H()),this.search.prev().text(a("label[for=\'"+this.opts.element.attr("id")+"\']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var c=b.find(".select2-search-choice-focus"),d=c.prev(".select2-search-choice:not(.select2-locked)"),e=c.next(".select2-search-choice:not(.select2-locked)"),f=o(this.search);if(c.length&&(a.which==M.LEFT||a.which==M.RIGHT||a.which==M.BACKSPACE||a.which==M.DELETE||a.which==M.ENTER)){var g=c;return a.which==M.LEFT&&d.length?g=d:a.which==M.RIGHT?g=e.length?e:null:a.which===M.BACKSPACE?this.unselect(c.first())&&(this.search.width(10),g=d.length?d:e):a.which==M.DELETE?this.unselect(c.first())&&(this.search.width(10),g=e.length?e:null):a.which==M.ENTER&&(g=null),this.selectChoice(g),p(a),void(g&&g.length||this.open())}if((a.which===M.BACKSPACE&&1==this.keydowns||a.which==M.LEFT)&&0==f.offset&&!f.length)return this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),void p(a);if(this.selectChoice(null),this.opened())switch(a.which){case M.UP:case M.DOWN:return this.moveHighlight(a.which===M.UP?-1:1),void p(a);case M.ENTER:return this.selectHighlighted(),void p(a);case M.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case M.ESC:return this.cancel(a),void p(a)}if(a.which!==M.TAB&&!M.isControl(a)&&!M.isFunctionKey(a)&&a.which!==M.BACKSPACE&&a.which!==M.ESC){if(a.which===M.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===M.PAGE_UP||a.which===M.PAGE_DOWN)&&p(a),a.which===M.ENTER&&p(a)}}})),this.search.on("keyup",this.bind(function(a){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",c,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",c,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],f=this;a(b).each(function(){e(f.id(this),c)<0&&(c.push(f.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var d,e,f=!c.locked,g=a("<li class=\'select2-search-choice\'>    <div></div>    <a href=\'#\' class=\'select2-search-choice-close\' tabindex=\'-1\'></a></li>"),h=a("<li class=\'select2-search-choice select2-locked\'><div></div></li>"),i=f?g:h,j=this.id(c),k=this.getVal();d=this.opts.formatSelection(c,i.find("div"),this.opts.escapeMarkup),d!=b&&i.find("div").replaceWith(a("<div></div>").html(d)),e=this.opts.formatSelectionCssClass(c,i.find("div")),e!=b&&i.addClass(e),f&&i.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),p(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),i.data("select2-data",c),i.insertBefore(this.searchContainer),k.push(j),this.setVal(k)},unselect:function(b){var c,d,f=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(c=b.data("select2-data")){var g=a.Event("select2-removing");if(g.val=this.id(c),g.choice=c,this.opts.element.trigger(g),g.isDefaultPrevented())return!1;for(;(d=e(this.id(c),f))>=0;)f.splice(d,1),this.setVal(f),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),f=this.results.find(".select2-result"),g=this.results.find(".select2-result-with-children"),h=this;f.each2(function(a,b){var c=h.id(b.data("select2-data"));e(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),g.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&this.opts.closeOnSelect===!0&&h.highlight(0),!this.opts.createSearchChoice&&!f.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&y(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class=\'select2-no-results\'>"+z(h.opts.formatNoMatches,h.opts.element,h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-i(this.search)},resizeSearch:function(){var a,b,c,d,e,f=i(this.search);a=r(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),h(a,this.opts.separator,this.opts.transformVal))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){e(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)g(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(d&&this.triggerChange({added:this.data(),removed:e}));if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type=\'hidden\'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var d,e,f=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(e=this.data(),b||(b=[]),d=a.map(b,function(a){return f.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(e,this.data())),void 0)}}),a.fn.select2=function(){var c,d,f,g,h,i=Array.prototype.slice.call(arguments,0),j=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],k=["opened","isFocused","container","dropdown"],l=["val","data"],m={search:"externalSearch"};return this.each(function(){if(0===i.length||"object"==typeof i[0])c=0===i.length?{}:a.extend({},i[0]),c.element=a(this),"select"===c.element.get(0).tagName.toLowerCase()?h=c.element.prop("multiple"):(h=c.multiple||!1,"tags"in c&&(c.multiple=h=!0)),d=h?new window.Select2["class"].multi:new window.Select2["class"].single,d.init(c);else{if("string"!=typeof i[0])throw"Invalid arguments to select2 plugin: "+i;if(e(i[0],j)<0)throw"Unknown method: "+i[0];if(g=b,d=a(this).data("select2"),d===b)return;if(f=i[0],"container"===f?g=d.container:"dropdown"===f?g=d.dropdown:(m[f]&&(f=m[f]),g=d[f].apply(d,i.slice(1))),e(i[0],k)>=0||e(i[0],l)>=0&&1==i.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return t(this.text(a),c.term,e,d),e.join("")},transformVal:function(b){return a.trim(b)},formatSelection:function(a,c,d){return a?d(this.text(a)):b},sortResults:function(a,b,c){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,c){return b},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},text:function(b){return b&&this.data&&this.data.text?a.isFunction(this.data.text)?this.data.text(b):b[this.data.text]:b.text},matcher:function(a,b){return d(""+b).toUpperCase().indexOf(d(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:B,escapeMarkup:u,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){var b="ontouchstart"in window||navigator.msMaxTouchPoints>0;return b&&a.opts.minimumResultsForSearch<0?!1:!0}},a.fn.select2.locales=[],a.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(a,b,c){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results"},formatSearching:function(){return"Searching"}},a.extend(a.fn.select2.defaults,a.fn.select2.locales.en),a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:v,local:w,tags:x},util:{debounce:l,markMatch:t,escapeMarkup:u,stripDiacritics:d},"class":{"abstract":E,single:F,multi:G}}}}(jQuery),function(a,b,c){!function(a){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],a):"object"==typeof exports?a(require("jquery")):jQuery&&!jQuery.fn.dataTable&&a(jQuery)}(function(d){"use strict";function e(a){var b,c,f="a aa ai ao as b fn i m o s ",g={};d.each(a,function(d,h){b=d.match(/^([^A-Z]+?)([A-Z])/),b&&-1!==f.indexOf(b[1]+" ")&&(c=d.replace(b[0],b[2].toLowerCase()),g[c]=d,"o"===b[1]&&e(a[d]))}),a._hungarianMap=g}function f(a,b,g){a._hungarianMap||e(a);var h;d.each(b,function(e,i){h=a._hungarianMap[e],h===c||!g&&b[h]!==c||("o"===h.charAt(0)?(b[h]||(b[h]={}),d.extend(!0,b[h],b[e]),f(a[h],b[h],g)):b[h]=b[e])})}function g(a){var b=Wa.defaults.oLanguage,c=a.sZeroRecords;!a.sEmptyTable&&c&&"No data available in table"===b.sEmptyTable&&La(a,a,"sZeroRecords","sEmptyTable"),!a.sLoadingRecords&&c&&"Loading..."===b.sLoadingRecords&&La(a,a,"sZeroRecords","sLoadingRecords"),a.sInfoThousands&&(a.sThousands=a.sInfoThousands);var d=a.sDecimal;d&&Ua(d)}function h(a){sb(a,"ordering","bSort"),sb(a,"orderMulti","bSortMulti"),sb(a,"orderClasses","bSortClasses"),sb(a,"orderCellsTop","bSortCellsTop"),sb(a,"order","aaSorting"),sb(a,"orderFixed","aaSortingFixed"),sb(a,"paging","bPaginate"),sb(a,"pagingType","sPaginationType"),sb(a,"pageLength","iDisplayLength"),sb(a,"searching","bFilter");var b=a.aoSearchCols;if(b)for(var c=0,d=b.length;d>c;c++)b[c]&&f(Wa.models.oSearch,b[c])}function i(a){sb(a,"orderable","bSortable"),sb(a,"orderData","aDataSort"),sb(a,"orderSequence","asSorting"),sb(a,"orderDataType","sortDataType")}function j(a){var b=a.oBrowser,c=d("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(d("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(d(\'<div class="test"/>\').css({width:"100%",height:10}))).appendTo("body"),e=c.find(".test");b.bScrollOversize=100===e[0].offsetWidth,b.bScrollbarLeft=1!==e.offset().left,c.remove()}function k(a,b,d,e,f,g){var h,i=e,j=!1;for(d!==c&&(h=d,j=!0);i!==f;)a.hasOwnProperty(i)&&(h=j?b(h,a[i],i,a):a[i],j=!0,i+=g);return h}function l(a,c){var e=Wa.defaults.column,f=a.aoColumns.length,g=d.extend({},Wa.models.oColumn,e,{nTh:c?c:b.createElement("th"),sTitle:e.sTitle?e.sTitle:c?c.innerHTML:"",aDataSort:e.aDataSort?e.aDataSort:[f],mData:e.mData?e.mData:f,idx:f});a.aoColumns.push(g);var h=a.aoPreSearchCols;h[f]=d.extend({},Wa.models.oSearch,h[f]),m(a,f,null)}function m(a,b,e){var g=a.aoColumns[b],h=a.oClasses,j=d(g.nTh);if(!g.sWidthOrig){g.sWidthOrig=j.attr("width")||null;var k=(j.attr("style")||"").match(/width:\\s*(\\d+[pxem%]+)/);k&&(g.sWidthOrig=k[1])}e!==c&&null!==e&&(i(e),f(Wa.defaults.column,e),e.mDataProp===c||e.mData||(e.mData=e.mDataProp),e.sType&&(g._sManualType=e.sType),e.className&&!e.sClass&&(e.sClass=e.className),d.extend(g,e),La(g,e,"sWidth","sWidthOrig"),"number"==typeof e.iDataSort&&(g.aDataSort=[e.iDataSort]),La(g,e,"aDataSort"));var l=g.mData,m=B(l),n=g.mRender?B(g.mRender):null,o=function(a){return"string"==typeof a&&-1!==a.indexOf("@")};g._bAttrSrc=d.isPlainObject(l)&&(o(l.sort)||o(l.type)||o(l.filter)),g.fnGetData=function(a,b,d){var e=m(a,b,c,d);return n&&b?n(e,b,a,d):e},g.fnSetData=function(a,b,c){return C(l)(a,b,c)},"number"!=typeof l&&(a._rowReadObject=!0),a.oFeatures.bSort||(g.bSortable=!1,j.addClass(h.sSortableNone));var p=-1!==d.inArray("asc",g.asSorting),q=-1!==d.inArray("desc",g.asSorting);g.bSortable&&(p||q)?p&&!q?(g.sSortingClass=h.sSortableAsc,g.sSortingClassJUI=h.sSortJUIAscAllowed):!p&&q?(g.sSortingClass=h.sSortableDesc,g.sSortingClassJUI=h.sSortJUIDescAllowed):(g.sSortingClass=h.sSortable,g.sSortingClassJUI=h.sSortJUI):(g.sSortingClass=h.sSortableNone,g.sSortingClassJUI="")}function n(a){if(a.oFeatures.bAutoWidth!==!1){var b=a.aoColumns;sa(a);for(var c=0,d=b.length;d>c;c++)b[c].nTh.style.width=b[c].sWidth}var e=a.oScroll;(""!==e.sY||""!==e.sX)&&qa(a),Pa(a,null,"column-sizing",[a])}function o(a,b){var c=r(a,"bVisible");return"number"==typeof c[b]?c[b]:null}function p(a,b){var c=r(a,"bVisible"),e=d.inArray(b,c);return-1!==e?e:null}function q(a){return r(a,"bVisible").length}function r(a,b){var c=[];return d.map(a.aoColumns,function(a,d){a[b]&&c.push(d)}),c}function s(a){var b,d,e,f,g,h,i,j,k,l=a.aoColumns,m=a.aoData,n=Wa.ext.type.detect;for(b=0,d=l.length;d>b;b++)if(i=l[b],k=[],!i.sType&&i._sManualType)i.sType=i._sManualType;else if(!i.sType){for(e=0,f=n.length;f>e;e++){for(g=0,h=m.length;h>g&&(k[g]===c&&(k[g]=y(a,g,b,"type")),j=n[e](k[g],a),j||e===n.length-1)&&"html"!==j;g++);if(j){i.sType=j;break}}i.sType||(i.sType="string")}}function t(a,b,e,f){var g,h,i,j,k,m,n,o=a.aoColumns;if(b)for(g=b.length-1;g>=0;g--){n=b[g];var p=n.targets!==c?n.targets:n.aTargets;for(d.isArray(p)||(p=[p]),i=0,j=p.length;j>i;i++)if("number"==typeof p[i]&&p[i]>=0){for(;o.length<=p[i];)l(a);f(p[i],n)}else if("number"==typeof p[i]&&p[i]<0)f(o.length+p[i],n);else if("string"==typeof p[i])for(k=0,m=o.length;m>k;k++)("_all"==p[i]||d(o[k].nTh).hasClass(p[i]))&&f(k,n)}if(e)for(g=0,h=e.length;h>g;g++)f(g,e[g])}function u(a,b,c,e){var f=a.aoData.length,g=d.extend(!0,{},Wa.models.oRow,{src:c?"dom":"data"});g._aData=b,a.aoData.push(g);for(var h=a.aoColumns,i=0,j=h.length;j>i;i++)c&&z(a,f,i,y(a,f,i)),h[i].sType=null;return a.aiDisplayMaster.push(f),(c||!a.oFeatures.bDeferRender)&&I(a,f,c,e),f}function v(a,b){var c;return b instanceof d||(b=d(b)),b.map(function(b,d){return c=H(a,d),u(a,c.data,d,c.cells)})}function w(a,b){return b._DT_RowIndex!==c?b._DT_RowIndex:null}function x(a,b,c){return d.inArray(c,a.aoData[b].anCells)}function y(a,b,d,e){var f=a.iDraw,g=a.aoColumns[d],h=a.aoData[b]._aData,i=g.sDefaultContent,j=g.fnGetData(h,e,{settings:a,row:b,col:d});if(j===c)return a.iDrawError!=f&&null===i&&(Ka(a,0,"Requested unknown parameter "+("function"==typeof g.mData?"{function}":"\'"+g.mData+"\'")+" for row "+b,4),a.iDrawError=f),i;if(j!==h&&null!==j||null===i){if("function"==typeof j)return j.call(h)}else j=i;return null===j&&"display"==e?"":j}function z(a,b,c,d){var e=a.aoColumns[c],f=a.aoData[b]._aData;e.fnSetData(f,d,{settings:a,row:b,col:c})}function A(a){return d.map(a.match(/(\\\\.|[^\\.])+/g),function(a){return a.replace(/\\\\./g,".")})}function B(a){if(d.isPlainObject(a)){var b={};return d.each(a,function(a,c){c&&(b[a]=B(c))}),function(a,d,e,f){var g=b[d]||b._;return g!==c?g(a,d,e,f):a}}if(null===a)return function(a){return a};if("function"==typeof a)return function(b,c,d,e){return a(b,c,d,e)};if("string"!=typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){return b[a]};var e=function(a,b,d){var f,g,h,i;if(""!==d)for(var j=A(d),k=0,l=j.length;l>k;k++){if(f=j[k].match(tb),g=j[k].match(ub),f){j[k]=j[k].replace(tb,""),""!==j[k]&&(a=a[j[k]]),h=[],j.splice(0,k+1),i=j.join(".");for(var m=0,n=a.length;n>m;m++)h.push(e(a[m],b,i));var o=f[0].substring(1,f[0].length-1);a=""===o?h:h.join(o);break}if(g)j[k]=j[k].replace(ub,""),a=a[j[k]]();else{if(null===a||a[j[k]]===c)return c;a=a[j[k]]}}return a};return function(b,c){return e(b,c,a)}}function C(a){if(d.isPlainObject(a))return C(a._);if(null===a)return function(){};if("function"==typeof a)return function(b,c,d){a(b,"set",c,d)};if("string"!=typeof a||-1===a.indexOf(".")&&-1===a.indexOf("[")&&-1===a.indexOf("("))return function(b,c){b[a]=c};var b=function(a,d,e){for(var f,g,h,i,j,k=A(e),l=k[k.length-1],m=0,n=k.length-1;n>m;m++){if(g=k[m].match(tb),h=k[m].match(ub),g){k[m]=k[m].replace(tb,""),a[k[m]]=[],f=k.slice(),f.splice(0,m+1),j=f.join(".");for(var o=0,p=d.length;p>o;o++)i={},b(i,d[o],j),a[k[m]].push(i);return}h&&(k[m]=k[m].replace(ub,""),a=a[k[m]](d)),(null===a[k[m]]||a[k[m]]===c)&&(a[k[m]]={}),\na=a[k[m]]}l.match(ub)?a=a[l.replace(ub,"")](d):a[l.replace(tb,"")]=d};return function(c,d){return b(c,d,a)}}function D(a){return mb(a.aoData,"_aData")}function E(a){a.aoData.length=0,a.aiDisplayMaster.length=0,a.aiDisplay.length=0}function F(a,b,d){for(var e=-1,f=0,g=a.length;g>f;f++)a[f]==b?e=f:a[f]>b&&a[f]--;-1!=e&&d===c&&a.splice(e,1)}function G(a,b,d,e){var f,g,h=a.aoData[b],i=function(c,d){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=y(a,b,d,"display")};if("dom"!==d&&(d&&"auto"!==d||"dom"!==h.src)){var j=h.anCells;if(j)if(e!==c)i(j[e],e);else for(f=0,g=j.length;g>f;f++)i(j[f],f)}else h._aData=H(a,h,e,e===c?c:h._aData).data;h._aSortData=null,h._aFilterData=null;var k=a.aoColumns;if(e!==c)k[e].sType=null;else{for(f=0,g=k.length;g>f;f++)k[f].sType=null;J(h)}}function H(a,b,e,f){var g,h,i,j=[],k=b.firstChild,l=0,m=a.aoColumns,n=a._rowReadObject;f=f||n?{}:[];var o=function(a,b){if("string"==typeof a){var c=a.indexOf("@");if(-1!==c){var d=a.substring(c+1),e=C(a);e(f,b.getAttribute(d))}}},p=function(a){if(e===c||e===l)if(h=m[l],i=d.trim(a.innerHTML),h&&h._bAttrSrc){var b=C(h.mData._);b(f,i),o(h.mData.sort,a),o(h.mData.type,a),o(h.mData.filter,a)}else n?(h._setter||(h._setter=C(h.mData)),h._setter(f,i)):f[l]=i;l++};if(k)for(;k;)g=k.nodeName.toUpperCase(),("TD"==g||"TH"==g)&&(p(k),j.push(k)),k=k.nextSibling;else{j=b.anCells;for(var q=0,r=j.length;r>q;q++)p(j[q])}return{data:f,cells:j}}function I(a,c,d,e){var f,g,h,i,j,k=a.aoData[c],l=k._aData,m=[];if(null===k.nTr){for(f=d||b.createElement("tr"),k.nTr=f,k.anCells=m,f._DT_RowIndex=c,J(k),i=0,j=a.aoColumns.length;j>i;i++)h=a.aoColumns[i],g=d?e[i]:b.createElement(h.sCellType),m.push(g),(!d||h.mRender||h.mData!==i)&&(g.innerHTML=y(a,c,i,"display")),h.sClass&&(g.className+=" "+h.sClass),h.bVisible&&!d?f.appendChild(g):!h.bVisible&&d&&g.parentNode.removeChild(g),h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,g,y(a,c,i),l,c,i);Pa(a,"aoRowCreatedCallback",null,[f,l,c])}k.nTr.setAttribute("role","row")}function J(a){var b=a.nTr,c=a._aData;if(b){if(c.DT_RowId&&(b.id=c.DT_RowId),c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?rb(a.__rowc.concat(e)):e,d(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowData&&d(b).data(c.DT_RowData)}}function K(a){var b,c,e,f,g,h=a.nTHead,i=a.nTFoot,j=0===d("th, td",h).length,k=a.oClasses,l=a.aoColumns;for(j&&(f=d("<tr/>").appendTo(h)),b=0,c=l.length;c>b;b++)g=l[b],e=d(g.nTh).addClass(g.sClass),j&&e.appendTo(f),a.oFeatures.bSort&&(e.addClass(g.sSortingClass),g.bSortable!==!1&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Ea(a,g.nTh,b))),g.sTitle!=e.html()&&e.html(g.sTitle),Ra(a,"header")(a,e,g,k);if(j&&P(a.aoHeader,h),d(h).find(">tr").attr("role","row"),d(h).find(">tr>th, >tr>td").addClass(k.sHeaderTH),d(i).find(">tr>th, >tr>td").addClass(k.sFooterTH),null!==i){var m=a.aoFooter[0];for(b=0,c=m.length;c>b;b++)g=l[b],g.nTf=m[b].cell,g.sClass&&d(g.nTf).addClass(g.sClass)}}function L(a,b,e){var f,g,h,i,j,k,l,m,n,o=[],p=[],q=a.aoColumns.length;if(b){for(e===c&&(e=!1),f=0,g=b.length;g>f;f++){for(o[f]=b[f].slice(),o[f].nTr=b[f].nTr,h=q-1;h>=0;h--)a.aoColumns[h].bVisible||e||o[f].splice(h,1);p.push([])}for(f=0,g=o.length;g>f;f++){if(l=o[f].nTr)for(;k=l.firstChild;)l.removeChild(k);for(h=0,i=o[f].length;i>h;h++)if(m=1,n=1,p[f][h]===c){for(l.appendChild(o[f][h].cell),p[f][h]=1;o[f+m]!==c&&o[f][h].cell==o[f+m][h].cell;)p[f+m][h]=1,m++;for(;o[f][h+n]!==c&&o[f][h].cell==o[f][h+n].cell;){for(j=0;m>j;j++)p[f+j][h+n]=1;n++}d(o[f][h].cell).attr("rowspan",m).attr("colspan",n)}}}}function M(a){var b=Pa(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==d.inArray(!1,b))return void oa(a,!1);var e=[],f=0,g=a.asStripeClasses,h=g.length,i=(a.aoOpenRows.length,a.oLanguage),j=a.iInitDisplayStart,k="ssp"==Sa(a),l=a.aiDisplay;a.bDrawing=!0,j!==c&&-1!==j&&(a._iDisplayStart=k?j:j>=a.fnRecordsDisplay()?0:j,a.iInitDisplayStart=-1);var m=a._iDisplayStart,n=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++,oa(a,!1);else if(k){if(!a.bDestroying&&!S(a))return}else a.iDraw++;if(0!==l.length)for(var o=k?0:m,p=k?a.aoData.length:n,r=o;p>r;r++){var s=l[r],t=a.aoData[s];null===t.nTr&&I(a,s);var u=t.nTr;if(0!==h){var v=g[f%h];t._sRowStripe!=v&&(d(u).removeClass(t._sRowStripe).addClass(v),t._sRowStripe=v)}Pa(a,"aoRowCallback",null,[u,t._aData,f,r]),e.push(u),f++}else{var w=i.sZeroRecords;1==a.iDraw&&"ajax"==Sa(a)?w=i.sLoadingRecords:i.sEmptyTable&&0===a.fnRecordsTotal()&&(w=i.sEmptyTable),e[0]=d("<tr/>",{"class":h?g[0]:""}).append(d("<td />",{valign:"top",colSpan:q(a),"class":a.oClasses.sRowEmpty}).html(w))[0]}Pa(a,"aoHeaderCallback","header",[d(a.nTHead).children("tr")[0],D(a),m,n,l]),Pa(a,"aoFooterCallback","footer",[d(a.nTFoot).children("tr")[0],D(a),m,n,l]);var x=d(a.nTBody);x.children().detach(),x.append(d(e)),Pa(a,"aoDrawCallback","draw",[a]),a.bSorted=!1,a.bFiltered=!1,a.bDrawing=!1}function N(a,b){var c=a.oFeatures,d=c.bSort,e=c.bFilter;d&&Ba(a),e?X(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice(),b!==!0&&(a._iDisplayStart=0),a._drawHold=b,M(a),a._drawHold=!1}function O(a){var b=a.oClasses,c=d(a.nTable),e=d("<div/>").insertBefore(c),f=a.oFeatures,g=d("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=e[0],a.nTableWrapper=g[0],a.nTableReinsertBefore=a.nTable.nextSibling;for(var h,i,j,k,l,m,n=a.sDom.split(""),o=0;o<n.length;o++){if(h=null,i=n[o],"<"==i){if(j=d("<div/>")[0],k=n[o+1],"\'"==k||\'"\'==k){for(l="",m=2;n[o+m]!=k;)l+=n[o+m],m++;if("H"==l?l=b.sJUIHeader:"F"==l&&(l=b.sJUIFooter),-1!=l.indexOf(".")){var p=l.split(".");j.id=p[0].substr(1,p[0].length-1),j.className=p[1]}else"#"==l.charAt(0)?j.id=l.substr(1,l.length-1):j.className=l;o+=m}g.append(j),g=d(j)}else if(">"==i)g=g.parent();else if("l"==i&&f.bPaginate&&f.bLengthChange)h=ka(a);else if("f"==i&&f.bFilter)h=W(a);else if("r"==i&&f.bProcessing)h=na(a);else if("t"==i)h=pa(a);else if("i"==i&&f.bInfo)h=ea(a);else if("p"==i&&f.bPaginate)h=la(a);else if(0!==Wa.ext.feature.length)for(var q=Wa.ext.feature,r=0,s=q.length;s>r;r++)if(i==q[r].cFeature){h=q[r].fnInit(a);break}if(h){var t=a.aanFeatures;t[i]||(t[i]=[]),t[i].push(h),g.append(h)}}e.replaceWith(g)}function P(a,b){var c,e,f,g,h,i,j,k,l,m,n,o=d(b).children("tr"),p=function(a,b,c){for(var d=a[b];d[c];)c++;return c};for(a.splice(0,a.length),f=0,i=o.length;i>f;f++)a.push([]);for(f=0,i=o.length;i>f;f++)for(c=o[f],k=0,e=c.firstChild;e;){if("TD"==e.nodeName.toUpperCase()||"TH"==e.nodeName.toUpperCase())for(l=1*e.getAttribute("colspan"),m=1*e.getAttribute("rowspan"),l=l&&0!==l&&1!==l?l:1,m=m&&0!==m&&1!==m?m:1,j=p(a,f,k),n=1===l?!0:!1,h=0;l>h;h++)for(g=0;m>g;g++)a[f+g][j+h]={cell:e,unique:n},a[f+g].nTr=c;e=e.nextSibling}}function Q(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],P(c,b)));for(var e=0,f=c.length;f>e;e++)for(var g=0,h=c[e].length;h>g;g++)!c[e][g].unique||d[g]&&a.bSortCellsTop||(d[g]=c[e][g].cell);return d}function R(a,b,c){if(Pa(a,"aoServerParams","serverParams",[b]),b&&d.isArray(b)){var e={},f=/(.*?)\\[\\]$/;d.each(b,function(a,b){var c=b.name.match(f);if(c){var d=c[0];e[d]||(e[d]=[]),e[d].push(b.value)}else e[b.name]=b.value}),b=e}var g,h=a.ajax,i=a.oInstance;if(d.isPlainObject(h)&&h.data){g=h.data;var j=d.isFunction(g)?g(b):g;b=d.isFunction(g)&&j?j:d.extend(!0,b,j),delete h.data}var k={data:b,success:function(b){var d=b.error||b.sError;d&&a.oApi._fnLog(a,0,d),a.json=b,Pa(a,null,"xhr",[a,b]),c(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c,d){var e=a.oApi._fnLog;"parsererror"==c?e(a,0,"Invalid JSON response",1):4===b.readyState&&e(a,0,"Ajax error",7),oa(a,!1)}};a.oAjaxData=b,Pa(a,null,"preXhr",[a,b]),a.fnServerData?a.fnServerData.call(i,a.sAjaxSource,d.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"==typeof h?a.jqXHR=d.ajax(d.extend(k,{url:h||a.sAjaxSource})):d.isFunction(h)?a.jqXHR=h.call(i,b,c,a):(a.jqXHR=d.ajax(d.extend(k,h)),h.data=g)}function S(a){return a.bAjaxDataGet?(a.iDraw++,oa(a,!0),R(a,T(a),function(b){U(a,b)}),!1):!0}function T(a){var b,c,e,f,g=a.aoColumns,h=g.length,i=a.oFeatures,j=a.oPreviousSearch,k=a.aoPreSearchCols,l=[],m=Aa(a),n=a._iDisplayStart,o=i.bPaginate!==!1?a._iDisplayLength:-1,p=function(a,b){l.push({name:a,value:b})};p("sEcho",a.iDraw),p("iColumns",h),p("sColumns",mb(g,"sName").join(",")),p("iDisplayStart",n),p("iDisplayLength",o);var q={draw:a.iDraw,columns:[],order:[],start:n,length:o,search:{value:j.sSearch,regex:j.bRegex}};for(b=0;h>b;b++)e=g[b],f=k[b],c="function"==typeof e.mData?"function":e.mData,q.columns.push({data:c,name:e.sName,searchable:e.bSearchable,orderable:e.bSortable,search:{value:f.sSearch,regex:f.bRegex}}),p("mDataProp_"+b,c),i.bFilter&&(p("sSearch_"+b,f.sSearch),p("bRegex_"+b,f.bRegex),p("bSearchable_"+b,e.bSearchable)),i.bSort&&p("bSortable_"+b,e.bSortable);i.bFilter&&(p("sSearch",j.sSearch),p("bRegex",j.bRegex)),i.bSort&&(d.each(m,function(a,b){q.order.push({column:b.col,dir:b.dir}),p("iSortCol_"+a,b.col),p("sSortDir_"+a,b.dir)}),p("iSortingCols",m.length));var r=Wa.ext.legacy.ajax;return null===r?a.sAjaxSource?l:q:r?l:q}function U(a,b){var d=function(a,d){return b[a]!==c?b[a]:b[d]},e=d("sEcho","draw"),f=d("iTotalRecords","recordsTotal"),g=d("iTotalDisplayRecords","recordsFiltered");if(e){if(1*e<a.iDraw)return;a.iDraw=1*e}E(a),a._iRecordsTotal=parseInt(f,10),a._iRecordsDisplay=parseInt(g,10);for(var h=V(a,b),i=0,j=h.length;j>i;i++)u(a,h[i]);a.aiDisplay=a.aiDisplayMaster.slice(),a.bAjaxDataGet=!1,M(a),a._bInitComplete||ia(a,b),a.bAjaxDataGet=!0,oa(a,!1)}function V(a,b){var e=d.isPlainObject(a.ajax)&&a.ajax.dataSrc!==c?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===e?b.aaData||b[e]:""!==e?B(e)(b):b}function W(a){var c=a.oClasses,e=a.sTableId,f=a.oLanguage,g=a.oPreviousSearch,h=a.aanFeatures,i=\'<input type="search" class="\'+c.sFilterInput+\'"/>\',j=f.sSearch;j=j.match(/_INPUT_/)?j.replace("_INPUT_",i):j+i;var k=d("<div/>",{id:h.f?null:e+"_filter","class":c.sFilter}).append(d("<label/>").append(j)),l=function(){var b=(h.f,this.value?this.value:"");b!=g.sSearch&&(X(a,{sSearch:b,bRegex:g.bRegex,bSmart:g.bSmart,bCaseInsensitive:g.bCaseInsensitive}),a._iDisplayStart=0,M(a))},m=null!==a.searchDelay?a.searchDelay:"ssp"===Sa(a)?400:0,n=d("input",k).val(g.sSearch).attr("placeholder",f.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",m?ta(l,m):l).bind("keypress.DT",function(a){return 13==a.keyCode?!1:void 0}).attr("aria-controls",e);return d(a.nTable).on("search.dt.DT",function(c,d){if(a===d)try{n[0]!==b.activeElement&&n.val(g.sSearch)}catch(e){}}),k[0]}function X(a,b,d){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch,e.bRegex=a.bRegex,e.bSmart=a.bSmart,e.bCaseInsensitive=a.bCaseInsensitive},h=function(a){return a.bEscapeRegex!==c?!a.bEscapeRegex:a.bRegex};if(s(a),"ssp"!=Sa(a)){$(a,b.sSearch,d,h(b),b.bSmart,b.bCaseInsensitive),g(b);for(var i=0;i<f.length;i++)Z(a,f[i].sSearch,i,h(f[i]),f[i].bSmart,f[i].bCaseInsensitive);Y(a)}else g(b);a.bFiltered=!0,Pa(a,null,"search",[a])}function Y(a){for(var b,c,d=Wa.ext.search,e=a.aiDisplay,f=0,g=d.length;g>f;f++){for(var h=[],i=0,j=e.length;j>i;i++)c=e[i],b=a.aoData[c],d[f](a,b._aFilterData,c,b._aData,i)&&h.push(c);e.length=0,e.push.apply(e,h)}}function Z(a,b,c,d,e,f){if(""!==b)for(var g,h=a.aiDisplay,i=_(b,d,e,f),j=h.length-1;j>=0;j--)g=a.aoData[h[j]]._aFilterData[c],i.test(g)||h.splice(j,1)}function $(a,b,c,d,e,f){var g,h,i,j=_(b,d,e,f),k=a.oPreviousSearch.sSearch,l=a.aiDisplayMaster;if(0!==Wa.ext.search.length&&(c=!0),h=ba(a),b.length<=0)a.aiDisplay=l.slice();else for((h||c||k.length>b.length||0!==b.indexOf(k)||a.bSorted)&&(a.aiDisplay=l.slice()),g=a.aiDisplay,i=g.length-1;i>=0;i--)j.test(a.aoData[g[i]]._sFilterRow)||g.splice(i,1)}function _(a,b,c,e){if(a=b?a:aa(a),c){var f=d.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if(\'"\'===a.charAt(0)){var b=a.match(/^"(.*)"$/);a=b?b[1]:a}return a.replace(\'"\',"")});a="^(?=.*?"+f.join(")(?=.*?")+").*$"}return new RegExp(a,e?"i":"")}function aa(a){return a.replace(eb,"\\\\$1")}function ba(a){var b,c,d,e,f,g,h,i,j=a.aoColumns,k=Wa.ext.type.search,l=!1;for(c=0,e=a.aoData.length;e>c;c++)if(i=a.aoData[c],!i._aFilterData){for(g=[],d=0,f=j.length;f>d;d++)b=j[d],b.bSearchable?(h=y(a,c,d,"filter"),k[b.sType]&&(h=k[b.sType](h)),null===h&&(h=""),"string"!=typeof h&&h.toString&&(h=h.toString())):h="",h.indexOf&&-1!==h.indexOf("&")&&(vb.innerHTML=h,h=wb?vb.textContent:vb.innerText),h.replace&&(h=h.replace(/[\\r\\n]/g,"")),g.push(h);i._aFilterData=g,i._sFilterRow=g.join("  "),l=!0}return l}function ca(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function da(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function ea(a){var b=a.sTableId,c=a.aanFeatures.i,e=d("<div/>",{"class":a.oClasses.sInfo,id:c?null:b+"_info"});return c||(a.aoDrawCallback.push({fn:fa,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),d(a.nTable).attr("aria-describedby",b+"_info")),e[0]}function fa(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+1,f=a.fnDisplayEnd(),g=a.fnRecordsTotal(),h=a.fnRecordsDisplay(),i=h?c.sInfo:c.sInfoEmpty;h!==g&&(i+=" "+c.sInfoFiltered),i+=c.sInfoPostFix,i=ga(a,i);var j=c.fnInfoCallback;null!==j&&(i=j.call(a.oInstance,a,e,f,g,h,i)),d(b).html(i)}}function ga(a,b){var c=a.fnFormatNumber,d=a._iDisplayStart+1,e=a._iDisplayLength,f=a.fnRecordsDisplay(),g=-1===e;return b.replace(/_START_/g,c.call(a,d)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,g?1:Math.ceil(d/e))).replace(/_PAGES_/g,c.call(a,g?1:Math.ceil(f/e)))}function ha(a){var b,c,d,e=a.iInitDisplayStart,f=a.aoColumns,g=a.oFeatures;if(!a.bInitialised)return void setTimeout(function(){ha(a)},200);for(O(a),K(a),L(a,a.aoHeader),L(a,a.aoFooter),oa(a,!0),g.bAutoWidth&&sa(a),b=0,c=f.length;c>b;b++)d=f[b],d.sWidth&&(d.nTh.style.width=ya(d.sWidth));N(a);var h=Sa(a);"ssp"!=h&&("ajax"==h?R(a,[],function(c){var d=V(a,c);for(b=0;b<d.length;b++)u(a,d[b]);a.iInitDisplayStart=e,N(a),oa(a,!1),ia(a,c)},a):(oa(a,!1),ia(a)))}function ia(a,b){a._bInitComplete=!0,b&&n(a),Pa(a,"aoInitComplete","init",[a,b])}function ja(a,b){var c=parseInt(b,10);a._iDisplayLength=c,Qa(a),Pa(a,null,"length",[a,c])}function ka(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,f=d.isArray(e[0]),g=f?e[0]:e,h=f?e[1]:e,i=d("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),j=0,k=g.length;k>j;j++)i[0][j]=new Option(h[j],g[j]);var l=d("<div><label/></div>").addClass(b.sLength);return a.aanFeatures.l||(l[0].id=c+"_length"),l.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",i[0].outerHTML)),d("select",l).val(a._iDisplayLength).bind("change.DT",function(b){ja(a,d(this).val()),M(a)}),d(a.nTable).bind("length.dt.DT",function(b,c,e){a===c&&d("select",l).val(e)}),l[0]}function la(a){var b=a.sPaginationType,c=Wa.ext.pager[b],e="function"==typeof c,f=function(a){M(a)},g=d("<div/>").addClass(a.oClasses.sPaging+b)[0],h=a.aanFeatures;return e||c.fnInit(a,g,f),h.p||(g.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b,d,g=a._iDisplayStart,i=a._iDisplayLength,j=a.fnRecordsDisplay(),k=-1===i,l=k?0:Math.ceil(g/i),m=k?1:Math.ceil(j/i),n=c(l,m);for(b=0,d=h.p.length;d>b;b++)Ra(a,"pageButton")(a,h.p[b],b,n,l,m)}else c.fnUpdate(a,f)},sName:"pagination"})),g}function ma(a,b,c){var d=a._iDisplayStart,e=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===e?d=0:"number"==typeof b?(d=b*e,d>f&&(d=0)):"first"==b?d=0:"previous"==b?(d=e>=0?d-e:0,0>d&&(d=0)):"next"==b?f>d+e&&(d+=e):"last"==b?d=Math.floor((f-1)/e)*e:Ka(a,0,"Unknown paging action: "+b,5);var g=a._iDisplayStart!==d;return a._iDisplayStart=d,g&&(Pa(a,null,"page",[a]),c&&M(a)),g}function na(a){return d("<div/>",{id:a.aanFeatures.r?null:a.sTableId+"_processing","class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function oa(a,b){a.oFeatures.bProcessing&&d(a.aanFeatures.r).css("display",b?"block":"none"),Pa(a,null,"processing",[a,b])}function pa(a){var b=d(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,f=c.sY,g=a.oClasses,h=b.children("caption"),i=h.length?h[0]._captionSide:null,j=d(b[0].cloneNode(!1)),k=d(b[0].cloneNode(!1)),l=b.children("tfoot"),m="<div/>",n=function(a){return a?ya(a):null};c.sX&&"100%"===b.attr("width")&&b.removeAttr("width"),l.length||(l=null);var o=d(m,{"class":g.sScrollWrapper}).append(d(m,{"class":g.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?n(e):"100%"}).append(d(m,{"class":g.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(b.children("thead"))))).append(d(m,{"class":g.sScrollBody}).css({overflow:"auto",height:n(f),width:n(e)}).append(b));l&&o.append(d(m,{"class":g.sScrollFoot}).css({overflow:"hidden",border:0,width:e?n(e):"100%"}).append(d(m,{"class":g.sScrollFootInner}).append(k.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(b.children("tfoot")))));var p=o.children(),q=p[0],r=p[1],s=l?p[2]:null;return e&&d(r).scroll(function(a){var b=this.scrollLeft;q.scrollLeft=b,l&&(s.scrollLeft=b)}),a.nScrollHead=q,a.nScrollBody=r,a.nScrollFoot=s,a.aoDrawCallback.push({fn:qa,sName:"scrolling"}),o[0]}function qa(a){var b,c,e,f,g,h,i,j,k,l=a.oScroll,m=l.sX,n=l.sXInner,p=l.sY,q=l.iBarWidth,r=d(a.nScrollHead),s=r[0].style,t=r.children("div"),u=t[0].style,v=t.children("table"),w=a.nScrollBody,x=d(w),y=w.style,z=d(a.nScrollFoot),A=z.children("div"),B=A.children("table"),C=d(a.nTHead),D=d(a.nTable),E=D[0],F=E.style,G=a.nTFoot?d(a.nTFoot):null,H=a.oBrowser,I=H.bScrollOversize,J=[],K=[],L=[],M=function(a){var b=a.style;b.paddingTop="0",b.paddingBottom="0",b.borderTopWidth="0",b.borderBottomWidth="0",b.height=0};if(D.children("thead, tfoot").remove(),g=C.clone().prependTo(D),b=C.find("tr"),e=g.find("tr"),g.find("th, td").removeAttr("tabindex"),G&&(h=G.clone().prependTo(D),c=G.find("tr"),f=h.find("tr")),m||(y.width="100%",r[0].style.width="100%"),d.each(Q(a,g),function(b,c){i=o(a,b),c.style.width=a.aoColumns[i].sWidth}),G&&ra(function(a){a.style.width=""},f),l.bCollapse&&""!==p&&(y.height=x[0].offsetHeight+C[0].offsetHeight+"px"),k=D.outerWidth(),""===m?(F.width="100%",I&&(D.find("tbody").height()>w.offsetHeight||"scroll"==x.css("overflow-y"))&&(F.width=ya(D.outerWidth()-q))):""!==n?F.width=ya(n):k==x.width()&&x.height()<D.height()?(F.width=ya(k-q),D.outerWidth()>k-q&&(F.width=ya(k))):F.width=ya(k),k=D.outerWidth(),ra(M,e),ra(function(a){L.push(a.innerHTML),J.push(ya(d(a).css("width")))},e),ra(function(a,b){a.style.width=J[b]},b),d(e).height(0),G&&(ra(M,f),ra(function(a){K.push(ya(d(a).css("width")))},f),ra(function(a,b){a.style.width=K[b]},c),d(f).height(0)),ra(function(a,b){a.innerHTML=\'<div class="dataTables_sizing" style="height:0;overflow:hidden;">\'+L[b]+"</div>",a.style.width=J[b]},e),G&&ra(function(a,b){a.innerHTML="",a.style.width=K[b]},f),D.outerWidth()<k?(j=w.scrollHeight>w.offsetHeight||"scroll"==x.css("overflow-y")?k+q:k,I&&(w.scrollHeight>w.offsetHeight||"scroll"==x.css("overflow-y"))&&(F.width=ya(j-q)),(""===m||""!==n)&&Ka(a,1,"Possible column misalignment",6)):j="100%",y.width=ya(j),s.width=ya(j),G&&(a.nScrollFoot.style.width=ya(j)),p||I&&(y.height=ya(E.offsetHeight+q)),p&&l.bCollapse){y.height=ya(p);var N=m&&E.offsetWidth>w.offsetWidth?q:0;E.offsetHeight<w.offsetHeight&&(y.height=ya(E.offsetHeight+N))}var O=D.outerWidth();v[0].style.width=ya(O),u.width=ya(O);var P=D.height()>w.clientHeight||"scroll"==x.css("overflow-y"),R="padding"+(H.bScrollbarLeft?"Left":"Right");u[R]=P?q+"px":"0px",G&&(B[0].style.width=ya(O),A[0].style.width=ya(O),A[0].style[R]=P?q+"px":"0px"),x.scroll(),!a.bSorted&&!a.bFiltered||a._drawHold||(w.scrollTop=0)}function ra(a,b,c){for(var d,e,f=0,g=0,h=b.length;h>g;){for(d=b[g].firstChild,e=c?c[g].firstChild:null;d;)1===d.nodeType&&(c?a(d,e,f):a(d,f),f++),d=d.nextSibling,e=c?e.nextSibling:null;g++}}function sa(b){var c,e,f,g,h,i=b.nTable,j=b.aoColumns,k=b.oScroll,l=k.sY,m=k.sX,o=k.sXInner,p=j.length,s=r(b,"bVisible"),t=d("th",b.nTHead),u=i.getAttribute("width"),v=i.parentNode,w=!1;for(c=0;c<s.length;c++)e=j[s[c]],null!==e.sWidth&&(e.sWidth=ua(e.sWidthOrig,v),w=!0);if(w||m||l||p!=q(b)||p!=t.length){var x=d(i).clone().empty().css("visibility","hidden").removeAttr("id").append(d(b.nTHead).clone(!1)).append(d(b.nTFoot).clone(!1)).append(d("<tbody><tr/></tbody>"));x.find("tfoot th, tfoot td").css("width","");var y=x.find("tbody tr");for(t=Q(b,x.find("thead")[0]),c=0;c<s.length;c++)e=j[s[c]],t[c].style.width=null!==e.sWidthOrig&&""!==e.sWidthOrig?ya(e.sWidthOrig):"";if(b.aoData.length)for(c=0;c<s.length;c++)f=s[c],e=j[f],d(wa(b,f)).clone(!1).append(e.sContentPadding).appendTo(y);if(x.appendTo(v),m&&o?x.width(o):m?(x.css("width","auto"),x.width()<v.offsetWidth&&x.width(v.offsetWidth)):l?x.width(v.offsetWidth):u&&x.width(u),va(b,x[0]),m){var z=0;for(c=0;c<s.length;c++)e=j[s[c]],h=d(t[c]).outerWidth(),z+=null===e.sWidthOrig?h:parseInt(e.sWidth,10)+h-d(t[c]).width();x.width(ya(z)),i.style.width=ya(z)}for(c=0;c<s.length;c++)e=j[s[c]],g=d(t[c]).width(),g&&(e.sWidth=ya(g));i.style.width=ya(x.css("width")),x.remove()}else for(c=0;p>c;c++)j[c].sWidth=ya(t.eq(c).width());u&&(i.style.width=ya(u)),!u&&!m||b._reszEvt||(d(a).bind("resize.DT-"+b.sInstance,ta(function(){n(b)})),b._reszEvt=!0)}function ta(a,b){var d,e,f=b!==c?b:200;return function(){var b=this,g=+new Date,h=arguments;d&&d+f>g?(clearTimeout(e),e=setTimeout(function(){d=c,a.apply(b,h)},f)):d?(d=g,a.apply(b,h)):d=g}}function ua(a,c){if(!a)return 0;var e=d("<div/>").css("width",ya(a)).appendTo(c||b.body),f=e[0].offsetWidth;return e.remove(),f}function va(a,b){var c=a.oScroll;if(c.sX||c.sY){var e=c.sX?0:c.iBarWidth;b.style.width=ya(d(b).outerWidth()-e)}}function wa(a,b){var c=xa(a,b);if(0>c)return null;var e=a.aoData[c];return e.nTr?e.anCells[b]:d("<td/>").html(y(a,c,b,"display"))[0]}function xa(a,b){for(var c,d=-1,e=-1,f=0,g=a.aoData.length;g>f;f++)c=y(a,f,b,"display")+"",c=c.replace(xb,""),c.length>d&&(d=c.length,e=f);return e}function ya(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\\d$/)?a+"px":a}function za(){if(!Wa.__scrollbarWidth){var a=d("<p/>").css({width:"100%",height:200,padding:0})[0],b=d("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll");var e=a.offsetWidth;c===e&&(e=b[0].clientWidth),b.remove(),Wa.__scrollbarWidth=c-e}return Wa.__scrollbarWidth}function Aa(a){var b,e,f,g,h,i,j,k=[],l=a.aoColumns,m=a.aaSortingFixed,n=d.isPlainObject(m),o=[],p=function(a){a.length&&!d.isArray(a[0])?o.push(a):o.push.apply(o,a)};for(d.isArray(m)&&p(m),n&&m.pre&&p(m.pre),p(a.aaSorting),n&&m.post&&p(m.post),b=0;b<o.length;b++)for(j=o[b][0],g=l[j].aDataSort,e=0,f=g.length;f>e;e++)h=g[e],i=l[h].sType||"string",o[b]._idx===c&&(o[b]._idx=d.inArray(o[b][1],l[h].asSorting)),k.push({src:j,col:h,dir:o[b][1],index:o[b]._idx,type:i,formatter:Wa.ext.type.order[i+"-pre"]});return k}function Ba(a){var b,c,d,e,f,g=[],h=Wa.ext.type.order,i=a.aoData,j=(a.aoColumns,0),k=a.aiDisplayMaster;for(s(a),f=Aa(a),b=0,c=f.length;c>b;b++)e=f[b],e.formatter&&j++,Ga(a,e.col);if("ssp"!=Sa(a)&&0!==f.length){for(b=0,d=k.length;d>b;b++)g[k[b]]=b;j===f.length?k.sort(function(a,b){var c,d,e,h,j,k=f.length,l=i[a]._aSortData,m=i[b]._aSortData;for(e=0;k>e;e++)if(j=f[e],c=l[j.col],d=m[j.col],h=d>c?-1:c>d?1:0,0!==h)return"asc"===j.dir?h:-h;return c=g[a],d=g[b],d>c?-1:c>d?1:0}):k.sort(function(a,b){var c,d,e,j,k,l,m=f.length,n=i[a]._aSortData,o=i[b]._aSortData;for(e=0;m>e;e++)if(k=f[e],c=n[k.col],d=o[k.col],l=h[k.type+"-"+k.dir]||h["string-"+k.dir],j=l(c,d),0!==j)return j;return c=g[a],d=g[b],d>c?-1:c>d?1:0})}a.bSorted=!0}function Ca(a){for(var b,c,d=a.aoColumns,e=Aa(a),f=a.oLanguage.oAria,g=0,h=d.length;h>g;g++){var i=d[g],j=i.asSorting,k=i.sTitle.replace(/<.*?>/g,""),l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable?(e.length>0&&e[0].col==g?(l.setAttribute("aria-sort","asc"==e[0].dir?"ascending":"descending"),c=j[e[0].index+1]||j[0]):c=j[0],b=k+("asc"===c?f.sSortAscending:f.sSortDescending)):b=k,l.setAttribute("aria-label",b)}}function Da(a,b,e,f){var g,h=a.aoColumns[b],i=a.aaSorting,j=h.asSorting,k=function(a,b){var e=a._idx;return e===c&&(e=d.inArray(a[1],j)),e+1<j.length?e+1:b?null:0};if("number"==typeof i[0]&&(i=a.aaSorting=[i]),e&&a.oFeatures.bSortMulti){var l=d.inArray(b,mb(i,"0"));-1!==l?(g=k(i[l],!0),null===g?i.splice(l,1):(i[l][1]=j[g],i[l]._idx=g)):(i.push([b,j[0],0]),i[i.length-1]._idx=0)}else i.length&&i[0][0]==b?(g=k(i[0]),i.length=1,i[0][1]=j[g],i[0]._idx=g):(i.length=0,i.push([b,j[0]]),i[0]._idx=0);N(a),"function"==typeof f&&f(a)}function Ea(a,b,c,d){var e=a.aoColumns[c];Na(b,{},function(b){e.bSortable!==!1&&(a.oFeatures.bProcessing?(oa(a,!0),setTimeout(function(){Da(a,c,b.shiftKey,d),"ssp"!==Sa(a)&&oa(a,!1)},0)):Da(a,c,b.shiftKey,d))})}function Fa(a){var b,c,e,f=a.aLastSort,g=a.oClasses.sSortColumn,h=Aa(a),i=a.oFeatures;if(i.bSort&&i.bSortClasses){for(b=0,c=f.length;c>b;b++)e=f[b].src,d(mb(a.aoData,"anCells",e)).removeClass(g+(2>b?b+1:3));for(b=0,c=h.length;c>b;b++)e=h[b].src,d(mb(a.aoData,"anCells",e)).addClass(g+(2>b?b+1:3))}a.aLastSort=h}function Ga(a,b){var c,d=a.aoColumns[b],e=Wa.ext.order[d.sSortDataType];e&&(c=e.call(a.oInstance,a,b,p(a,b)));for(var f,g,h=Wa.ext.type.order[d.sType+"-pre"],i=0,j=a.aoData.length;j>i;i++)f=a.aoData[i],f._aSortData||(f._aSortData=[]),(!f._aSortData[b]||e)&&(g=e?c[i]:y(a,i,b,"sort"),f._aSortData[b]=h?h(g):g)}function Ha(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:d.extend(!0,[],a.aaSorting),search:ca(a.oPreviousSearch),columns:d.map(a.aoColumns,function(b,c){return{visible:b.bVisible,search:ca(a.aoPreSearchCols[c])}})};Pa(a,"aoStateSaveParams","stateSaveParams",[a,b]),a.oSavedState=b,a.fnStateSaveCallback.call(a.oInstance,a,b)}}function Ia(a,b){var c,e,f=a.aoColumns;if(a.oFeatures.bStateSave){var g=a.fnStateLoadCallback.call(a.oInstance,a);if(g&&g.time){var h=Pa(a,"aoStateLoadParams","stateLoadParams",[a,g]);if(-1===d.inArray(!1,h)){var i=a.iStateDuration;if(!(i>0&&g.time<+new Date-1e3*i)&&f.length===g.columns.length){for(a.oLoadedState=d.extend(!0,{},g),a._iDisplayStart=g.start,a.iInitDisplayStart=g.start,a._iDisplayLength=g.length,a.aaSorting=[],d.each(g.order,function(b,c){a.aaSorting.push(c[0]>=f.length?[0,c[1]]:c)}),d.extend(a.oPreviousSearch,da(g.search)),c=0,e=g.columns.length;e>c;c++){var j=g.columns[c];f[c].bVisible=j.visible,d.extend(a.aoPreSearchCols[c],da(j.search))}Pa(a,"aoStateLoaded","stateLoaded",[a,g])}}}}}function Ja(a){var b=Wa.settings,c=d.inArray(a,mb(b,"nTable"));return-1!==c?b[c]:null}function Ka(b,c,d,e){if(d="DataTables warning: "+(null!==b?"table id="+b.sTableId+" - ":"")+d,e&&(d+=". For more information about this error, please see http://datatables.net/tn/"+e),c)a.console&&console.log&&console.log(d);else{var f=Wa.ext,g=f.sErrMode||f.errMode;if("alert"!=g)throw new Error(d);alert(d)}}function La(a,b,e,f){return d.isArray(e)?void d.each(e,function(c,e){d.isArray(e)?La(a,b,e[0],e[1]):La(a,b,e)}):(f===c&&(f=e),void(b[e]!==c&&(a[f]=b[e])))}function Ma(a,b,c){var e;for(var f in b)b.hasOwnProperty(f)&&(e=b[f],d.isPlainObject(e)?(d.isPlainObject(a[f])||(a[f]={}),d.extend(!0,a[f],e)):c&&"data"!==f&&"aaData"!==f&&d.isArray(e)?a[f]=e.slice():a[f]=e);return a}function Na(a,b,c){d(a).bind("click.DT",b,function(b){a.blur(),c(b)}).bind("keypress.DT",b,function(a){13===a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function Oa(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function Pa(a,b,c,e){var f=[];return b&&(f=d.map(a[b].slice().reverse(),function(b,c){return b.fn.apply(a.oInstance,e)})),null!==c&&d(a.nTable).trigger(c+".dt",e),f}function Qa(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),d=a._iDisplayLength;b>=c&&(b=c-d),b-=b%d,(-1===d||0>b)&&(b=0),a._iDisplayStart=b}function Ra(a,b){var c=a.renderer,e=Wa.ext.renderer[b];return d.isPlainObject(c)&&c[b]?e[c[b]]||e._:"string"==typeof c?e[c]||e._:e._}function Sa(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Ta(a,b){var c=[],d=Ub.numbers_length,e=Math.floor(d/2);return d>=b?c=ob(0,b):e>=a?(c=ob(0,d-2),c.push("ellipsis"),c.push(b-1)):a>=b-1-e?(c=ob(b-(d-2),b),c.splice(0,0,"ellipsis"),c.splice(0,0,0)):(c=ob(a-1,a+2),c.push("ellipsis"),c.push(b-1),c.splice(0,0,"ellipsis"),c.splice(0,0,0)),c.DT_el="span",c}function Ua(a){d.each({num:function(b){return Vb(b,a)},"num-fmt":function(b){return Vb(b,a,fb)},"html-num":function(b){return Vb(b,a,bb)},"html-num-fmt":function(b){return Vb(b,a,bb,fb)}},function(b,c){Xa.type.order[b+a+"-pre"]=c,b.match(/^html\\-/)&&(Xa.type.search[b+a]=Xa.type.search.html)})}function Va(a){return function(){var b=[Ja(this[Wa.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Wa.ext.internal[a].apply(this,b)}}var Wa,Xa,Ya,Za,$a,_a={},ab=/[\\r\\n]/g,bb=/<.*?>/g,cb=/^[\\w\\+\\-]/,db=/[\\w\\+\\-]$/,eb=new RegExp("(\\\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\\\","$","^","-"].join("|\\\\")+")","g"),fb=/[\',$%\\u2009\\u202F]/g,gb=function(a){return a&&a!==!0&&"-"!==a?!1:!0},hb=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},ib=function(a,b){return _a[b]||(_a[b]=new RegExp(aa(b),"g")),"string"==typeof a&&"."!==b?a.replace(/\\./g,"").replace(_a[b],"."):a},jb=function(a,b,c){var d="string"==typeof a;return b&&d&&(a=ib(a,b)),c&&d&&(a=a.replace(fb,"")),gb(a)||!isNaN(parseFloat(a))&&isFinite(a)},kb=function(a){return gb(a)||"string"==typeof a},lb=function(a,b,c){if(gb(a))return!0;var d=kb(a);return d&&jb(qb(a),b,c)?!0:null},mb=function(a,b,d){var e=[],f=0,g=a.length;if(d!==c)for(;g>f;f++)a[f]&&a[f][b]&&e.push(a[f][b][d]);else for(;g>f;f++)a[f]&&e.push(a[f][b]);return e},nb=function(a,b,d,e){var f=[],g=0,h=b.length;if(e!==c)for(;h>g;g++)a[b[g]][d]&&f.push(a[b[g]][d][e]);else for(;h>g;g++)f.push(a[b[g]][d]);return f},ob=function(a,b){var d,e=[];b===c?(b=0,d=a):(d=b,b=a);for(var f=b;d>f;f++)e.push(f);return e},pb=function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b},qb=function(a){return a.replace(bb,"")},rb=function(a){var b,c,d,e=[],f=a.length,g=0;a:for(c=0;f>c;c++){for(b=a[c],d=0;g>d;d++)if(e[d]===b)continue a;e.push(b),g++}return e},sb=function(a,b,d){a[b]!==c&&(a[d]=a[b])},tb=/\\[.*?\\]$/,ub=/\\(\\)$/,vb=d("<div>")[0],wb=vb.textContent!==c,xb=/<.*?>/g;Wa=function(a){this.$=function(a,b){return this.api(!0).$(a,b)},this._=function(a,b){return this.api(!0).rows(a,b).data()},this.api=function(a){return new Ya(a?Ja(this[Xa.iApiIndex]):this)},this.fnAddData=function(a,b){var e=this.api(!0),f=d.isArray(a)&&(d.isArray(a[0])||d.isPlainObject(a[0]))?e.rows.add(a):e.row.add(a);return(b===c||b)&&e.draw(),f.flatten().toArray()},this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),d=b.settings()[0],e=d.oScroll;a===c||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&qa(d)},this.fnClearTable=function(a){var b=this.api(!0).clear();(a===c||a)&&b.draw()},this.fnClose=function(a){this.api(!0).row(a).child.hide()},this.fnDeleteRow=function(a,b,d){var e=this.api(!0),f=e.rows(a),g=f.settings()[0],h=g.aoData[f[0][0]];return f.remove(),b&&b.call(this,g,h),(d===c||d)&&e.draw(),h},this.fnDestroy=function(a){this.api(!0).destroy(a)},this.fnDraw=function(a){this.api(!0).draw(!a)},this.fnFilter=function(a,b,d,e,f,g){var h=this.api(!0);null===b||b===c?h.search(a,d,e,g):h.column(b).search(a,d,e,g),h.draw()},this.fnGetData=function(a,b){var d=this.api(!0);if(a!==c){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==c||"td"==e||"th"==e?d.cell(a,b).data():d.row(a).data()||null}return d.data().toArray()},this.fnGetNodes=function(a){var b=this.api(!0);return a!==c?b.row(a).node():b.rows().nodes().flatten().toArray()},this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();\nif("TR"==c)return b.row(a).index();if("TD"==c||"TH"==c){var d=b.cell(a).index();return[d.row,d.columnVisible,d.column]}return null},this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()},this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]},this.fnPageChange=function(a,b){var d=this.api(!0).page(a);(b===c||b)&&d.draw(!1)},this.fnSetColumnVis=function(a,b,d){var e=this.api(!0).column(a).visible(b);(d===c||d)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ja(this[Xa.iApiIndex])},this.fnSort=function(a){this.api(!0).order(a).draw()},this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)},this.fnUpdate=function(a,b,d,e,f){var g=this.api(!0);return d===c||null===d?g.row(b).data(a):g.cell(b,d).data(a),(f===c||f)&&g.columns.adjust(),(e===c||e)&&g.draw(),0},this.fnVersionCheck=Xa.fnVersionCheck;var b=this,e=a===c,k=this.length;e&&(a={}),this.oApi=this.internal=Xa.internal;for(var n in Wa.ext.internal)n&&(this[n]=Va(n));return this.each(function(){var n,o={},p=k>1?Ma(o,a,!0):a,q=0,r=this.getAttribute("id"),s=!1,w=Wa.defaults;if("table"!=this.nodeName.toLowerCase())return void Ka(null,0,"Non-table node initialisation ("+this.nodeName+")",2);h(w),i(w.column),f(w,w,!0),f(w.column,w.column,!0),f(w,p);var x=Wa.settings;for(q=0,n=x.length;n>q;q++){if(x[q].nTable==this){var y=p.bRetrieve!==c?p.bRetrieve:w.bRetrieve,z=p.bDestroy!==c?p.bDestroy:w.bDestroy;if(e||y)return x[q].oInstance;if(z){x[q].oInstance.fnDestroy();break}return void Ka(x[q],0,"Cannot reinitialise DataTable",3)}if(x[q].sTableId==this.id){x.splice(q,1);break}}(null===r||""===r)&&(r="DataTables_Table_"+Wa.ext._unique++,this.id=r);var A=d.extend(!0,{},Wa.models.oSettings,{nTable:this,oApi:b.internal,oInit:p,sDestroyWidth:d(this)[0].style.width,sInstance:r,sTableId:r});x.push(A),A.oInstance=1===b.length?b:d(this).dataTable(),h(p),p.oLanguage&&g(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=d.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Ma(d.extend(!0,{},w),p),La(A.oFeatures,p,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),La(A,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),La(A.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),La(A.oLanguage,p,"fnInfoCallback"),Oa(A,"aoDrawCallback",p.fnDrawCallback,"user"),Oa(A,"aoServerParams",p.fnServerParams,"user"),Oa(A,"aoStateSaveParams",p.fnStateSaveParams,"user"),Oa(A,"aoStateLoadParams",p.fnStateLoadParams,"user"),Oa(A,"aoStateLoaded",p.fnStateLoaded,"user"),Oa(A,"aoRowCallback",p.fnRowCallback,"user"),Oa(A,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Oa(A,"aoHeaderCallback",p.fnHeaderCallback,"user"),Oa(A,"aoFooterCallback",p.fnFooterCallback,"user"),Oa(A,"aoInitComplete",p.fnInitComplete,"user"),Oa(A,"aoPreDrawCallback",p.fnPreDrawCallback,"user");var B=A.oClasses;if(p.bJQueryUI?(d.extend(B,Wa.ext.oJUIClasses,p.oClasses),p.sDom===w.sDom&&"lfrtip"===w.sDom&&(A.sDom=\'<"H"lfr>t<"F"ip>\'),A.renderer?d.isPlainObject(A.renderer)&&!A.renderer.header&&(A.renderer.header="jqueryui"):A.renderer="jqueryui"):d.extend(B,Wa.ext.classes,p.oClasses),d(this).addClass(B.sTable),(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(A.oScroll.iBarWidth=za()),A.oScroll.sX===!0&&(A.oScroll.sX="100%"),A.iInitDisplayStart===c&&(A.iInitDisplayStart=p.iDisplayStart,A._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading){A.bDeferLoading=!0;var C=d.isArray(p.iDeferLoading);A._iRecordsDisplay=C?p.iDeferLoading[0]:p.iDeferLoading,A._iRecordsTotal=C?p.iDeferLoading[1]:p.iDeferLoading}var D=A.oLanguage;d.extend(!0,D,p.oLanguage),""!==D.sUrl&&(d.ajax({dataType:"json",url:D.sUrl,success:function(a){g(a),f(w.oLanguage,a),d.extend(!0,D,a),ha(A)},error:function(){ha(A)}}),s=!0),null===p.asStripeClasses&&(A.asStripeClasses=[B.sStripeOdd,B.sStripeEven]);var E=A.asStripeClasses,F=d("tbody tr:eq(0)",this);-1!==d.inArray(!0,d.map(E,function(a,b){return F.hasClass(a)}))&&(d("tbody tr",this).removeClass(E.join(" ")),A.asDestroyStripes=E.slice());var G,I=[],J=this.getElementsByTagName("thead");if(0!==J.length&&(P(A.aoHeader,J[0]),I=Q(A)),null===p.aoColumns)for(G=[],q=0,n=I.length;n>q;q++)G.push(null);else G=p.aoColumns;for(q=0,n=G.length;n>q;q++)l(A,I?I[q]:null);if(t(A,p.aoColumnDefs,G,function(a,b){m(A,a,b)}),F.length){var K=function(a,b){return a.getAttribute("data-"+b)?b:null};d.each(H(A,F[0]).cells,function(a,b){var d=A.aoColumns[a];if(d.mData===a){var e=K(b,"sort")||K(b,"order"),f=K(b,"filter")||K(b,"search");(null!==e||null!==f)&&(d.mData={_:a+".display",sort:null!==e?a+".@data-"+e:c,type:null!==e?a+".@data-"+e:c,filter:null!==f?a+".@data-"+f:c},m(A,a))}})}var L=A.oFeatures;if(p.bStateSave&&(L.bStateSave=!0,Ia(A,p),Oa(A,"aoDrawCallback",Ha,"state_save")),p.aaSorting===c){var M=A.aaSorting;for(q=0,n=M.length;n>q;q++)M[q][1]=A.aoColumns[q].asSorting[0]}Fa(A),L.bSort&&Oa(A,"aoDrawCallback",function(){if(A.bSorted){var a=Aa(A),b={};d.each(a,function(a,c){b[c.src]=c.dir}),Pa(A,null,"order",[A,a,b]),Ca(A)}}),Oa(A,"aoDrawCallback",function(){(A.bSorted||"ssp"===Sa(A)||L.bDeferRender)&&Fa(A)},"sc"),j(A);var N=d(this).children("caption").each(function(){this._captionSide=d(this).css("caption-side")}),O=d(this).children("thead");0===O.length&&(O=d("<thead/>").appendTo(this)),A.nTHead=O[0];var R=d(this).children("tbody");0===R.length&&(R=d("<tbody/>").appendTo(this)),A.nTBody=R[0];var S=d(this).children("tfoot");if(0===S.length&&N.length>0&&(""!==A.oScroll.sX||""!==A.oScroll.sY)&&(S=d("<tfoot/>").appendTo(this)),0===S.length||0===S.children().length?d(this).addClass(B.sNoFooter):S.length>0&&(A.nTFoot=S[0],P(A.aoFooter,A.nTFoot)),p.aaData)for(q=0;q<p.aaData.length;q++)u(A,p.aaData[q]);else(A.bDeferLoading||"dom"==Sa(A))&&v(A,d(A.nTBody).children("tr"));A.aiDisplay=A.aiDisplayMaster.slice(),A.bInitialised=!0,s===!1&&ha(A)}),b=null,this};var yb=[],zb=Array.prototype,Ab=function(a){var b,c,e=Wa.settings,f=d.map(e,function(a,b){return a.nTable});return a?a.nTable&&a.oApi?[a]:a.nodeName&&"table"===a.nodeName.toLowerCase()?(b=d.inArray(a,f),-1!==b?[e[b]]:null):a&&"function"==typeof a.settings?a.settings().toArray():("string"==typeof a?c=d(a):a instanceof d&&(c=a),c?c.map(function(a){return b=d.inArray(this,f),-1!==b?e[b]:null}).toArray():void 0):[]};Ya=function(a,b){if(!this instanceof Ya)throw"DT API must be constructed as a new object";var c=[],e=function(a){var b=Ab(a);b&&c.push.apply(c,b)};if(d.isArray(a))for(var f=0,g=a.length;g>f;f++)e(a[f]);else e(a);this.context=rb(c),b&&this.push.apply(this,b.toArray?b.toArray():b),this.selector={rows:null,cols:null,opts:null},Ya.extend(this,this,yb)},Wa.Api=Ya,Ya.prototype={concat:zb.concat,context:[],each:function(a){for(var b=0,c=this.length;c>b;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new Ya(b[a],this[a]):null},filter:function(a){var b=[];if(zb.filter)b=zb.filter.call(this,a,this);else for(var c=0,d=this.length;d>c;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new Ya(this.context,b)},flatten:function(){var a=[];return new Ya(this.context,a.concat.apply(a,this.toArray()))},join:zb.join,indexOf:zb.indexOf||function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,d,e){var f,g,h,i,j,k,l,m,n=[],o=this.context,p=this.selector;for("string"==typeof a&&(e=d,d=b,b=a,a=!1),g=0,h=o.length;h>g;g++){var q=new Ya(o[g]);if("table"===b)f=d.call(q,o[g],g),f!==c&&n.push(f);else if("columns"===b||"rows"===b)f=d.call(q,o[g],this[g],g),f!==c&&n.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===b)for(l=this[g],"column-rows"===b&&(k=Gb(o[g],p.opts)),i=0,j=l.length;j>i;i++)m=l[i],f="cell"===b?d.call(q,o[g],m.row,m.column,g,i):d.call(q,o[g],m,g,i,k),f!==c&&n.push(f)}if(n.length||e){var r=new Ya(o,a?n.concat.apply([],n):n),s=r.selector;return s.rows=p.rows,s.cols=p.cols,s.opts=p.opts,r}return this},lastIndexOf:zb.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(zb.map)b=zb.map.call(this,a,this);else for(var c=0,d=this.length;d>c;c++)b.push(a.call(this,this[c],c));return new Ya(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:zb.pop,push:zb.push,reduce:zb.reduce||function(a,b){return k(this,a,b,0,this.length,1)},reduceRight:zb.reduceRight||function(a,b){return k(this,a,b,this.length-1,-1,-1)},reverse:zb.reverse,selector:null,shift:zb.shift,sort:zb.sort,splice:zb.splice,toArray:function(){return zb.slice.call(this)},to$:function(){return d(this)},toJQuery:function(){return d(this)},unique:function(){return new Ya(this.context,rb(this))},unshift:zb.unshift},Ya.extend=function(a,b,c){if(b&&(b instanceof Ya||b.__dt_wrapper)){var e,f,g,h=function(a,b,c){return function(){var d=b.apply(a,arguments);return Ya.extend(d,d,c.methodExt),d}};for(e=0,f=c.length;f>e;e++)g=c[e],b[g.name]="function"==typeof g.val?h(a,g.val,g):d.isPlainObject(g.val)?{}:g.val,b[g.name].__dt_wrapper=!0,Ya.extend(a,b[g.name],g.propExt)}},Ya.register=Za=function(a,b){if(d.isArray(a))for(var c=0,e=a.length;e>c;c++)Ya.register(a[c],b);else{var f,g,h,i,j=a.split("."),k=yb,l=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c].name===b)return a[c];return null};for(f=0,g=j.length;g>f;f++){i=-1!==j[f].indexOf("()"),h=i?j[f].replace("()",""):j[f];var m=l(k,h);m||(m={name:h,val:{},methodExt:[],propExt:[]},k.push(m)),f===g-1?m.val=b:k=i?m.methodExt:m.propExt}}},Ya.registerPlural=$a=function(a,b,e){Ya.register(a,e),Ya.register(b,function(){var a=e.apply(this,arguments);return a===this?this:a instanceof Ya?a.length?d.isArray(a[0])?new Ya(a.context,a[0]):a[0]:c:a})};var Bb=function(a,b){if("number"==typeof a)return[b[a]];var c=d.map(b,function(a,b){return a.nTable});return d(c).filter(a).map(function(a){var e=d.inArray(this,c);return b[e]}).toArray()};Za("tables()",function(a){return a?new Ya(Bb(a,this.context)):this}),Za("table()",function(a){var b=this.tables(a),c=b.context;return c.length?new Ya(c[0]):b}),$a("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)}),$a("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)}),$a("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)}),$a("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)}),$a("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)}),Za("draw()",function(a){return this.iterator("table",function(b){N(b,a===!1)})}),Za("page()",function(a){return a===c?this.page.info().page:this.iterator("table",function(b){ma(b,a)})}),Za("page.info()",function(a){if(0===this.context.length)return c;var b=this.context[0],d=b._iDisplayStart,e=b._iDisplayLength,f=b.fnRecordsDisplay(),g=-1===e;return{page:g?0:Math.floor(d/e),pages:g?1:Math.ceil(f/e),start:d,end:b.fnDisplayEnd(),length:e,recordsTotal:b.fnRecordsTotal(),recordsDisplay:f}}),Za("page.len()",function(a){return a===c?0!==this.context.length?this.context[0]._iDisplayLength:c:this.iterator("table",function(b){ja(b,a)})});var Cb=function(a,b,c){if("ssp"==Sa(a)?N(a,b):(oa(a,!0),R(a,[],function(c){E(a);for(var d=V(a,c),e=0,f=d.length;f>e;e++)u(a,d[e]);N(a,b),oa(a,!1)})),c){var d=new Ya(a);d.one("draw",function(){c(d.ajax.json())})}};Za("ajax.json()",function(){var a=this.context;return a.length>0?a[0].json:void 0}),Za("ajax.params()",function(){var a=this.context;return a.length>0?a[0].oAjaxData:void 0}),Za("ajax.reload()",function(a,b){return this.iterator("table",function(c){Cb(c,b===!1,a)})}),Za("ajax.url()",function(a){var b=this.context;return a===c?0===b.length?c:(b=b[0],b.ajax?d.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource):this.iterator("table",function(b){d.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})}),Za("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Cb(c,b===!1,a)})});var Db=function(a,b){var e,f,g,h,i,j,k=[],l=typeof a;for(a&&"string"!==l&&"function"!==l&&a.length!==c||(a=[a]),g=0,h=a.length;h>g;g++)for(f=a[g]&&a[g].split?a[g].split(","):[a[g]],i=0,j=f.length;j>i;i++)e=b("string"==typeof f[i]?d.trim(f[i]):f[i]),e&&e.length&&k.push.apply(k,e);return k},Eb=function(a){return a||(a={}),a.filter&&!a.search&&(a.search=a.filter),{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},Fb=function(a){for(var b=0,c=a.length;c>b;b++)if(a[b].length>0)return a[0]=a[b],a.length=1,a.context=[a.context[b]],a;return a.length=0,a},Gb=function(a,b){var c,e,f,g=[],h=a.aiDisplay,i=a.aiDisplayMaster,j=b.search,k=b.order,l=b.page;if("ssp"==Sa(a))return"removed"===j?[]:ob(0,i.length);if("current"==l)for(c=a._iDisplayStart,e=a.fnDisplayEnd();e>c;c++)g.push(h[c]);else if("current"==k||"applied"==k)g="none"==j?i.slice():"applied"==j?h.slice():d.map(i,function(a,b){return-1===d.inArray(a,h)?a:null});else if("index"==k||"original"==k)for(c=0,e=a.aoData.length;e>c;c++)"none"==j?g.push(c):(f=d.inArray(c,h),(-1===f&&"removed"==j||f>=0&&"applied"==j)&&g.push(c));return g},Hb=function(a,b,c){return Db(b,function(b){var e=hb(b);if(null!==e&&!c)return[e];var f=Gb(a,c);if(null!==e&&-1!==d.inArray(e,f))return[e];if(!b)return f;if("function"==typeof b)return d.map(f,function(c){var d=a.aoData[c];return b(c,d._aData,d.nTr)?c:null});var g=pb(nb(a.aoData,f,"nTr"));return b.nodeName&&-1!==d.inArray(b,g)?[b._DT_RowIndex]:d(g).filter(b).map(function(){return this._DT_RowIndex}).toArray()})};Za("rows()",function(a,b){a===c?a="":d.isPlainObject(a)&&(b=a,a=""),b=Eb(b);var e=this.iterator("table",function(c){return Hb(c,a,b)},1);return e.selector.rows=a,e.selector.opts=b,e}),Za("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||c},1)}),Za("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return nb(a.aoData,b,"_aData")},1)}),$a("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var d=b.aoData[c];return"search"===a?d._aFilterData:d._aSortData},1)}),$a("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){G(b,c,a)})}),$a("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)}),$a("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var f=b.aoData;f.splice(c,1);for(var g=0,h=f.length;h>g;g++)null!==f[g].nTr&&(f[g].nTr._DT_RowIndex=g);d.inArray(c,b.aiDisplay);F(b.aiDisplayMaster,c),F(b.aiDisplay,c),F(a[e],c,!1),Qa(b)})}),Za("rows.add()",function(a){var b=this.iterator("table",function(b){var c,d,e,f=[];for(d=0,e=a.length;e>d;d++)c=a[d],c.nodeName&&"TR"===c.nodeName.toUpperCase()?f.push(v(b,c)[0]):f.push(u(b,c));return f},1),c=this.rows(-1);return c.pop(),c.push.apply(c,b.toArray()),c}),Za("row()",function(a,b){return Fb(this.rows(a,b))}),Za("row().data()",function(a){var b=this.context;return a===c?b.length&&this.length?b[0].aoData[this[0]]._aData:c:(b[0].aoData[this[0]]._aData=a,G(b[0],this[0],"data"),this)}),Za("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null}),Za("row.add()",function(a){a instanceof d&&a.length&&(a=a[0]);var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?v(b,a)[0]:u(b,a)});return this.row(b[0])});var Ib=function(a,b,c,e){var f=[],g=function(b,c){if(b.nodeName&&"tr"===b.nodeName.toLowerCase())f.push(b);else{var e=d("<tr><td/></tr>").addClass(c);d("td",e).addClass(c).html(b)[0].colSpan=q(a),f.push(e[0])}};if(d.isArray(c)||c instanceof d)for(var h=0,i=c.length;i>h;h++)g(c[h],e);else g(c,e);b._details&&b._details.remove(),b._details=d(f),b._detailsShow&&b._details.insertAfter(b.nTr)},Jb=function(a,b){var d=a.context;if(d.length){var e=d[0].aoData[b!==c?b:a[0]];e._details&&(e._details.remove(),e._detailsShow=c,e._details=c)}},Kb=function(a,b){var c=a.context;if(c.length&&a.length){var d=c[0].aoData[a[0]];d._details&&(d._detailsShow=b,b?d._details.insertAfter(d.nTr):d._details.detach(),Lb(c[0]))}},Lb=function(a){var b=new Ya(a),c=".dt.DT_details",d="draw"+c,e="column-visibility"+c,f="destroy"+c,g=a.aoData;b.off(d+" "+e+" "+f),mb(g,"_details").length>0&&(b.on(d,function(c,d){a===d&&b.rows({page:"current"}).eq(0).each(function(a){var b=g[a];b._detailsShow&&b._details.insertAfter(b.nTr)})}),b.on(e,function(b,c,d,e){if(a===c)for(var f,h=q(c),i=0,j=g.length;j>i;i++)f=g[i],f._details&&f._details.children("td[colspan]").attr("colspan",h)}),b.on(f,function(c,d){if(a===d)for(var e=0,f=g.length;f>e;e++)g[e]._details&&Jb(b,e)}))},Mb="",Nb=Mb+"row().child",Ob=Nb+"()";Za(Ob,function(a,b){var d=this.context;return a===c?d.length&&this.length?d[0].aoData[this[0]]._details:c:(a===!0?this.child.show():a===!1?Jb(this):d.length&&this.length&&Ib(d[0],d[0].aoData[this[0]],a,b),this)}),Za([Nb+".show()",Ob+".show()"],function(a){return Kb(this,!0),this}),Za([Nb+".hide()",Ob+".hide()"],function(){return Kb(this,!1),this}),Za([Nb+".remove()",Ob+".remove()"],function(){return Jb(this),this}),Za(Nb+".isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var Pb=/^(.+):(name|visIdx|visible)$/,Qb=function(a,b,c,d,e){for(var f=[],g=0,h=e.length;h>g;g++)f.push(y(a,e[g],b));return f},Rb=function(a,b,c){var e=a.aoColumns,f=mb(e,"sName"),g=mb(e,"nTh");return Db(b,function(b){var h=hb(b);if(""===b)return ob(e.length);if(null!==h)return[h>=0?h:e.length+h];if("function"==typeof b){var i=Gb(a,c);return d.map(e,function(c,d){return b(d,Qb(a,d,0,0,i),g[d])?d:null})}var j="string"==typeof b?b.match(Pb):"";if(!j)return d(g).filter(b).map(function(){return d.inArray(this,g)}).toArray();switch(j[2]){case"visIdx":case"visible":var k=parseInt(j[1],10);if(0>k){var l=d.map(e,function(a,b){return a.bVisible?b:null});return[l[l.length+k]]}return[o(a,k)];case"name":return d.map(f,function(a,b){return a===j[1]?b:null})}})},Sb=function(a,b,e,f){var g,h,i,j,k=a.aoColumns,l=k[b],m=a.aoData;if(e===c)return l.bVisible;if(l.bVisible!==e){if(e){var o=d.inArray(!0,mb(k,"bVisible"),b+1);for(h=0,i=m.length;i>h;h++)j=m[h].nTr,g=m[h].anCells,j&&j.insertBefore(g[b],g[o]||null)}else d(mb(a.aoData,"anCells",b)).detach();l.bVisible=e,L(a,a.aoHeader),L(a,a.aoFooter),(f===c||f)&&(n(a),(a.oScroll.sX||a.oScroll.sY)&&qa(a)),Pa(a,null,"column-visibility",[a,b,e]),Ha(a)}};Za("columns()",function(a,b){a===c?a="":d.isPlainObject(a)&&(b=a,a=""),b=Eb(b);var e=this.iterator("table",function(c){return Rb(c,a,b)},1);return e.selector.cols=a,e.selector.opts=b,e}),$a("columns().header()","column().header()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)}),$a("columns().footer()","column().footer()",function(a,b){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)}),$a("columns().data()","column().data()",function(){return this.iterator("column-rows",Qb,1)}),$a("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)}),$a("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,d,e,f){return nb(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)}),$a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(a,b,c,d,e){return nb(a.aoData,e,"anCells",b)},1)}),$a("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(d,e){return a===c?d.aoColumns[e].bVisible:void Sb(d,e,a,b)})}),$a("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?p(b,c):c},1)}),Za("columns.adjust()",function(){return this.iterator("table",function(a){n(a)},1)}),Za("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return o(c,b);if("fromData"===a||"toVisible"===a)return p(c,b)}}),Za("column()",function(a,b){return Fb(this.columns(a,b))});var Tb=function(a,b,e){var f,g,h,i,j,k,l,m=a.aoData,n=Gb(a,e),o=pb(nb(m,n,"anCells")),p=d([].concat.apply([],o)),q=a.aoColumns.length;return Db(b,function(b){var e="function"==typeof b;if(null===b||b===c||e){for(g=[],h=0,i=n.length;i>h;h++)for(f=n[h],j=0;q>j;j++)k={row:f,column:j},e?(l=a.aoData[f],b(k,y(a,f,j),l.anCells[j])&&g.push(k)):g.push(k);return g}return d.isPlainObject(b)?[b]:p.filter(b).map(function(a,b){return f=b.parentNode._DT_RowIndex,{row:f,column:d.inArray(b,m[f].anCells)}}).toArray()})};Za("cells()",function(a,b,e){if(d.isPlainObject(a)&&(typeof a.row!==c?(e=b,b=null):(e=a,a=null)),d.isPlainObject(b)&&(e=b,b=null),null===b||b===c)return this.iterator("table",function(b){return Tb(b,a,Eb(e))});var f,g,h,i,j,k=this.columns(b,e),l=this.rows(a,e),m=this.iterator("table",function(a,b){for(f=[],g=0,h=l[b].length;h>g;g++)for(i=0,j=k[b].length;j>i;i++)f.push({row:l[b][g],column:k[b][i]});return f},1);return d.extend(m.selector,{cols:b,rows:a,opts:e}),m}),$a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(a,b,d){var e=a.aoData[b].anCells;return e?e[d]:c},1)}),Za("cells().data()",function(){return this.iterator("cell",function(a,b,c){return y(a,b,c)},1)}),$a("cells().cache()","cell().cache()",function(a){return a="search"===a?"_aFilterData":"_aSortData",this.iterator("cell",function(b,c,d){return b.aoData[c][a][d]},1)}),$a("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,d){return y(b,c,d,a)},1)}),$a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:p(a,c)}},1)}),$a("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,d){G(b,c,a,d)})}),Za("cell()",function(a,b,c){return Fb(this.cells(a,b,c))}),Za("cell().data()",function(a){var b=this.context,d=this[0];return a===c?b.length&&d.length?y(b[0],d[0].row,d[0].column):c:(z(b[0],d[0].row,d[0].column,a),G(b[0],d[0].row,"data",d[0].column),this)}),Za("order()",function(a,b){var e=this.context;return a===c?0!==e.length?e[0].aaSorting:c:("number"==typeof a?a=[[a,b]]:d.isArray(a[0])||(a=Array.prototype.slice.call(arguments)),this.iterator("table",function(b){b.aaSorting=a.slice()}))}),Za("order.listener()",function(a,b,c){return this.iterator("table",function(d){Ea(d,a,b,c)})}),Za(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var f=[];d.each(b[e],function(b,c){f.push([c,a])}),c.aaSorting=f})}),Za("search()",function(a,b,e,f){var g=this.context;return a===c?0!==g.length?g[0].oPreviousSearch.sSearch:c:this.iterator("table",function(c){c.oFeatures.bFilter&&X(c,d.extend({},c.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===e?!0:e,bCaseInsensitive:null===f?!0:f}),1)})}),$a("columns().search()","column().search()",function(a,b,e,f){return this.iterator("column",function(g,h){var i=g.aoPreSearchCols;return a===c?i[h].sSearch:void(g.oFeatures.bFilter&&(d.extend(i[h],{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===e?!0:e,bCaseInsensitive:null===f?!0:f}),X(g,g.oPreviousSearch,1)))})}),Za("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Za("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})}),Za("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Za("state.save()",function(){return this.iterator("table",function(a){Ha(a)})}),Wa.versionCheck=Wa.fnVersionCheck=function(a){for(var b,c,d=Wa.version.split("."),e=a.split("."),f=0,g=e.length;g>f;f++)if(b=parseInt(d[f],10)||0,c=parseInt(e[f],10)||0,b!==c)return b>c;return!0},Wa.isDataTable=Wa.fnIsDataTable=function(a){var b=d(a).get(0),c=!1;return d.each(Wa.settings,function(a,d){(d.nTable===b||d.nScrollHead===b||d.nScrollFoot===b)&&(c=!0)}),c},Wa.tables=Wa.fnTables=function(a){return d.map(Wa.settings,function(b){return!a||a&&d(b.nTable).is(":visible")?b.nTable:void 0})},Wa.util={throttle:ta,escapeRegex:aa},Wa.camelToHungarian=f,Za("$()",function(a,b){var c=this.rows(b).nodes(),e=d(c);return d([].concat(e.filter(a).toArray(),e.find(a).toArray()))}),d.each(["on","one","off"],function(a,b){Za(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\\.dt\\b/)||(a[0]+=".dt");var c=d(this.tables().nodes());return c[b].apply(c,a),this})}),Za("clear()",function(){return this.iterator("table",function(a){E(a)})}),Za("settings()",function(){return new Ya(this.context,this.context)}),Za("data()",function(){return this.iterator("table",function(a){return mb(a.aoData,"_aData")}).flatten()}),Za("destroy()",function(b){return b=b||!1,this.iterator("table",function(c){var e,f=c.nTableWrapper.parentNode,g=c.oClasses,h=c.nTable,i=c.nTBody,j=c.nTHead,k=c.nTFoot,l=d(h),m=d(i),n=d(c.nTableWrapper),o=d.map(c.aoData,function(a){return a.nTr});c.bDestroying=!0,Pa(c,"aoDestroyCallback","destroy",[c]),b||new Ya(c).columns().visible(!0),n.unbind(".DT").find(":not(tbody *)").unbind(".DT"),d(a).unbind(".DT-"+c.sInstance),h!=j.parentNode&&(l.children("thead").detach(),l.append(j)),k&&h!=k.parentNode&&(l.children("tfoot").detach(),l.append(k)),l.detach(),n.detach(),c.aaSorting=[],c.aaSortingFixed=[],Fa(c),d(o).removeClass(c.asStripeClasses.join(" ")),d("th, td",j).removeClass(g.sSortable+" "+g.sSortableAsc+" "+g.sSortableDesc+" "+g.sSortableNone),c.bJUI&&(d("th span."+g.sSortIcon+", td span."+g.sSortIcon,j).detach(),d("th, td",j).each(function(){var a=d("div."+g.sSortJUIWrapper,this);d(this).append(a.contents()),a.detach()})),!b&&f&&f.insertBefore(h,c.nTableReinsertBefore),m.children().detach(),m.append(o),l.css("width",c.sDestroyWidth).removeClass(g.sTable),e=c.asDestroyStripes.length,e&&m.children().each(function(a){d(this).addClass(c.asDestroyStripes[a%e])});var p=d.inArray(c,Wa.settings);-1!==p&&Wa.settings.splice(p,1)})}),Wa.version="1.10.4",Wa.settings=[],Wa.models={},Wa.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Wa.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Wa.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Wa.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:d.extend({},Wa.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},e(Wa.defaults),Wa.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},e(Wa.defaults.column),Wa.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:c,oAjaxData:c,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Sa(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Sa(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,d=this.aiDisplay.length,e=this.oFeatures,f=e.bPaginate;return e.bServerSide?f===!1||-1===a?b+d:Math.min(b+a,this._iRecordsDisplay):!f||c>d||-1===a?d:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Wa.ext=Xa={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Wa.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Wa.version},d.extend(Xa,{afnFiltering:Xa.search,aTypes:Xa.type.detect,ofnSearch:Xa.type.search,oSort:Xa.type.order,afnSortData:Xa.order,aoFeatures:Xa.feature,oApi:Xa.internal,oStdClasses:Xa.classes,oPagination:Xa.pager}),d.extend(Wa.ext.classes,{sTable:"dataTable",\nsNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var a="";a="";var b=a+"ui-state-default",c=a+"css_right ui-icon ui-icon-",e=a+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";d.extend(Wa.ext.oJUIClasses,Wa.ext.classes,{sPageButton:"fg-button ui-button "+b,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:b+" sorting_asc",sSortDesc:b+" sorting_desc",sSortable:b+" sorting",sSortableAsc:b+" sorting_asc_disabled",sSortableDesc:b+" sorting_desc_disabled",sSortableNone:b+" sorting_disabled",sSortJUIAsc:c+"triangle-1-n",sSortJUIDesc:c+"triangle-1-s",sSortJUI:c+"carat-2-n-s",sSortJUIAscAllowed:c+"carat-1-n",sSortJUIDescAllowed:c+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+b,sScrollFoot:"dataTables_scrollFoot "+b,sHeaderTH:b,sFooterTH:b,sJUIHeader:e+" ui-corner-tl ui-corner-tr",sJUIFooter:e+" ui-corner-bl ui-corner-br"})}();var Ub=Wa.ext.pager;d.extend(Ub,{simple:function(a,b){return["previous","next"]},full:function(a,b){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",Ta(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Ta(a,b),"next","last"]},_numbers:Ta,numbers_length:7}),d.extend(!0,Wa.ext.renderer,{pageButton:{_:function(a,c,e,f,g,h){var i,j,k=a.oClasses,l=a.oLanguage.oPaginate,m=0,n=function(b,c){var f,o,p,q,r=function(b){ma(a,b.data.action,!0)};for(f=0,o=c.length;o>f;f++)if(q=c[f],d.isArray(q)){var s=d("<"+(q.DT_el||"div")+"/>").appendTo(b);n(s,q)}else{switch(i="",j="",q){case"ellipsis":b.append("<span>&hellip;</span>");break;case"first":i=l.sFirst,j=q+(g>0?"":" "+k.sPageButtonDisabled);break;case"previous":i=l.sPrevious,j=q+(g>0?"":" "+k.sPageButtonDisabled);break;case"next":i=l.sNext,j=q+(h-1>g?"":" "+k.sPageButtonDisabled);break;case"last":i=l.sLast,j=q+(h-1>g?"":" "+k.sPageButtonDisabled);break;default:i=q+1,j=g===q?k.sPageButtonActive:""}i&&(p=d("<a>",{"class":k.sPageButton+" "+j,"aria-controls":a.sTableId,"data-dt-idx":m,tabindex:a.iTabIndex,id:0===e&&"string"==typeof q?a.sTableId+"_"+q:null}).html(i).appendTo(b),Na(p,{action:q},r),m++)}};try{var o=d(b.activeElement).data("dt-idx");n(d(c).empty(),f),null!==o&&d(c).find("[data-dt-idx="+o+"]").focus()}catch(p){}}}}),d.extend(Wa.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;return jb(a,c)?"num"+c:null},function(a,b){if(a&&!(a instanceof Date)&&(!cb.test(a)||!db.test(a)))return null;var c=Date.parse(a);return null!==c&&!isNaN(c)||gb(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return jb(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return lb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return lb(a,c,!0)?"html-num-fmt"+c:null},function(a,b){return gb(a)||"string"==typeof a&&-1!==a.indexOf("<")?"html":null}]),d.extend(Wa.ext.type.search,{html:function(a){return gb(a)?a:"string"==typeof a?a.replace(ab," ").replace(bb,""):""},string:function(a){return gb(a)?a:"string"==typeof a?a.replace(ab," "):a}});var Vb=function(a,b,c,d){return 0===a||a&&"-"!==a?(b&&(a=ib(a,b)),a.replace&&(c&&(a=a.replace(c,"")),d&&(a=a.replace(d,""))),1*a):-(1/0)};return d.extend(Xa.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return gb(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return gb(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(a,b){return b>a?-1:a>b?1:0},"string-desc":function(a,b){return b>a?1:a>b?-1:0}}),Ua(""),d.extend(!0,Wa.ext.renderer,{header:{_:function(a,b,c,e){d(a.nTable).on("order.dt.DT",function(d,f,g,h){if(a===f){var i=c.idx;b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[i]?e.sSortAsc:"desc"==h[i]?e.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,e){d("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(d("<span/>").addClass(e.sSortIcon+" "+c.sSortingClassJUI)).appendTo(b),d(a.nTable).on("order.dt.DT",function(d,f,g,h){if(a===f){var i=c.idx;b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass("asc"==h[i]?e.sSortAsc:"desc"==h[i]?e.sSortDesc:c.sSortingClass),b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass("asc"==h[i]?e.sSortJUIAsc:"desc"==h[i]?e.sSortJUIDesc:c.sSortingClassJUI)}})}}}),Wa.render={number:function(a,b,c,d){return{display:function(e){var f=0>e?"-":"";e=Math.abs(parseFloat(e));var g=parseInt(e,10),h=c?b+(e-g).toFixed(c).substring(2):"";return f+(d||"")+g.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,a)+h}}}},d.extend(Wa.ext.internal,{_fnExternApiFunc:Va,_fnBuildAjax:R,_fnAjaxUpdate:S,_fnAjaxParameters:T,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:V,_fnAddColumn:l,_fnColumnOptions:m,_fnAdjustColumnSizing:n,_fnVisibleToColumnIndex:o,_fnColumnIndexToVisible:p,_fnVisbleColumns:q,_fnGetColumns:r,_fnColumnTypes:s,_fnApplyColumnDefs:t,_fnHungarianMap:e,_fnCamelToHungarian:f,_fnLanguageCompat:g,_fnBrowserDetect:j,_fnAddData:u,_fnAddTr:v,_fnNodeToDataIndex:w,_fnNodeToColumnIndex:x,_fnGetCellData:y,_fnSetCellData:z,_fnSplitObjNotation:A,_fnGetObjectDataFn:B,_fnSetObjectDataFn:C,_fnGetDataMaster:D,_fnClearTable:E,_fnDeleteIndex:F,_fnInvalidate:G,_fnGetRowElements:H,_fnCreateTr:I,_fnBuildHead:K,_fnDrawHead:L,_fnDraw:M,_fnReDraw:N,_fnAddOptionsHtml:O,_fnDetectHeader:P,_fnGetUniqueThs:Q,_fnFeatureHtmlFilter:W,_fnFilterComplete:X,_fnFilterCustom:Y,_fnFilterColumn:Z,_fnFilter:$,_fnFilterCreateSearch:_,_fnEscapeRegex:aa,_fnFilterData:ba,_fnFeatureHtmlInfo:ea,_fnUpdateInfo:fa,_fnInfoMacros:ga,_fnInitialise:ha,_fnInitComplete:ia,_fnLengthChange:ja,_fnFeatureHtmlLength:ka,_fnFeatureHtmlPaginate:la,_fnPageChange:ma,_fnFeatureHtmlProcessing:na,_fnProcessingDisplay:oa,_fnFeatureHtmlTable:pa,_fnScrollDraw:qa,_fnApplyToChildren:ra,_fnCalculateColumnWidths:sa,_fnThrottle:ta,_fnConvertToWidth:ua,_fnScrollingWidthAdjust:va,_fnGetWidestNode:wa,_fnGetMaxLenString:xa,_fnStringToCss:ya,_fnScrollBarWidth:za,_fnSortFlatten:Aa,_fnSort:Ba,_fnSortAria:Ca,_fnSortListener:Da,_fnSortAttachListener:Ea,_fnSortingClasses:Fa,_fnSortData:Ga,_fnSaveState:Ha,_fnLoadState:Ia,_fnSettingsFromNode:Ja,_fnLog:Ka,_fnMap:La,_fnBindAction:Na,_fnCallbackReg:Oa,_fnCallbackFire:Pa,_fnLengthOverflow:Qa,_fnRenderer:Ra,_fnDataSource:Sa,_fnRowAttributes:J,_fnCalculateEnd:function(){}}),d.fn.dataTable=Wa,d.fn.dataTableSettings=Wa.settings,d.fn.dataTableExt=Wa.ext,d.fn.DataTable=function(a){return d(this).dataTable(a).api()},d.each(Wa,function(a,b){d.fn.DataTable[a]=b}),d.fn.dataTable})}(window,document),function(a,b,c){var d=function(a,b){"use strict";a.extend(!0,b.defaults,{dom:"<\'row\'<\'col-sm-6\'l><\'col-sm-6\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-6\'i><\'col-sm-6\'p>>",renderer:"bootstrap"}),a.extend(b.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),b.ext.renderer.pageButton.bootstrap=function(c,d,e,f,g,h){var i,j,k=new b.Api(c),l=c.oClasses,m=c.oLanguage.oPaginate,n=function(b,d){var f,o,p,q,r=function(b){b.preventDefault(),a(b.currentTarget).hasClass("disabled")||k.page(b.data.action).draw(!1)};for(f=0,o=d.length;o>f;f++)if(q=d[f],a.isArray(q))n(b,q);else{switch(i="",j="",q){case"ellipsis":i="&hellip;",j="disabled";break;case"first":i=m.sFirst,j=q+(g>0?"":" disabled");break;case"previous":i=m.sPrevious,j=q+(g>0?"":" disabled");break;case"next":i=m.sNext,j=q+(h-1>g?"":" disabled");break;case"last":i=m.sLast,j=q+(h-1>g?"":" disabled");break;default:i=q+1,j=g===q?"active":""}i&&(p=a("<li>",{"class":l.sPageButton+" "+j,"aria-controls":c.sTableId,tabindex:c.iTabIndex,id:0===e&&"string"==typeof q?c.sTableId+"_"+q:null}).append(a("<a>",{href:"#"}).html(i)).appendTo(b),c.oApi._fnBindAction(p,{action:q},r))}};n(a(d).empty().html(\'<ul class="pagination"/>\').children("ul"),f)},b.TableTools&&(a.extend(!0,b.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),a.extend(!0,b.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],d):"object"==typeof exports?d(require("jquery"),require("datatables")):jQuery&&d(jQuery,jQuery.fn.dataTable)}(window,document),function(a){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?a(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){var b=a[0];return b.offsetWidth>0&&b.offsetHeight>0}function c(b){if(b.minTime&&(b.minTime=u(b.minTime)),b.maxTime&&(b.maxTime=u(b.maxTime)),b.durationTime&&"function"!=typeof b.durationTime&&(b.durationTime=u(b.durationTime)),"now"==b.scrollDefault?b.scrollDefault=u(new Date):b.scrollDefault?b.scrollDefault=u(b.scrollDefault):b.minTime&&(b.scrollDefault=b.minTime),b.scrollDefault&&(b.scrollDefault=f(b.scrollDefault,b)),"string"===a.type(b.timeFormat)&&b.timeFormat.match(/[gh]/)&&(b._twelveHourTime=!0),b.disableTimeRanges.length>0){for(var c in b.disableTimeRanges)b.disableTimeRanges[c]=[u(b.disableTimeRanges[c][0]),u(b.disableTimeRanges[c][1])];b.disableTimeRanges=b.disableTimeRanges.sort(function(a,b){return a[0]-b[0]});for(var c=b.disableTimeRanges.length-1;c>0;c--)b.disableTimeRanges[c][0]<=b.disableTimeRanges[c-1][1]&&(b.disableTimeRanges[c-1]=[Math.min(b.disableTimeRanges[c][0],b.disableTimeRanges[c-1][0]),Math.max(b.disableTimeRanges[c][1],b.disableTimeRanges[c-1][1])],b.disableTimeRanges.splice(c,1))}return b}function d(b){var c=b.data("timepicker-settings"),d=b.data("timepicker-list");if(d&&d.length&&(d.remove(),b.data("timepicker-list",!1)),c.useSelect){d=a("<select />",{"class":"ui-timepicker-select"});var f=d}else{d=a("<ul />",{"class":"ui-timepicker-list"});var f=a("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});f.css({display:"none",position:"absolute"}).append(d)}if(c.noneOption)if(c.noneOption===!0&&(c.noneOption=c.useSelect?"Time...":"None"),a.isArray(c.noneOption)){for(var h in c.noneOption)if(parseInt(h,10)==h){var i=e(c.noneOption[h],c.useSelect);d.append(i)}}else{var i=e(c.noneOption,c.useSelect);d.append(i)}c.className&&f.addClass(c.className),null===c.minTime&&null===c.durationTime||!c.showDuration||(f.addClass("ui-timepicker-with-duration"),f.addClass("ui-timepicker-step-"+c.step));var k=c.minTime;"function"==typeof c.durationTime?k=u(c.durationTime()):null!==c.durationTime&&(k=c.durationTime);var m=null!==c.minTime?c.minTime:0,n=null!==c.maxTime?c.maxTime:m+w-1;m>=n&&(n+=w),n===w-1&&"string"===a.type(c.timeFormat)&&-1!==c.timeFormat.indexOf("H")&&(n=w);for(var p=c.disableTimeRanges,q=0,v=p.length,h=m;n>=h;h+=60*c.step){var x=h,z=t(x,c.timeFormat);if(c.useSelect){var A=a("<option />",{value:z});A.text(z)}else{var A=a("<li />");A.data("time",86400>=x?x:x%86400),A.text(z)}if((null!==c.minTime||null!==c.durationTime)&&c.showDuration){var B=s(h-k,c.step);if(c.useSelect)A.text(A.text()+" ("+B+")");else{var C=a("<span />",{"class":"ui-timepicker-duration"});C.text(" ("+B+")"),A.append(C)}}v>q&&(x>=p[q][1]&&(q+=1),p[q]&&x>=p[q][0]&&x<p[q][1]&&(c.useSelect?A.prop("disabled",!0):A.addClass("ui-timepicker-disabled"))),d.append(A)}if(f.data("timepicker-input",b),b.data("timepicker-list",f),c.useSelect)b.val()&&d.val(g(b.val(),c)),d.on("focus",function(){a(this).data("timepicker-input").trigger("showTimepicker")}),d.on("blur",function(){a(this).data("timepicker-input").trigger("hideTimepicker")}),d.on("change",function(){o(b,a(this).val(),"select")}),o(b,d.val()),b.hide().after(d);else{var D=c.appendTo;"string"==typeof D?D=a(D):"function"==typeof D&&(D=D(b)),D.append(f),l(b,d),d.on("mousedown","li",function(c){b.off("focus.timepicker"),b.on("focus.timepicker-ie-hack",function(){b.off("focus.timepicker-ie-hack"),b.on("focus.timepicker",y.show)}),j(b)||b[0].focus(),d.find("li").removeClass("ui-timepicker-selected"),a(this).addClass("ui-timepicker-selected"),r(b)&&(b.trigger("hideTimepicker"),f.hide())})}}function e(b,c){var d,e,f;return"object"==typeof b?(d=b.label,e=b.className,f=b.value):"string"==typeof b?d=b:a.error("Invalid noneOption value"),c?a("<option />",{value:f,"class":e,text:d}):a("<li />",{"class":e,text:d}).data("time",f)}function f(b,c){if(a.isNumeric(b)||(b=u(b)),null===b)return null;var d=b%(60*c.step);return d>=30*c.step?b+=60*c.step-d:b-=d,b}function g(a,b){return a=f(a,b),null!==a?t(a,b.timeFormat):void 0}function h(){return new Date(1970,1,1,0,0,0)}function i(b){var c=a(b.target),d=c.closest(".ui-timepicker-input");0===d.length&&0===c.closest(".ui-timepicker-wrapper").length&&(y.hide(),a(document).unbind(".ui-timepicker"))}function j(a){var b=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&b.disableTouchKeyboard}function k(b,c,d){if(!d&&0!==d)return!1;var e=b.data("timepicker-settings"),f=!1,g=30*e.step;return c.find("li").each(function(b,c){var e=a(c);if("number"==typeof e.data("time")){var h=e.data("time")-d;return Math.abs(h)<g||h==g?(f=e,!1):void 0}}),f}function l(a,b){b.find("li").removeClass("ui-timepicker-selected");var c=u(n(a),a.data("timepicker-settings"));if(null!==c){var d=k(a,b,c);if(d){var e=d.offset().top-b.offset().top;(e+d.outerHeight()>b.outerHeight()||0>e)&&b.scrollTop(b.scrollTop()+d.position().top-d.outerHeight()),d.addClass("ui-timepicker-selected")}}}function m(b,c){if(""!==this.value&&"timepicker"!=c){var d=a(this);d.data("timepicker-list");if(!d.is(":focus")||b&&"change"==b.type){var e=u(this.value);if(null===e)return void d.trigger("timeFormatError");var f=d.data("timepicker-settings"),g=!1;if(null!==f.minTime&&e<f.minTime?g=!0:null!==f.maxTime&&e>f.maxTime&&(g=!0),a.each(f.disableTimeRanges,function(){return e>=this[0]&&e<this[1]?(g=!0,!1):void 0}),f.forceRoundTime){var h=e%(60*f.step);h>=30*f.step?e+=60*f.step-h:e-=h}var i=t(e,f.timeFormat);g?o(d,i,"error")&&d.trigger("timeRangeError"):o(d,i)}}}function n(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function o(a,b,c){if(a.is("input")){a.val(b);var d=a.data("timepicker-settings");d.useSelect&&"select"!=c&&a.data("timepicker-list").val(g(b,d))}return a.data("ui-timepicker-value")!=b?(a.data("ui-timepicker-value",b),"select"==c?a.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=c&&a.trigger("changeTime"),!0):(a.trigger("selectTime"),!1)}function p(c){var d=a(this),e=d.data("timepicker-list");if(!e||!b(e)){if(40!=c.keyCode)return!0;y.show.call(d.get(0)),e=d.data("timepicker-list"),j(d)||d.focus()}switch(c.keyCode){case 13:return r(d)&&y.hide.apply(this),c.preventDefault(),!1;case 38:var f=e.find(".ui-timepicker-selected");return f.length?f.is(":first-child")||(f.removeClass("ui-timepicker-selected"),f.prev().addClass("ui-timepicker-selected"),f.prev().position().top<f.outerHeight()&&e.scrollTop(e.scrollTop()-f.outerHeight())):(e.find("li").each(function(b,c){return a(c).position().top>0?(f=a(c),!1):void 0}),f.addClass("ui-timepicker-selected")),!1;case 40:return f=e.find(".ui-timepicker-selected"),0===f.length?(e.find("li").each(function(b,c){return a(c).position().top>0?(f=a(c),!1):void 0}),f.addClass("ui-timepicker-selected")):f.is(":last-child")||(f.removeClass("ui-timepicker-selected"),f.next().addClass("ui-timepicker-selected"),f.next().position().top+2*f.outerHeight()>e.outerHeight()&&e.scrollTop(e.scrollTop()+f.outerHeight())),!1;case 27:e.find("li").removeClass("ui-timepicker-selected"),y.hide();break;case 9:y.hide();break;default:return!0}}function q(c){var d=a(this),e=d.data("timepicker-list");if(!e||!b(e))return!0;if(!d.data("timepicker-settings").typeaheadHighlight)return e.find("li").removeClass("ui-timepicker-selected"),!0;switch(c.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:l(d,e);break;default:return}}function r(a){var b=a.data("timepicker-settings"),c=a.data("timepicker-list"),d=null,e=c.find(".ui-timepicker-selected");if(e.hasClass("ui-timepicker-disabled"))return!1;if(e.length&&(d=e.data("time")),null!==d)if("string"==typeof d)a.val(d);else{var f=t(d,b.timeFormat);o(a,f,"select")}return!0}function s(a,b){a=Math.abs(a);var c,d,e=Math.round(a/60),f=[];return 60>e?f=[e,x.mins]:(c=Math.floor(e/60),d=e%60,30==b&&30==d&&(c+=x.decimal+5),f.push(c),f.push(1==c?x.hr:x.hrs),30!=b&&d&&(f.push(d),f.push(x.mins))),f.join(" ")}function t(b,c){if(null!==b){var d=new Date(v.valueOf()+1e3*b);if(!isNaN(d.getTime())){if("function"===a.type(c))return c(d);for(var e,f,g="",h=0;h<c.length;h++)switch(f=c.charAt(h)){case"a":g+=d.getHours()>11?x.pm:x.am;break;case"A":g+=d.getHours()>11?x.pm.toUpperCase():x.am.toUpperCase();break;case"g":e=d.getHours()%12,g+=0===e?"12":e;break;case"G":g+=d.getHours();break;case"h":e=d.getHours()%12,0!==e&&10>e&&(e="0"+e),g+=0===e?"12":e;break;case"H":e=d.getHours(),b===w&&(e=24),g+=e>9?e:"0"+e;break;case"i":var i=d.getMinutes();g+=i>9?i:"0"+i;break;case"s":b=d.getSeconds(),g+=b>9?b:"0"+b;break;case"\\\\":h++,g+=c.charAt(h);break;default:g+=f}return g}}}function u(a,b){if(""===a)return null;if(!a||a+0==a)return a;if("object"==typeof a)return 3600*a.getHours()+60*a.getMinutes()+a.getSeconds();a=a.toLowerCase(),("a"==a.slice(-1)||"p"==a.slice(-1))&&(a+="m");var c=new RegExp("^([0-2]?[0-9])\\\\W?([0-5][0-9])?\\\\W?([0-5][0-9])?\\\\s*("+x.am+"|"+x.pm+")?$"),d=a.match(c);if(!d)return null;var e=parseInt(1*d[1],10),f=d[4],g=e;12>=e&&f&&(g=12==e?d[4]==x.pm?12:0:e+(d[4]==x.pm?12:0));var h=1*d[2]||0,i=1*d[3]||0,j=3600*g+60*h+i;if(!f&&b&&b._twelveHourTime&&b.scrollDefault){var k=j-b.scrollDefault;0>k&&k>=w/-2&&(j=(j+w/2)%w)}return j}var v=h(),w=86400,x={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},y={init:function(b){return this.each(function(){var e=a(this),f=[];for(var g in a.fn.timepicker.defaults)e.data(g)&&(f[g]=e.data(g));var h=a.extend({},a.fn.timepicker.defaults,f,b);h.lang&&(x=a.extend(x,h.lang)),h=c(h),e.data("timepicker-settings",h),e.addClass("ui-timepicker-input"),h.useSelect?d(e):(e.prop("autocomplete","off"),e.on("click.timepicker focus.timepicker",y.show),e.on("change.timepicker",m),e.on("keydown.timepicker",p),e.on("keyup.timepicker",q),m.call(e.get(0)))})},show:function(c){var e=a(this),f=e.data("timepicker-settings");if(c){if(!f.showOnFocus)return!0;c.preventDefault()}if(f.useSelect)return void e.data("timepicker-list").focus();j(e)&&e.blur();var g=e.data("timepicker-list");if(!e.prop("readonly")&&(g&&0!==g.length&&"function"!=typeof f.durationTime||(d(e),g=e.data("timepicker-list")),!b(g))){y.hide(),g.show();var h={};"rtl"==f.orientation?h.left=e.offset().left+e.outerWidth()-g.outerWidth()+parseInt(g.css("marginLeft").replace("px",""),10):h.left=e.offset().left+parseInt(g.css("marginLeft").replace("px",""),10),e.offset().top+e.outerHeight(!0)+g.outerHeight()>a(window).height()+a(window).scrollTop()?(h.top=e.offset().top-g.outerHeight()+parseInt(g.css("marginTop").replace("px",""),10),g.addClass("ui-timepicker-positioned-top")):(h.top=e.offset().top+e.outerHeight()+parseInt(g.css("marginTop").replace("px",""),10),g.removeClass("ui-timepicker-positioned-top")),g.offset(h);var l=g.find(".ui-timepicker-selected");if(l.length||(n(e)?l=k(e,g,u(n(e))):f.scrollDefault&&(l=k(e,g,f.scrollDefault))),l&&l.length){var m=g.scrollTop()+l.position().top-l.outerHeight();g.scrollTop(m)}else g.scrollTop(0);return a(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",i),f.closeOnWindowScroll&&a(document).on("scroll.ui-timepicker",i),e.trigger("showTimepicker"),this}},hide:function(c){var d=a(this),e=d.data("timepicker-settings");return e&&e.useSelect&&d.blur(),a(".ui-timepicker-wrapper").each(function(){var c=a(this);if(b(c)){var d=c.data("timepicker-input"),e=d.data("timepicker-settings");e&&e.selectOnBlur&&r(d),c.hide(),d.trigger("hideTimepicker")}}),this},option:function(b,e){return this.each(function(){var f=a(this),g=f.data("timepicker-settings"),h=f.data("timepicker-list");if("object"==typeof b)g=a.extend(g,b);else if("string"==typeof b&&"undefined"!=typeof e)g[b]=e;else if("string"==typeof b)return g[b];g=c(g),f.data("timepicker-settings",g),h&&(h.remove(),f.data("timepicker-list",!1)),g.useSelect&&d(f)})},getSecondsFromMidnight:function(){return u(n(this))},getTime:function(a){var b=this,c=n(b);if(!c)return null;a||(a=new Date);var d=u(c),e=new Date(a);return e.setHours(d/3600),e.setMinutes(d%3600/60),e.setSeconds(d%60),e.setMilliseconds(0),e},setTime:function(a){var b=this,c=b.data("timepicker-settings");if(c.forceRoundTime)var d=g(a,c);else var d=t(u(a),c.timeFormat);return o(b,d),b.data("timepicker-list")&&l(b,b.data("timepicker-list")),this},remove:function(){var a=this;if(a.hasClass("ui-timepicker-input")){var b=a.data("timepicker-settings");return a.removeAttr("autocomplete","off"),a.removeClass("ui-timepicker-input"),a.removeData("timepicker-settings"),a.off(".timepicker"),a.data("timepicker-list")&&a.data("timepicker-list").remove(),b.useSelect&&a.show(),a.removeData("timepicker-list"),this}}};a.fn.timepicker=function(b){return this.length?y[b]?this.hasClass("ui-timepicker-input")?y[b].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.timepicker"):y.init.apply(this,arguments):this},a.fn.timepicker.defaults={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,showOnFocus:!0,timeFormat:"g:ia",scrollDefault:null,selectOnBlur:!1,disableTouchKeyboard:!1,forceRoundTime:!1,appendTo:"body",orientation:"ltr",disableTimeRanges:[],closeOnWindowScroll:!1,typeaheadHighlight:!0,noneOption:!1}}),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.fileinput");e||c.data("bs.fileinput",e=new d(this,b)),"string"==typeof b&&e[b]()})}var c="Microsoft Internet Explorer"==window.navigator.appName,d=function(b,c){if(this.$element=a(b),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||c.name,this.$hidden=this.$element.find(\'input[type=hidden][name="\'+this.name+\'"]\'),0===this.$hidden.length&&(this.$hidden=a(\'<input type="hidden">\').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var d=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==d&&"none"!==d&&this.$preview.css("line-height",d),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};d.prototype.listen=function(){this.$input.on("change.bs.fileinput",a.proxy(this.change,this)),a(this.$input[0].form).on("reset.bs.fileinput",a.proxy(this.reset,this)),this.$element.find(\'[data-trigger="fileinput"]\').on("click.bs.fileinput",a.proxy(this.trigger,this)),this.$element.find(\'[data-dismiss="fileinput"]\').on("click.bs.fileinput",a.proxy(this.clear,this))},d.prototype.change=function(b){var c=void 0===b.target.files?b.target&&b.target.value?[{name:b.target.value.replace(/^.+\\\\/,"")}]:[]:b.target.files;if(b.stopPropagation(),0===c.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var d=c[0];if(this.$preview.length>0&&("undefined"!=typeof d.type?d.type.match(/^image\\/(gif|png|jpeg)$/):d.name.match(/\\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var e=new FileReader,f=this.$preview,g=this.$element;e.onload=function(b){var e=a("<img>");e[0].src=b.target.result,c[0].result=b.target.result,g.find(".fileinput-filename").text(d.name),"none"!=f.css("max-height")&&e.css("max-height",parseInt(f.css("max-height"),10)-parseInt(f.css("padding-top"),10)-parseInt(f.css("padding-bottom"),10)-parseInt(f.css("border-top"),10)-parseInt(f.css("border-bottom"),10)),f.html(e),g.addClass("fileinput-exists").removeClass("fileinput-new"),g.trigger("change.bs.fileinput",c)},e.readAsDataURL(d)}else this.$element.find(".fileinput-filename").text(d.name),this.$preview.text(d.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},d.prototype.clear=function(a){if(a&&a.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),c){var b=this.$input.clone(!0);this.$input.after(b),this.$input.remove(),this.$input=b}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==a&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},d.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},d.prototype.trigger=function(a){this.$input.trigger("click"),a.preventDefault()};var e=a.fn.fileinput;a.fn.fileinput=b,a.fn.fileinput.Constructor=d,a.fn.fileinput.noConflict=function(){return a.fn.fileinput=e,this},a(document).on("click.fileinput.data-api",\'[data-provides="fileinput"]\',function(c){var d=a(this);if(!d.data("bs.fileinput")){b.call(d,d.data());var e=a(c.target).closest(\'[data-dismiss="fileinput"],[data-trigger="fileinput"]\');e.length>0&&(c.preventDefault(),e.trigger("click.bs.fileinput"))}})}(window.jQuery),+function(a,b){"use strict";function c(c){return this.each(function(){var e=b(this),f=e.data("radiocheck"),g="object"==typeof c&&c;if(f||"destroy"!=c){f||e.data("radiocheck",f=new d(this,g)),"string"==typeof c&&f[c]();var h=/mobile|tablet|phone|ip(ad|od)|android|silk|webos/i.test(a.navigator.userAgent);h===!0&&e.parent().hover(function(){e.addClass("nohover")},function(){e.removeClass("nohover")})}})}var d=function(a,b){this.init("radiocheck",a,b)};d.DEFAULTS={checkboxClass:"custom-checkbox",radioClass:"custom-radio",checkboxTemplate:\'<span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>\',radioTemplate:\'<span class="icons"><span class="icon-unchecked"></span><span class="icon-checked"></span></span>\'},d.prototype.init=function(a,c,e){this.$element=b(c),this.options=b.extend({},d.DEFAULTS,this.$element.data(),e),"checkbox"==this.$element.attr("type")?(this.$element.addClass(this.options.checkboxClass),this.$element.after(this.options.checkboxTemplate)):"radio"==this.$element.attr("type")&&(this.$element.addClass(this.options.radioClass),this.$element.after(this.options.radioTemplate))},d.prototype.check=function(){this.$element.prop("checked",!0),this.$element.trigger("change.radiocheck").trigger("checked.radiocheck")},d.prototype.uncheck=function(){this.$element.prop("checked",!1),this.$element.trigger("change.radiocheck").trigger("unchecked.radiocheck")},d.prototype.toggle=function(){this.$element.prop("checked",function(a,b){return!b}),this.$element.trigger("change.radiocheck").trigger("toggled.radiocheck")},d.prototype.indeterminate=function(){this.$element.prop("indeterminate",!0),this.$element.trigger("change.radiocheck").trigger("indeterminated.radiocheck")},d.prototype.determinate=function(){this.$element.prop("indeterminate",!1),this.$element.trigger("change.radiocheck").trigger("determinated.radiocheck")},d.prototype.disable=function(){this.$element.prop("disabled",!0),this.$element.trigger("change.radiocheck").trigger("disabled.radiocheck")},d.prototype.enable=function(){this.$element.prop("disabled",!1),this.$element.trigger("change.radiocheck").trigger("enabled.radiocheck")},d.prototype.destroy=function(){this.$element.removeData().removeClass(this.options.checkboxClass+" "+this.options.radioClass).next(".icons").remove(),this.$element.trigger("destroyed.radiocheck")};var e=b.fn.radiocheck;b.fn.radiocheck=c,b.fn.radiocheck.Constructor=d,b.fn.radiocheck.noConflict=function(){return b.fn.radiocheck=e,this}}(this,jQuery);'},,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){!function(){"use strict";let e=n(38).Element,i=n(12),r=(n(316),n(11).appUI),a=n(9),o=n(10),s=n(15);const{component:l}=n(237),c=n(317),d=n(0),u=n(318),h=n(319),p=n(238),f=n(320);n(321);var m={buttonSaveChanges:document.getElementById("saveStyling"),activeElement:{},allStyleItemsOnCanvas:[],_oldIcon:[],styleEditor:document.getElementById("styleEditor"),formStyle:document.getElementById("stylingForm"),buttonRemoveElement:document.getElementById("deleteElementConfirm"),buttonCloneElement:document.getElementById("cloneElementButton"),buttonDelElement:document.getElementById("removeElementButton"),buttonResetElement:document.getElementById("resetStyleButton"),selectLinksInernal:document.getElementById("internalLinksDropdown"),selectLinksPages:document.getElementById("pageLinksDropdown"),videoInputYoutube:document.getElementById("youtubeID"),videoInputURL:document.getElementById("videoURL"),videoInputVimeo:document.getElementById("vimeoID"),inputCustomLink:document.getElementById("internalLinksCustom"),linkImage:null,linkIcon:null,selectIcons:document.getElementById("icons"),buttonDetailsAppliedHide:document.getElementById("detailsAppliedMessageHide"),buttonCloseStyleEditor:document.querySelector("#styleEditor button.close"),ulPageList:document.getElementById("pageList"),responsiveToggle:document.getElementById("responsiveToggle"),theScreen:document.getElementById("screen"),inputLinkActive:document.getElementById("checkboxLinkActive"),openTargetBlank:document.getElementById("checkboxTargetBlank"),settingAttrId:document.getElementById("settingAttrId"),formEffects:document.getElementById("effectsForm"),inputEffectDelay:document.getElementById("intDelay"),inputEffectAnimation:document.getElementById("flgAnimation"),checkboxEmailForm:document.getElementById("checkboxEmailForm"),inputEmailFormTo:document.getElementById("inputEmailFormTo"),textareaCustomMessage:document.getElementById("textareaCustomMessage"),checkboxCustomAction:document.getElementById("checkboxCustomAction"),inputCustomAction:document.getElementById("inputCustomAction"),checkboxUseLeadChannels:document.getElementById("checkboxUseLeadChannels"),selectLeadChannels:document.getElementById("selectLeadChannels"),textareaCustomMessageLeadChannel:document.getElementById("textareaCustomMessageLeadChannel"),inputRedirectTo:document.getElementById("inputRedirectTo"),selectPages:document.getElementById("selectPages"),checkboxTriggeredOptin:document.getElementById("checkboxTriggeredOptin"),checkboxTriggeredFields:document.getElementById("checkboxTriggeredFields"),textareaCodeField:document.getElementById("code--field"),enterCodeSave:document.getElementById("enterCodeSave"),btnGradientSave:document.getElementById("btnGradientSave"),textareaGradxCode:document.getElementById("gradx_code"),inputCombinedGallery:document.getElementById("inputCombinedGallery"),inputImageTitle:document.getElementById("inputImageTitle"),inputImageAlt:document.getElementById("inputImageAlt"),checkboxSliderAutoplay:document.getElementById("checkboxSliderAutoplay"),checkboxSliderPause:document.getElementById("checkboxSliderPause"),selectSliderAnimation:document.getElementById("selectSliderAnimation"),inputSlideInterval:document.getElementById("inputSlideInterval"),selectSliderNavArrows:document.getElementById("selectSliderNavArrows"),selectSliderNavIndicators:document.getElementById("selectSliderNavIndicators"),inputZoomLevel:document.getElementById("inputZoomLevel"),textareaAddress:document.getElementById("textareaAddress"),textareaInfoMessage:document.getElementById("textareaInfoMessage"),checkBoxMapBW:document.getElementById("checkBoxMapBW"),shapePositionDropdown:document.getElementById("dividersDropdown"),shapeHeight:document.getElementById("shape-height"),shapeResponsive:document.getElementById("shape-responsive"),shapeTablet:document.getElementById("shape-tablet"),shapeMobile:document.getElementById("shape-mobile"),shapePx:document.getElementById("shape-px"),shapeProcent:document.getElementById("shape-procent"),shapeZIndex:document.getElementById("shape-z-index"),shapeOpacity:document.getElementById("shape-opacity"),shapeFlip:document.getElementById("shape-flip"),shapeRatio:document.getElementById("shape-ratio"),shapeSafe:document.getElementById("shape-safe"),shapeSave:document.getElementById("btnShapeSave"),shapeColor:document.getElementById("shape-color"),btnDeleteShape:document.getElementById("btnDeleteShape"),quizAction:document.getElementById("quizAction"),quizUrl:document.getElementById("quizUrl"),quizThanks:document.getElementById("quizThanks"),quizPopup:document.getElementById("quizPopup"),checkoutSwitcher:document.getElementById("checkoutSwitcher"),checkoutSettings:document.querySelector("div[data-checkout]"),checkoutSettingsDisplay:document.getElementById("checkoutDisplay"),checkoutSettingsRedirect:document.getElementById("checkoutRedirect"),checkoutSettingsMembership:document.getElementById("membershipPlans"),btnChatSave:document.getElementById("btnChatSave"),buttonColor:document.getElementById("button_color"),bumpSwitcher:document.getElementById("bumpSwitcher"),bumpContainer:document.querySelector("div[data-bump]"),init:function(){o.subscribe("closeStyleEditor",(function(){m.closeStyleEditor()})),o.subscribe("onBlockLoaded",(function(e){m.setupCanvasElements(e)})),o.subscribe("onComponentDrop",(function(e,t){if("video2"==t.attr("data-component")){const t=document.createElement("script");t.src="/skin/pagebuilder/build/video-ui.bundle.js",e.frameDocument.body.appendChild(t)}m.setupCanvasElements(e)})),o.subscribe("onSetMode",(function(e){m.responsiveModeChange(e)})),o.subscribe("deSelectAllCanvasElements",(function(){m.deSelectAllCanvasElements()})),$(this.buttonSaveChanges).on("click",this.updateStyling),$(this.formStyle).on("focus","input",this.animateStyleInputIn).on("blur",'input:not([name="background-image"])',this.animateStyleInputOut),$(this.checkoutSettingsRedirect).on("focus",this.animateStyleInputIn).on("blur",this.animateStyleInputOut),$(this.buttonRemoveElement).on("click",this.deleteElement),$(this.buttonCloneElement).on("click",this.cloneElement),$(this.buttonResetElement).on("click",this.resetElement),$(this.videoInputYoutube).on("focus",(function(){$(m.videoInputVimeo).val(""),$(m.videoInputURL).val("")})),$(this.videoInputVimeo).on("focus",(function(){$(m.videoInputYoutube).val(""),$(m.videoInputURL).val("")})),$(this.videoInputURL).on("focus",(function(){$(m.videoInputYoutube).val(""),$(m.videoInputVimeo).val("")})),$(this.inputCustomLink).on("focus",this.resetSelectAllLinks),$(this.buttonDetailsAppliedHide).on("click",(function(){$(this).parent().fadeOut(500)})),$(this.buttonCloseStyleEditor).on("click",this.closeStyleEditor),$(this.inputCustomLink).on("focus",this.inputCustomLinkFocus).on("blur",this.inputCustomLinkBlur),$(document).on("modeContent modeBlocks","body",this.deActivateMode),$(this.enterCodeSave).on("click",this.updateCode),$(this.btnGradientSave).on("click",this.gradientSave),$(this.btnChatSave).on("click",this.webinarChatSave),$(this.selectIcons).chosen({search_contains:!0}),window.FormData||this.hideFileUploads(),$("body").on("beforeSave",this.closeStyleEditor),$(this.responsiveToggle).on("click","a",this.toggleResponsiveClick),a.builderUI.currentResponsiveMode=Object.keys(i.responsiveModes)[0];let e=$("#slider-shape-opacity"),t=$("#slider-height"),n=$("#slider-shape-z-index");$("#shapeModal").on("shown.bs.modal",(function(){if($(this).find(".modal-title").html(`${$(m.shapePositionDropdown).prop("value")} Shape Divider`),$('.uncode_radio_images_list input[type="radio"]').prop("checked",!1),$(".uncode_radio_images_list .uncode_radio_image_src").removeClass("checked"),$(m.shapeFlip).bootstrapSwitch("state",!1),$(m.shapeHeight).bootstrapSwitch("state",!1),$(m.shapePx).prop("value",150),$(m.shapeOpacity).prop("value",100),$(m.shapeRatio).bootstrapSwitch("state",!1),$(m.shapeSafe).bootstrapSwitch("state",!1),$(m.shapeZIndex).prop("value",0),$(m.shapeResponsive).bootstrapSwitch("state",!1),$(m.shapeTablet).bootstrapSwitch("state",!1),$(m.shapeMobile).bootstrapSwitch("state",!1),$(m.shapeProcent).prop("value",30),$(m.shapeColor).spectrum("set","#464D54"),e.slider("value",100),t.slider("value",30),n.slider("value",0),$(m.activeElement.element).find('.shape-divider[data-position="'+$(m.shapePositionDropdown).prop("value")+'"]').length>0){let i=$(m.activeElement.element).find('.shape-divider[data-position="'+$(m.shapePositionDropdown).prop("value")+'"]');$('.uncode_radio_images_list input[type="radio"][value="'+i.attr("data-shape-figure")+'"]').prop("checked",!0).next().next().addClass("checked"),void 0!==i.attr("data-shape-flip")&&$(m.shapeFlip).bootstrapSwitch("state",!0),void 0!==i.attr("data-shape-ratio")&&$(m.shapeRatio).bootstrapSwitch("state",!0),void 0!==i.attr("data-shape-safe")&&$(m.shapeSafe).bootstrapSwitch("state",!0),n.slider("value",i.attr("data-shape-z-index")),$(m.shapeZIndex).prop("value",i.attr("data-shape-z-index")),e.slider("value",100*i.attr("data-shape-opacity")),$(m.shapeOpacity).prop("value",100*i.attr("data-shape-opacity")),"px"==i.attr("data-shape-unit")&&$(m.shapePx).prop("value",i.attr("data-shape-height")),"%"==i.attr("data-shape-unit")&&($(m.shapeHeight).bootstrapSwitch("state",!0),$(m.shapeProcent).prop("value",i.attr("data-shape-height")),t.slider("value",i.attr("data-shape-height"))),$(m.shapeColor).spectrum("set",i.attr("data-shape-color")),(i.hasClass("hidden-sm")||i.hasClass("hidden-xs"))&&$(m.shapeResponsive).bootstrapSwitch("state",!0),i.hasClass("hidden-sm")&&$(m.shapeTablet).bootstrapSwitch("state",!0),i.hasClass("hidden-xs")&&$(m.shapeMobile).bootstrapSwitch("state",!0)}})),$(m.shapePositionDropdown).on("change",(function(){$(m.activeElement.element).find('.shape-divider[data-position="'+$(this).prop("value")+'"]').length>0?$(btnDeleteShape).removeClass("disabled"):$(btnDeleteShape).addClass("disabled")})),$(m.btnDeleteShape).on("click",(function(){return $(m.activeElement.element).find('.shape-divider[data-position="'+$(m.shapePositionDropdown).prop("value")+'"]').remove(),$(this).addClass("disabled"),a.site.setPendingChanges(!0),!1})),e.length>0&&(e.slider({max:100,step:10,value:100,orientation:"horizontal",range:"min",slide:function(e,t){$("#shape-opacity").val(t.value)}}),$("#shape-opacity").val(e.slider("value"))),t.length>0&&(t.slider({max:100,step:1,value:30,orientation:"horizontal",range:"min",slide:function(e,t){$("#shape-procent").val(t.value)}}),$("#shape-procent").val(t.slider("value"))),n.length>0&&(n.slider({max:10,step:1,value:0,orientation:"horizontal",range:"min",slide:function(e,t){$("#shape-z-index").val(t.value)}}),$("#shape-z-index").val(n.slider("value"))),$(m.shapeHeight).on("switchChange.bootstrapSwitch",(function(e,t){$('[data-checked-height="px"]').stop(!0,!0).toggle(),$('[data-checked-height="%"]').stop(!0,!0).toggle()})),$(m.shapeResponsive).on("switchChange.bootstrapSwitch",(function(e,t){$("[data-checked-resonsive]").stop(!0,!0).fadeToggle("fast")})),$(m.checkoutSwitcher).on("switchChange.bootstrapSwitch",(function(e,t){$(m.checkoutSettings).stop(!0,!0).fadeToggle("fast")})),$(m.bumpSwitcher).on("switchChange.bootstrapSwitch",(function(e,t){$(m.bumpContainer).stop(!0,!0).fadeToggle("fast")})),$(m.shapeColor).spectrum({cancelText:"Cancel",chooseText:"Choose",preferredFormat:"hex",showPalette:!0,allowEmpty:!0,showInput:!0,showAlpha:!0,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}),$(m.buttonColor).spectrum({cancelText:"Cancel",chooseText:"Choose",preferredFormat:"hex",showPalette:!0,allowEmpty:!0,showInput:!0,showAlpha:!0,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}),$(".uncode_radio_image_src").on("click",this.dividerClick),$(m.shapeSave).on("click",this.modalShapeSave),this.eventQuizAction=this.eventQuizAction.bind(this),$(this.quizAction).on("change",this.eventQuizAction),$("#simulate_live").on("change",(function(){"video2"==m.activeElement.element.closest("[data-component]").getAttribute("data-component")&&$(this).parent().next().attr("data-simulate",$(this).prop("checked"))})),f.init(m),this.setupFormTab()},setupFormTab:function(){if(null===this.checkboxEmailForm)return!1;m.inputEffectAnimation.addEventListener("change",(function(){console.log("---change effect---")})),this.checkboxEmailForm.addEventListener("change",(function(){this.checked?(m.inputEmailFormTo.removeAttribute("disabled"),m.textareaCustomMessage.removeAttribute("disabled"),m.checkboxCustomAction.checked=!1,m.inputCustomAction.setAttribute("disabled",!0),null!==m.checkboxUseLeadChannels&&(m.checkboxUseLeadChannels.checked=!1,m.textareaCustomMessageLeadChannel.setAttribute("disabled",!0),m.inputRedirectTo.setAttribute("disabled",!0)),$("[data-form-type]").hide(),$('[data-form-type="email"]').show()):(m.inputEmailFormTo.setAttribute("disabled",!0),m.textareaCustomMessage.setAttribute("disabled",!0))})),this.checkboxCustomAction.addEventListener("change",(function(){this.checked?(m.inputCustomAction.removeAttribute("disabled"),m.checkboxEmailForm.checked=!1,m.inputEmailFormTo.setAttribute("disabled",!1),m.textareaCustomMessage.setAttribute("disabled",!0),null!==m.checkboxUseLeadChannels&&(m.checkboxUseLeadChannels.checked=!1,m.textareaCustomMessageLeadChannel.setAttribute("disabled",!0),m.inputRedirectTo.setAttribute("disabled",!0)),$("[data-form-type]").hide(),$('[data-form-type="action"]').show()):m.inputCustomAction.setAttribute("disabled",!0)})),null!==this.checkboxUseLeadChannels&&this.checkboxUseLeadChannels.addEventListener("change",(function(){this.checked?(m.selectLeadChannels.removeAttribute("disabled"),m.textareaCustomMessageLeadChannel.removeAttribute("disabled"),m.inputRedirectTo.removeAttribute("disabled"),m.checkboxEmailForm.checked=!1,m.inputEmailFormTo.setAttribute("disabled",!1),m.textareaCustomMessage.setAttribute("disabled",!0),m.checkboxCustomAction.checked=!1,m.inputCustomAction.setAttribute("disabled",!0),$("[data-form-type]").hide(),$('[data-form-type="leadchannels"]').show()):(m.selectLeadChannels.setAttribute("disabled",!0),m.textareaCustomMessageLeadChannel.setAttribute("disabled",!0),m.inputRedirectTo.setAttribute("disabled",!0))})),null!==this.checkboxTriggeredOptin&&this.checkboxTriggeredOptin.addEventListener("change",(function(){this.checked?($(m.activeElement.element).attr("data-triggered-optin","true"),0==$(m.activeElement.element).closest("body").find("script.triggered").length&&$(m.activeElement.element).closest("body").append('<script class="triggered" type="text/javascript" src="/skin/pagebuilder/build/triggered.bundle.js"><\/script>')):($(m.activeElement.element).removeAttr("data-triggered-optin"),$(m.activeElement.element).closest("body").find("script.triggered").remove()),a.site.setPendingChanges(!0)})),null!==this.checkboxTriggeredFields&&this.checkboxTriggeredFields.addEventListener("change",(function(){this.checked?$(m.activeElement.element).attr("data-triggered-fields","true"):$(m.activeElement.element).removeAttr("data-triggered-fields"),a.site.setPendingChanges(!0)}))},deSelectAllCanvasElements:function(){for(var e in this.allStyleItemsOnCanvas)this.allStyleItemsOnCanvas.hasOwnProperty(e)&&this.allStyleItemsOnCanvas[e].removeOutline()},toggleResponsiveClick:function(e){e.preventDefault(),m.responsiveModeChange(this.getAttribute("data-responsive"))},responsiveModeChange:function(e){if(null===m.responsiveToggle)return!1;var t,n;for(t=m.responsiveToggle.querySelectorAll("li"),n=0;n<t.length;n++)t[n].classList.remove("active");for(var r in document.querySelector('a[data-responsive="'+e+'"]').parentNode.classList.add("active"),i.responsiveModes)i.responsiveModes.hasOwnProperty(r)&&this.theScreen.classList.remove(r);i.responsiveModes[e]&&(this.theScreen.classList.add(e),this.theScreen.style.maxWidth=i.responsiveModes[e],"function"==typeof a.site.activePage.heightAdjustment&&a.site.activePage.heightAdjustment(),o.publish("onResponsiveViewChange",e)),a.builderUI.currentResponsiveMode=e},setupCanvasElements:function(e){if($(e.frame).contents().find("*[data-selector]").each((function(){this.removeAttribute("data-selector")})),$(e.frame).contents().find("*[data-image-src]").each((function(){$(this).css("background-image","url("+$(this).attr("data-image-src")+")")})),void 0===e)return!1;for(var t in i.editableItems)$(e.frame).contents().find(i.pageContainer+" "+t).each((function(){this.hasAttribute("data-selector")||m.setupCanvasElementsOnElement(this,t)}))},setupCanvasElementsOnElement:function(t,n){e.prototype.clickHandler=function(e,t){m.styleClick(this,t)};var r=new e(t);for(var a in r.editableAttributes=i.editableItems[n],r.setParentBlock(),r.activate(),r.unsetNoIntent(),m.allStyleItemsOnCanvas)m.allStyleItemsOnCanvas[a].element===r.element&&m.allStyleItemsOnCanvas.splice(a,1);m.allStyleItemsOnCanvas.push(r),void 0!==typeof n&&($(t).attr("data-selector",n),null==$(t).attr("data-id")&&$(t).attr("data-id",this.makedataid()))},makedataid:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},styleDblClick:function(e){this.closeStyleEditor(),e.element.parentNode.hasAttribute("data-content")&&o.publish("onClickContent",e.element)},styleClick:function(t,n){if($("#editingElement").empty(),t.element.hasAttribute("data-container")&&"quest"!=$(t.element).attr("data-component")?(m.buttonCloneElement.setAttribute("disabled",!0),m.buttonDelElement.setAttribute("disabled",!0)):(m.buttonCloneElement.removeAttribute("disabled"),m.buttonDelElement.removeAttribute("disabled")),0!==Object.keys(this.activeElement).length&&this.activeElement.activate(),this.activeElement=t,"embed"!==t.element.getAttribute("data-component")){this.activeElement.setOpen();var i=$(this.activeElement.element).attr("data-selector"),r=($(this.activeElement.element).attr("data-selector"),$(this.activeElement.element).parent());do{if(null!=$(r[0]).attr("data-selector")){var a=document.createElement("a");$(a).addClass("breadcr");var s=$(r[0]).attr("data-selector").replace(/\*\[data-component=\"(.*?)\"\]/g,"$1");$(a).html(s),a.openDS=r[0];$(a).on("click",(function(){o.publish("deSelectAllCanvasElements");var t=new e(this.openDS);t.element=this.openDS,m.styleClick(t),t.destroyToolBar()})),$("#editingElement").prepend(a),$("#editingElement").prepend('<br/><span class="glicon"></span>')}r=$(r[0]).parent()}while("BODY"!=r[0].nodeName);return $("#editingElement").append("<p>"+i+"</p>"),$("#detailTabs a:first").click(),$("ul#detailTabs li:not(.showDefault)").hide(),".block"==$(this.activeElement.element).data("selector")&&this.editBlock(this.activeElement.element),"A"===$(this.activeElement.element).prop("tagName")&&(this.editLink(this.activeElement.element),this.activeElement.element.hasAttribute("target")&&"_blank"===this.activeElement.element.getAttribute("target")?m.openTargetBlank.checked=!0:m.openTargetBlank.checked=!1),"IMG"===$(this.activeElement.element).prop("tagName")&&this.editImage(this.activeElement.element),"video"===$(this.activeElement.element).attr("data-type")&&this.editVideo(this.activeElement.element),"video2"===$(this.activeElement.element).attr("data-type")&&this.editVideo2(this.activeElement.element),$(this.activeElement.element).hasClass("fa")&&this.editIcon(this.activeElement.element),"FORM"===this.activeElement.element.tagName&&this.editForm(this.activeElement.element),this.activeElement.element.parentNode.parentNode.parentNode.hasAttribute("data-carousel-item")&&this.editSlideshow($(this.activeElement.element).closest(".carousel")[0]),this.activeElement.element.classList.contains("mapOverlay")&&this.editMap($(this.activeElement.element).prev()[0]),this.activeElement.element.classList.contains("codeblock")&&this.editCode(this.activeElement),"quest"===this.activeElement.element.getAttribute("data-component")&&this.editQuiz(this.activeElement),-1!==["button"].indexOf(this.activeElement.element.parentElement.getAttribute("data-component"))&&this.editBtn(this.activeElement),-1!==["nav a","ul > li > a","img","a","a.btn, button.btn"].indexOf(this.activeElement.element.getAttribute("data-selector"))&&this.editBtn(this.activeElement),"chat"===this.activeElement.element.getAttribute("data-component")&&this.editChat(this.activeElement),"nft"===this.activeElement.element.parentNode.getAttribute("data-component")&&this.editNft(this.activeElement),this.buildeStyleElements(i),(this.activeElement.element.classList.contains("btn")||"nav a"==this.activeElement.element.getAttribute("data-selector")||"ul > li > a"==this.activeElement.element.getAttribute("data-selector"))&&$('#styleElements input[name="text"]').prop("value",$(this.activeElement.element).text()),$(m.activeElement.element).find('.shape-divider[data-position="top"]').length>0&&$(btnDeleteShape).removeClass("disabled"),this.toggleSidePanel("open"),"countdown"==this.activeElement.element.getAttribute("data-component")&&this.editCountdown(this.activeElement),this.editEffects(this.activeElement),!1}n?$("#removeElementButton").click():t.parentBlock.source(t.element)},buildeStyleElements:function(e){$("#styleElements > *:not(#styleElTemplate)").each((function(){$(this).remove()}));var t=m.activeElement.element;m.activeElement.element.classList.contains("mapOverlay")&&(t=$(m.activeElement.element).prev()[0]);for(var n=0;n<i.editableItems[e].length;n++){var r,o,l,c=$("#styleElTemplate").clone(),d="";if(c.attr("id","el_"+n),c.find("input").uniqueId(),d=void 0!==window.language.styles[i.editableItems[e][n]]?window.language.styles[i.editableItems[e][n]]+":":i.editableItems[e][n][0].toUpperCase()+i.editableItems[e][n].slice(1)+":",c.find(".control-label").text(d),e+" : "+i.editableItems[e][n]in i.editableItemOptions){for(c.find("input").remove(),(r=$('<select class="form-control select select-default btn-block select-sm"></select>')).attr("name",i.editableItems[e][n]),o=0;o<i.editableItemOptions[e+" : "+i.editableItems[e][n]].length;o++)l=$('<option value="'+i.editableItemOptions[e+" : "+i.editableItems[e][n]][o]+'">'+i.editableItemOptions[e+" : "+i.editableItems[e][n]][o]+"</option>"),"parallax"===i.editableItems[e][n]&&t.hasAttribute("data-parallax")&&"scroll"===t.getAttribute("data-parallax")&&"on"===i.editableItemOptions[e+" : "+i.editableItems[e][n]][o]&&l.attr("selected",!0),i.editableItemOptions[e+" : "+i.editableItems[e][n]][o]===$(t).css(i.editableItems[e][n])&&l.attr("selected","true"),r.append(l);if(c.append(r),r.select2({minimumResultsForSearch:-1}),"parallax"===i.editableItems[e][n]){let e=document.importNode(document.getElementById("templateParallaxInfo").content,!0);c.append(e.querySelector(".alert"))}}else if("blockid"==i.editableItems[e][n])c.find("input").val($(t).attr("data-id")).attr("name",i.editableItems[e][n]),c.find("input").addClass("padding-right");else if("quiz-progress"==i.editableItems[e][n]){var u=parseInt($(t).css("width").replace("px","")),h=parseInt($($(t).find(".surveyStepProgressCounter")[0]).css("width").replace("px","")),p=Math.round(h/u*100);c.find("input").val(p).attr("name",i.editableItems[e][n]),c.find("input").addClass("padding-right"),c.append($('<span class="inputAppend">%</span>'))}else if(i.editableItems[e][n]in i.customStyleDropdowns){var f=0,g="";for(var b in g=void 0!==window.language.styles[i.editableItems[e][n]]?window.language.styles[i.editableItems[e][n]]+":":i.customStyleDropdowns[i.editableItems[e][n]].label+":",c.find(".control-label").text(g),c.find("input").remove(),(r=$('<select class="form-control select select-default btn-block select-sm" data-class-dropdown="'+i.editableItems[e][n]+'"></select>')).attr("name",i.editableItems[e][n]),i.customStyleDropdowns[i.editableItems[e][n]].values)if(i.customStyleDropdowns[i.editableItems[e][n]].values.hasOwnProperty(b))for(var v in l=$('<option value="'+i.customStyleDropdowns[i.editableItems[e][n]].values[b]+'">'+b+"</option>"),r.append(l),t.classList)t.classList.hasOwnProperty(v)&&t.classList[v]===i.customStyleDropdowns[i.editableItems[e][n]].values[b]&&(f=1,l.attr("selected","true"));"countdown-type"==i.editableItems[e][n]&&r.on("change",function(e,t=!1){t?this.changeTypeFunc(this.activeElement.element):this.changeTypeFunc(this.activeElement.element,e.currentTarget.value)}.bind(this)),"countdown-action"==i.editableItems[e][n]&&r.on("change",(function(){const e=document.querySelector('input[name="countdown-redirect"]');if($(e.parentNode).addClass("hide"),("redirect"==this.value||"url"==this.value)&&($(e.parentNode).removeClass("hide"),$(e.parentNode).children().addClass("hidden"),"redirect"==this.value&&($("#cd_page-select").prev().removeClass("hidden"),$("#cd_page-label").removeClass("hidden")),"url"==this.value)){const t=$(e.parentNode).children();t.eq(3).removeClass("hidden"),t.eq(4).removeClass("hidden")}})),0===f&&r.val(i.customStyleDropdowns[i.editableItems[e][n]].default),c.append(r),r.select2({minimumResultsForSearch:-1})}else if(s.contains.call(i.inputAppend,i.editableItems[e][n])&&-1==i.editableItems[e][n].indexOf("countdown")&&-1==i.editableItems[e][n].indexOf("progress")&&-1==i.editableItems[e][n].indexOf("onselect"))"custom"==i.editableItems[e][n]?c.find("input").attr("name",i.editableItems[e][n]):(c.find("input").val($(t).css(i.editableItems[e][n]).replace("px","")).attr("name",i.editableItems[e][n]),c.find("input").addClass("padding-right"),c.append($('<span class="inputAppend">px</span>')));else{var y=i.editableItems[e][n];if("margin"!=y&&"padding"!=y||(y+="-top"),"border-radius"==y&&(y="border-top-left-radius"),c.find("input").val($(t).css(y)).attr("name",i.editableItems[e][n]),"background-image"===i.editableItems[e][n]){c.find("input").addClass("padding-right p-r-60").val($(t).css(i.editableItems[e][n]).replace(/['"]+/g,""));document.querySelector('[data-parallax="scroll"]');"scroll"==$(t).data("parallax")&&c.find("input").val("url("+$(t).attr("data-image-src")+")"),c.append($('<a href="#" class="linkLib"><span class="fui-image"></span></a>')),c.append($('<a href="#" class="linkLib linkGradient"><span class="fa fa-paint-brush"></span></a>')),c.find("a.linkLib").bind("click",(function(e){e.preventDefault();$(this).prev();$("#imageModal").modal("show")})),c.find("a.linkGradient").off("click").bind("click",(function(e){e.preventDefault(),$("#gradientModal").modal("show");let t={targets:[".target"]};if(void 0!==$(m.activeElement.element).attr("data-option")){t=JSON.parse(atob($(m.activeElement.element).attr("data-option")));let e=t.sliders;t.sliders=[],e.forEach((function(e){t.sliders.push({color:e[0],position:e[1]})})),t.targets=[".target"]}window.gradX("#gradX",t),$("#gradX select").select2({minimumResultsForSearch:-1}),m.textareaGradxCode=document.getElementById("gradx_code")}))}else if("background-gradient"===i.editableItems[e][n])c.append($('<a href="#" class="linkLib"><span class="fa fa-paint-brush"></span></a>'));else if(i.editableItems[e][n].indexOf("color")>-1){if("progress-color"==i.editableItems[e][n])c.find("input").val($($(t).find(".surveyStepProgressCounter")[0]).css("background-color"));else if("countdown-panelcolor"==i.editableItems[e][n])c.find("input").val($(t).attr("data-panelcolor"));else if("divider-color"==i.editableItems[e][n]){const e=t.getAttribute("data-color")||"#000000";c.find("input").val(e),t.style.setProperty("--divider-color",e)}else if("label"===t.getAttribute("data-selector")&&"color"===i.editableItems[e][n])c.find('input[name="color"]').prop("value",getComputedStyle(t).getPropertyValue("--color").trim()||"#f00000");else if("countdown-labelcolor"==i.editableItems[e][n])c.find("input").val($(t).attr("data-labelcolor"));else if("countdown-textcolor"==i.editableItems[e][n])c.find("input").val($(t).attr("data-textcolor"));else if("background-color-overlay"===i.editableItems[e][n]){var _=$(t).find(".overly").css("background-color");null==_&&(_="rgba(0, 0, 0, 0)"),c.find("input").val(_)}else"hover-background-color"==i.editableItems[e][n]?c.find("input").val($(t).attr("data-hover-color")||"#97d6ff"):"transparent"!==$(t).css(i.editableItems[e][n])&&"none"!==$(t).css(i.editableItems[e][n])&&""!==$(t).css(i.editableItems[e][n])&&c.val($(t).css(i.editableItems[e][n]));c.find("input").spectrum({cancelText:window.language.front_end_spectrum_cancel,chooseText:window.language.front_end_spectrum_choose,preferredFormat:"hex",showPalette:!0,allowEmpty:!0,showInput:!0,showAlpha:!0,palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]})}}if("countdown-redirect"==i.editableItems[e][n]){r=$('<select class="form-control select select-default btn-block select-sm m-b-20 hidden" id="cd_page-select"></select>');const{pages:e}=a.site;r.append('<option value="">Select Page</option>'),Object.keys(e).forEach(e=>r.append(`<option value="${e}">${e}</option>`)),c.prepend(r),c.prepend('<label class="control-label hidden" id="cd_page-label">Pages</label>'),r.on("change",(function(){const e=$(this).prop("value");$(this).closest(".form-group").find("input").val(`${e?e+".php":""}`)})),r.select2({minimumResultsForSearch:-1})}c.css("display","block"),$("#styleElements").append(c),$("#styleEditor form#stylingForm").height("auto")}},getListQuestionBox:function(e){const t=[];return e.closest('[data-component="quest-box"]').closest('[data-container="true"]').querySelectorAll('[data-component="quest-box"]').forEach(e=>{const n=e.querySelector('[data-component="heading"] > h3');t.push({value:e.getAttribute("data-id"),name:n.innerText.trim().replace("   "," ").replace("\n"," ")})}),t},updateStyling:function(){var e,t,c;if($("#styleEditor #tab1 .form-group:not(#styleElTemplate) input, #styleEditor #tab1 .form-group:not(#styleElTemplate) select").each((function(){if(c=m.activeElement.element,m.activeElement.element.classList.contains("mapOverlay")&&(c=$(m.activeElement.element).prev()[0]),void 0!==$(this).attr("name"))if(this.hasAttribute("data-class-dropdown")){var t=i.customStyleDropdowns[this.getAttribute("data-class-dropdown")];for(var n in t.values)t.values.hasOwnProperty(n)&&""!==t.values[n]&&m.activeElement.element.classList.contains(t.values[n])&&c.classList.remove(t.values[n]);""!==this.value&&-1===i.countdownProps.indexOf(this.getAttribute("name"))&&c.classList.add(this.value)}else if($(this).attr("name").indexOf("color")>-1)if("background-color-overlay"!==$(this).attr("name"))null!==$(this).spectrum("get")?$(c).css($(this).attr("name"),$(this).spectrum("get").toRgbString()):$(c).css($(this).attr("name"),"transparent");else{if(null===c.querySelector(".overly")){let e=document.createElement("DIV");e.classList.add("overly"),c.insertBefore(e,c.firstChild)}null!==$(this).spectrum("get")?c.querySelector(".overly").style.backgroundColor=$(this).spectrum("get").toRgbString():c.querySelector(".overly").style.backgroundColor="transparent"}else s.contains.call(i.inputAppend,$(this).attr("name"))?-1===["auto","inital","inherit"].indexOf($(this).val())?$(c).css($(this).attr("name"),`${$(this).val()}px`):$(c).css($(this).attr("name"),$(this).val()):"parallax"===$(this).attr("name")?"on"===this.value?c.style.backgroundImage&&""!==c.style.backgroundImage&&"none"!==c.style.backgroundImage&&(c.classList.add("parallax-window"),c.setAttribute("data-parallax","scroll"),c.setAttribute("data-image-src",c.style.backgroundImage.match(/url\(\"(.+)\"\)/)[1])):(c.classList.remove("parallax-window"),c.removeAttribute("data-parallax"),c.removeAttribute("data-image-src")):$(c).css($(this).attr("name"),$(this).val());m.activeElement.sandbox&&(e=$(m.activeElement.element).attr("id"),$("#"+m.activeElement.sandbox).contents().find("#"+e).css($(this).attr("name"),$(this).val()))})),"A"===$(m.activeElement.element).prop("tagName")){if(m.activeElement.element.href=document.getElementById("internalLinksCustom").value,t=m.activeElement.element.childNodes.length,1===$(m.activeElement.element).closest(i.navSelector).size()&&m.inputLinkActive.checked?m.activeElement.element.parentNode.classList.add(i.navActiveClass):m.activeElement.element.parentNode.classList.remove(i.navActiveClass),m.linkImage)m.activeElement.element.childNodes[t-1].nodeValue=document.querySelector('[name="text"]').value;else if(m.linkIcon)m.activeElement.element.childNodes[t-1].nodeValue=document.querySelector('[name="text"]').value;else{document.querySelector('[name="text"]')&&(m.activeElement.element.innerText=document.querySelector('[name="text"]').value)}m.activeElement.element.removeAttribute("data-toggle"),a.site.activePage.popups.forEach(e=>{"#"+e.popupID===document.getElementById("internalLinksCustom").value&&m.activeElement.element.setAttribute("data-toggle","modal")}),m.openTargetBlank.checked?m.activeElement.element.setAttribute("target","_blank"):m.activeElement.element.removeAttribute("target"),m.activeElement.sandbox&&(e=$(m.activeElement.element).attr("id"),$("#"+m.activeElement.sandbox).contents().find("#"+e).attr("href",$("input#internalLinksCustom").val()))}if("A"===$(m.activeElement.element).parent().prop("tagName")&&(m.activeElement.element.parentNode.href=document.getElementById("internalLinksCustom").value,t=m.activeElement.element.childNodes.length,m.activeElement.sandbox&&(e=$(m.activeElement.element).attr("id"),$("#"+m.activeElement.sandbox).contents().find("#"+e).parent().attr("href",$("input#internalLinksCustom").val()))),$(m.activeElement.element).hasClass("fa")){var d=$.grep(m.activeElement.element.className.split(" "),(function(e,t){return 0===e.indexOf("fa-")})).join();d!==$("select#icons").val()&&($(m.activeElement.element).uniqueId(),m._oldIcon[$(m.activeElement.element).attr("id")]=d),$(m.activeElement.element).removeClass(d).addClass($("select#icons").val()),m.activeElement.sandbox&&(e=$(m.activeElement.element).attr("id"),$("#"+m.activeElement.sandbox).contents().find("#"+e).removeClass(d).addClass($("select#icons").val()))}if($(m.activeElement.element).hasClass("btn")&&("INPUT"==$(m.activeElement.element).prop("tagName")?$(m.activeElement.element).prop("value",$('#styleElements input[name="text"]').prop("value")):$(m.activeElement.element).html($('#styleElements input[name="text"]').prop("value"))),"video"===$(m.activeElement.element).attr("data-type")){const t=n(211)("//app.ifunnels.com/video/"),i=$("#slick_stick").prop("checked");t.addQuery({url:$("#videoURL").val(),simulate_live:$("#simulate_live").prop("checked")?1:0});const r=$(m.activeElement.element).prev();r.attr("src",t.toString()),r.attr("data-sticky",i);const{parentFrame:a}=m.activeElement;if(i){const e="/skin/ifunnels-studio/dist/js/stick.bundle.js";if(!a.contentDocument.querySelector(`script[src="${e}"]`)){const t=a.contentDocument.createElement("script");t.src=e;const n=a.contentDocument.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","/skin/ifunnels-studio/dist/css/stick.bundle.css"),a.contentDocument.head.appendChild(n),a.contentDocument.body.appendChild(t)}}else{const e=a.contentDocument.querySelector('script[src="/skin/ifunnels-studio/dist/js/stick.bundle.js"]'),t=a.contentDocument.querySelector('link[href="/skin/ifunnels-studio/dist/css/stick.bundle.css"]');e&&e.parentNode.removeChild(e),t&&t.parentNode.removeChild(t)}if(m.activeElement.sandbox)if(e=$(m.activeElement.element).attr("id"),""!==$("input#youtubeID").val()){if((f=$("#video_Tab input#youtubeID").val()).indexOf("youtu")>-1){var u=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,h=f.match(u);f=h[1]}$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//www.youtube.com/embed/"+f)}else if(""!==$("input#vimeoID").val()){(f=$("#video_Tab input#vimeoID").val()).indexOf("vimeo.com")>-1&&(f=f.match(/player\.vimeo\.com\/video\/([0-9]*)/)),$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//player.vimeo.com/video/"+f+"?title=0&amp;byline=0&amp;portrait=0")}else if(""!==$("input#videoURL").val()){if((f=$("#video_Tab input#videoURL").val()).indexOf("app.ifunnels.com")>-1){h=f.match(/.*(?:app.ifunnels.com\/video\/\?url=)([^#\&\?]*).*/);f=h[1]}$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//app.ifunnels.com/video/?url="+f)}}if("video2"===$(m.activeElement.element).attr("data-type")){const t=$("#slick_stick").prop("checked"),n=$("#simulate_live").prop("checked"),i=$("#videoURL").val(),r=m.activeElement.element.parentNode,{cfg:a}=m.activeElement.parentBlock.frame.contentWindow,o={type:`video/${p.parseMediaType(i)}`,src:i},s=r.querySelector('script[type="application/json"]');if(a.player.src(o),s.innerText=JSON.stringify(o),r.setAttribute("data-sumulate-live",n),r.setAttribute("data-sticky",t),r.setAttribute("data-button-text",$("#button_text").prop("value")),r.setAttribute("data-button-color",$("#button_color").prop("value")),m.activeElement.sandbox)if(e=$(m.activeElement.element).attr("id"),""!==$("input#youtubeID").val()){if((f=$("#video_Tab input#youtubeID").val()).indexOf("youtu")>-1){u=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i,h=f.match(u);f=h[1]}$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//www.youtube.com/embed/"+f)}else if(""!==$("input#vimeoID").val()){(f=$("#video_Tab input#vimeoID").val()).indexOf("vimeo.com")>-1&&(f=f.match(/player\.vimeo\.com\/video\/([0-9]*)/)),$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//player.vimeo.com/video/"+f+"?title=0&amp;byline=0&amp;portrait=0")}else if(""!==$("input#videoURL").val()){var f;if((f=$("#video_Tab input#videoURL").val()).indexOf("app.ifunnels.com")>-1){h=f.match(/.*(?:app.ifunnels.com\/video\/\?url=)([^#\&\?]*).*/);f=h[1]}$("#"+m.activeElement.sandbox).contents().find("#"+e).prev().attr("src","//app.ifunnels.com/video/?url="+f)}}if("FORM"===m.activeElement.element.tagName){if(m.activeElement.element.querySelector('input[name="_confirmation"]')&&m.activeElement.element.querySelector('input[name="_confirmation"]').remove(),m.activeElement.element.querySelector('input[name="_hiddenInputSiteID"]')&&m.activeElement.element.querySelector('input[name="_hiddenInputSiteID"]').remove(),m.activeElement.element.querySelector('input[name="_emailto"]')&&m.activeElement.element.querySelector('input[name="_emailto"]').remove(),m.checkboxEmailForm.checked){if(m.activeElement.element.setAttribute("action",baseUrl+i.sentApiURL),m.activeElement.element.setAttribute("data-action","sentapi"),""!==m.inputEmailFormTo.value){let e=document.createElement("input");e.type="hidden",e.name="_emailto",e.value=m.inputEmailFormTo.value,m.activeElement.element.appendChild(e)}if(void 0!==typeof a.site.data.sites_id){let e=document.createElement("input");e.type="hidden",e.name="_hiddenInputSiteID",e.value=a.site.data.sites_id,m.activeElement.element.appendChild(e)}if(""!==m.textareaCustomMessage.value){var g=document.createElement("input");g.type="hidden",g.name="_confirmation",g.value=m.textareaCustomMessage.value,m.activeElement.element.appendChild(g)}0==$(m.activeElement.element).closest("body").find("script.emailto").length&&$(m.activeElement.element).closest("body").append('<script class="emailto" type="text/javascript" src="/skin/pagebuilder/build/emailto.bundle.js"><\/script>')}else m.checkboxCustomAction.checked&&(m.activeElement.element.setAttribute("action",m.inputCustomAction.value),m.activeElement.element.setAttribute("data-action","custom"));if(m.checkboxUseLeadChannels.checked){let e="";$(m.activeElement.element).find('input[type="submit"]').size()>0&&(e=$(m.activeElement.element).find('input[type="submit"]').eq(0).prop("value")),$(m.activeElement.element).find("button").size()>0&&(e=$(m.activeElement.element).find("button").eq(0).html()),""!==$(m.selectPages).prop("value")&&a.site.sitePages.forEach((function(e){e.pageID==$(m.selectPages).prop("value")&&$(m.inputRedirectTo).prop("value",e.name+".php")})),$.ajax({url:r.dataUrls.getLeadChannelsForm,type:"POST",data:{lead_id:m.selectLeadChannels.value,currentform:btoa($(m.activeElement.element).parent().html())},dataType:"json"}).done((function(e){if($(m.activeElement.element).attr("data-lead-channel",m.selectLeadChannels.value),Object.keys(e.form.attr).forEach((function(t){$(m.activeElement.element).prop(t,e.form.attr[t])})),1===e.responseCode){let t={input:[],button:[]};$(m.activeElement.element).find('input:not([type*="submit,hidden"])').each((function(){if("none"!==$(this).css("display")){let e=this;Object.keys(this.attributes).forEach((function(n){t.input.push({attr:e.attributes[n].name,value:e.attributes[n].value})}))}})),$(m.activeElement.element).find('button,input[type="submit"],input[type="button"]').each((function(){let e=this;Object.keys(this.attributes).forEach((function(n){t.button.push({attr:e.attributes[n].name,value:e.attributes[n].value,parent:$(e).parent()})}))})),$(m.activeElement.element).empty(),$(m.activeElement.element).css("min-height","70px"),e.form.input.forEach((function(e){switch(e.type){case"text":var t="";1==m.checkboxTriggeredFields.checked&&(t="float:left;width:auto;"),$(m.activeElement.element).append(`<div class="form-group" style="${t}"><input type="text" id="${e.name}" name="${e.name}" placeholder="${e.placeholder}" value="${void 0!==e.value?e.value:""}" class="${e.class}" /></div>`);break;case"hidden":$(m.activeElement.element).append(`<input type="hidden" id="${e.name}" name="${e.name}" value="${void 0!==e.value?e.value:""}">`);break;case"submit":t="";1==m.checkboxTriggeredFields.checked&&(t=" float:left;width:auto;"),$(m.activeElement.element).append(`<button type="${e.type}" style="${e.style}${t}" class="${e.class}" >${void 0!==e.value?e.value:""}</button>`)}})),null!=e.form.gdpr&&$(m.activeElement.element).append('<div class="gdpr-block">'+e.form.gdpr+"</div>"),$(m.activeElement.element).find('[name="_inputRedirectTo"]').prop("value",m.inputRedirectTo.value),$(m.activeElement.element).find('[name="_textareaCustomMessageLeadChannel"]').prop("value",m.textareaCustomMessageLeadChannel.value),""!==$(m.selectPages).prop("value")&&$(m.activeElement.element).attr("data-redirect-page",$(m.selectPages).prop("value")),m.setupCanvasElementsOnElement($(m.activeElement.element).find("button")[0],"a.btn, button.btn")}})),0==$(m.activeElement.element).closest("body").find("script.leadchannel").length&&$(m.activeElement.element).closest("body").append('<script class="leadchannel" type="text/javascript" src="/skin/pagebuilder/build/leadchannels.bundle.js"><\/script>')}}$(m.activeElement.element).attr("data-id");if(null!=m.inputEffectAnimation&&""!==m.inputEffectAnimation.value&&($(m.activeElement.element).attr("data-effects",m.inputEffectAnimation.value),$(m.activeElement.element).attr("data-delayef",m.inputEffectDelay.value)),"countdown"===$(m.activeElement.element).data("component")){var b=document.querySelector('[name="countdown-textcolor"]').value,v=document.querySelector('[name="countdown-panelcolor"]').value,y=document.querySelector('[name="countdown-labelcolor"]').value,_=document.querySelector('[name="countdown-style"]').value,w=document.querySelector('[name="countdown-value"]').value,k=document.querySelector('[name="countdown-type"]').value,x=document.querySelector('[name="countdown-labels"]').value,A=document.querySelector('[name="countdown-action"]').value,C=document.querySelector('[name="countdown-redirect"]').value,S=document.querySelector('[name="countdown-delay"]').value,E=document.querySelector('[name="countdown-direction"]').value;$(m.activeElement.element).attr("data-value",w),$(m.activeElement.element).attr("data-delay",S),$(m.activeElement.element).attr("data-textcolor",b),$(m.activeElement.element).attr("data-panelcolor",v),$(m.activeElement.element).attr("data-labelcolor",y),$(m.activeElement.element).attr("data-style",_),$(m.activeElement.element).attr("data-type",k),$(m.activeElement.element).attr("data-labels",x),$(m.activeElement.element).attr("data-action",A),$(m.activeElement.element).attr("data-url",C),$(m.activeElement.element).attr("data-direction",E),l.updateCountDown(m.activeElement.parentBlock)}if("IMG"===m.activeElement.element.tagName){let e;$(m.activeElement.element).parents(i.imageLightboxWrapper).size()>0&&$(m.activeElement.element).parents(i.imageLightboxWrapper).find("a").attr(i.imageLightboxAttr,m.inputCombinedGallery.value),""!==m.inputImageTitle.value?m.activeElement.element.setAttribute("title",m.inputImageTitle.value):m.activeElement.element.removeAttribute("title"),""!==m.inputImageAlt.value?m.activeElement.element.setAttribute("alt",m.inputImageAlt.value):m.activeElement.element.removeAttribute("alt"),0===$(m.activeElement.element).parents('[data-component="image-lightbox"]').size()&&("#"!==m.selectLinksPages.value&&(e=m.selectLinksPages.value),"#"!==m.selectLinksInernal.value&&(e=m.selectLinksInernal.value),""!==m.inputCustomLink.value&&(e=m.inputCustomLink.value),void 0!==e?"A"===m.activeElement.element.parentNode.tagName?m.activeElement.element.parentNode.href=e:$(m.activeElement.element).wrap('<a href="'+e+'"></a>'):$(m.activeElement.element).unwrap())}if("quest-box"==$(m.activeElement.element).attr("data-component")&&$(m.activeElement.element).attr("data-id",document.querySelector('[name="blockid"]').value),"quest"==m.activeElement.element.getAttribute("data-component")&&(m.activeElement.element.setAttribute("data-hover-color",document.querySelector('[name="hover-background-color"]').value||"#97d6ff"),m.activeElement.element.setAttribute("data-blockid",m.quizAction.value),m.activeElement.element.removeAttribute("data-blockurl"),m.activeElement.element.removeAttribute("data-blockpopup"),"open-url"==m.quizAction.value&&(m.activeElement.element.setAttribute("data-blockurl",m.quizUrl.value),m.activeElement.element.setAttribute("data-blockthanks",s.custom_base64_encode(m.quizThanks.value))),"open-popup"==m.quizAction.value&&m.activeElement.element.setAttribute("data-blockpopup",m.getRegularPopupId())),"grid"==$(m.activeElement.element).attr("data-component")&&""!==document.querySelector('[name="custom"]').value){$(m.activeElement.element).empty();var T=document.querySelector('[name="custom"]').value.split(",");0!=T.length&&$.each(T,(function(e,t){$(m.activeElement.element).append('<div class="col-md-'+t.trim()+'" data-selector=\'*[data-component="grid"] > div\'><div data-container="true"></div></div>'),m.setupCanvasElementsOnElement($(m.activeElement.element).find("[data-selector='*[data-component=\"grid\"] > div']")[e],'*[data-component="grid"] > div')}))}if(m.activeElement.element.parentNode.parentNode.parentNode.hasAttribute("data-carousel-item")){var D=$(m.activeElement.element).closest(".carousel")[0];m.checkboxSliderAutoplay.checked?D.setAttribute("data-ride","carousel"):D.removeAttribute("data-ride"),m.checkboxSliderPause.checked?D.setAttribute("data-pause","hover"):D.removeAttribute("data-pause"),"carousel-fade"!==m.selectSliderAnimation.value||D.classList.contains("carousel-fade")?D.classList.remove("carousel-fade"):D.classList.add("carousel-fade"),""!==m.inputSlideInterval.value?D.setAttribute("data-interval",m.inputSlideInterval.value):D.removeAttribute("data-interval"),D.classList.remove("nav-arrows-out"),D.classList.remove("nav-arrows-none"),D.classList.remove("nav-arrows-in"),"nav-arrows-out"===m.selectSliderNavArrows.value?D.classList.add("nav-arrows-out"):"nav-arrows-none"===m.selectSliderNavArrows.value?D.classList.add("nav-arrows-none"):D.classList.add("nav-arrows-in"),D.classList.remove("nav-indicators-out"),D.classList.remove("nav-indicators-none"),D.classList.remove("nav-indicators-in"),"nav-indicators-out"===m.selectSliderNavIndicators.value?D.classList.add("nav-indicators-out"):"nav-indicators-none"===m.selectSliderNavIndicators.value?D.classList.add("nav-indicators-none"):D.classList.add("nav-indicators-in")}if(m.activeElement.element.classList.contains("mapOverlay")&&void 0!==i.google_api){var L=$(m.activeElement.element).prev()[0],M={};""!==m.textareaAddress.value?L.setAttribute("data-address",m.textareaAddress.value):L.removeAttribute("data-address"),""!==m.textareaInfoMessage.value?L.setAttribute("data-info-message",m.textareaInfoMessage.value):L.removeAttribute("data-info-message"),0!==m.inputZoomLevel.value?L.setAttribute("data-zoom",m.inputZoomLevel.value):L.removeAttribute("data-zoom"),m.checkBoxMapBW.checked?L.setAttribute("data-style","blackandwhite"):L.removeAttribute("data-style"),M.action="loadMapAPI",M.key=i.google_api,m.activeElement.parentBlock.frame.contentWindow.postMessage(M,"*"),document.getElementById("skeleton").contentWindow.postMessage(M,"*")}if("divider"===m.activeElement.element.getAttribute("data-component")){const e=document.querySelector('[name="divider-color"]');e&&(m.activeElement.element.setAttribute("data-color",e.value),m.activeElement.element.style.setProperty("--divider-color",e.value))}if("label"===m.activeElement.element.getAttribute("data-selector")){const e=document.querySelector('[name="color"]');e&&m.activeElement.element.style.setProperty("--color",e.value)}if(-1!==["button"].indexOf(m.activeElement.element.parentElement.getAttribute("data-component"))||-1!==["nav a","ul > li > a","img","a"].indexOf(m.activeElement.element.getAttribute("data-selector")))if(m.checkoutSwitcher.checked){m.activeElement.element.setAttribute("data-checkout",!0),m.activeElement.element.setAttribute("data-checkout-display",m.checkoutSettingsDisplay.value),m.activeElement.element.setAttribute("data-checkout-redirect",m.checkoutSettingsRedirect.value),m.activeElement.element.setAttribute("data-checkout-membership",m.checkoutSettingsMembership.value),m.activeElement.element.setAttribute("data-bump",m.bumpSwitcher.checked);const e=m.activeElement.parentFrame.contentDocument.createElement("script");e.setAttribute("src","/skin/ifunnels-studio/dist/js/checkout.bundle.js"),e.setAttribute("id","checkout-js"),m.activeElement.parentFrame.contentDocument.body.appendChild(e);const t=m.activeElement.parentFrame.contentDocument.createElement("link");t.setAttribute("href","/skin/ifunnels-studio/dist/css/checkout.bundle.css"),t.setAttribute("rel","stylesheet"),t.setAttribute("id","checkout-css"),m.activeElement.parentFrame.contentDocument.head.appendChild(t)}else{m.activeElement.element.removeAttribute("data-checkout"),m.activeElement.element.removeAttribute("data-checkout-display"),m.activeElement.element.removeAttribute("data-checkout-redirect"),m.activeElement.element.removeAttribute("data-checkout-membership"),m.activeElement.element.removeAttribute("data-bump"),m.activeElement.element.removeAttribute("data-bump-list");const e=m.activeElement.parentFrame.contentDocument.querySelector("script#checkout-js");e&&e.parentElement.removeChild(e);const t=m.activeElement.parentFrame.contentDocument.querySelector("link#checkout-css");t&&t.parentElement.removeChild(t)}if(m.activeElement.element.getAttribute("data-component"),"nft"==m.activeElement.element.parentNode.getAttribute("data-component")){const{editableAttributes:e,element:t,parentFrame:n}=m.activeElement,i={classList:Array.from(t.classList).filter(e=>!["sb_open"].includes(e)),styles:{}};e.forEach(e=>{const n=p.formatToCamelCase(e);t.style[n]&&""!==t.style[n]&&(i.styles[n]=t.style[n])});let r=t.parentNode.querySelector('script[data-type="styles"][type="application/json"]');r||(r=n.contentDocument.createElement("script"),r.setAttribute("type","application/json"),r.setAttribute("data-type","styles"),t.parentNode.appendChild(r)),r.innerText=JSON.stringify(i)}".block"==$(m.activeElement.element).data("selector")&&$(m.activeElement.element).prop("id",settingAttrId.value),$("#detailsAppliedMessage").fadeIn(600,(function(){setTimeout((function(){$("#detailsAppliedMessage").fadeOut(1e3)}),3e3)})),m.openTargetBlank.checked&&$(m.activeElement.element).attr("target","_blank"),"function"==typeof m.activeElement.parentBlock.heightAdjustment&&m.activeElement.parentBlock.heightAdjustment(),a.site.setPendingChanges(!0),o.publish("onBlockChange",m.activeElement.parentBlock,"change")},animateStyleInputIn:function(){$(this).css("position","absolute"),$(this).css("right","0px"),$(this).animate({width:"100%"},500),$(this).focus((function(){this.select()}))},animateStyleInputOut:function(){$(this).animate({width:"42%"},500,(function(){$(this).css("position","relative"),$(this).css("right","auto")}))},buildBlocksDropdown:function(e){var t,n;for($(m.selectLinksInernal).select2("destroy"),void 0===e&&(e=null),m.selectLinksInernal.innerHTML="",(n=document.createElement("OPTION")).innerText=m.selectLinksInernal.getAttribute("data-placeholder"),n.setAttribute("value","#"),m.selectLinksInernal.appendChild(n),t=0;t<a.site.activePage.blocks.length;t++){var r=a.site.activePage.blocks[t].frameDocument.querySelector(i.pageContainer);if(null!==r&&r.children[0]){var o=r.children[0].id;(n=document.createElement("OPTION")).innerText="#"+o,n.setAttribute("value","#"+o),e==="#"+o&&n.setAttribute("selected",!0),m.selectLinksInernal.appendChild(n)}}$(m.selectLinksInernal).select2({minimumResultsForSearch:-1}),$(m.selectLinksInernal).trigger("change"),$(m.selectLinksInernal).off("change").on("change",(function(){m.inputCustomLink.value=this.value,m.resetPageDropdown()}))},inputCustomLinkBlur:function(e){var t,n=e.target.value;for(t=0;t<m.selectLinksPages.querySelectorAll("option").length;t++)n===m.selectLinksPages.querySelectorAll("option")[t].value&&(m.selectLinksPages.selectedIndex=t,$(m.selectLinksPages).trigger("change").select2());m.selectLinksInernal.querySelectorAll("option").forEach((function(e,t){n===e.value&&(m.selectLinksInernal.selectedIndex=t,$(m.selectLinksInernal).trigger("change").select2())}))},inputCustomLinkFocus:function(){m.resetPageDropdown(),m.resetBlockDropdown()},buildPagesDropdown:function(e){var t,n;for($(m.selectLinksPages).select2("destroy"),void 0===e&&(e=null),m.selectLinksPages.innerHTML="",(n=document.createElement("OPTION")).innerText=m.selectLinksPages.getAttribute("data-placeholder"),n.setAttribute("value","#"),m.selectLinksPages.appendChild(n),t=0;t<a.site.sitePages.length;t++)(n=document.createElement("OPTION")).innerText=a.site.sitePages[t].name,n.setAttribute("value",a.site.sitePages[t].name+".php"),e===a.site.sitePages[t].name+".php"&&n.setAttribute("selected",!0),m.selectLinksPages.appendChild(n);$(m.selectLinksPages).select2({minimumResultsForSearch:-1}),$(m.selectLinksPages).trigger("change"),$(m.selectLinksPages).off("change").on("change",(function(){m.inputCustomLink.value=this.value,m.resetBlockDropdown()}))},resetBlockDropdown:function(){m.selectLinksInernal.selectedIndex=0,$(m.selectLinksInernal).select2("destroy").select2()},resetPageDropdown:function(){m.selectLinksPages.selectedIndex=0,$(m.selectLinksPages).select2("destroy").select2()},editLink:function(e){var t;$("a#link_Link").parent().show(),"A"===$(e).prop("tagName")?t=$(e).attr("href"):"A"===$(e).parent().prop("tagName")&&(t=$(e).parent().attr("href")),1===$(e).closest(i.navSelector).size()?(m.inputLinkActive.parentNode.style.display="block",e.parentNode.classList.contains(i.navActiveClass)?$(m.inputLinkActive).prop("checked",!0):$(m.inputLinkActive).prop("checked",!1)):m.inputLinkActive.parentNode.style.display="none",m.buildPagesDropdown(t),m.buildBlocksDropdown(t),m.inputCustomLink.value=t,e.querySelector("img")?m.linkImage=e.querySelector("img"):m.linkImage=null,e.querySelector(".fa")?m.linkIcon=e.querySelector(".fa").cloneNode(!0):m.linkIcon=null},editEffects:function(e){document.querySelector("#intDelay").value=$(e.element).attr("data-delayef"),$("select#flgAnimation option").each((function(){this.removeAttribute("selected")})),$("select#flgAnimation option").each((function(){$(this).val()===$(e.element).attr("data-effects")&&$(this).attr("selected",!0)})),$("#flgAnimation").trigger("change")},editCountdown:function(e){const t=$(e.element).attr("data-url");document.querySelector('[name="countdown-textcolor"]').value=$(e.element).attr("data-textcolor"),document.querySelector('[name$="labelcolor"]').value=$(e.element).attr("data-labelcolor"),document.querySelector('[name="countdown-panelcolor"]').value=$(e.element).attr("data-panelcolor"),document.querySelector('[name="countdown-style"]').value=$(e.element).attr("data-style"),document.querySelector('[name="countdown-type"]').value=$(e.element).attr("data-type"),document.querySelector('[name="countdown-delay"]').value=$(e.element).attr("data-delay"),document.querySelector('[name="countdown-value"]').value=$(e.element).attr("data-value"),document.querySelector('[name="countdown-redirect"]').value=$(e.element).attr("data-url")||"",document.querySelector('[name="countdown-labels"]').value=$(e.element).attr("data-labels"),document.querySelector('[name="countdown-direction"]').value=$(e.element).attr("data-direction"),document.querySelector('[name="countdown-action"]').value=$(e.element).attr("data-action");const n=document.querySelector('[name="countdown-redirect"]').parentNode,i=$(n).children();switch(i.addClass("hidden"),$(e.element).attr("data-action")){default:case"url":i.eq(3).removeClass("hidden"),i.eq(4).removeClass("hidden");break;case"redirect":i.eq(0).removeClass("hidden"),i.eq(1).removeClass("hidden")}t&&$("#cd_page-select").select2("val",t.substring(0,t.length-4)),$('[name="countdown-labels"]').trigger("change",[!0]),$('[name="countdown-style"]').trigger("change",[!0]),$('[name="countdown-type"]').trigger("change",[!0]),$('[name="countdown-direction"]').trigger("change",[!0]),$('[name="countdown-action"]').trigger("change",[!0])},editImage:function(e){var t;$("a#img_Link").parent().show(),$("a#link_Link").parent().show(),null!=document.querySelector('[name="text"]')&&(document.querySelector('[name="text"]').parentNode.style.display="none"),m.inputLinkActive.parentNode.style.display="none",t="A"===$(e).parent().prop("tagName")?$(e).parent().attr("href"):"",m.buildPagesDropdown(t),m.buildBlocksDropdown(t),m.inputCustomLink.value=t,$(".imageFileTab").find("input#imageURL").val($(e).attr("src")),$(".imageFileTab").find("a.fileinput-exists").click(),$(e).parents(i.imageLightboxWrapper).size()>0?($(e).parents(i.imageLightboxWrapper).find("a")[0].hasAttribute(i.imageLightboxAttr)?m.inputCombinedGallery.value=$(e).parents(i.imageLightboxWrapper).find("a").attr(i.imageLightboxAttr):m.inputCombinedGallery.value="",m.inputCombinedGallery.style.display="block"):(m.inputCombinedGallery.value="",m.inputCombinedGallery.style.display="none"),e.hasAttribute("title")&&(m.inputImageTitle.value=e.getAttribute("title")),e.hasAttribute("alt")&&(m.inputImageAlt.value=e.getAttribute("alt"))},editVideo:function(e){const t=n(211),{query:i}=t.parse($(e).prev().attr("src")),{url:r,simulate_live:a}=t.parseQuery(i),o=$(e).prev();$("a#video_Link").parent().show(),$("a#video_Link").click(),$("#video_Tab input#videoURL").val(r),$("#simulate_live").prop("checked",parseInt(a)),$("#slick_stick").prop("checked",!!o.attr("data-sticky")&&!("false"===o.attr("data-sticky")))},editVideo2:function(e){const t=e.parentNode;if(!t.querySelector('script[type="application/json"]'))return;const{src:n}=JSON.parse(t.querySelector('script[type="application/json"]').innerText);$("a#video_Link").parent().show(),$("a#video_Link").click(),n&&$("#video_Tab input#videoURL").val(n),$("#simulate_live").prop("checked",!!t.getAttribute("data-sumulate-live")&&!("false"===t.getAttribute("data-sumulate-live"))).trigger("change"),$("#slick_stick").prop("checked",!!t.getAttribute("data-sticky")&&!("false"===t.getAttribute("data-sticky"))),t.getAttribute("data-button-text")&&$("#button_text").prop("value",t.getAttribute("data-button-text")),t.getAttribute("data-button-color")&&($("#button_color").prop("value",t.getAttribute("data-button-color")),$("#button_color").spectrum("set",t.getAttribute("data-button-color")))},editChat:function(e){$("a#webinar_Link").parent().show(),$("#chatModal").on("shown.bs.modal",()=>{h.init(e.element,e)});const t=$("#webinar_sec"),n=$("#webinar_username"),i=$("#webinar_message");$("#clear_all_messages").off("click").on("click",(function(e){e.preventDefault(),h.clearAllMessages()})),$("#add_webinar_message").off("click").on("click",(function(e){e.preventDefault(),h.addMessage(t.prop("value"),n.prop("value"),i.prop("value")),t.prop("value",""),n.prop("value",""),i.prop("value","")}))},editIcon:function(){$("a#icon_Link").parent().show();var e=$.grep(this.activeElement.element.className.split(" "),(function(e,t){return 0===e.indexOf("fa-")})).join();$("select#icons option").each((function(){this.removeAttribute("selected"),$(this).val()===e&&($(this).attr("selected",!0),$("#icons").trigger("chosen:updated"))}))},editNavbar:function(e){$("a#menuitems_Link").parent().show(),m.activeElement.element.hasAttribute("class")&&(-1!==m.activeElement.element.getAttribute("class").indexOf("sbpro-navbar-left")||-1!==m.activeElement.element.getAttribute("class").indexOf("sbpro-navbar-left-right")?(m.activeElement.element.querySelectorAll(".collapse > ul:nth-child(1) a:not(.btn)"),m.activeElement.element.querySelectorAll(".collapse a.btn")):-1!==m.activeElement.element.getAttribute("class").indexOf("sbpro-navbar-right")?(m.activeElement.element.querySelectorAll(".collapse > ul:nth-child(2) a:not(.btn)"),m.activeElement.element.querySelectorAll(".collapse a.btn")):-1!==m.activeElement.element.getAttribute("class").indexOf("sbpro-navbar-centered")&&(m.activeElement.element.querySelectorAll(".collapse > ul:nth-child(1) a:not(.btn)"),m.activeElement.element.querySelectorAll(".collapse a.btn")))},editForm:function(e){var t;$(m.selectPages).find("option").remove(),$("a#form_Link").parent().show(),e.hasAttribute("data-action")?"sentapi"===e.getAttribute("data-action")?(t=$(e).find('[name="_emailto"]').prop("value"),m.checkboxEmailForm.checked=!0,m.inputEmailFormTo.removeAttribute("disabled"),m.textareaCustomMessage.removeAttribute("disabled"),m.inputEmailFormTo.value=t,m.checkboxCustomAction.checked=!1,m.inputCustomAction.value="",m.inputCustomAction.setAttribute("disabled",!1),m.textareaCustomMessageLeadChannel.setAttribute("disabled",!1),$("[data-form-type]").hide(),$('[data-form-type="email"]').show(),e.querySelector('input[name="_confirmation"]')&&(m.textareaCustomMessage.value=e.querySelector('input[name="_confirmation"]').value)):"custom"===e.getAttribute("data-action")&&(m.checkboxEmailForm.checked=!1,m.inputEmailFormTo.setAttribute("disabled",!0),m.textareaCustomMessage.setAttribute("disabled",!0),m.textareaCustomMessageLeadChannel.setAttribute("disabled",!1),m.textareaCustomMessage.value="",m.checkboxCustomAction.checked=!0,m.inputCustomAction.value=e.getAttribute("action"),m.inputCustomAction.removeAttribute("disabled"),$("[data-form-type]").hide(),$('[data-form-type="action"]').show()):(m.checkboxEmailForm.checked=!1,m.inputEmailFormTo.setAttribute("disabled",!0),m.textareaCustomMessage.setAttribute("disabled",!0),m.textareaCustomMessage.value="",m.checkboxCustomAction.checked=!1,m.inputCustomAction.value="",m.inputCustomAction.setAttribute("disabled",!1)),null!==e.getAttribute("data-lead-channel")&&(m.checkboxUseLeadChannels.checked=!0,m.selectLeadChannels.removeAttribute("disabled"),m.textareaCustomMessageLeadChannel.removeAttribute("disabled"),m.inputRedirectTo.removeAttribute("disabled"),$(m.selectLeadChannels).find(`option[value="${e.getAttribute("data-lead-channel")}"]`).prop("selected","selected"),m.inputRedirectTo.value=$(e).find('[name="_inputRedirectTo"]').prop("value"),m.textareaCustomMessageLeadChannel.value=$(e).find('[name="_textareaCustomMessageLeadChannel"]').prop("value"),$("[data-form-type]").hide(),$('[data-form-type="leadchannels"]').show()),$(m.selectPages).append('<option value="">Select Page</option>'),a.site.sitePages.forEach((function(e){$(m.selectPages).append(`<option value="${e.pageID}" ${$(m.activeElement.element).data("redirect-page")==e.pageID?"selected":""}>${e.name}</option>`)})),$("#selectPages").select2("val",$(m.activeElement.element).data("redirect-page")),null!==m.checkboxTriggeredOptin&&void 0!==$(m.activeElement.element).attr("data-triggered-optin")&&(m.checkboxTriggeredOptin.checked=!0),null!==m.checkboxTriggeredFields&&void 0!==$(m.activeElement.element).attr("data-triggered-fields")&&(m.checkboxTriggeredFields.checked=!1)},editSlideshow:function(e){$("a#slideshow_Link").parent().show(),e.hasAttribute("data-ride")&&"carousel"===e.getAttribute("data-ride")?$(m.checkboxSliderAutoplay).bootstrapSwitch("state",!0,!0):$(m.checkboxSliderAutoplay).bootstrapSwitch("state",!1,!0),e.hasAttribute("data-pause")&&"hover"===e.getAttribute("data-pause")?$(m.checkboxSliderPause).bootstrapSwitch("state",!0,!0):$(m.checkboxSliderPause).bootstrapSwitch("state",!1,!0),e.classList.contains("carousel-fade")?m.selectSliderAnimation.value="carousel-fade":m.selectSliderAnimation.value="",$(m.selectSliderAnimation).trigger("change"),e.hasAttribute("data-interval")?m.inputSlideInterval.value=e.getAttribute("data-interval"):m.inputSlideInterval.value="",e.classList.contains("nav-arrows-out")?m.selectSliderNavArrows.value="nav-arrows-out":e.classList.contains("nav-arrows-none")?m.selectSliderNavArrows.value="nav-arrows-none":m.selectSliderNavArrows.value="nav-arrows-in",$(m.selectSliderNavArrows).trigger("change"),e.classList.contains("nav-indicators-out")?m.selectSliderNavIndicators.value="nav-indicators-out":e.classList.contains("nav-indicators-none")?m.selectSliderNavIndicators.value="nav-indicators-none":m.selectSliderNavIndicators.value="nav-indicators-in",$(m.selectSliderNavIndicators).trigger("change")},editMap:function(e){$("a#map_Link").parent().show(),e.hasAttribute("data-address")&&(m.textareaAddress.value=e.getAttribute("data-address")),e.hasAttribute("data-info-message")&&(m.textareaInfoMessage.value=e.getAttribute("data-info-message")),e.hasAttribute("data-zoom")&&(m.inputZoomLevel.value=e.getAttribute("data-zoom")),e.hasAttribute("data-style")&&"blackandwhite"===e.getAttribute("data-style")?$(m.checkBoxMapBW).bootstrapSwitch("state",!0,!0):$(m.checkBoxMapBW).bootstrapSwitch("state",!1,!0)},editCode:function(e){var t;$("a#code_Link").parent().show(),t=$(e.element).find(".code").data("option"),m.textareaCodeField.value=null!=t?decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")):""},updateCode:function(){var e;e=m.textareaCodeField.value,$(m.activeElement.element).find(".code").attr("data-option",window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))),$("#codeModal").modal("hide"),a.site.setPendingChanges(!0)},editBlock:function(e){$(this.settingAttrId).on("focus",this.animateStyleInputIn).on("blur",this.animateStyleInputOut),$("a#setting_Link").parent().show(),$(this.settingAttrId).prop("value",$(e).prop("id"))},editQuiz:function(e){$("a#quiz_Link").parent().show(),$(this.quizUrl).on("focus",this.animateStyleInputIn).on("blur",this.animateStyleInputOut);const{element:t}=e,n=t.getAttribute("data-blockid")||"";let i=[{value:"",name:" - select -"},{value:"open-url",name:"Open Url"},{value:"open-popup",name:"Show Popup Upon Completion"}];i=i.concat(this.getListQuestionBox(t)),this.quizAction.querySelectorAll("option").forEach(e=>this.quizAction.removeChild(e)),i.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.innerText=e.name,e.value==n&&(t.selected=!0),"open-popup"==e.value&&(this.isCreatedReqularPopup()||t.setAttribute("disabled","true")),this.quizAction.appendChild(t)}),$(this.quizAction).trigger("change"),this.quizUrl.value=t.getAttribute("data-blockurl")||null,this.quizThanks.value=s.custom_base64_decode(t.getAttribute("data-blockthanks"))||null},editBtn:function(e){const{element:t}=e;if(0!=$("a#checkout_Link").length)if($("a#checkout_Link").parent().show(),t.getAttribute("data-checkout")){m.checkoutSwitcher.checked=!0,$(m.checkoutSwitcher).trigger("change"),m.checkoutSettingsRedirect.value=t.getAttribute("data-checkout-redirect"),m.checkoutSettingsDisplay.querySelector(`option[value="${t.getAttribute("data-checkout-display")}"]`).setAttribute("selected","selected"),$(m.checkoutSettingsDisplay).trigger("change");const e=m.checkoutSettingsMembership.querySelector(`option[value="${t.getAttribute("data-checkout-membership")}"]`);if(e&&e.setAttribute("selected","selected"),$(m.checkoutSettingsMembership).trigger("change"),null!=t.getAttribute("data-bump")&&"true"==t.getAttribute("data-bump")){m.bumpSwitcher.checked=t.getAttribute("data-bump"),$(m.bumpSwitcher).trigger("change");const e=JSON.parse(t.getAttribute("data-bump-list"))||[];document.querySelector('a[href="#bumpModal"]').innerHTML=`<span class="label label-warning m-r-10">${e.length}</span>Select Products`}}else{var n;m.checkoutSwitcher.checked=!1,$(m.checkoutSwitcher).trigger("change"),m.checkoutSettingsRedirect.value="",(n=m.checkoutSettingsDisplay.querySelectorAll("option")).forEach(e=>e.removeAttribute("selected")),n[0].setAttribute("selected","selected"),$(m.checkoutSettingsDisplay).trigger("change"),(n=m.checkoutSettingsMembership.querySelectorAll("option")).forEach(e=>e.removeAttribute("selected")),n[0]&&n[0].setAttribute("selected","selected"),$(m.checkoutSettingsMembership).trigger("change")}},editNft:function(e){$("a#nft_Link").parent().show()},isCreatedReqularPopup:function(){return a.site.activePage.popups.some(e=>"regular"===e.popupType)},getRegularPopupId:function(){let e=null;return a.site.activePage.popups.forEach(t=>{"regular"===t.popupType&&(e=t)}),e.popupID||null},eventQuizAction:function(e){"open-url"===e.currentTarget.value?(this.quizUrl.parentElement.classList.remove("hidden"),this.quizThanks.parentElement.classList.remove("hidden")):(this.quizUrl.parentElement.classList.add("hidden"),this.quizThanks.parentElement.classList.add("hidden"))},deleteElement:function(){o.publish("onBeforeDelete");var e,t,n=!1;if(m.activeElement.element.parentNode.parentNode.parentNode.hasAttribute("data-carousel-item"))e=$(m.activeElement.element.parentNode.parentNode.parentNode),n=!0;else if("A"===$(m.activeElement.element).prop("tagName"))e="LI"===$(m.activeElement.element).parent().prop("tagName")?$(m.activeElement.element).parent():$(m.activeElement.element);else if("IMG"===$(m.activeElement.element).prop("tagName"))e="A"===$(m.activeElement.element).parent().prop("tagName")?$(m.activeElement.element).parent():$(m.activeElement.element);else if(m.activeElement.element.classList.contains("frameCover")){e=$(m.activeElement.element).closest('*[data-component="video"]');const{parentFrame:t}=m.activeElement,n=t.contentDocument.querySelector('script[src="/skin/ifunnels-studio/dist/js/stick.bundle.js"]'),i=t.contentDocument.querySelector('link[href="/skin/ifunnels-studio/dist/css/stick.bundle.css"]');n&&n.parentNode.removeChild(n),i&&i.parentNode.removeChild(i)}else e=m.activeElement.element.classList.contains("mapOverlay")?$(m.activeElement.element).closest('*[data-component="map"]'):$(m.activeElement.element);t=e[0].parentNode,e.fadeOut(500,(function(){var r;$(this).closest("body").find("*:first");e.remove();var o=$(m.activeElement.element).attr("id");$("#"+m.activeElement.sandbox).contents().find("#"+o).remove(),n&&"function"==typeof i.rebuildSlideshowNavigation&&i.rebuildSlideshowNavigation($(t).closest(".carousel")[0]),"function"==typeof m.activeElement.parentBlock.heightAdjustment&&m.activeElement.parentBlock.heightAdjustment(),a.site.setPendingChanges(!0),t.hasAttribute("data-component")&&0===t.querySelectorAll("*").length?(r=t.parentNode,t.remove(),0===r.querySelectorAll("*").length&&(r.innerHTML="")):0===t.querySelectorAll("*").length&&(t.innerHTML=""),t.hasAttribute("data-component")&&0===t.querySelectorAll("*").length&&t.remove()})),"quest-box"==$(m.activeElement.element).attr("data-component")&&$(m.activeElement.element).parent().find('[data-component="quest-box"]').remove(),$("#deleteElement").modal("hide"),m.closeStyleEditor(),o.publish("onBlockChange",m.activeElement.parentBlock,"change"),setTimeout(()=>{a.site.activePage.variants=["#"],o.publish("onChangedStatus",{checked:!0})},5e3)},gradientSave:function(){$(m.activeElement.element).attr("data-option",$(m.textareaGradxCode).data("option"));let e=atob($(m.textareaGradxCode).data("option"));e=JSON.parse(e);var t=e.sliders.length;if(1===t)n=this.sliders[0][0];else{for(var n="",i="",r=0;r<t;r++)""==e.sliders[r][1]?n+=i+e.sliders[r][0]:(e.sliders[r][1]>100&&(e.sliders[r][1]=100),n+=i+(e.sliders[r][0]+" ")+e.sliders[r][1]+"%"),i=" , ";n="linear"==e.type?e.direction+" , "+n:"ellipse at center , "+n}$(m.formStyle).find('[name="background-image"]').prop("value",`${"linear"===e.type?"linear":"radial"}-gradient(${n})`),$("#gradientModal").modal("hide"),$("#gradX").empty()},cloneElement:function(){o.publish("onBeforeClone");var t,n,r,s,l,c=!1;if(m.activeElement.removeOutline(),m.activeElement.element.hasAttribute("data-parent"))(t=$(m.activeElement.element).parent().clone()).find($(m.activeElement.element).prop("tagName")).attr("style",""),(n=$(m.activeElement.element).parent().clone()).find($(m.activeElement.element).prop("tagName")).attr("style",""),r=t.find($(m.activeElement.element).prop("tagName")),s=$(m.activeElement.element).parent();else if("LI"===m.activeElement.element.tagName)t=$(m.activeElement.element).clone(),n=$(m.activeElement.element).clone(),r=t,s=$(m.activeElement.element);else if(m.activeElement.element.parentNode.parentNode.parentNode.hasAttribute("data-carousel-item"))(t=$(m.activeElement.element.parentNode.parentNode.parentNode).clone()).removeClass("active"),r=t.find($(m.activeElement.element).prop("tagName")),s=$(m.activeElement.element.parentNode.parentNode.parentNode),c=t;else if(m.activeElement.element.hasAttribute("data-component")&&"grid"===m.activeElement.element.getAttribute("data-component"))r=t=$(m.activeElement.element).closest("*[data-component]").clone(),s=$(m.activeElement.element);else if(void 0!==$(m.activeElement.element).closest("*[data-component]")[0])t=$(m.activeElement.element).closest("*[data-component]").clone(),r="video"===$(m.activeElement.element).closest("*[data-component]").attr("data-component")?t.find(".frameCover"):t.find($(m.activeElement.element).prop("tagName")),s=$(m.activeElement.element).closest("*[data-component]"),"quest-box"===$(m.activeElement.element).closest("*[data-component]").attr("data-component")&&(s.attr("data-id",m.makedataid()),s.hide());else{if(".block"==m.activeElement.element.getAttribute("data-selector")){let e={src:$(m.activeElement.parentBlock.frame).prop("src"),frames_original_url:m.activeElement.parentBlock.originalUrl,frames_height:m.activeElement.parentBlock.frameHeight.toString(),frames_content:`<html>${$(m.activeElement.parentBlock.frame).contents().find("html").html()}</html>`,frames_global:m.activeElement.parentBlock.global?"1":"0"};var d=a.site.initBlock();return d.id=null,d.page=a.site.activePage,"1"===e.frames_global&&(d.global=!0),d.createParentLI(e.frames_height),d.createFrame(e,!0),d.createFrameCover(),d.insertBlockIntoDom(a.site.activePage.parentUL),a.site.activePage.blocks.push(d),a.site.pages[a.site.activePage.name].blocks.push(e),void a.site.setPendingChanges(!0)}t=$(m.activeElement.element).clone(),n=$(m.activeElement.element).clone(),r=t,s=$(m.activeElement.element)}r[0].classList.remove("sb_open"),s.after(t),m.activeElement.sandbox&&(l=$(m.activeElement.element).attr("id"),$("#"+m.activeElement.sandbox).contents().find("#"+l).after(n));var u=new e(r.get(0));u.setParentBlock(),u.activate(),u.unsetNoIntent(),m.setupCanvasElements(m.activeElement.parentBlock),"function"==typeof m.activeElement.parentBlock.heightAdjustment&&m.activeElement.parentBlock.heightAdjustment(),a.site.setPendingChanges(!0),o.publish("onBlockChange",m.activeElement.parentBlock,"change"),c&&"function"==typeof i.rebuildSlideshowNavigation&&i.rebuildSlideshowNavigation($(m.activeElement.element).closest(".carousel")[0])},resetElement:function(){if($(m.activeElement.element).closest("body").width()!==$(m.activeElement.element).width()?$(m.activeElement.element).attr("style","").css({outline:"3px dashed red",cursor:"pointer"}):$(m.activeElement.element).attr("style","").css({outline:"3px dashed red","outline-offset":"-3px",cursor:"pointer"}),m.activeElement.sandbox){var e=$(m.activeElement.element).attr("id");$("#"+m.activeElement.sandbox).contents().find("#"+e).attr("style","")}if($("#styleEditor form#stylingForm").height($("#styleEditor form#stylingForm").height()+"px"),$("#styleEditor form#stylingForm .form-group:not(#styleElTemplate)").fadeOut(500,(function(){$(this).remove()})),null!==m._oldIcon[$(m.activeElement.element).attr("id")]){var t=$.grep(m.activeElement.element.className.split(" "),(function(e,t){return 0===e.indexOf("fa-")})).join();$(m.activeElement.element).removeClass(t).addClass(m._oldIcon[$(m.activeElement.element).attr("id")]),$("select#icons option").each((function(){$(this).val()===m._oldIcon[$(m.activeElement.element).attr("id")]&&($(this).attr("selected",!0),$("#icons").trigger("chosen:updated"))}))}setTimeout((function(){m.buildeStyleElements($(m.activeElement.element).attr("data-selector"))}),550),a.site.setPendingChanges(!0),o.publish("onBlockChange",m.activeElement.parentBlock,"change")},resetSelectLinksPages:function(){$("#internalLinksDropdown").select2("val","#")},resetSelectLinksInternal:function(){$("#pageLinksDropdown").select2("val","#")},resetSelectAllLinks:function(){$("#internalLinksDropdown").select2("val","#"),$("#pageLinksDropdown").select2("val","#"),this.select()},hideFileUploads:function(){$("form#imageUploadForm").hide(),$("#imageModal #uploadTabLI").hide()},closeStyleEditor:function(e){void 0!==e&&e.preventDefault(),m.activeElement.editableAttributes&&-1===m.activeElement.editableAttributes.indexOf("content")&&(m.activeElement.removeOutline(),m.activeElement.activate()),m.styleEditor.classList.contains("open")&&m.toggleSidePanel("close")},toggleSidePanel:function(e){"open"===e?m.styleEditor.classList.add("open"):"close"===e&&m.styleEditor.classList.remove("open"),setTimeout((function(){a.site.activePage.heightAdjustment()}),1e3)},dividerClick:function(e){$(e.currentTarget).prev("input:radio").prop("checked"),$(".uncode_radio_image_src").removeClass("checked"),$(e.currentTarget).addClass("checked")},modalShapeSave:function(){if($('input[name="uncode_radio_image"]:checked').length>0){let e=$("#dividersDropdown").prop("value"),t=$('input[name="uncode_radio_image"]:checked').prop("value");if(0==$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').length)switch(e){case"top":$(m.activeElement.element).prepend(`<div class="shape-divider" data-position="${e}">\n\t\t\t\t\t\t\t\t\t\t<svg class="shapeDivider" x="${i.shapeDividers[t].x}" y="${i.shapeDividers[t].y}" width="${i.shapeDividers[t].width}" height="${i.shapeDividers[t].height}" viewBox="${i.shapeDividers[t].viewBox}" enable-background="${i.shapeDividers[t]["enable-background"]}" xml:space="${i.shapeDividers[t]["xml:space"]}" preserveAspectRatio="${i.shapeDividers[t].preserveAspectRatio}"></svg>\n\t\t\t\t\t\t\t\t\t</div>`);break;case"bottom":$(m.activeElement.element).append(`<div class="shape-divider" data-position="${e}">\n\t\t\t\t\t\t\t\t\t\t<svg class="shapeDivider" x="${i.shapeDividers[t].x}" y="${i.shapeDividers[t].y}" width="${i.shapeDividers[t].width}" height="${i.shapeDividers[t].height}" viewBox="${i.shapeDividers[t].viewBox}" enable-background="${i.shapeDividers[t]["enable-background"]}" xml:space="${i.shapeDividers[t]["xml:space"]}" preserveAspectRatio="${i.shapeDividers[t].preserveAspectRatio}"></svg>\n\t\t\t\t\t\t\t\t\t</div>`)}$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-figure",t),$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-unit",$(m.shapeHeight).prop("checked")?"%":"px"),$(m.shapeHeight).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').css("height",$(m.shapeProcent).prop("value")+"%").attr("data-shape-height",$(m.shapeProcent).prop("value")):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').css("height",$(m.shapePx).prop("value")+"px").attr("data-shape-height",$(m.shapePx).prop("value")),$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').css({"z-index":$(m.shapeZIndex).prop("value"),opacity:$(m.shapeOpacity).prop("value")/100}).attr("data-shape-z-index",$(m.shapeZIndex).prop("value")).attr("data-shape-opacity",$(m.shapeOpacity).prop("value")/100),$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-color",$(m.shapeColor).prop("value")),$(m.shapeFlip).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-flip",!0):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').removeAttr("data-shape-flip"),$(m.shapeRatio).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-ratio",!0):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').removeAttr("data-shape-ratio"),$(m.shapeSafe).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').attr("data-shape-safe",!0):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').removeAttr("data-shape-safe"),$(m.shapeTablet).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').addClass("hidden-sm"):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').removeClass("hidden-sm"),$(m.shapeMobile).prop("checked")?$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').addClass("hidden-xs"):$(m.activeElement.element).find('.shape-divider[data-position="'+e+'"]').removeClass("hidden-xs");let n=Snap($(m.activeElement.element).find('.shape-divider[data-position="'+e+'"] .shapeDivider').get(0));n.clear(),i.shapeDividers[t].path.forEach((function(e){e.fill=$(m.shapeColor).spectrum("get"),n.path().attr(e)})),$(m.btnDeleteShape).removeClass("disabled"),a.site.setPendingChanges(!0)}$("#shapeModal").modal("hide")},changeTypeFunc:function(e,t=null){let n=!1;null===t&&(n=!0);const i=t||e.getAttribute("data-type"),r=document.querySelector('[name="countdown-value"]'),a=document.querySelector('[name="countdown-action"]'),o=document.querySelector('[name="countdown-redirect"]').parentNode,s=document.querySelector('[name="countdown-style"]').parentNode,l=document.querySelector('[name="countdown-labels"]').parentNode,h=document.querySelector('[name="countdown-direction"]').parentNode,p=document.querySelector('[name="countdown-delay"]').parentNode;switch(-1!==["redirect","url"].indexOf(a.value)?o.classList.remove("hide"):o.classList.add("hide"),i){case"counter":r.parentNode.classList.remove("hide"),p.classList.remove("hide"),h.classList.remove("hide"),l.classList.add("hide"),s.classList.add("hide"),a.parentNode.classList.add("hide"),o.classList.add("hide"),r.removeAttribute("placeholder"),r._flatpickr&&c(r).destroy(),this._maskIstance&&this._maskIstance.destroy(),n||(r.value="100");break;case"bilboard":h.classList.add("hide"),r.parentNode.classList.remove("hide"),l.classList.add("hide"),s.classList.add("hide"),a.parentNode.classList.add("hide"),o.classList.add("hide"),p.classList.remove("hide"),r.removeAttribute("placeholder"),r._flatpickr&&c(r).destroy(),this._maskIstance&&this._maskIstance.destroy(),n||(r.value="Tick   ,Counter,Is     ,Flippin,Awesome");break;case"timer":r.parentNode.classList.remove("hide"),h.classList.add("hide"),a.parentNode.classList.remove("hide"),l.classList.remove("hide"),s.classList.remove("hide"),p.classList.add("hide"),r.removeAttribute("placeholder"),n||(r.value=d().format("YYYY-MM-DD HH:mm:ss")),this._maskIstance&&this._maskIstance.destroy(),c(r,{enableTime:!0,dateFormat:"Y-m-d H:i"});break;case"timercountdown":h.classList.add("hide"),r.parentNode.classList.remove("hide"),a.parentNode.classList.remove("hide"),l.classList.remove("hide"),s.classList.remove("hide"),p.classList.add("hide"),n||(r.value="24:00:00"),r._flatpickr&&c(r).destroy(),this._maskIstance&&this._maskIstance.destroy(),r.setAttribute("placeholder","00:00:00"),this._maskIstance=u.maskInput({inputElement:r,mask:[/\d/,/\d/,":",/\d/,/\d/,":",/\d/,/\d/]});break;case"clock":h.classList.add("hide"),r.parentNode.classList.add("hide"),a.parentNode.classList.add("hide"),o.classList.add("hide"),l.classList.add("hide"),s.classList.add("hide"),p.classList.add("hide"),r.removeAttribute("placeholder"),r._flatpickr&&c(r).destroy(),this._maskIstance&&this._maskIstance.destroy()}},webinarChatSave:function(){h.saveJSON(),a.site.setPendingChanges(!0),$("#chatModal").modal("hide")}};m.init(),t.styleeditor=m}()},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(8);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(i.isURLSearchParams(t))a=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(r(t)+"="+r(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var i=n(8),r=n(192),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(33)),s),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(a)})),e.exports=l}).call(this,n(41))},function(e,t,n){"use strict";var i=n(8),r=n(193),a=n(30),o=n(195),s=n(198),l=n(199),c=n(34);e.exports=function(e){return new Promise((function(t,d){var u=e.data,h=e.headers;i.isFormData(u)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password||"";h.Authorization="Basic "+btoa(f+":"+m)}var g=o(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),a(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};r(t,d,i),p=null}},p.onabort=function(){p&&(d(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){d(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(c(t,e,"ECONNABORTED",p)),p=null},i.isStandardBrowserEnv()){var b=n(200),v=(e.withCredentials||l(g))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;v&&(h[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&i.forEach(h,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),d(e),p=null)})),void 0===u&&(u=null),p.send(u)}))}},function(e,t,n){"use strict";var i=n(194);e.exports=function(e,t,n,r,a){var o=new Error(e);return i(o,t,n,r,a)}},function(e,t,n){"use strict";var i=n(8);e.exports=function(e,t){t=t||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),i.forEach(a,(function(r){i.isObject(t[r])?n[r]=i.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:i.isObject(e[r])?n[r]=i.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),i.forEach(o,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])}));var s=r.concat(a).concat(o),l=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return i.forEach(l,(function(i){void 0!==t[i]?n[i]=t[i]:void 0!==e[i]&&(n[i]=e[i])})),n}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t){},function(e,t,n){!function(){"use strict";var t=n(9),i=n(10);const{variant:r}=n(236);e.exports.Element=function(e){if(null==e)return!1;this.element=e,this.sandbox=!1,this.parentFrame={},this.parentBlock={},this.editableAttributes=[],this.toolbar={},this.ABtoolbar={},this.quiztoolbar={},this.setOpen=function(){$(this.element).off("mouseenter mouseleave"),this.element.classList.add("sb_open"),this.element.classList.remove("sb_hover")},this.activate=function(){"A"===this.element.tagName&&$(this.element).data("color",getComputedStyle(this.element).color),$(this.element).css({outline:"",cursor:""}),$(this.element).off("click").hoverIntent({over:function(e){e.stopPropagation(),this.element.hasAttribute("data-nointent")||this.element.hasAttribute("data-sbpro-editor")||this.element.classList.contains("sb_hover")||($(this.element).parents(".sb_hover").removeClass("sb_hover"),this.element.classList.add("sb_hover"),this.buildToolBar(),this.buildQuizToolBar(),this.buildABToolbar())}.bind(this),out:function(e){e.stopPropagation(),setTimeout(function(){0!==Object.keys(this.toolbar).length&&this.toolbar.hasAttribute("data-hover")||(this.element.classList.remove("sb_hover"),this.destroyToolBar())}.bind(this),100)}.bind(this),timeout:0}).on("mouseenter",(function(){this.setAttribute("data-hover",!0),$(this).parents("*[data-selector]")[0]&&$(this).parents("*[data-selector]")[0].setAttribute("data-nointent",!0)})).on("mouseleave",(function(){this.removeAttribute("data-hover"),$(this).parents("*[data-selector]")[0]&&$(this).parents("*[data-selector]")[0].removeAttribute("data-nointent")})).on("click",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragstart",function(){$(this.element).closest("body").find(".canvasElToolbar").remove()}.bind(this))},this.deactivate=function(){$(this.element).off("mouseenter mouseleave click"),this.element.classList.remove("sb_open"),this.element.classList.remove("sb_hover")},this.removeOutline=function(){this.element.classList.remove("sb_open"),this.element.classList.remove("sb_hover")},this.unsetNoIntent=function(){this.element.removeAttribute("data-nointent")},this.setParentFrame=function(){var e;if(null==this.element)return!1;for(var t=((e=this.element.ownerDocument).defaultView||e.parentWindow).parent.document.getElementsByTagName("iframe"),n=t.length;n-- >0;){var i=t[n];try{(i.contentDocument||i.contentWindow.document)===e&&(this.parentFrame=i)}catch(e){}}},this.setParentBlock=function(){for(var e=0;e<t.site.sitePages.length;e++){for(var n=0;n<t.site.sitePages[e].blocks.length;n++)t.site.sitePages[e].blocks[n].frame===this.parentFrame&&(this.parentBlock=t.site.sitePages[e].blocks[n]);for(var i=0;i<t.site.sitePages[e].popups.length;i++)t.site.sitePages[e].popups[i].frame===this.parentFrame&&(this.parentBlock=t.site.sitePages[e].popups[i])}},this.buildToolBar=function(){if(0!==Object.keys(this.toolbar).length)return!1;var e,n,a=document.createElement("div"),o=document.createElement("button"),s=$(this.element).offset();if($(this.element).closest("body").find(".canvasElToolbar").remove(),o.classList.add("edit"),a.appendChild(o),"embed"===this.element.getAttribute("data-component")){o.innerHTML='<i class="fa fa-code edit-source-btn"></i>';const e=document.createElement("button");e.innerHTML='<i class="fa fa-trash edit-source-btn"></i>',a.appendChild(e),e.addEventListener("click",function(){i.publish("deSelectAllCanvasElements"),this.clickHandler(this,!0),this.destroyToolBar()}.bind(this))}else o.innerHTML='<img src="/skin/pagebuilder/img/icons/design-24px-glyph_pen-01@2x.png">';o.addEventListener("click",function(){i.publish("deSelectAllCanvasElements"),this.clickHandler(this),this.destroyToolBar()}.bind(this)),this.element.parentNode.hasAttribute("data-content")&&((e=document.createElement("button")).classList.add("content"),e.innerHTML='<img src="/skin/pagebuilder/img/icons/design-24px-glyph_text@2x.png">',e.addEventListener("click",function(e){i.publish("onContentClick",this)}.bind(this)),a.appendChild(e));const{optimization_test:l}=t.site.activePage.pageSettings;if("true"===l.enable){(e=document.createElement("button")).classList.add("content"),e.innerHTML='<img src="/skin/pagebuilder/img/icons/plus.svg">',e.title="Add new variant",e.addEventListener("click",r.showCreateModal.bind(this,!1)),a.appendChild(e),(e=document.createElement("button")).classList.add("content"),e.innerHTML='<img src="/skin/pagebuilder/img/icons/eye.svg">',e.title="Show/Hide on variants",e.addEventListener("click",r.toggleVisible.bind(this)),a.appendChild(e);const t=r.parseVariants(this.element);t.length||t.push({active:!0,name:"#"}),t.map(({active:t,name:n})=>{(e=document.createElement("button")).classList.add("content"),t&&e.classList.add("current"),e.setAttribute("data-variant",n),e.textContent=n,a.appendChild(e),e.addEventListener("click",r.showCreateModal.bind(this,!0))})}this.toolbar=a,$(a).on("mouseenter",function(){this.toolbar.setAttribute("data-hover","true"),$(this.element).parents("*[data-selector]").attr("data-nointent",!0)}.bind(this)).on("mouseleave",function(){this.toolbar.removeAttribute("data-hover"),setTimeout(function(){this.element.hasAttribute("data-hover")||(this.element.classList.remove("sb_hover"),this.destroyToolBar())}.bind(this),100)}.bind(this)),a.classList.add("canvasElToolbar"),n=this.parentFrame.offsetHeight-this.element.offsetHeight-s.top,0===s.top&&$(this.element)[0].offsetHeight===this.element.offsetHeight?(a.style.top="0px",a.classList.add("inside")):s.top<40&&n<50?(a.style.top=s.top+"px",a.classList.add("inside")):s.top<40?(a.style.top=s.top+this.element.offsetHeight+"px",a.classList.add("bottom")):(a.style.top=s.top-30+"px",a.classList.add("top")),$(this.element).closest('div[data-component="carousel"]').size()>0?a.style.left=this.element.offsetWidth/2+s.left+"px":a.style.left=s.left+"px",$(this.element).closest("body").append(a)},this.buildQuizToolBar=function(){if(0!==Object.keys(this.quiztoolbar).length)return!1;$(this.element).closest("body").find(".canvasQuizToolbar").remove();var e,i=document.createElement("div"),r=$(this.element).offset();if("quest-box"==this.element.getAttribute("data-component")){var a=$(this.element).prev('[data-component="quest-box"]');0!=a.length&&((e=document.createElement("button")).classList.add("prev-quiz"),e.innerHTML="Prev",$(e).css("width","50px"),e.addEventListener("click",function(e){if(null!=this.element){$(this.element).hide(),0!==Object.keys(this.quiztoolbar).length&&(this.quiztoolbar.remove(),this.quiztoolbar={});var t=new(0,n(38).Element)(a[0]);$(t.element).css("display","inline-block"),t.activate(),t.element.hasAttribute("data-nointent")||t.element.hasAttribute("data-sbpro-editor")||t.element.classList.contains("sb_hover")||($(t.element).parents(".sb_hover").removeClass("sb_hover"),t.element.classList.add("sb_hover"),t.buildToolBar(),t.buildQuizToolBar()),t.element.setAttribute("data-hover",!0),$(t.element).parents("*[data-selector]")[0]&&$(t.element).parents("*[data-selector]")[0].setAttribute("data-nointent",!0)}}.bind(this)),i.appendChild(e));var o=$(this.element).next('[data-component="quest-box"]');0!=o.length&&((e=document.createElement("button")).classList.add("next-quiz"),e.innerHTML="Next",$(e).css("width","50px"),e.addEventListener("click",function(e){if(null!=this.element){$(this.element).hide(),0!==Object.keys(this.quiztoolbar).length&&(this.quiztoolbar.remove(),this.quiztoolbar={});var t=new(0,n(38).Element)(o[0]);$(t.element).css("display","inline-block"),t.activate(),t.element.hasAttribute("data-nointent")||t.element.hasAttribute("data-sbpro-editor")||t.element.classList.contains("sb_hover")||($(t.element).parents(".sb_hover").removeClass("sb_hover"),t.element.classList.add("sb_hover"),t.buildQuizToolBar(),t.buildToolBar()),t.element.setAttribute("data-hover",!0),$(t.element).parents("*[data-selector]")[0]&&$(t.element).parents("*[data-selector]")[0].setAttribute("data-nointent",!0)}}.bind(this)),i.appendChild(e)),(e=document.createElement("button")).classList.add("add-quiz"),e.innerHTML="Add",$(e).css("width","50px"),e.addEventListener("click",function(e){if(null!=this.element){var i=$(this.element).clone();i.find('[data-component="heading"]').find("h3").html("Clone "+i.find('[data-component="heading"]').find("h3").html()),$(this.element).after(i);var r=$(this.element).next('[data-component="quest-box"]');$(this.element).hide(),0!==Object.keys(this.quiztoolbar).length&&(this.quiztoolbar.remove(),this.quiztoolbar={});var a=n(38).Element,o=n(28).styleeditor;o.setupCanvasElements($(r[0]).parent()),$(r[0]).attr("data-id",o.makedataid());var s=new a(r[0]);$(s.element).css("display","inline-block"),s.setParentBlock(),s.activate(),s.unsetNoIntent();let e=n(12);for(var l in e.editableItems)$(s.element).find(l).each((function(){$(this).attr("data-id",o.makedataid()),o.setupCanvasElementsOnElement(this,l)}));s.element.hasAttribute("data-nointent")||s.element.hasAttribute("data-sbpro-editor")||s.element.classList.contains("sb_hover")||($(s.element).parents(".sb_hover").removeClass("sb_hover"),s.element.classList.add("sb_hover"),s.buildQuizToolBar(),s.buildToolBar()),s.element.setAttribute("data-hover",!0),$(s.element).parents("*[data-selector]")[0]&&$(s.element).parents("*[data-selector]")[0].setAttribute("data-nointent",!0),t.site.setPendingChanges(!0)}}.bind(this)),i.appendChild(e),(e=document.createElement("button")).classList.add("delete-quiz"),e.innerHTML="Delete",$(e).css("width","60px"),e.addEventListener("click",function(e){if(null!=this.element){var t=!1,i=$(this.element).next('[data-component="quest-box"]');if(0==i.length?0!=(i=$(this.element).prev('[data-component="quest-box"]')).length&&(t=!0):t=!0,0!==Object.keys(this.quiztoolbar).length&&(this.quiztoolbar.remove(),this.quiztoolbar={}),$(this.element).remove(),t){var r=new(0,n(38).Element)(i[0]);$(r.element).css("display","inline-block"),r.activate(),r.element.hasAttribute("data-nointent")||r.element.hasAttribute("data-sbpro-editor")||r.element.classList.contains("sb_hover")||($(r.element).parents(".sb_hover").removeClass("sb_hover"),r.element.classList.add("sb_hover"),r.buildQuizToolBar(),r.buildToolBar()),r.element.setAttribute("data-hover",!0),$(r.element).parents("*[data-selector]")[0]&&$(r.element).parents("*[data-selector]")[0].setAttribute("data-nointent",!0)}}}.bind(this)),i.appendChild(e),(e=document.createElement("span")).classList.add("total-quiz"),e.innerHTML="Total: "+$(this.element).parents().find('[data-component="quest-box"]').length,$(e).css("width","90px"),i.appendChild(e)}this.quiztoolbar=i,$(i).on("mouseenter",function(){this.quiztoolbar.setAttribute("data-hover","true"),$(this.element).parents("*[data-selector]").attr("data-nointent",!0)}.bind(this)).on("mouseleave",function(){this.quiztoolbar.removeAttribute("data-hover"),setTimeout(function(){this.element.hasAttribute("data-hover")||(this.element.classList.remove("sb_hover"),this.destroyToolBar())}.bind(this),100)}.bind(this)),i.classList.add("canvasQuizToolbar"),i.style.top=r.top-30+"px",i.classList.add("top"),i.style.left=r.left+35+"px",$(this.element).closest("body").append(i)},this.destroyToolBar=function(){0!==Object.keys(this.toolbar).length&&(this.toolbar.remove(),this.toolbar={}),0!==Object.keys(this.ABtoolbar).length&&(this.ABtoolbar.remove(),this.ABtoolbar={})},this.buildABToolbar=function(){if(!this.element.getAttribute("data-variant-name")||"#"===this.element.getAttribute("data-variant-name"))return!1;const e=document.createElement("div"),t=document.createElement("button");$(this.element).closest("body").find(".canvasABToolbar").remove(),t.classList.add("remove"),t.setAttribute("title","Remove this variant"),e.appendChild(t),e.classList.add("canvasABToolbar"),t.innerHTML='<img src="/skin/pagebuilder/img/icons/trash-round@2x.png">',t.addEventListener("click",function(){i.publish("deSelectAllCanvasElements"),this.element.remove(),i.publish("removeVariantFromCanvas"),this.destroyToolBar()}.bind(this)),$(e).on("mouseenter",function(){this.toolbar.setAttribute("data-hover","true"),$(this.element).parents("*[data-selector]").attr("data-nointent",!0)}.bind(this)).on("mouseleave",function(){this.toolbar.removeAttribute("data-hover"),setTimeout(function(){this.element.hasAttribute("data-hover")||(this.element.classList.remove("sb_hover"),this.destroyToolBar())}.bind(this),100)}.bind(this)),this.ABtoolbar=e;const{top:n,left:r,height:a,width:o}=this.element.getBoundingClientRect();e.style.left=`${r+o-30}px`,0===n&&$(this.element)[0].offsetHeight===this.element.offsetHeight?(e.style.top="0px",e.classList.add("inside")):n<40?(e.style.top=n+this.element.offsetHeight+"px",e.classList.add("bottom")):(e.style.top=n-30+"px",e.classList.add("top")),$(this.element).closest("body").append(e)},this.setParentFrame(),this.parentFrame.getAttribute("data-sandbox")&&(this.sandbox=this.parentFrame.getAttribute("data-sandbox"))}}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){!function(){"use strict";$.notify.addStyle("custom",{html:"<div><span data-notify-html/></div>",classes:{base:{"white-space":"nowrap","background-color":"#2D3E4F",padding:"10px 20px","border-radius":"5px","z-index":"100000"},joy:{color:"#ffffff","background-color":"RGBA(25, 180, 145, .75)"},bummer:{color:"#ffffff","background-color":"RGBA(228, 66, 52, .75)"}}}),e.exports.config={position:"bottom right",style:"custom"}}()},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],d=!1,u=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&p())}function p(){if(!d){var e=s(h);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports.id="ace/mode/css_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if("object"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?["\']?([^"\']+?)["\']?\\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)\n},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"\x3c!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"--\x3e"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=expression.peek()?ValidationTypes.isType(expression,"<flex-basis>"):!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found \'"+expression.value.text+"\'.",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)},isDate:function(d){return"object"==typeof d&&"[object Date]"===objectToString(d)},isRegExp:function(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)},getRegExpFlags:function(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}};"object"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"===modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"===name&&"none"==""+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"===name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"===name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);\nbreak;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"===parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&"compat"===lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"===event.property.text.toLowerCase()&&"none"!==event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==""+event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"===modifier.type&&idCount++;1===idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,"");properties.push(lowerCasePrefixLessName)}),parser.addListener("endrule",function(event){var currentProperties=properties.join(","),expectedProperties=properties.sort().join(",");currentProperties!==expectedProperties&&reporter.report("Rule doesn\'t have all its properties in alphabetical ordered.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!==name||"none"!=""+value&&"0"!=""+value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"===modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,"descendant"===type&&nextLine>currentLine&&reporter.report("newline character found in selector (forgot a comma?)",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener("startrule",startRule)}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"===property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!==direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"===name&&-99>value.parts[0].value?textIndent=event.property:"direction"===name&&"ltr"==""+value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"===property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!==modifier.type||part.elementName&&"*"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!==parts[i].type||0!==parts[i].value||"time"===parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There ",output+=1===messages.length?"is 1 problem":"are "+messages.length+" problems",output+=" in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids|order-alphabetical"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));\nvar all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();if(!value)return this.sender.emit("annotate",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("annotate",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},,,function(e,t){e.exports.id="ace/mode/javascript_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error("Cannot find module \'"+name+"\'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({"/node_modules/browserify/node_modules/events/events.js":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],"/node_modules/jshint/data/ascii-identifier-data.js":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],"/node_modules/jshint/lodash.js":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return"number"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\\\$&"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION="3.7.0",FUNC_ERROR_TEXT="Expected a function",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|(["\'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/node_modules/jshint/src/jshint.js":[function(_dereq_,module,exports){var _=_dereq_("../lodash"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),options=_dereq_("./options.js"),scopeManager=_dereq_("./scope-manager.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||"jslint"===t.type||_.has(options.removed,name)?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict="global"),state.inES6()||warning("W134",state.tokens.next,"module",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict="global")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict="global")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict="global")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict="global"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if("globals"===nt.type){body.forEach(function(g,idx){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if("-"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}state.funct["(scope)"].addExported(e)}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return state.funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key)if("ignore"!==key)if("strict"!==key){"module"===key&&(hasParsedCode(state.funct)||error("E055",state.tokens.next,"module"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if("esversion"===key){switch(val){case"5":state.inES5(!0)&&warning("I003");case"3":case"6":state.option.moz=!1,state.option.esversion=+val;break;case"2015":state.option.moz=!1,state.option.esversion=6;break;default:error("E002",nt)}return hasParsedCode(state.funct)||error("E055",state.tokens.next,"esversion"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=options.renamed[key]||key,state.option[tn]="true"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"true":state.option.moz=!1,state.option.esversion=esversions[key];break;case"false":state.option.moz||(state.option.esversion=5);break;default:error("E002",nt)}}else switch(val){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"func":case"global":case"implied":state.option.strict=val;break;default:error("E002",nt)}else switch(val){case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||"(end)"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while("(endline)"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)"falls through"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&"unary"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.inMoz()||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,state.funct["(scope)"].stack(),advance("let"),advance("("),state.tokens.prev.fud(),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||"(template)"===state.tokens.next.type)&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct["(scope)"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.arity="unary",this.right=expression(150),("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this),this.right&&this.right.isMetaProperty?error("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"!==s&&"instanceof"!==s||"!"!==left.id||warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:"arrow",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return"this"===left.type&&null===state.funct["(context)"]?isGlobal=!0:"(identifier)"===left.type&&(state.option.node&&"global"===left.value?isGlobal=!0:!state.option.browser||"window"!==left.value&&"document"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct["(scope)"].block.reassign(left.value,left),"."===left.id?((!left.left||"arguments"===left.left.value&&!state.isStrict())&&warning("E031",assignToken),state.nameStack.set(state.tokens.prev),!0):"{"===left.id||"["===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct["(scope)"].block.modify(t.id,t.token)}):"{"!==left.id&&left.left?"arguments"!==left.left.value||state.isStrict()||warning("E031",assignToken):warning("E031",assignToken),"["===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error("E031",assignToken),!0):left.identifier&&!isReserved(left)?("exception"===state.funct["(scope)"].labeltype(left.value)&&warning("W022",left),state.nameStack.set(left),!0):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error("E031",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),left.isMetaProperty?error("E031",this):left&&left.identifier&&state.funct["(scope)"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if("..."===state.tokens.next.value){if(state.inES6(!0)||warning("W119",state.tokens.next,"spread/rest operator","6"),advance(),checkPunctuator(state.tokens.next,"..."))for(warning("E024",state.tokens.next,"...");checkPunctuator(state.tokens.next,"...");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning("E024",state.tokens.curr,"..."),void 0)}error("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(";"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while("(end)"!==t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,"}");sameLine&&!blockEnd?errorAt("E058",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt("W033",state.tokens.curr.line,state.tokens.curr.character)}else advance(";")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),hasOwnScope=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type&&r.left&&r.left.identifier&&"function"===r.left.value||state.isStrict()||"global"!==state.option.strict||warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct["(scope)"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement());return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i++);while("(endline)"===pn.id);if(";"===pn.id)p=pn;else{if("["===pn.value||"."===pn.value)break;state.option.asi&&"("!==pn.value||warning("W033",state.tokens.next)}}else{if("."===p.id||"["===p.id)break;";"!==p.id&&warning("W033",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||"use strict"===directive&&"implied"===state.option.strict)&&warning("W034",state.tokens.curr,directive),state.directive[directive]=!0,";"===p.id&&advance(";")}state.isStrict()&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),state.funct["(scope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance("}",t),isfunc&&(state.funct["(scope)"].validateParams(),m&&(state.directive=m)),state.funct["(scope)"].unstack(),indent=old_indent}else if(ordinary)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(isfunc){if(state.funct["(scope)"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007")),state.funct["(scope)"].unstack()}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:state.funct["(verb)"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),advance("("),state.funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),state.funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),state.funct["(comparray)"].unstack(),res}function isMethod(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function isPropertyName(token){return token.identifier||"(string)"===token.id||"(number)"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return"object"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?"object"==typeof id&&("(string)"===id.id||"(identifier)"===id.id?id=id.value:"(number)"===id.id&&(id=""+id.value)):"(string)"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,preserve||advance()),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(options){function addParam(addParamArgs){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct["(scope)"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){arity++;var currentParams=[];if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,"...")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[",",")"]);)advance();if(pastDefault&&"="!==state.tokens.next.id&&error("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||warning("W119",state.tokens.next,"default parameters","6"),advance("="),pastDefault=!0,expression(10)),currentParams.forEach(addParam),","!==state.tokens.next.id)return advance(")",next),{arity:arity,params:paramsIds};pastRest&&warning("W131",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(scope)"]=funct["(context)"]["(scope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function isFunctor(token){return"(scope)"in token}function hasParsedCode(funct){return funct["(global)"]&&!funct["(verb)"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:"(template)",type:"(template)",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator="generator"===options.type,isArrow="arrow"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{"(statement)":statement,"(context)":state.funct,"(arrow)":isArrow,"(generator)":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct["(scope)"].stack("functionouter");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct["(scope)"].block.add(internallyAccessibleName,classExprBinding?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var paramsInfo=functionparams(options);return paramsInfo?(state.funct["(params)"]=paramsInfo.params,state.funct["(metrics)"].arity=paramsInfo.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,isArrow&&(state.inES6(!0)||warning("W119",state.tokens.curr,"arrow function syntax (=>)","6"),options.loneArg||advance("=>")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&"yielded"!==state.funct["(generator)"]&&warning("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],ignoreLoopFunc||state.option.loopfunc||!state.funct["(loopage)"]||f["(isCapturing)"]&&warning("W083",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning("W072",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning("W078",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,".")){var left=state.tokens.curr.id;advance(".");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error("E057",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning("W104",state.tokens.curr,isAssignment?"destructuring assignment":"destructuring binding","6"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,["[","{"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,","))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,"(")){var is_rest=checkPunctuator(state.tokens.next,"...");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning("E030",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance("("),nextInnerDE(),advance(")")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,"[")?(advance("["),expression(10),advance("]"),advance(":"),nextInnerDE()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(advance(),advance(":"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,":")?(advance(":"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,"[")){openingParsed||advance("["),checkPunctuator(state.tokens.next,"]")&&warning("W137",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,"]");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,",")&&(warning("W130",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,"=")&&(checkPunctuator(state.tokens.prev,"...")?advance("]"):advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"]")||advance(",");advance("]")}else if(checkPunctuator(firstToken,"{")){for(openingParsed||advance("{"),checkPunctuator(state.tokens.next,"}")&&warning("W137",state.tokens.curr);!checkPunctuator(state.tokens.next,"}")&&(assignmentProperty(),checkPunctuator(state.tokens.next,"=")&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"}")||(advance(","),!checkPunctuator(state.tokens.next,"}"))););advance("}")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet="let"===type,isConst="const"===type;for(state.inES6()||warning("W104",state.tokens.curr,type,"6"),isLet&&"("===state.tokens.next.value?(state.inMoz()||warning("W118",state.tokens.next,"let block"),advance("("),state.funct["(scope)"].stack(),letblock=!0):state.funct["(noblockscopedvar)"]&&error("E048",state.tokens.curr,isConst?"Const":"Let"),statement.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct["(scope)"].block.isGlobal()&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct["(scope)"].setExported(t.token.value,t.token)));if("="===state.tokens.next.id&&(advance("="),prefix||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),!prefix&&"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),statement.block=!0,state.funct["(scope)"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning("W104",state.tokens.curr,"class","6"),isStatement?(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.inClassBody=!0,advance("{"),c.body=classbody(c),advance("}"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;"}"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,";"!==name.id){if("*"===name.id&&(isGenerator=!0,advance("*"),name=state.tokens.next),"["===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&"static"===name.value&&(checkPunctuator(state.tokens.next,"*")&&(isGenerator=!0,advance("*")),(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,isStatic=!0,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||"get"!==name.value&&"set"!==name.value||(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,getset=name,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,"(")){for(error("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,"(");)advance();"("!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):("constructor"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&"constructor"===name.value){var propDesc="get"===getset.value?"class getter method":"class setter method";error("E049",name,propDesc,"constructor")}else"prototype"===name.value&&error("E049",name,"class method","prototype");propertyName(name),doFunction({statement:c,type:isGenerator?"generator":null,classExprBinding:c.namedExpr?c.name:null})}else warning("W032"),advance(";");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=["key","class method","static class method"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&"__proto__"!==name?warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName="get"===accessorType?"getterToken":"setterToken",msg="";isClass?(isStatic&&(msg+="static "),msg+=accessorType+"ter method"):msg="key",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&"__proto__"!==name&&warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance("["),state.inES6()||warning("W119",state.tokens.curr,"computed property names","6");var value=expression(10);return advance("]"),value}function checkPunctuators(token,values){return"(punctuator)"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return"(punctuator)"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment","6"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=["xml","unknown"],typeofValues.es3=["undefined","boolean","number","string","function","object"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat("symbol"),type("(number)",function(){return this}),type("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var v=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(v)||state.funct["(scope)"].block.use(v,state.tokens.curr),this)},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax["(template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax["(template middle)"]=_.extend({type:"(template middle)",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(template tail)"]=_.extend({type:"(template tail)",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(no subst template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.isStrict()&&state.funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&="),bitwiseassignop("|="),bitwiseassignop("^="),bitwiseassignop("<<="),bitwiseassignop(">>="),bitwiseassignop(">>>="),infix(",",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning("W127"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left,state):warning("W122",this,right.value);break;case isTypoTypeof(left,right,state):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):that},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.arity="unary",this.right=expression(150),this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.arity="unary",this.right=expression(150),this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return p?("."!==p.id&&"["!==p.id&&warning("W051"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W016",this,"~"),this.arity="unary",this.right=expression(150),this}),prefix("...",function(){return state.inES6(!0)||warning("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||checkPunctuators(state.tokens.next,["[","("])||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.arity="unary",this.right=expression(150),this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof",function(){var p=expression(150);return this.first=this.right=p,p||quit("E041",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix("new",function(){var mp=metaProperty("target",function(){state.inES6(!0)||warning("W119",state.tokens.prev,"new.target","6");for(var inFunction,c=state.funct;c&&(inFunction=!c["(global)"],c["(arrow)"]);)c=c["(context)"];inFunction||warning("W136",state.tokens.prev,"new.target")});if(mp)return mp;var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Symbol":state.inES6()&&warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!state.funct["(scope)"].isPredefined(c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.isStrict()&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||isGlobalEval(left,state)&&warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Array Number String Boolean Date Object Error Symbol".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.inES5()||"parseInt"!==left.value||1!==n||warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"=>"===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||state.inES6()&&left["(name)"]||warning("W067",that)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||")"!==pn1.value)&&";"!==pn.value&&"(end)"!==pn.type);if("function"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),"=>"===pn.value)return doFunction({type:"arrow",parsedOpening:!0});var exprs=[];if(")"!==state.tokens.next.id)for(;exprs.push(expression(10)),","===state.tokens.next.id;)state.option.nocomma&&warning("W127"),comma();return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&warning("W068",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&("{"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||"}"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||"{"===ret.id&&"=>"===preceeding.id||"(number)"===ret.type&&checkPunctuator(pn,".")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning("W126",opening),ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||isGlobalEval(left,state)&&warning("W061"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning("W118",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning("W128");do advance(",");while(","===state.tokens.next.id);continue}warning("W070")}advance(",")}if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||","!==peekIgnoreEOL().id&&"}"!==peekIgnoreEOL().id)if(":"===peek().id||"get"!==nextVal&&"set"!==nextVal){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||warning("W104",state.tokens.next,"generator functions","6"),advance("*"),isGeneratorMethod=!0):isGeneratorMethod=!1,"["===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.inES6()||warning("W104",state.tokens.curr,"concise methods","6"),doFunction({type:isGeneratorMethod?"generator":null})):(advance(":"),expression(10))}else advance(nextVal),state.inES5()||error("E034"),i=propertyName(),i||state.inES6()||error("E035"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f["(params)"],"get"===nextVal&&i&&p?warning("W076",t,p[0],i):"set"!==nextVal||!i||p&&1===p.length||warning("W077",t,i);else state.inES6()||warning("W104",state.tokens.next,"object short notation","6"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||warning("W070",state.tokens.curr)}return b&&(indent-=state.option.indent),advance("}",this),checkProperties(props),this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(context){return blockVariableStatement("const",this,context)});conststatement.exps=!0;var letstatement=stmt("let",function(context){return blockVariableStatement("let",this,context)});letstatement.exps=!0;var varstatement=stmt("var",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning("W132",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct["(global)"]&&(predefined[t.id]===!1?warning("W079",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning("W129",t.token,t.id)),t.id&&("for"===implied?(state.funct["(scope)"].has(t.id)||report&&warning("W088",t.token,t.id),state.funct["(scope)"].block.use(t.id,t.token)):(state.funct["(scope)"].addlabel(t.id,{type:"var",token:t.token}),lone&&inexport&&state.funct["(scope)"].setExported(t.id,t.token)),names.push(t.token)));if("="===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance("="),prefix||!report||state.funct["(loopage)"]||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct["(params)"]||-1===state.funct["(params)"].indexOf(state.tokens.next.value))&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(context){var inexport=context&&context.inexport,generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.inES6({strict:!0})?generator=!0:warning("W119",state.tokens.curr,"function*","6")),inblock&&warning("W082",state.tokens.curr);var i=optionalidentifier();return state.funct["(scope)"].addlabel(i,{type:"function",token:state.tokens.curr}),void 0===i?warning("W025"):inexport&&state.funct["(scope)"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?"generator":null,ignoreLoopFunc:inblock}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.inES6()||warning("W119",state.tokens.curr,"function*","6"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?"generator":null}),this}),blockstmt("if",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance("(");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type="(punctuator)"===expr.type&&"!"===expr.value?"(negative)":"(positive)"),advance(")",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&"(negative)"===forinifcheck.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(forinifcheck.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){if(advance("catch"),advance("("),state.funct["(scope)"].stack("catchparams"),checkPunctuators(state.tokens.next,["[","{"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct["(scope)"].addParam(token.id,token,"exception")})}else"(identifier)"!==state.tokens.next.type?warning("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(identifier(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),block(!1),state.funct["(scope)"].unstack()}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.isStrict()?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),state.funct["(breakage)"]-=1,state.funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),increaseComplexityCount(),advance("(");var nextop,comma,initializer,i=0,inof=["in","of"],level=0;checkPunctuators(state.tokens.next,["{","["])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,["{","["])?++level:checkPunctuators(nextop,["}","]"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,",")?comma=nextop:!initializer&&checkPunctuator(nextop,"=")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||"of"!==nextop.value||warning("W104",nextop,"for of","6");var ok=!(initializer||comma);if(initializer&&error("W133",comma,nextop.value,"initializer is forbidden"),comma&&error("W133",comma,nextop.value,"more than one ForBinding"),"var"===state.tokens.next.id?(advance("var"),state.tokens.curr.fud({prefix:!0})):"let"===state.tokens.next.id||"const"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:"for",ignore:!ok}),advance(nextop.value),expression(20),advance(")",t),"in"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,s=block(!0,!0),"in"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&("object"!=typeof s[0]||"if"!==s[0].value)||"(positive)"===check.type&&s.length>1||"(negative)"===check.type)&&warning("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)advance("let"),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),state.funct["(breakage)"]+=1,block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return letscope&&state.funct["(scope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.funct["(loopage)"]||warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("return",function(){return this.line===startLine(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.inES6()||warning("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var delegatingYield=!1;return"*"===state.tokens.next.value&&(delegatingYield=!0,advance("*")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.inMoz()&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt("import",function(){if(state.inES6()||warning("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value)return advance("from"),advance("(string)"),this;advance(",")}if("*"===state.tokens.next.id)advance("*"),advance("as"),state.tokens.next.identifier&&(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}));else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),state.funct["(scope)"].addlabel(importName,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){var token,identifier,ok=!0;if(state.inES6()||(warning("W119",state.tokens.curr,"export","6"),ok=!1),state.funct["(scope)"].block.isGlobal()||(error("E053",state.tokens.curr),ok=!1),"*"===state.tokens.next.value)return advance("*"),advance("from"),advance("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance("default");var exportType=state.tokens.next.id;return("function"===exportType||"class"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct["(scope)"].addlabel(identifier,{type:exportType,token:token}),state.funct["(scope)"].setExported(identifier,token)),this}if("{"===state.tokens.next.value){advance("{");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),"as"===state.tokens.next.value&&(advance("as"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return"from"===state.tokens.next.value?(advance("from"),advance("(string)")):ok&&exportedTokens.forEach(function(token){state.funct["(scope)"].setExported(token.value,token)}),this}if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)advance("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)advance("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,advance("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,advance("class");var classNameToken=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(classNameToken.value,classNameToken)}else error("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,["[","{"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,["[","{"])?bracketStack+=1:checkPunctuators(pn,["]","}"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&"for"===pn.value&&!checkPunctuator(prev,".")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,["}","]"])){if("="===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if("."===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,";")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.raw_text||v.value),v.undef&&state.funct["(scope)"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(state.funct["(scope)"].block.use(v,state.tokens.curr),!0):_current&&"filter"===_current.mode?(use(v)&&state.funct["(scope)"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],("esversion"===optionKey&&5===o[optionKey]||"es5"===optionKey&&o[optionKey])&&warning("I003"),"newcap"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj["(explicitNewcap)"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on("warning",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on("error",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor("(global)",null,{"(global)":!0,"(scope)":scopeManagerInst,"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+"[\\\\s\\\\S]*?"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,"ig"),s=s.replace(reIgnore,function(match){return match.replace(/./g," ")}))})),lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&"global"!==state.option.strict&&warning("W097",state.tokens.prev),statements()}"(end)"!==state.tokens.next.id&&quit("E041",state.tokens.curr.line),state.funct["(scope)"].unstack()}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct["(scope)"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct["(scope)"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:f["(metrics)"].arity,statements:f["(metrics)"].statementCount},data.functions.push(fu)}var unuseds=state.funct["(scope)"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"../lodash":"/node_modules/jshint/lodash.js","./lex.js":"/node_modules/jshint/src/lex.js","./messages.js":"/node_modules/jshint/src/messages.js","./options.js":"/node_modules/jshint/src/options.js","./reg.js":"/node_modules/jshint/src/reg.js","./scope-manager.js":"/node_modules/jshint/src/scope-manager.js","./state.js":"/node_modules/jshint/src/state.js","./style.js":"/node_modules/jshint/src/style.js","./vars.js":"/node_modules/jshint/src/vars.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/lex.js":[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=" ";this.ignoreLinterErrors=!1}var _=_dereq_("../lodash"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"{":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case"}":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),body=body.replace(/\\n/g," "),"/*"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType="falls through"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(" "===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||" "!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:var options=body.split(":").map(function(v){return v.replace(/^\\s+/,"").replace(/\\s+$/,"")});if(2===options.length)switch(options[0]){case"ignore":switch(options[1]){case"start":self.ignoringLinterErrors=!0,isSpecial=!1;break;case"end":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){for(value=this.peek(index),index+=1,char=this.peek(index),"0"===value&&(("x"===char||"X"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),("o"===char||"O"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Octal integer literal","6"]}),index+=1,value+=char),("b"===char||"B"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Binary integer literal","6"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case"u":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger("warning",{code:"W052",line:this.line,character:this.char,data:["u"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\v";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char=""}return{"char":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value="",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if("`"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,"char":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||"}"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;"`"!==this.peek();){for(;""===(ch=this.peek());)if(value+="\\n",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger("error",{code:"E052",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if("$"===ch&&"{"===this.peek(1))return value+="${",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif("\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else"`"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(""===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith("/*","//")||this.inComment&&endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":case"++":case"--":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create("(endline)",""):this.exhausted?null:(this.exhausted=!0,create("(end)",""));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value,null,token);case Token.TemplateHead:return this.trigger("TemplateHead",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template)",token.value,null,token);case Token.TemplateMiddle:return this.trigger("TemplateMiddle",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template middle)",token.value,null,token);case Token.TemplateTail:return this.trigger("TemplateTail",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template tail)",token.value,null,token);case Token.NoSubstTemplate:return this.trigger("NoSubstTemplate",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(no subst template)",token.value,null,token);case Token.Identifier:this.triggerAsync("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:"."===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer,exports.Context=Context},{"../data/ascii-identifier-data.js":"/node_modules/jshint/data/ascii-identifier-data.js","../lodash":"/node_modules/jshint/lodash.js","./reg.js":"/node_modules/jshint/src/reg.js","./state.js":"/node_modules/jshint/src/state.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/messages.js":[function(_dereq_,module,exports){"use strict";var _=_dereq_("../lodash"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"\'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"{a} declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:null,E052:"Unclosed template literal.",E053:"Export declaration must be in global scope.",E054:"Class properties must be methods. Expected \'(\' but instead saw \'{a}\'.",E055:"The \'{a}\' option cannot be set after any executable code.",E056:"\'{a}\' was used before it was declared, which is illegal for \'{b}\' variables.",E057:"Invalid meta property: \'{a}.{b}\'.",E058:"Missing semicolon."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"Reassignment of \'{a}\', which is is a {b}. Use \'var\' or \'let\' to declare bindings that may change.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate {a} \'{b}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:null,W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES{b} (use \'esversion: {b}\') or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES{b} (use \'esversion: {b}\').",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp",W126:"Unnecessary grouping operator.",W127:"Unexpected use of a comma operator.",W128:"Empty array elements acequire elision=true.",W129:"\'{a}\' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.",W130:"Invalid element after rest element.",W131:"Invalid parameter after rest parameter.",W132:"`var` declarations are forbidden. Use `let` or `const` instead.",W133:"Invalid for-{a} loop left-hand-side: {b}.",W134:"The \'{a}\' option is only available when linting ECMAScript {b} code.",W135:"{a} may not be supported by non-browser environments.",W136:"\'{a}\' must be in function scope.",W137:"Empty destructuring.",W138:"Regular parameters should not come after default parameters."},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{"../lodash":"/node_modules/jshint/lodash.js"}],"/node_modules/jshint/src/name-stack.js":[function(_dereq_,module){"use strict";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,"length",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix="";return nameToken&&"class"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,"(string)"!==type&&"(number)"!==type&&"(identifier)"!==type&&"default"!==type?"(expression)":(nameToken.accessorType&&(prefix=nameToken.accessorType+" "),prefix+nameToken.value)):"(empty)"},module.exports=NameStack},{}],"/node_modules/jshint/src/options.js":[function(_dereq_,module,exports){"use strict";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],"/node_modules/jshint/src/reg.js":[function(_dereq_,module,exports){"use strict";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],"/node_modules/jshint/src/scope-manager.js":[function(_dereq_,module){"use strict";var _=_dereq_("../lodash"),events=_dereq_("events"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={"(labels)":Object.create(null),"(usages)":Object.create(null),"(breakLabels)":Object.create(null),"(parent)":_current,"(type)":type,"(params)":"functionparams"===type||"catchparams"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current["(usages)"][labelName]||(_current["(usages)"][labelName]={"(modified)":[],"(reassigned)":[],"(tokens)":[]})}function _checkForUnused(){if("functionparams"===_current["(type)"])return _checkParams(),void 0;var curentLabels=_current["(labels)"];for(var labelName in curentLabels)curentLabels[labelName]&&"exception"!==curentLabels[labelName]["(type)"]&&curentLabels[labelName]["(unused)"]&&_warnUnused(labelName,curentLabels[labelName]["(token)"],"var")}function _checkParams(){var params=_current["(params)"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current["(labels)"][param];if(unused_opt=_getUnusedOption(state.funct["(unusedOption)"]),"undefined"===param)return;if(label["(unused)"])_warnUnused(param,label["(token)"],"param",state.funct["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i]["(labels)"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(usages)"][labelName])return current["(usages)"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if("outer"===state.option.shadow)for(var isGlobal="global"===_currentFunctBody["(type)"],isNewFunction="functionparams"===_current["(type)"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem["(labels)"][labelName]&&warning("W123",token,labelName),stackItem["(breakLabels)"][labelName]&&warning("W123",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&"function"===type||"function"!==type)&&warning("W003",token,labelName)}var _current,_scopeStack=[];_newScope("global"),_current["(predefined)"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning("W098",{line:line,from:chr},raw_name),(unused_opt||"var"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0]["(predefined)"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||"functionparams"!==previousScope["(type)"]||(_current["(isFuncBody)"]=!0,_current["(context)"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams="functionparams"===_current["(type)"],isUnstackingFunctionOuter="functionouter"===_current["(type)"],currentUsages=_current["(usages)"],currentLabels=_current["(labels)"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf("__proto__")&&usedLabelNameList.push("__proto__"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel["(type)"];if(usedLabel["(useOutsideOfScope)"]&&!state.option.funcscope){var usedTokens=usage["(tokens)"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel["(function)"]===usedTokens[j]["(function)"]&&error("W038",usedTokens[j],usedLabelName)}if(_current["(labels)"][usedLabelName]["(unused)"]=!1,"const"===usedLabelType&&usage["(modified)"])for(j=0;usage["(modified)"].length>j;j++)error("E013",usage["(modified)"][j],usedLabelName);if(("function"===usedLabelType||"class"===usedLabelType)&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)error("W021",usage["(reassigned)"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct["(isCapturing)"]=!0),subScope)if(subScope["(usages)"][usedLabelName]){var subScopeUsage=subScope["(usages)"][usedLabelName];subScopeUsage["(modified)"]=subScopeUsage["(modified)"].concat(usage["(modified)"]),subScopeUsage["(tokens)"]=subScopeUsage["(tokens)"].concat(usage["(tokens)"]),subScopeUsage["(reassigned)"]=subScopeUsage["(reassigned)"].concat(usage["(reassigned)"]),subScopeUsage["(onlyUsedSubFunction)"]=!1}else subScope["(usages)"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope["(usages)"][usedLabelName]["(onlyUsedSubFunction)"]=!0);else if("boolean"==typeof _current["(predefined)"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current["(predefined)"][usedLabelName]===!1&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)warning("W020",usage["(reassigned)"][j])}else if(usage["(tokens)"])for(j=0;usage["(tokens)"].length>j;j++){var undefinedToken=usage["(tokens)"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning("W117",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],"var")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName]["(blockscoped)"]||"exception"===currentLabels[defLabelName]["(type)"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope["(labels)"][defLabelName]=currentLabels[defLabelName],"global"!==_currentFunctBody["(type)"]&&(subScope["(labels)"][defLabelName]["(useOutsideOfScope)"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope["(isFuncBody)"]||"global"===scope["(type)"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||"param","exception"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&"exception"!==previouslyDefinedLabelType&&(state.option.node||warning("W002",state.tokens.next,labelName))}if(_.has(_current["(labels)"],labelName)?_current["(labels)"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current["(labels)"][labelName]={"(type)":type,"(token)":token,"(unused)":!0},_current["(params)"].push(labelName)),_.has(_current["(usages)"],labelName)){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}},validateParams:function(){if("global"!==_currentFunctBody["(type)"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody["(parent)"];currentFunctParamScope["(params)"]&&currentFunctParamScope["(params)"].forEach(function(labelName){var label=currentFunctParamScope["(labels)"][labelName];label&&label.duplicated&&(isStrict?warning("E011",label["(token)"],labelName):state.option.shadow!==!0&&warning("W004",label["(token)"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf("__proto__")&&list.push("__proto__"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return"__proto__"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName]["(type)"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0]["(labels)"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName]["(unused)"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope["(type)"])break;if(_.has(scope["(labels)"],labelName)&&!scope["(labels)"][labelName]["(blockscoped)"])return scope["(labels)"][labelName]["(unused)"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped="let"===type||"const"===type||"class"===type,isexported="global"===(isblockscoped?_current:_currentFunctBody)["(type)"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current["(labels)"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||"global"===_current["(type)"]||(declaredInCurrentScope=!!_currentFunctBody["(parent)"]["(labels)"][labelName]),!declaredInCurrentScope&&_current["(usages)"][labelName]){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}declaredInCurrentScope?warning("E011",token,labelName):"outer"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning("W004",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning("E011",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&"__proto__"!==labelName&&"global"!==_currentFunctBody["(type)"]&&warning("W004",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),"global"===_currentFunctBody["(type)"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current["(labels)"][labelName]&&(!onlyBlockscoped||current["(labels)"][labelName]["(blockscoped)"]))return current["(labels)"][labelName]["(type)"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&"functionparams"===scopeCheck["(type)"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(breakLabels)"][labelName])return!0;if("functionparams"===current["(type)"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!1,"(function)":_currentFunctBody,"(unused)":unused}}},block:{isGlobal:function(){return"global"===_current["(type)"]},use:function(labelName,token){var paramScope=_currentFunctBody["(parent)"];paramScope&&paramScope["(labels)"][labelName]&&"param"===paramScope["(labels)"][labelName]["(type)"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope["(labels)"][labelName]["(unused)"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token["(function)"]=_currentFunctBody,_current["(usages)"][labelName]["(tokens)"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current["(usages)"][labelName]["(reassigned)"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current["(usages)"][labelName]["(modified)"].push(token)},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!0,"(unused)":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning("E011",token,labelName):"outer"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning("W004",token,labelName):_checkOuterShadow(labelName,token)),_current["(breakLabels)"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{"../lodash":"/node_modules/jshint/lodash.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/state.js":[function(_dereq_,module,exports){"use strict";var NameStack=_dereq_("./name-stack.js"),state={syntax:{},isStrict:function(){return this.directive["use strict"]||this.inClassBody||this.option.module||"implied"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{"./name-stack.js":"/node_modules/jshint/src/name-stack.js"}],"/node_modules/jshint/src/style.js":[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name,"6"]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],"/node_modules/jshint/src/vars.js":[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},["/node_modules/jshint/src/jshint.js"])}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("annotate",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options,this.options.globals);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("annotate",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t){e.exports.id="ace/mode/html_worker",e.exports.src='"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/html/saxparser",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI?"applet"===node.localName||"caption"===node.localName||"marquee"===node.localName||"object"===node.localName||"table"===node.localName||"td"===node.localName||"th"===node.localName:"http://www.w3.org/1998/Math/MathML"===node.namespaceURI?"mi"===node.localName||"mo"===node.localName||"mn"===node.localName||"ms"===node.localName||"mtext"===node.localName||"annotation-xml"===node.localName:"http://www.w3.org/2000/svg"===node.namespaceURI?"foreignObject"===node.localName||"desc"===node.localName||"title"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ol"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ul"===node.localName}function isTableScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"table"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableBodyScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tbody"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tfoot"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"thead"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableRowScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tr"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"button"===node.localName}function isSelectScopeMarker(node){return!("http://www.w3.org/1999/xhtml"===node.namespaceURI&&"optgroup"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"option"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,"top",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,"length",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>="0"&&"9">=c||c>="a"&&"z">=c||c>="A"&&"Z">=c}function isHexDigit(c){return c>="0"&&"9">=c||c>="a"&&"f">=c||c>="A"&&"F">=c}function isDecimalDigit(c){return c>="0"&&"9">=c}var entities=_dereq_("html5-entities"),InputStream=_dereq_("./InputStream").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter="",consumedCharacters="",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,"\t"==ch||"\\n"==ch||"\v"==ch||" "==ch||"<"==ch||"&"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if("#"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if("x"==ch||"X"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code="";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError("invalid-numeric-entity-replaced"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return";"!==ch&&(tokenizer._parseError("numeric-entity-without-semicolon"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError("expected-numeric-entity"),!1}if(ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch){for(var mostRecentMatch="";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),";"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],";"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&"="!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),";"!==ch&&tokenizer._parseError("named-entity-without-semicolon"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError("expected-named-entity"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{"./InputStream":3,"html5-entities":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data="",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},"char":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return"\\r"===ch&&(ch="\\n"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return"";var r=RegExp("^"+re+"+"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return""},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return"";if(m=RegExp(re+(this.eof?"|$":"")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,"\\n").replace(/\\n{2,}/g,"\\n")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=""+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:""+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf("\\n")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={"http://www.w3.org/1999/xhtml":["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],"http://www.w3.org/1998/Math/MathML":["mi","mo","mn","ms","mtext","annotation-xml"],"http://www.w3.org/2000/svg":["foreignObject","desc","title"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"table"===this.localName||"tbody"===this.localName||"tfoot"===this.localName||"thead"===this.localName||"tr"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"h1"===this.localName||"h2"===this.localName||"h3"===this.localName||"h4"===this.localName||"h5"===this.localName||"h6"===this.localName:!1},StackItem.prototype.isForeign=function(){return"http://www.w3.org/1999/xhtml"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if("http://www.w3.org/1998/Math/MathML"===this.namespaceURI){if("annotation-xml"!==this.localName)return!1;var encoding=getAttribute(this,"encoding");return encoding?(encoding=encoding.toLowerCase(),"text/html"===encoding||"application/xhtml+xml"===encoding):!1}return"http://www.w3.org/2000/svg"===this.namespaceURI?"foreignObject"===this.localName||"desc"===this.localName||"title"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return"http://www.w3.org/1998/Math/MathML"===this.namespaceURI?"mi"===this.localName||"mo"===this.localName||"mn"===this.localName||"ms"===this.localName||"mtext"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return" "===c||"\\n"===c||"\t"===c||"\\r"===c||"\\f"===c}function isAlpha(c){return c>="A"&&"Z">=c||c>="a"&&"z">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer="",this._additionalAllowedCharacter=""}var InputStream=_dereq_("./InputStream").InputStream,EntityParser=_dereq_("./EntityParser").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if("StartTag"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else"EndTag"===token.type&&(token.selfClosing&&this._parseError("self-closing-flag-on-end-tag"),0!==token.data.length&&this._parseError("attributes-in-end-tag"));this._tokenHandler.processToken(token),"StartTag"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError("non-void-element-with-trailing-solidus",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_data_state);else if("<"===data)tokenizer.setState(tag_open_state);else if("\\0"===data)tokenizer._emitToken({type:"Characters",data:data}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_rcdata_state);else if("<"===data)tokenizer.setState(rcdata_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(rawtext_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit();else{var chars=buffer.matchUntil("\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(script_data_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_end_tag_open_state)):"!"===data?(tokenizer._emitToken({type:"Characters",data:"<!"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if("-"===data)tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_state);else if("<"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit();else{var chars=buffer.matchUntil("<|-|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:"<"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),buffer.commit()):(tokenizer._emitToken({type:"Characters",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),buffer.commit()):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:""}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(tokenizer._emitToken({type:"Characters",data:"/"}),this._temporaryBuffer="",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("bare-less-than-sign-at-eof"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"StartTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):"!"===data?tokenizer.setState(markup_declaration_open_state):"/"===data?tokenizer.setState(close_tag_open_state):">"===data?(tokenizer._parseError("expected-tag-name-but-got-right-bracket"),tokenizer._emitToken({type:"Characters",data:"<>"}),tokenizer.setState(data_state)):"?"===data?(tokenizer._parseError("expected-tag-name-but-got-question-mark"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError("expected-tag-name"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-closing-tag-but-got-eof"),tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"EndTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):">"===data?(tokenizer._parseError("expected-closing-tag-but-got-right-bracket"),tokenizer.setState(data_state)):(tokenizer._parseError("expected-closing-tag-but-got-char",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-tag-name"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.name+=""):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-name-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:""}),tokenizer.setState(attribute_name_state)):">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"="===data||"<"===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-name"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):"="===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):">"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeName+=""):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError("duplicate-attribute",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-end-of-tag-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;"="===data?tokenizer.setState(before_attribute_value_state):">"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"<"===data?(tokenizer._parseError("invalid-character-after-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-value-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\'"\'===data?tokenizer.setState(attribute_value_double_quoted_state):"&"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):"\'"===data?tokenizer.setState(attribute_value_single_quoted_state):">"===data?(tokenizer._parseError("expected-attribute-value-but-got-right-bracket"),tokenizer._emitCurrentToken()):"="===data||"<"===data||"`"===data?(tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+=""):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-in-attribute-value-double-quote"),buffer.unget(data),tokenizer.setState(data_state);else if(\'"\'===data)tokenizer.setState(after_attribute_value_state);else if("&"===data)this._additionalAllowedCharacter=\'"\',tokenizer.setState(character_reference_in_attribute_value_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="";else{var s=buffer.matchUntil(\'[\\0"&]\');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-value-single-quote"),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_attribute_value_state):"&"===data?(this._additionalAllowedCharacter="\'",tokenizer.setState(character_reference_in_attribute_value_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+=""):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil("\\0|[\'&]"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if("&"===data)this._additionalAllowedCharacter=">",tokenizer.setState(character_reference_in_attribute_value_state);else if(">"===data)tokenizer._emitCurrentToken();else if(\'"\'===data||"\'"===data||"="===data||"`"===data||"<"===data)tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="";else{var o=buffer.matchUntil("\\0|[\t\\n\v\\f \\r&<>\\"\'=`]");o===InputStream.EOF&&(tokenizer._parseError("eof-in-attribute-value-no-quotes"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||"&",\'"\'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):"\'"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):">"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"/"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError("unexpected-character-after-attribute-value"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError("unexpected-eof-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(data_state)):">"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-character-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(">");return data=data.replace(/\\u0000/g,""),buffer.char(),tokenizer._emitToken({type:"Comment",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if("--"===chars)tokenizer._currentToken={type:"Comment",data:""},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError("expected-dashes-or-doctype"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,"DOCTYPE"===chars.toUpperCase()?(tokenizer._currentToken={type:"Doctype",name:"",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&"[CDATA["===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError("expected-dashes-or-doctype"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil("]]>");return buffer.shift(3),data&&tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_start_dash_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+=""):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+=""):(tokenizer._currentToken.data+="-"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_dash_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+=""):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="-",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+="-"+data+buffer.matchUntil("\\0|-"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-double-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"!"===data?(tokenizer._parseError("unexpected-bang-after-double-dash-in-comment"),tokenizer.setState(comment_end_bang_state)):"-"===data?(tokenizer._parseError("unexpected-dash-after-double-dash-in-comment"),tokenizer._currentToken.data+=data):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="--",tokenizer.setState(comment_state)):(tokenizer._parseError("unexpected-char-in-comment"),tokenizer._currentToken.data+="--"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-bang-state"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"-"===data?(tokenizer._currentToken.data+="--!",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+="--!"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError("need-space-after-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(">"===data?(tokenizer._parseError("expected-doctype-name-but-got-right-bracket"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype-name"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(">"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if(["p","P"].indexOf(data)>-1){var expected=[["u","U"],["b","B"],["l","L"],["i","I"],["c","C"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if(["s","S"].indexOf(data)>-1){var expected=[["y","Y"],["s","S"],["t","T"],["e","E"],["m","M"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("expected-space-or-right-bracket-in-doctype",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"\'"===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\'"\'===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):">"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,"lineNumber",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,"columnNumber",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{"./EntityParser":2,"./InputStream":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return" "===ch||"\\n"===ch||"\t"===ch||"\\r"===ch||"\\f"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||""===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName="",this.originalInsertionMode="",this.inQuirksMode=!1,this.compatMode="no quirks",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context="",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{"-default":"endTagOther"},start_tag_handlers:{"-default":"startTagOther"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError("expected-closing-tag-but-got-eof"):2==tree.openElements.length&&"body"!=tree.openElements.item(1).localName?tree.parseError("expected-closing-tag-but-got-eof"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError("unexpected-doctype")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.start_tag_handlers["-default"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.end_tag_handlers["-default"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError("expected-doctype-but-got-eof"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||"",publicId||"",systemId||""),forceQuirks||"html"!=name||null!=publicId&&(["+//silmaril//dtd html pro v0r11 19970101//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//as//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//ietf//dtd html//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o\'reilly and associates//dtd html 2.0//","-//o\'reilly and associates//dtd html extended 1.0//","-//spyglass//dtd html 2.0 extended//","-//sq//dtd html 2.0 hotmetal + extensions//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//","html"].some(publicIdStartsWith)||["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"].indexOf(publicId.toLowerCase())>-1||null==systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].some(publicIdStartsWith))||null!=systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"==systemId.toLowerCase()?(tree.compatMode="quirks",tree.parseError("quirky-doctype")):null!=publicId&&(["-//w3c//dtd xhtml 1.0 transitional//","-//w3c//dtd xhtml 1.0 frameset//"].some(publicIdStartsWith)||null!=systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode="limited quirks",tree.parseError("almost-standards-doctype")):"-//W3C//DTD HTML 4.0//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/REC-html40/strict.dtd"==systemId)||"-//W3C//DTD HTML 4.01//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/html4/strict.dtd"==systemId)||"-//W3C//DTD XHTML 1.0 Strict//EN"==publicId&&"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"==systemId||"-//W3C//DTD XHTML 1.1//EN"==publicId&&"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"==systemId||(null!=systemId&&"about:legacy-compat"!=systemId||null!=publicId)&&tree.parseError("unknown-doctype"),tree.setInsertionMode("beforeHTML")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError("expected-doctype-but-got-chars"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError("expected-doctype-but-got-start-tag",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError("expected-doctype-but-got-end-tag",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode="quirks",tree.setInsertionMode("beforeHTML")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode("beforeHead")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode("beforeHead")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError("end-html-in-innerhtml"):tree.setInsertionMode("afterAfterBody")},modes.afterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoframes","-default":"startTagOther"},modes.afterFrameset.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-after-frameset",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode("afterAfterFrameset")},modes.afterFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-frameset",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead","-default":"startTagOther"},modes.beforeHead.end_tag_handlers={html:"endTagImplyHead",head:"endTagImplyHead",body:"endTagImplyHead",br:"endTagImplyHead","-default":"endTagOther"},modes.beforeHead.processEOF=function(){this.startTagHead("head",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead("head",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode("inHead")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead("head",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead("head",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError("end-tag-after-implied-root",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",title:"startTagTitle",script:"startTagScript",style:"startTagNoFramesStyle",noscript:"startTagNoScript",noframes:"startTagNoFramesStyle",base:"startTagBaseBasefontBgsoundLink",basefont:"startTagBaseBasefontBgsoundLink",bgsound:"startTagBaseBasefontBgsoundLink",link:"startTagBaseBasefontBgsoundLink",meta:"startTagMeta","-default":"startTagOther"},modes.inHead.end_tag_handlers={head:"endTagHead",html:"endTagHtmlBodyBr",body:"endTagHtmlBodyBr",br:"endTagHtmlBodyBr","-default":"endTagOther"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=["title","style","script"].indexOf(name)&&(tree.parseError("expected-named-closing-tag-but-got-eof",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError("two-heads-are-not-better-than-one")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode("inHeadNoscript"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode("text")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){"head"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError("unexpected-end-tag",{name:"head"}),tree.setInsertionMode("afterHead")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead("head")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",body:"startTagBody",frameset:"startTagFrameset",base:"startTagFromHead",link:"startTagFromHead",meta:"startTagFromHead",script:"startTagFromHead",style:"startTagFromHead",title:"startTagFromHead","-default":"startTagOther"},modes.afterHead.end_tag_handlers={body:"endTagBodyHtmlBr",html:"endTagBodyHtmlBr",br:"endTagBodyHtmlBr","-default":"endTagOther"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode("inBody")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-out-of-my-head",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError("unexpected-start-tag",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode("inBody"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:"startTagHtml",head:"startTagMisplaced",base:"startTagProcessInHead",basefont:"startTagProcessInHead",bgsound:"startTagProcessInHead",link:"startTagProcessInHead",meta:"startTagProcessInHead",noframes:"startTagProcessInHead",script:"startTagProcessInHead",style:"startTagProcessInHead",title:"startTagProcessInHead",body:"startTagBody",form:"startTagForm",plaintext:"startTagPlaintext",a:"startTagA",button:"startTagButton",xmp:"startTagXmp",table:"startTagTable",hr:"startTagHr",image:"startTagImage",input:"startTagInput",textarea:"startTagTextarea",select:"startTagSelect",isindex:"startTagIsindex",applet:"startTagAppletMarqueeObject",marquee:"startTagAppletMarqueeObject",object:"startTagAppletMarqueeObject",li:"startTagListItem",dd:"startTagListItem",dt:"startTagListItem",address:"startTagCloseP",article:"startTagCloseP",aside:"startTagCloseP",blockquote:"startTagCloseP",center:"startTagCloseP",details:"startTagCloseP",dir:"startTagCloseP",div:"startTagCloseP",dl:"startTagCloseP",fieldset:"startTagCloseP",figcaption:"startTagCloseP",figure:"startTagCloseP",footer:"startTagCloseP",header:"startTagCloseP",hgroup:"startTagCloseP",main:"startTagCloseP",menu:"startTagCloseP",nav:"startTagCloseP",ol:"startTagCloseP",p:"startTagCloseP",section:"startTagCloseP",summary:"startTagCloseP",ul:"startTagCloseP",listing:"startTagPreListing",pre:"startTagPreListing",b:"startTagFormatting",big:"startTagFormatting",code:"startTagFormatting",em:"startTagFormatting",font:"startTagFormatting",i:"startTagFormatting",s:"startTagFormatting",small:"startTagFormatting",strike:"startTagFormatting",strong:"startTagFormatting",tt:"startTagFormatting",u:"startTagFormatting",nobr:"startTagNobr",area:"startTagVoidFormatting",br:"startTagVoidFormatting",embed:"startTagVoidFormatting",img:"startTagVoidFormatting",keygen:"startTagVoidFormatting",wbr:"startTagVoidFormatting",param:"startTagParamSourceTrack",source:"startTagParamSourceTrack",track:"startTagParamSourceTrack",iframe:"startTagIFrame",noembed:"startTagRawText",noscript:"startTagRawText",h1:"startTagHeading",h2:"startTagHeading",h3:"startTagHeading",h4:"startTagHeading",h5:"startTagHeading",h6:"startTagHeading",caption:"startTagMisplaced",col:"startTagMisplaced",colgroup:"startTagMisplaced",frame:"startTagMisplaced",frameset:"startTagFrameset",tbody:"startTagMisplaced",td:"startTagMisplaced",tfoot:"startTagMisplaced",th:"startTagMisplaced",thead:"startTagMisplaced",tr:"startTagMisplaced",option:"startTagOptionOptgroup",optgroup:"startTagOptionOptgroup",math:"startTagMath",svg:"startTagSVG",rt:"startTagRpRt",rp:"startTagRpRt","-default":"startTagOther"},modes.inBody.end_tag_handlers={p:"endTagP",body:"endTagBody",html:"endTagHtml",address:"endTagBlock",article:"endTagBlock",aside:"endTagBlock",blockquote:"endTagBlock",button:"endTagBlock",center:"endTagBlock",details:"endTagBlock",dir:"endTagBlock",div:"endTagBlock",dl:"endTagBlock",fieldset:"endTagBlock",figcaption:"endTagBlock",figure:"endTagBlock",footer:"endTagBlock",header:"endTagBlock",hgroup:"endTagBlock",listing:"endTagBlock",main:"endTagBlock",menu:"endTagBlock",nav:"endTagBlock",ol:"endTagBlock",pre:"endTagBlock",section:"endTagBlock",summary:"endTagBlock",ul:"endTagBlock",form:"endTagForm",applet:"endTagAppletMarqueeObject",marquee:"endTagAppletMarqueeObject",object:"endTagAppletMarqueeObject",dd:"endTagListItem",dt:"endTagListItem",li:"endTagListItem",h1:"endTagHeading",h2:"endTagHeading",h3:"endTagHeading",h4:"endTagHeading",h5:"endTagHeading",h6:"endTagHeading",a:"endTagFormatting",b:"endTagFormatting",big:"endTagFormatting",code:"endTagFormatting",em:"endTagFormatting",font:"endTagFormatting",i:"endTagFormatting",nobr:"endTagFormatting",s:"endTagFormatting",small:"endTagFormatting",strike:"endTagFormatting",strong:"endTagFormatting",tt:"endTagFormatting",u:"endTagFormatting",br:"endTagBr","-default":"endTagOther"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError("non-html-root"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError("unexpected-start-tag",{name:"body"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError("unexpected-start-tag",{name:"frameset"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError("unexpected-start-tag",{name:name}):(tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope("ruby")&&(tree.generateImpliedEndTags(),"ruby"!=tree.currentStackItem().localName&&tree.parseError("unexpected-start-tag",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:["li"],dd:["dd","dt"],dt:["dd","dt"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&"p"!==node.localName&&"address"!==node.localName&&"div"!==node.localName)break}tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError("unexpected-start-tag",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements("a");activeA&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"a",endName:"a"}),tree.adoptionAgencyEndTag("a"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope("nobr")&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"nobr",endName:"nobr"}),this.processEndTag("nobr"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope("button")?(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"button",endName:"button"}),this.processEndTag("button"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){"quirks"!==tree.compatMode&&tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.insertElement(name,attributes),tree.setInsertionMode("inTable"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError("unexpected-start-tag-treated-as",{originalName:"image",newName:"img"}),this.processStartTag("img",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if("type"==attributes[key].nodeName){"hidden"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError("deprecated-tag",{name:"isindex"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt="This is a searchable index. Enter search keywords: ";for(var key in attributes)switch(attributes[key].nodeName){case"action":formAttributes.push({nodeName:"action",nodeValue:attributes[key].nodeValue});break;case"prompt":prompt=attributes[key].nodeValue;break;case"name":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:"name",nodeValue:"isindex"}),this.processStartTag("form",formAttributes),this.processStartTag("hr"),this.processStartTag("label"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag("input",inputAttributes),this.processEndTag("label"),this.processStartTag("hr"),this.processEndTag("form")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode("text")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;"inTable"==insertionModeName||"inCaption"==insertionModeName||"inColumnGroup"==insertionModeName||"inTableBody"==insertionModeName||"inRow"==insertionModeName||"inCell"==insertionModeName?tree.setInsertionMode("inSelectInTable"):tree.setInsertionMode("inSelect")},modes.inBody.startTagMisplaced=function(name){tree.parseError("unexpected-start-tag-ignored",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError("unexpected-end-tag-treated-as",{originalName:"br",newName:"br element"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("unexpected-end-tag",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError("unexpected-end-tag",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/1998/Math/MathML",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/2000/svg",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope("p")?(tree.generateImpliedEndTags("p"),"p"!=tree.currentStackItem().localName&&tree.parseError("unexpected-implied-end-tag",{name:"p"}),tree.openElements.popUntilPopped(name)):(tree.parseError("unexpected-end-tag",{name:"p"}),this.startTagCloseP("p",[]),this.endTagP("p"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError("end-tag-too-early-ignored",{name:"form"}),tree.openElements.remove(node)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:"startTagHtml",caption:"startTagTableElement",col:"startTagTableElement",colgroup:"startTagTableElement",tbody:"startTagTableElement",td:"startTagTableElement",tfoot:"startTagTableElement",thead:"startTagTableElement",tr:"startTagTableElement","-default":"startTagOther"},modes.inCaption.end_tag_handlers={caption:"endTagCaption",table:"endTagTable",body:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfood:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError("unexpected-end-tag",{name:name});var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope("caption")?(tree.generateImpliedEndTags(),"caption"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{gotName:"caption",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("caption"),tree.clearActiveFormattingElements(),tree.setInsertionMode("inTable")):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError("unexpected-end-table-in-caption");var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:"startTagHtml",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",td:"startTagTableOther",tfoot:"startTagTableOther",th:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inCell.end_tag_handlers={td:"endTagTableCell",th:"endTagTableCell",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",table:"endTagImply",tbody:"endTagImply",tfoot:"endTagImply",thead:"endTagImply",tr:"endTagImply","-default":"endTagOther"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope("td")||tree.openElements.inTableScope("th")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError("unexpected-start-tag",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError("unexpected-cell-end-tag",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode("inRow")):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope("td")?this.endTagTableCell("td"):tree.openElements.inTableScope("th")&&this.endTagTableCell("th")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:"startTagHtml",col:"startTagCol","-default":"startTagOther"},modes.inColumnGroup.end_tag_handlers={colgroup:"endTagColgroup",col:"endTagCol","-default":"endTagOther"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return"html"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.popElement(),tree.setInsertionMode("inTable"))},modes.inColumnGroup.endTagCol=function(){tree.parseError("no-end-tag",{name:"col"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","menu","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].indexOf(name)||"font"==name&&attributes.some(function(attr){return["color","face","size"].indexOf(attr.nodeName)>=0})){for(tree.parseError("unexpected-html-element-in-foreign-content",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}"http://www.w3.org/1998/Math/MathML"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),"http://www.w3.org/2000/svg"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError("unexpected-end-tag",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:"startTagHtml",basefont:"startTagBasefontBgsoundLinkMetaNoframesStyle",bgsound:"startTagBasefontBgsoundLinkMetaNoframesStyle",link:"startTagBasefontBgsoundLinkMetaNoframesStyle",meta:"startTagBasefontBgsoundLinkMetaNoframesStyle",noframes:"startTagBasefontBgsoundLinkMetaNoframesStyle",style:"startTagBasefontBgsoundLinkMetaNoframesStyle",head:"startTagHeadNoscript",noscript:"startTagHeadNoscript","-default":"startTagOther"},modes.inHeadNoscript.end_tag_handlers={noscript:"endTagNoscript",br:"endTagBr","-default":"endTagOther"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError("unexpected-char-in-frameset"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError("unexpected-start-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError("unexpected-end-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:"startTagHtml",frameset:"startTagFrameset",frame:"startTagFrame",noframes:"startTagNoframes","-default":"startTagOther"},modes.inFrameset.end_tag_handlers={frameset:"endTagFrameset",noframes:"endTagNoframes","-default":"endTagOther"},modes.inFrameset.processCharacters=function(){tree.parseError("unexpected-char-in-frameset")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inFrameset.endTagFrameset=function(){"html"==tree.currentStackItem().localName?tree.parseError("unexpected-frameset-in-frameset-innerhtml"):tree.popElement(),tree.context||"frameset"==tree.currentStackItem().localName||tree.setInsertionMode("afterFrameset")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:"startTagHtml",caption:"startTagCaption",colgroup:"startTagColgroup",col:"startTagCol",table:"startTagTable",tbody:"startTagRowGroup",tfoot:"startTagRowGroup",thead:"startTagRowGroup",td:"startTagImplyTbody",th:"startTagImplyTbody",tr:"startTagImplyTbody",style:"startTagStyleScript",script:"startTagStyleScript",input:"startTagInput",form:"startTagForm","-default":"startTagOther"},modes.inTable.end_tag_handlers={table:"endTagTable",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfoot:"endTagIgnore",th:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode("inTableText"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode("inCaption")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inColumnGroup")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup("colgroup",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inTableBody")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup("tbody",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"table",endName:"table"}),tree.insertionMode.processEndTag("table"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if("type"==attributes[key].nodeName.toLowerCase()){if("hidden"==attributes[key].nodeValue.toLowerCase())return tree.parseError("unexpected-hidden-input-in-table"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError("unexpected-form-in-table"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early-named",{gotName:"table",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("table"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError("unexpected-end-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join("");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:"startTagHtml",tr:"startTagTr",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther","-default":"startTagOther"},modes.inTableBody.end_tag_handlers={table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inRow")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError("unexpected-cell-in-table-body",{name:name}),this.startTagTr("tr",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError("unexpected-start-tag",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode("inTable")):tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:"startTagHtml",option:"startTagOption",optgroup:"startTagOptgroup",select:"startTagSelect",input:"startTagInput",keygen:"startTagInput",textarea:"startTagInput",script:"startTagScript","-default":"startTagOther"},modes.inSelect.end_tag_handlers={option:"endTagOption",optgroup:"endTagOptgroup",select:"endTagSelect",caption:"endTagTableElements",table:"endTagTableElements",tbody:"endTagTableElements",tfoot:"endTagTableElements",thead:"endTagTableElements",tr:"endTagTableElements",td:"endTagTableElements",th:"endTagTableElements","-default":"endTagOther"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return"option"!==tree.currentStackItem().localName?(tree.parseError("unexpected-end-tag-in-select",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){"option"==tree.currentStackItem().localName&&"optgroup"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName?tree.popElement():tree.parseError("unexpected-end-tag-in-select",{name:"optgroup"})},modes.inSelect.startTagSelect=function(){tree.parseError("unexpected-select-in-select"),this.endTagSelect("select")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope("select")?(tree.openElements.popUntilPopped("select"),tree.resetInsertionMode()):tree.parseError("unexpected-end-tag",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError("unexpected-input-in-select"),tree.openElements.inSelectScope("select")&&(this.endTagSelect("select"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect("select"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-select",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:"startTagTable",table:"startTagTable",tbody:"startTagTable",tfoot:"startTagTable",thead:"startTagTable",tr:"startTagTable",td:"startTagTable",th:"startTagTable","-default":"startTagOther"},modes.inSelectInTable.end_tag_handlers={caption:"endTagTable",table:"endTagTable",tbody:"endTagTable",tfoot:"endTagTable",thead:"endTagTable",tr:"endTagTable",td:"endTagTable",th:"endTagTable","-default":"endTagOther"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError("unexpected-table-element-start-tag-in-select-in-table",{name:name}),this.endTagOther("select"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError("unexpected-table-element-end-tag-in-select-in-table",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther("select"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:"startTagHtml",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inRow.end_tag_handlers={tr:"endTagTr",table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore","-default":"endTagOther"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inCell"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode("inTableBody"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr("tr"),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-row",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope("tr")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoFrames","-default":"startTagOther"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError("expected-eof-but-got-start-tag",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError("expected-eof-but-got-end-tag",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={"-default":"startTagOther"},modes.text.end_tag_handlers={script:"endTagScript","-default":"endTagOther"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError("expected-named-closing-tag-but-got-eof",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw"Tried to process start tag "+name+" in RCDATA/RAWTEXT mode"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok("script"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp("{[0-9a-z-]+}","gi"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_("assert"),messages=_dereq_("./messages.json"),constants=_dereq_("./constants");_dereq_("events").EventEmitter;var Tokenizer=_dereq_("./Tokenizer").Tokenizer,ElementStack=_dereq_("./ElementStack").ElementStack,StackItem=_dereq_("./StackItem").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){"\\n"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?"":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,"length",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError("adoption-agency-1.1",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError("adoption-agency-1.2",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError("adoption-agency-4.4",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError("adoption-agency-1.3",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement("http://www.w3.org/1999/xhtml",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw"Not mplemented"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode="no quirks",this.originalInsertionMode="initial",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case"title":case"textarea":this.tokenizer.setState(Tokenizer.RCDATA);break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"script":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case"noscript":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"plaintext":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode("initial")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&("StartTag"==token.type&&!(token.name in{mglyph:0,malignmark:0})||"Characters"===token.type)||"http://www.w3.org/1998/Math/MathML"==currentNode.namespaceURI&&"annotation-xml"==currentNode.localName&&"StartTag"==token.type&&"svg"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||"EOF"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case"Characters":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case"Comment":insertionMode.processComment(token.data);break;case"StartTag":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case"EndTag":insertionMode.processEndTag(token.name);break;case"Doctype":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case"EOF":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNode=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.detachFromParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement("http://www.w3.org/1999/xhtml","html",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem("http://www.w3.org/1999/xhtml","html",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","head",attributes);return this.head=new StackItem("http://www.w3.org/1999/xhtml","head",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","body",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem("http://www.w3.org/1999/xhtml","body",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex("table"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI="http://www.w3.org/1999/xhtml");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertDoctype=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertText=function(){throw Error("Not implemented")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=["dd","dt","li","option","optgroup","p","rp","rt"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error("Not implemented")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem("http://www.w3.org/1999/xhtml",this.context,[],null)),"http://www.w3.org/1999/xhtml"===node.namespaceURI){if("select"===node.localName)return this.setInsertionMode("inSelect");if("td"===node.localName||"th"===node.localName)return this.setInsertionMode("inCell");if("tr"===node.localName)return this.setInsertionMode("inRow");if("tbody"===node.localName||"thead"===node.localName||"tfoot"===node.localName)return this.setInsertionMode("inTableBody");if("caption"===node.localName)return this.setInsertionMode("inCaption");if("colgroup"===node.localName)return this.setInsertionMode("inColumnGroup");if("table"===node.localName)return this.setInsertionMode("inTable");if("head"===node.localName&&!last)return this.setInsertionMode("inHead");if("body"===node.localName)return this.setInsertionMode("inBody");if("frameset"===node.localName)return this.setInsertionMode("inFrameset");if("html"===node.localName)return this.openElements.headElement?this.setInsertionMode("afterHead"):this.setInsertionMode("beforeHead")}if(last)return this.setInsertionMode("inBody")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/1998/Math/MathML",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/2000/svg",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{"./ElementStack":1,"./StackItem":4,"./Tokenizer":5,"./constants":7,"./messages.json":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},exports.MATHMLAttributeMap={definitionurl:"definitionURL"},exports.SVGAttributeMap={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",externalresourcesacequired:"externalResourcesRequired",filterres:"filterRes",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",acequiredextensions:"acequiredExtensions",acequiredfeatures:"acequiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},exports.ForeignAttributeMap={"xlink:actuate":{prefix:"xlink",localName:"actuate",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:arcrole":{prefix:"xlink",localName:"arcrole",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:href":{prefix:"xlink",localName:"href",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:role":{prefix:"xlink",localName:"role",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:show":{prefix:"xlink",localName:"show",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:title":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:type":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xml:base":{prefix:"xml",localName:"base",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:lang":{prefix:"xml",localName:"lang",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:space":{prefix:"xml",localName:"space",namespaceURI:"http://www.w3.org/XML/1998/namespace"},xmlns:{prefix:null,localName:"xmlns",namespaceURI:"http://www.w3.org/2000/xmlns/"},"xmlns:xlink":{prefix:"xmlns",localName:"xlink",namespaceURI:"http://www.w3.org/2000/xmlns/"}}\n},{}],8:[function(_dereq_,module){module.exports={"null-character":"Null character in input stream, replaced with U+FFFD.","invalid-codepoint":"Invalid codepoint in stream","incorrectly-placed-solidus":"Solidus (/) incorrectly placed in tag.","incorrect-cr-newline-entity":"Incorrect CR newline entity, replaced with LF.","illegal-windows-1252-entity":"Entity used with illegal number (windows-1252 reference).","cant-convert-numeric-entity":"Numeric entity couldn\'t be converted to character (codepoint U+{charAsInt}).","invalid-numeric-entity-replaced":"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.","numeric-entity-without-semicolon":"Numeric entity didn\'t end with \';\'.","expected-numeric-entity-but-got-eof":"Numeric entity expected. Got end of file instead.","expected-numeric-entity":"Numeric entity expected but none found.","named-entity-without-semicolon":"Named entity didn\'t end with \';\'.","expected-named-entity":"Named entity expected. Got none.","attributes-in-end-tag":"End tag contains unexpected attributes.","self-closing-flag-on-end-tag":"End tag contains unexpected self-closing flag.","bare-less-than-sign-at-eof":"End of file after <.","expected-tag-name-but-got-right-bracket":"Expected tag name. Got \'>\' instead.","expected-tag-name-but-got-question-mark":"Expected tag name. Got \'?\' instead. (HTML doesn\'t support processing instructions.)","expected-tag-name":"Expected tag name. Got something else instead.","expected-closing-tag-but-got-right-bracket":"Expected closing tag. Got \'>\' instead. Ignoring \'</>\'.","expected-closing-tag-but-got-eof":"Expected closing tag. Unexpected end of file.","expected-closing-tag-but-got-char":"Expected closing tag. Unexpected character \'{data}\' found.","eof-in-tag-name":"Unexpected end of file in the tag name.","expected-attribute-name-but-got-eof":"Unexpected end of file. Expected attribute name instead.","eof-in-attribute-name":"Unexpected end of file in attribute name.","invalid-character-in-attribute-name":"Invalid character in attribute name.","duplicate-attribute":"Dropped duplicate attribute \'{name}\' on tag.","expected-end-of-tag-but-got-eof":"Unexpected end of file. Expected = or end of tag.","expected-attribute-value-but-got-eof":"Unexpected end of file. Expected attribute value.","expected-attribute-value-but-got-right-bracket":"Expected attribute value. Got \'>\' instead.","unexpected-character-in-unquoted-attribute-value":"Unexpected character in unquoted attribute","invalid-character-after-attribute-name":"Unexpected character after attribute name.","unexpected-character-after-attribute-value":"Unexpected character after attribute value.","eof-in-attribute-value-double-quote":\'Unexpected end of file in attribute value (").\',"eof-in-attribute-value-single-quote":"Unexpected end of file in attribute value (\').","eof-in-attribute-value-no-quotes":"Unexpected end of file in attribute value.","eof-after-attribute-value":"Unexpected end of file after attribute value.","unexpected-eof-after-solidus-in-tag":"Unexpected end of file in tag. Expected >.","unexpected-character-after-solidus-in-tag":"Unexpected character after / in tag. Expected >.","expected-dashes-or-doctype":"Expected \'--\' or \'DOCTYPE\'. Not found.","unexpected-bang-after-double-dash-in-comment":"Unexpected ! after -- in comment.","incorrect-comment":"Incorrect comment.","eof-in-comment":"Unexpected end of file in comment.","eof-in-comment-end-dash":"Unexpected end of file in comment (-).","unexpected-dash-after-double-dash-in-comment":"Unexpected \'-\' after \'--\' found in comment.","eof-in-comment-double-dash":"Unexpected end of file in comment (--).","eof-in-comment-end-bang-state":"Unexpected end of file in comment.","unexpected-char-in-comment":"Unexpected character in comment found.","need-space-after-doctype":"No space after literal string \'DOCTYPE\'.","expected-doctype-name-but-got-right-bracket":"Unexpected > character. Expected DOCTYPE name.","expected-doctype-name-but-got-eof":"Unexpected end of file. Expected DOCTYPE name.","eof-in-doctype-name":"Unexpected end of file in DOCTYPE name.","eof-in-doctype":"Unexpected end of file in DOCTYPE.","expected-space-or-right-bracket-in-doctype":"Expected space or \'>\'. Got \'{data}\'.","unexpected-end-of-doctype":"Unexpected end of DOCTYPE.","unexpected-char-in-doctype":"Unexpected character in DOCTYPE.","eof-in-bogus-doctype":"Unexpected end of file in bogus doctype.","eof-in-innerhtml":"Unexpected EOF in inner html mode.","unexpected-doctype":"Unexpected DOCTYPE. Ignored.","non-html-root":"html needs to be the first start tag.","expected-doctype-but-got-eof":"Unexpected End of file. Expected DOCTYPE.","unknown-doctype":"Erroneous DOCTYPE. Expected <!DOCTYPE html>.","quirky-doctype":"Quirky doctype. Expected <!DOCTYPE html>.","almost-standards-doctype":"Almost standards mode doctype. Expected <!DOCTYPE html>.","obsolete-doctype":"Obsolete doctype. Expected <!DOCTYPE html>.","expected-doctype-but-got-chars":"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-start-tag":"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-end-tag":"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","end-tag-after-implied-root":"Unexpected end tag ({name}) after the (implied) root element.","expected-named-closing-tag-but-got-eof":"Unexpected end of file. Expected end tag ({name}).","two-heads-are-not-better-than-one":"Unexpected start tag head in existing head. Ignored.","unexpected-end-tag":"Unexpected end tag ({name}). Ignored.","unexpected-implied-end-tag":"End tag {name} implied, but there were open elements.","unexpected-start-tag-out-of-my-head":"Unexpected start tag ({name}) that can be in head. Moved.","unexpected-start-tag":"Unexpected start tag ({name}).","missing-end-tag":"Missing end tag ({name}).","missing-end-tags":"Missing end tags ({name}).","unexpected-start-tag-implies-end-tag":"Unexpected start tag ({startName}) implies end tag ({endName}).","unexpected-start-tag-treated-as":"Unexpected start tag ({originalName}). Treated as {newName}.","deprecated-tag":"Unexpected start tag {name}. Don\'t use it!","unexpected-start-tag-ignored":"Unexpected start tag {name}. Ignored.","expected-one-end-tag-but-got-another":"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).","end-tag-too-early":"End tag ({name}) seen too early. Expected other end tag.","end-tag-too-early-named":"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.","end-tag-too-early-ignored":"End tag ({name}) seen too early. Ignored.","adoption-agency-1.1":"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.","adoption-agency-1.2":"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.","adoption-agency-1.3":"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.","adoption-agency-4.4":"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.","unexpected-end-tag-treated-as":"Unexpected end tag ({originalName}). Treated as {newName}.","no-end-tag":"This element ({name}) has no end tag.","unexpected-implied-end-tag-in-table":"Unexpected implied end tag ({name}) in the table phase.","unexpected-implied-end-tag-in-table-body":"Unexpected implied end tag ({name}) in the table body phase.","unexpected-char-implies-table-voodoo":"Unexpected non-space characters in table context caused voodoo mode.","unexpected-hidden-input-in-table":"Unexpected input with type hidden in table context.","unexpected-form-in-table":"Unexpected form in table context.","unexpected-start-tag-implies-table-voodoo":"Unexpected start tag ({name}) in table context caused voodoo mode.","unexpected-end-tag-implies-table-voodoo":"Unexpected end tag ({name}) in table context caused voodoo mode.","unexpected-cell-in-table-body":"Unexpected table cell start tag ({name}) in the table body phase.","unexpected-cell-end-tag":"Got table cell end tag ({name}) while acequired end tags are missing.","unexpected-end-tag-in-table-body":"Unexpected end tag ({name}) in the table body phase. Ignored.","unexpected-implied-end-tag-in-table-row":"Unexpected implied end tag ({name}) in the table row phase.","unexpected-end-tag-in-table-row":"Unexpected end tag ({name}) in the table row phase. Ignored.","unexpected-select-in-select":"Unexpected select start tag in the select phase treated as select end tag.","unexpected-input-in-select":"Unexpected input start tag in the select phase.","unexpected-start-tag-in-select":"Unexpected start tag token ({name}) in the select phase. Ignored.","unexpected-end-tag-in-select":"Unexpected end tag ({name}) in the select phase. Ignored.","unexpected-table-element-start-tag-in-select-in-table":"Unexpected table element start tag ({name}) in the select in table phase.","unexpected-table-element-end-tag-in-select-in-table":"Unexpected table element end tag ({name}) in the select in table phase.","unexpected-char-after-body":"Unexpected non-space characters in the after body phase.","unexpected-start-tag-after-body":"Unexpected start tag token ({name}) in the after body phase.","unexpected-end-tag-after-body":"Unexpected end tag token ({name}) in the after body phase.","unexpected-char-in-frameset":"Unepxected characters in the frameset phase. Characters ignored.","unexpected-start-tag-in-frameset":"Unexpected start tag token ({name}) in the frameset phase. Ignored.","unexpected-frameset-in-frameset-innerhtml":"Unexpected end tag token (frameset in the frameset phase (innerHTML).","unexpected-end-tag-in-frameset":"Unexpected end tag token ({name}) in the frameset phase. Ignored.","unexpected-char-after-frameset":"Unexpected non-space characters in the after frameset phase. Ignored.","unexpected-start-tag-after-frameset":"Unexpected start tag ({name}) in the after frameset phase. Ignored.","unexpected-end-tag-after-frameset":"Unexpected end tag ({name}) in the after frameset phase. Ignored.","expected-eof-but-got-char":"Unexpected non-space characters. Expected end of file.","expected-eof-but-got-start-tag":"Unexpected start tag ({name}). Expected end of file.","expected-eof-but-got-end-tag":"Unexpected end tag ({name}). Expected end of file.","unexpected-end-table-in-caption":"Unexpected end table tag in caption. Generates implied end caption.","end-html-in-innerhtml":"Unexpected html end tag in inner html mode.","eof-in-table":"Unexpected end of file. Expected table content.","eof-in-script":"Unexpected end of file. Expected script content.","non-void-element-with-trailing-solidus":"Trailing solidus not allowed on element {name}.","unexpected-html-element-in-foreign-content":\'HTML start tag "{name}" in a foreign namespace context.\',"unexpected-start-tag-in-table":"Unexpected {name}. Expected table content."}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_("./SAXTreeBuilder").SAXTreeBuilder,Tokenizer=_dereq_("../Tokenizer").Tokenizer,TreeParser=_dereq_("./TreeParser").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,"scriptingEnabled",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,"errorHandler",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{"../Tokenizer":5,"./SAXTreeBuilder":10,"./TreeParser":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_("util"),TreeBuilder=_dereq_("../TreeBuilder").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex("table"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error("Not Implemented")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,"previousSibling",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,"endLocator",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{"../TreeBuilder":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException("contentHandler was null.");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,"columnNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,"lineNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={"Aacute;":"",Aacute:"","aacute;":"",aacute:"","Abreve;":"","abreve;":"","ac;":"","acd;":"","acE;":"","Acirc;":"",Acirc:"","acirc;":"",acirc:"","acute;":"",acute:"","Acy;":"","acy;":"","AElig;":"",AElig:"","aelig;":"",aelig:"","af;":"","Afr;":"","afr;":"","Agrave;":"",Agrave:"","agrave;":"",agrave:"","alefsym;":"","aleph;":"","Alpha;":"","alpha;":"","Amacr;":"","amacr;":"","amalg;":"","amp;":"&",amp:"&","AMP;":"&",AMP:"&","andand;":"","And;":"","and;":"","andd;":"","andslope;":"","andv;":"","ang;":"","ange;":"","angle;":"","angmsdaa;":"","angmsdab;":"","angmsdac;":"","angmsdad;":"","angmsdae;":"","angmsdaf;":"","angmsdag;":"","angmsdah;":"","angmsd;":"","angrt;":"","angrtvb;":"","angrtvbd;":"","angsph;":"","angst;":"","angzarr;":"","Aogon;":"","aogon;":"","Aopf;":"","aopf;":"","apacir;":"","ap;":"","apE;":"","ape;":"","apid;":"","apos;":"\'","ApplyFunction;":"","approx;":"","approxeq;":"","Aring;":"",Aring:"","aring;":"",aring:"","Ascr;":"","ascr;":"","Assign;":"","ast;":"*","asymp;":"","asympeq;":"","Atilde;":"",Atilde:"","atilde;":"",atilde:"","Auml;":"",Auml:"","auml;":"",auml:"","awconint;":"","awint;":"","backcong;":"","backepsilon;":"","backprime;":"","backsim;":"","backsimeq;":"","Backslash;":"","Barv;":"","barvee;":"","barwed;":"","Barwed;":"","barwedge;":"","bbrk;":"","bbrktbrk;":"","bcong;":"","Bcy;":"","bcy;":"","bdquo;":"","becaus;":"","because;":"","Because;":"","bemptyv;":"","bepsi;":"","bernou;":"","Bernoullis;":"","Beta;":"","beta;":"","beth;":"","between;":"","Bfr;":"","bfr;":"","bigcap;":"","bigcirc;":"","bigcup;":"","bigodot;":"","bigoplus;":"","bigotimes;":"","bigsqcup;":"","bigstar;":"","bigtriangledown;":"","bigtriangleup;":"","biguplus;":"","bigvee;":"","bigwedge;":"","bkarow;":"","blacklozenge;":"","blacksquare;":"","blacktriangle;":"","blacktriangledown;":"","blacktriangleleft;":"","blacktriangleright;":"","blank;":"","blk12;":"","blk14;":"","blk34;":"","block;":"","bne;":"=","bnequiv;":"","bNot;":"","bnot;":"","Bopf;":"","bopf;":"","bot;":"","bottom;":"","bowtie;":"","boxbox;":"","boxdl;":"","boxdL;":"","boxDl;":"","boxDL;":"","boxdr;":"","boxdR;":"","boxDr;":"","boxDR;":"","boxh;":"","boxH;":"","boxhd;":"","boxHd;":"","boxhD;":"","boxHD;":"","boxhu;":"","boxHu;":"","boxhU;":"","boxHU;":"","boxminus;":"","boxplus;":"","boxtimes;":"","boxul;":"","boxuL;":"","boxUl;":"","boxUL;":"","boxur;":"","boxuR;":"","boxUr;":"","boxUR;":"","boxv;":"","boxV;":"","boxvh;":"","boxvH;":"","boxVh;":"","boxVH;":"","boxvl;":"","boxvL;":"","boxVl;":"","boxVL;":"","boxvr;":"","boxvR;":"","boxVr;":"","boxVR;":"","bprime;":"","breve;":"","Breve;":"","brvbar;":"",brvbar:"","bscr;":"","Bscr;":"","bsemi;":"","bsim;":"","bsime;":"","bsolb;":"","bsol;":"\\\\","bsolhsub;":"","bull;":"","bullet;":"","bump;":"","bumpE;":"","bumpe;":"","Bumpeq;":"","bumpeq;":"","Cacute;":"","cacute;":"","capand;":"","capbrcup;":"","capcap;":"","cap;":"","Cap;":"","capcup;":"","capdot;":"","CapitalDifferentialD;":"","caps;":"","caret;":"","caron;":"","Cayleys;":"","ccaps;":"","Ccaron;":"","ccaron;":"","Ccedil;":"",Ccedil:"","ccedil;":"",ccedil:"","Ccirc;":"","ccirc;":"","Cconint;":"","ccups;":"","ccupssm;":"","Cdot;":"","cdot;":"","cedil;":"",cedil:"","Cedilla;":"","cemptyv;":"","cent;":"",cent:"","centerdot;":"","CenterDot;":"","cfr;":"","Cfr;":"","CHcy;":"","chcy;":"","check;":"","checkmark;":"","Chi;":"","chi;":"","circ;":"","circeq;":"","circlearrowleft;":"","circlearrowright;":"","circledast;":"","circledcirc;":"","circleddash;":"","CircleDot;":"","circledR;":"","circledS;":"","CircleMinus;":"","CirclePlus;":"","CircleTimes;":"","cir;":"","cirE;":"","cire;":"","cirfnint;":"","cirmid;":"","cirscir;":"","ClockwiseContourIntegral;":"","CloseCurlyDoubleQuote;":"","CloseCurlyQuote;":"","clubs;":"","clubsuit;":"","colon;":":","Colon;":"","Colone;":"","colone;":"","coloneq;":"","comma;":",","commat;":"@","comp;":"","compfn;":"","complement;":"","complexes;":"","cong;":"","congdot;":"","Congruent;":"","conint;":"","Conint;":"","ContourIntegral;":"","copf;":"","Copf;":"","coprod;":"","Coproduct;":"","copy;":"",copy:"","COPY;":"",COPY:"","copysr;":"","CounterClockwiseContourIntegral;":"","crarr;":"","cross;":"","Cross;":"","Cscr;":"","cscr;":"","csub;":"","csube;":"","csup;":"","csupe;":"","ctdot;":"","cudarrl;":"","cudarrr;":"","cuepr;":"","cuesc;":"","cularr;":"","cularrp;":"","cupbrcap;":"","cupcap;":"","CupCap;":"","cup;":"","Cup;":"","cupcup;":"","cupdot;":"","cupor;":"","cups;":"","curarr;":"","curarrm;":"","curlyeqprec;":"","curlyeqsucc;":"","curlyvee;":"","curlywedge;":"","curren;":"",curren:"","curvearrowleft;":"","curvearrowright;":"","cuvee;":"","cuwed;":"","cwconint;":"","cwint;":"","cylcty;":"","dagger;":"","Dagger;":"","daleth;":"","darr;":"","Darr;":"","dArr;":"","dash;":"","Dashv;":"","dashv;":"","dbkarow;":"","dblac;":"","Dcaron;":"","dcaron;":"","Dcy;":"","dcy;":"","ddagger;":"","ddarr;":"","DD;":"","dd;":"","DDotrahd;":"","ddotseq;":"","deg;":"",deg:"","Del;":"","Delta;":"","delta;":"","demptyv;":"","dfisht;":"","Dfr;":"","dfr;":"","dHar;":"","dharl;":"","dharr;":"","DiacriticalAcute;":"","DiacriticalDot;":"","DiacriticalDoubleAcute;":"","DiacriticalGrave;":"`","DiacriticalTilde;":"","diam;":"","diamond;":"","Diamond;":"","diamondsuit;":"","diams;":"","die;":"","DifferentialD;":"","digamma;":"","disin;":"","div;":"","divide;":"",divide:"","divideontimes;":"","divonx;":"","DJcy;":"","djcy;":"","dlcorn;":"","dlcrop;":"","dollar;":"$","Dopf;":"","dopf;":"","Dot;":"","dot;":"","DotDot;":"","doteq;":"","doteqdot;":"","DotEqual;":"","dotminus;":"","dotplus;":"","dotsquare;":"","doublebarwedge;":"","DoubleContourIntegral;":"","DoubleDot;":"","DoubleDownArrow;":"","DoubleLeftArrow;":"","DoubleLeftRightArrow;":"","DoubleLeftTee;":"","DoubleLongLeftArrow;":"","DoubleLongLeftRightArrow;":"","DoubleLongRightArrow;":"","DoubleRightArrow;":"","DoubleRightTee;":"","DoubleUpArrow;":"","DoubleUpDownArrow;":"","DoubleVerticalBar;":"","DownArrowBar;":"","downarrow;":"","DownArrow;":"","Downarrow;":"","DownArrowUpArrow;":"","DownBreve;":"","downdownarrows;":"","downharpoonleft;":"","downharpoonright;":"","DownLeftRightVector;":"","DownLeftTeeVector;":"","DownLeftVectorBar;":"","DownLeftVector;":"","DownRightTeeVector;":"","DownRightVectorBar;":"","DownRightVector;":"","DownTeeArrow;":"","DownTee;":"","drbkarow;":"","drcorn;":"","drcrop;":"","Dscr;":"","dscr;":"","DScy;":"","dscy;":"","dsol;":"","Dstrok;":"","dstrok;":"","dtdot;":"","dtri;":"","dtrif;":"","duarr;":"","duhar;":"","dwangle;":"","DZcy;":"","dzcy;":"","dzigrarr;":"","Eacute;":"",Eacute:"","eacute;":"",eacute:"","easter;":"","Ecaron;":"","ecaron;":"","Ecirc;":"",Ecirc:"","ecirc;":"",ecirc:"","ecir;":"","ecolon;":"","Ecy;":"","ecy;":"","eDDot;":"","Edot;":"","edot;":"","eDot;":"","ee;":"","efDot;":"","Efr;":"","efr;":"","eg;":"","Egrave;":"",Egrave:"","egrave;":"",egrave:"","egs;":"","egsdot;":"","el;":"","Element;":"","elinters;":"","ell;":"","els;":"","elsdot;":"","Emacr;":"","emacr;":"","empty;":"","emptyset;":"","EmptySmallSquare;":"","emptyv;":"","EmptyVerySmallSquare;":"","emsp13;":"","emsp14;":"","emsp;":"","ENG;":"","eng;":"","ensp;":"","Eogon;":"","eogon;":"","Eopf;":"","eopf;":"","epar;":"","eparsl;":"","eplus;":"","epsi;":"","Epsilon;":"","epsilon;":"","epsiv;":"","eqcirc;":"","eqcolon;":"","eqsim;":"","eqslantgtr;":"","eqslantless;":"","Equal;":"","equals;":"=","EqualTilde;":"","equest;":"","Equilibrium;":"","equiv;":"","equivDD;":"","eqvparsl;":"","erarr;":"","erDot;":"","escr;":"","Escr;":"","esdot;":"","Esim;":"","esim;":"","Eta;":"","eta;":"","ETH;":"",ETH:"","eth;":"",eth:"","Euml;":"",Euml:"","euml;":"",euml:"","euro;":"","excl;":"!","exist;":"","Exists;":"","expectation;":"","exponentiale;":"","ExponentialE;":"","fallingdotseq;":"","Fcy;":"","fcy;":"","female;":"","ffilig;":"","fflig;":"","ffllig;":"","Ffr;":"","ffr;":"","filig;":"","FilledSmallSquare;":"","FilledVerySmallSquare;":"","fjlig;":"fj","flat;":"","fllig;":"","fltns;":"","fnof;":"","Fopf;":"","fopf;":"","forall;":"","ForAll;":"","fork;":"","forkv;":"","Fouriertrf;":"","fpartint;":"","frac12;":"",frac12:"","frac13;":"","frac14;":"",frac14:"","frac15;":"","frac16;":"","frac18;":"","frac23;":"","frac25;":"","frac34;":"",frac34:"","frac35;":"","frac38;":"","frac45;":"","frac56;":"","frac58;":"","frac78;":"","frasl;":"","frown;":"","fscr;":"","Fscr;":"","gacute;":"","Gamma;":"","gamma;":"","Gammad;":"","gammad;":"","gap;":"","Gbreve;":"","gbreve;":"","Gcedil;":"","Gcirc;":"","gcirc;":"","Gcy;":"","gcy;":"","Gdot;":"","gdot;":"","ge;":"","gE;":"","gEl;":"","gel;":"","geq;":"","geqq;":"","geqslant;":"","gescc;":"","ges;":"","gesdot;":"","gesdoto;":"","gesdotol;":"","gesl;":"","gesles;":"","Gfr;":"","gfr;":"","gg;":"","Gg;":"","ggg;":"","gimel;":"","GJcy;":"","gjcy;":"","gla;":"","gl;":"","glE;":"","glj;":"","gnap;":"","gnapprox;":"","gne;":"","gnE;":"","gneq;":"","gneqq;":"","gnsim;":"","Gopf;":"","gopf;":"","grave;":"`","GreaterEqual;":"","GreaterEqualLess;":"","GreaterFullEqual;":"","GreaterGreater;":"","GreaterLess;":"","GreaterSlantEqual;":"","GreaterTilde;":"","Gscr;":"","gscr;":"","gsim;":"","gsime;":"","gsiml;":"","gtcc;":"","gtcir;":"","gt;":">",gt:">","GT;":">",GT:">","Gt;":"","gtdot;":"","gtlPar;":"","gtquest;":"","gtrapprox;":"","gtrarr;":"","gtrdot;":"","gtreqless;":"","gtreqqless;":"","gtrless;":"","gtrsim;":"","gvertneqq;":"","gvnE;":"","Hacek;":"","hairsp;":"","half;":"","hamilt;":"","HARDcy;":"","hardcy;":"","harrcir;":"","harr;":"","hArr;":"","harrw;":"","Hat;":"^","hbar;":"","Hcirc;":"","hcirc;":"","hearts;":"","heartsuit;":"","hellip;":"","hercon;":"","hfr;":"","Hfr;":"","HilbertSpace;":"","hksearow;":"","hkswarow;":"","hoarr;":"","homtht;":"","hookleftarrow;":"","hookrightarrow;":"","hopf;":"","Hopf;":"","horbar;":"","HorizontalLine;":"","hscr;":"","Hscr;":"","hslash;":"","Hstrok;":"","hstrok;":"","HumpDownHump;":"","HumpEqual;":"","hybull;":"","hyphen;":"","Iacute;":"",Iacute:"","iacute;":"",iacute:"","ic;":"","Icirc;":"",Icirc:"","icirc;":"",icirc:"","Icy;":"","icy;":"","Idot;":"","IEcy;":"","iecy;":"","iexcl;":"",iexcl:"","iff;":"","ifr;":"","Ifr;":"","Igrave;":"",Igrave:"","igrave;":"",igrave:"","ii;":"","iiiint;":"","iiint;":"","iinfin;":"","iiota;":"","IJlig;":"","ijlig;":"","Imacr;":"","imacr;":"","image;":"","ImaginaryI;":"","imagline;":"","imagpart;":"","imath;":"","Im;":"","imof;":"","imped;":"","Implies;":"","incare;":"","in;":"","infin;":"","infintie;":"","inodot;":"","intcal;":"","int;":"","Int;":"","integers;":"","Integral;":"","intercal;":"","Intersection;":"","intlarhk;":"","intprod;":"","InvisibleComma;":"","InvisibleTimes;":"","IOcy;":"","iocy;":"","Iogon;":"","iogon;":"","Iopf;":"","iopf;":"","Iota;":"","iota;":"","iprod;":"","iquest;":"",iquest:"","iscr;":"","Iscr;":"","isin;":"","isindot;":"","isinE;":"","isins;":"","isinsv;":"","isinv;":"","it;":"","Itilde;":"","itilde;":"","Iukcy;":"","iukcy;":"","Iuml;":"",Iuml:"","iuml;":"",iuml:"","Jcirc;":"","jcirc;":"","Jcy;":"","jcy;":"","Jfr;":"","jfr;":"","jmath;":"","Jopf;":"","jopf;":"","Jscr;":"","jscr;":"","Jsercy;":"","jsercy;":"","Jukcy;":"","jukcy;":"","Kappa;":"","kappa;":"","kappav;":"","Kcedil;":"","kcedil;":"","Kcy;":"","kcy;":"","Kfr;":"","kfr;":"","kgreen;":"","KHcy;":"","khcy;":"","KJcy;":"","kjcy;":"","Kopf;":"","kopf;":"","Kscr;":"","kscr;":"","lAarr;":"","Lacute;":"","lacute;":"","laemptyv;":"","lagran;":"","Lambda;":"","lambda;":"","lang;":"","Lang;":"","langd;":"","langle;":"","lap;":"","Laplacetrf;":"","laquo;":"",laquo:"","larrb;":"","larrbfs;":"","larr;":"","Larr;":"","lArr;":"","larrfs;":"","larrhk;":"","larrlp;":"","larrpl;":"","larrsim;":"","larrtl;":"","latail;":"","lAtail;":"","lat;":"","late;":"","lates;":"","lbarr;":"","lBarr;":"","lbbrk;":"","lbrace;":"{","lbrack;":"[","lbrke;":"","lbrksld;":"","lbrkslu;":"","Lcaron;":"","lcaron;":"","Lcedil;":"","lcedil;":"","lceil;":"","lcub;":"{","Lcy;":"","lcy;":"","ldca;":"","ldquo;":"","ldquor;":"","ldrdhar;":"","ldrushar;":"","ldsh;":"","le;":"","lE;":"","LeftAngleBracket;":"","LeftArrowBar;":"","leftarrow;":"","LeftArrow;":"","Leftarrow;":"","LeftArrowRightArrow;":"","leftarrowtail;":"","LeftCeiling;":"","LeftDoubleBracket;":"","LeftDownTeeVector;":"","LeftDownVectorBar;":"","LeftDownVector;":"","LeftFloor;":"","leftharpoondown;":"","leftharpoonup;":"","leftleftarrows;":"","leftrightarrow;":"","LeftRightArrow;":"","Leftrightarrow;":"","leftrightarrows;":"","leftrightharpoons;":"","leftrightsquigarrow;":"","LeftRightVector;":"","LeftTeeArrow;":"","LeftTee;":"","LeftTeeVector;":"","leftthreetimes;":"","LeftTriangleBar;":"","LeftTriangle;":"","LeftTriangleEqual;":"","LeftUpDownVector;":"","LeftUpTeeVector;":"","LeftUpVectorBar;":"","LeftUpVector;":"","LeftVectorBar;":"","LeftVector;":"","lEg;":"","leg;":"","leq;":"","leqq;":"","leqslant;":"","lescc;":"","les;":"","lesdot;":"","lesdoto;":"","lesdotor;":"","lesg;":"","lesges;":"","lessapprox;":"","lessdot;":"","lesseqgtr;":"","lesseqqgtr;":"","LessEqualGreater;":"","LessFullEqual;":"","LessGreater;":"","lessgtr;":"","LessLess;":"","lesssim;":"","LessSlantEqual;":"","LessTilde;":"","lfisht;":"","lfloor;":"","Lfr;":"","lfr;":"","lg;":"","lgE;":"","lHar;":"","lhard;":"","lharu;":"","lharul;":"","lhblk;":"","LJcy;":"","ljcy;":"","llarr;":"","ll;":"","Ll;":"","llcorner;":"","Lleftarrow;":"","llhard;":"","lltri;":"","Lmidot;":"","lmidot;":"","lmoustache;":"","lmoust;":"","lnap;":"","lnapprox;":"","lne;":"","lnE;":"","lneq;":"","lneqq;":"","lnsim;":"","loang;":"","loarr;":"","lobrk;":"","longleftarrow;":"","LongLeftArrow;":"","Longleftarrow;":"","longleftrightarrow;":"","LongLeftRightArrow;":"","Longleftrightarrow;":"","longmapsto;":"","longrightarrow;":"","LongRightArrow;":"","Longrightarrow;":"","looparrowleft;":"","looparrowright;":"","lopar;":"","Lopf;":"","lopf;":"","loplus;":"","lotimes;":"","lowast;":"","lowbar;":"_","LowerLeftArrow;":"","LowerRightArrow;":"","loz;":"","lozenge;":"","lozf;":"","lpar;":"(","lparlt;":"","lrarr;":"","lrcorner;":"","lrhar;":"","lrhard;":"","lrm;":"","lrtri;":"","lsaquo;":"","lscr;":"","Lscr;":"","lsh;":"","Lsh;":"","lsim;":"","lsime;":"","lsimg;":"","lsqb;":"[","lsquo;":"","lsquor;":"","Lstrok;":"","lstrok;":"","ltcc;":"","ltcir;":"","lt;":"<",lt:"<","LT;":"<",LT:"<","Lt;":"","ltdot;":"","lthree;":"","ltimes;":"","ltlarr;":"","ltquest;":"","ltri;":"","ltrie;":"","ltrif;":"","ltrPar;":"","lurdshar;":"","luruhar;":"","lvertneqq;":"","lvnE;":"","macr;":"",macr:"","male;":"","malt;":"","maltese;":"","Map;":"","map;":"","mapsto;":"","mapstodown;":"","mapstoleft;":"","mapstoup;":"","marker;":"","mcomma;":"","Mcy;":"","mcy;":"","mdash;":"","mDDot;":"","measuredangle;":"","MediumSpace;":"","Mellintrf;":"","Mfr;":"","mfr;":"","mho;":"","micro;":"",micro:"","midast;":"*","midcir;":"","mid;":"","middot;":"",middot:"","minusb;":"","minus;":"","minusd;":"","minusdu;":"","MinusPlus;":"","mlcp;":"","mldr;":"","mnplus;":"","models;":"","Mopf;":"","mopf;":"","mp;":"","mscr;":"","Mscr;":"","mstpos;":"","Mu;":"","mu;":"","multimap;":"","mumap;":"","nabla;":"","Nacute;":"","nacute;":"","nang;":"","nap;":"","napE;":"","napid;":"","napos;":"","napprox;":"","natural;":"","naturals;":"","natur;":"","nbsp;":"",nbsp:"","nbump;":"","nbumpe;":"","ncap;":"","Ncaron;":"","ncaron;":"","Ncedil;":"","ncedil;":"","ncong;":"","ncongdot;":"","ncup;":"","Ncy;":"","ncy;":"","ndash;":"","nearhk;":"","nearr;":"","neArr;":"","nearrow;":"","ne;":"","nedot;":"","NegativeMediumSpace;":"","NegativeThickSpace;":"","NegativeThinSpace;":"","NegativeVeryThinSpace;":"","nequiv;":"","nesear;":"","nesim;":"","NestedGreaterGreater;":"","NestedLessLess;":"","NewLine;":"\\n","nexist;":"","nexists;":"","Nfr;":"","nfr;":"","ngE;":"","nge;":"","ngeq;":"","ngeqq;":"","ngeqslant;":"","nges;":"","nGg;":"","ngsim;":"","nGt;":"","ngt;":"","ngtr;":"","nGtv;":"","nharr;":"","nhArr;":"","nhpar;":"","ni;":"","nis;":"","nisd;":"","niv;":"","NJcy;":"","njcy;":"","nlarr;":"","nlArr;":"","nldr;":"","nlE;":"","nle;":"","nleftarrow;":"","nLeftarrow;":"","nleftrightarrow;":"","nLeftrightarrow;":"","nleq;":"","nleqq;":"","nleqslant;":"","nles;":"","nless;":"","nLl;":"","nlsim;":"","nLt;":"","nlt;":"","nltri;":"","nltrie;":"","nLtv;":"","nmid;":"","NoBreak;":"","NonBreakingSpace;":"","nopf;":"","Nopf;":"","Not;":"","not;":"",not:"","NotCongruent;":"","NotCupCap;":"","NotDoubleVerticalBar;":"","NotElement;":"","NotEqual;":"","NotEqualTilde;":"","NotExists;":"","NotGreater;":"","NotGreaterEqual;":"","NotGreaterFullEqual;":"","NotGreaterGreater;":"","NotGreaterLess;":"","NotGreaterSlantEqual;":"","NotGreaterTilde;":"","NotHumpDownHump;":"","NotHumpEqual;":"","notin;":"","notindot;":"","notinE;":"","notinva;":"","notinvb;":"","notinvc;":"","NotLeftTriangleBar;":"","NotLeftTriangle;":"","NotLeftTriangleEqual;":"","NotLess;":"","NotLessEqual;":"","NotLessGreater;":"","NotLessLess;":"","NotLessSlantEqual;":"","NotLessTilde;":"","NotNestedGreaterGreater;":"","NotNestedLessLess;":"","notni;":"","notniva;":"","notnivb;":"","notnivc;":"","NotPrecedes;":"","NotPrecedesEqual;":"","NotPrecedesSlantEqual;":"","NotReverseElement;":"","NotRightTriangleBar;":"","NotRightTriangle;":"","NotRightTriangleEqual;":"","NotSquareSubset;":"","NotSquareSubsetEqual;":"","NotSquareSuperset;":"","NotSquareSupersetEqual;":"","NotSubset;":"","NotSubsetEqual;":"","NotSucceeds;":"","NotSucceedsEqual;":"","NotSucceedsSlantEqual;":"","NotSucceedsTilde;":"","NotSuperset;":"","NotSupersetEqual;":"","NotTilde;":"","NotTildeEqual;":"","NotTildeFullEqual;":"","NotTildeTilde;":"","NotVerticalBar;":"","nparallel;":"","npar;":"","nparsl;":"","npart;":"","npolint;":"","npr;":"","nprcue;":"","nprec;":"","npreceq;":"","npre;":"","nrarrc;":"","nrarr;":"","nrArr;":"","nrarrw;":"","nrightarrow;":"","nRightarrow;":"","nrtri;":"","nrtrie;":"","nsc;":"","nsccue;":"","nsce;":"","Nscr;":"","nscr;":"","nshortmid;":"","nshortparallel;":"","nsim;":"","nsime;":"","nsimeq;":"","nsmid;":"","nspar;":"","nsqsube;":"","nsqsupe;":"","nsub;":"","nsubE;":"","nsube;":"","nsubset;":"","nsubseteq;":"","nsubseteqq;":"","nsucc;":"","nsucceq;":"","nsup;":"","nsupE;":"","nsupe;":"","nsupset;":"","nsupseteq;":"","nsupseteqq;":"","ntgl;":"","Ntilde;":"",Ntilde:"","ntilde;":"",ntilde:"","ntlg;":"","ntriangleleft;":"","ntrianglelefteq;":"","ntriangleright;":"","ntrianglerighteq;":"","Nu;":"","nu;":"","num;":"#","numero;":"","numsp;":"","nvap;":"","nvdash;":"","nvDash;":"","nVdash;":"","nVDash;":"","nvge;":"","nvgt;":">","nvHarr;":"","nvinfin;":"","nvlArr;":"","nvle;":"","nvlt;":"<","nvltrie;":"","nvrArr;":"","nvrtrie;":"","nvsim;":"","nwarhk;":"","nwarr;":"","nwArr;":"","nwarrow;":"","nwnear;":"","Oacute;":"",Oacute:"","oacute;":"",oacute:"","oast;":"","Ocirc;":"",Ocirc:"","ocirc;":"",ocirc:"","ocir;":"","Ocy;":"","ocy;":"","odash;":"","Odblac;":"","odblac;":"","odiv;":"","odot;":"","odsold;":"","OElig;":"","oelig;":"","ofcir;":"","Ofr;":"","ofr;":"","ogon;":"","Ograve;":"",Ograve:"","ograve;":"",ograve:"","ogt;":"","ohbar;":"","ohm;":"","oint;":"","olarr;":"","olcir;":"","olcross;":"","oline;":"","olt;":"","Omacr;":"","omacr;":"","Omega;":"","omega;":"","Omicron;":"","omicron;":"","omid;":"","ominus;":"","Oopf;":"","oopf;":"","opar;":"","OpenCurlyDoubleQuote;":"","OpenCurlyQuote;":"","operp;":"","oplus;":"","orarr;":"","Or;":"","or;":"","ord;":"","order;":"","orderof;":"","ordf;":"",ordf:"","ordm;":"",ordm:"","origof;":"","oror;":"","orslope;":"","orv;":"","oS;":"","Oscr;":"","oscr;":"","Oslash;":"",Oslash:"","oslash;":"",oslash:"","osol;":"","Otilde;":"",Otilde:"","otilde;":"",otilde:"","otimesas;":"","Otimes;":"","otimes;":"","Ouml;":"",Ouml:"","ouml;":"",ouml:"","ovbar;":"","OverBar;":"","OverBrace;":"","OverBracket;":"","OverParenthesis;":"","para;":"",para:"","parallel;":"","par;":"","parsim;":"","parsl;":"","part;":"","PartialD;":"","Pcy;":"","pcy;":"","percnt;":"%","period;":".","permil;":"","perp;":"","pertenk;":"","Pfr;":"","pfr;":"","Phi;":"","phi;":"","phiv;":"","phmmat;":"","phone;":"","Pi;":"","pi;":"","pitchfork;":"","piv;":"","planck;":"","planckh;":"","plankv;":"","plusacir;":"","plusb;":"","pluscir;":"","plus;":"+","plusdo;":"","plusdu;":"","pluse;":"","PlusMinus;":"","plusmn;":"",plusmn:"","plussim;":"","plustwo;":"","pm;":"","Poincareplane;":"","pointint;":"","popf;":"","Popf;":"","pound;":"",pound:"","prap;":"","Pr;":"","pr;":"","prcue;":"","precapprox;":"","prec;":"","preccurlyeq;":"","Precedes;":"","PrecedesEqual;":"","PrecedesSlantEqual;":"","PrecedesTilde;":"","preceq;":"","precnapprox;":"","precneqq;":"","precnsim;":"","pre;":"","prE;":"","precsim;":"","prime;":"","Prime;":"","primes;":"","prnap;":"","prnE;":"","prnsim;":"","prod;":"","Product;":"","profalar;":"","profline;":"","profsurf;":"","prop;":"","Proportional;":"","Proportion;":"","propto;":"","prsim;":"","prurel;":"","Pscr;":"","pscr;":"","Psi;":"","psi;":"","puncsp;":"","Qfr;":"","qfr;":"","qint;":"","qopf;":"","Qopf;":"","qprime;":"","Qscr;":"","qscr;":"","quaternions;":"","quatint;":"","quest;":"?","questeq;":"","quot;":\'"\',quot:\'"\',"QUOT;":\'"\',QUOT:\'"\',"rAarr;":"","race;":"","Racute;":"","racute;":"","radic;":"","raemptyv;":"","rang;":"","Rang;":"","rangd;":"","range;":"","rangle;":"","raquo;":"",raquo:"","rarrap;":"","rarrb;":"","rarrbfs;":"","rarrc;":"","rarr;":"","Rarr;":"","rArr;":"","rarrfs;":"","rarrhk;":"","rarrlp;":"","rarrpl;":"","rarrsim;":"","Rarrtl;":"","rarrtl;":"","rarrw;":"","ratail;":"","rAtail;":"","ratio;":"","rationals;":"","rbarr;":"","rBarr;":"","RBarr;":"","rbbrk;":"","rbrace;":"}","rbrack;":"]","rbrke;":"","rbrksld;":"","rbrkslu;":"","Rcaron;":"","rcaron;":"","Rcedil;":"","rcedil;":"","rceil;":"","rcub;":"}","Rcy;":"","rcy;":"","rdca;":"","rdldhar;":"","rdquo;":"","rdquor;":"","rdsh;":"","real;":"","realine;":"","realpart;":"","reals;":"","Re;":"","rect;":"","reg;":"",reg:"","REG;":"",REG:"","ReverseElement;":"","ReverseEquilibrium;":"","ReverseUpEquilibrium;":"","rfisht;":"","rfloor;":"","rfr;":"","Rfr;":"","rHar;":"","rhard;":"","rharu;":"","rharul;":"","Rho;":"","rho;":"","rhov;":"","RightAngleBracket;":"","RightArrowBar;":"","rightarrow;":"","RightArrow;":"","Rightarrow;":"","RightArrowLeftArrow;":"","rightarrowtail;":"","RightCeiling;":"","RightDoubleBracket;":"","RightDownTeeVector;":"","RightDownVectorBar;":"","RightDownVector;":"","RightFloor;":"","rightharpoondown;":"","rightharpoonup;":"","rightleftarrows;":"","rightleftharpoons;":"","rightrightarrows;":"","rightsquigarrow;":"","RightTeeArrow;":"","RightTee;":"","RightTeeVector;":"","rightthreetimes;":"","RightTriangleBar;":"","RightTriangle;":"","RightTriangleEqual;":"","RightUpDownVector;":"","RightUpTeeVector;":"","RightUpVectorBar;":"","RightUpVector;":"","RightVectorBar;":"","RightVector;":"","ring;":"","risingdotseq;":"","rlarr;":"","rlhar;":"","rlm;":"","rmoustache;":"","rmoust;":"","rnmid;":"","roang;":"","roarr;":"","robrk;":"","ropar;":"","ropf;":"","Ropf;":"","roplus;":"","rotimes;":"","RoundImplies;":"","rpar;":")","rpargt;":"","rppolint;":"","rrarr;":"","Rrightarrow;":"","rsaquo;":"","rscr;":"","Rscr;":"","rsh;":"","Rsh;":"","rsqb;":"]","rsquo;":"","rsquor;":"","rthree;":"","rtimes;":"","rtri;":"","rtrie;":"","rtrif;":"","rtriltri;":"","RuleDelayed;":"","ruluhar;":"","rx;":"","Sacute;":"","sacute;":"","sbquo;":"","scap;":"","Scaron;":"","scaron;":"","Sc;":"","sc;":"","sccue;":"","sce;":"","scE;":"","Scedil;":"","scedil;":"","Scirc;":"","scirc;":"","scnap;":"","scnE;":"","scnsim;":"","scpolint;":"","scsim;":"","Scy;":"","scy;":"","sdotb;":"","sdot;":"","sdote;":"","searhk;":"","searr;":"","seArr;":"","searrow;":"","sect;":"",sect:"","semi;":";","seswar;":"","setminus;":"","setmn;":"","sext;":"","Sfr;":"","sfr;":"","sfrown;":"","sharp;":"","SHCHcy;":"","shchcy;":"","SHcy;":"","shcy;":"","ShortDownArrow;":"","ShortLeftArrow;":"","shortmid;":"","shortparallel;":"","ShortRightArrow;":"","ShortUpArrow;":"","shy;":"",shy:"","Sigma;":"","sigma;":"","sigmaf;":"","sigmav;":"","sim;":"","simdot;":"","sime;":"","simeq;":"","simg;":"","simgE;":"","siml;":"","simlE;":"","simne;":"","simplus;":"","simrarr;":"","slarr;":"","SmallCircle;":"","smallsetminus;":"","smashp;":"","smeparsl;":"","smid;":"","smile;":"","smt;":"","smte;":"","smtes;":"","SOFTcy;":"","softcy;":"","solbar;":"","solb;":"","sol;":"/","Sopf;":"","sopf;":"","spades;":"","spadesuit;":"","spar;":"","sqcap;":"","sqcaps;":"","sqcup;":"","sqcups;":"","Sqrt;":"","sqsub;":"","sqsube;":"","sqsubset;":"","sqsubseteq;":"","sqsup;":"","sqsupe;":"","sqsupset;":"","sqsupseteq;":"","square;":"","Square;":"","SquareIntersection;":"","SquareSubset;":"","SquareSubsetEqual;":"","SquareSuperset;":"","SquareSupersetEqual;":"","SquareUnion;":"","squarf;":"","squ;":"","squf;":"","srarr;":"","Sscr;":"","sscr;":"","ssetmn;":"","ssmile;":"","sstarf;":"","Star;":"","star;":"","starf;":"","straightepsilon;":"","straightphi;":"","strns;":"","sub;":"","Sub;":"","subdot;":"","subE;":"","sube;":"","subedot;":"","submult;":"","subnE;":"","subne;":"","subplus;":"","subrarr;":"","subset;":"","Subset;":"","subseteq;":"","subseteqq;":"","SubsetEqual;":"","subsetneq;":"","subsetneqq;":"","subsim;":"","subsub;":"","subsup;":"","succapprox;":"","succ;":"","succcurlyeq;":"","Succeeds;":"","SucceedsEqual;":"","SucceedsSlantEqual;":"","SucceedsTilde;":"","succeq;":"","succnapprox;":"","succneqq;":"","succnsim;":"","succsim;":"","SuchThat;":"","sum;":"","Sum;":"","sung;":"","sup1;":"",sup1:"","sup2;":"",sup2:"","sup3;":"",sup3:"","sup;":"","Sup;":"","supdot;":"","supdsub;":"","supE;":"","supe;":"","supedot;":"","Superset;":"","SupersetEqual;":"","suphsol;":"","suphsub;":"","suplarr;":"","supmult;":"","supnE;":"","supne;":"","supplus;":"","supset;":"","Supset;":"","supseteq;":"","supseteqq;":"","supsetneq;":"","supsetneqq;":"","supsim;":"","supsub;":"","supsup;":"","swarhk;":"","swarr;":"","swArr;":"","swarrow;":"","swnwar;":"","szlig;":"",szlig:"","Tab;":"\t","target;":"","Tau;":"","tau;":"","tbrk;":"","Tcaron;":"","tcaron;":"","Tcedil;":"","tcedil;":"","Tcy;":"","tcy;":"","tdot;":"","telrec;":"","Tfr;":"","tfr;":"","there4;":"","therefore;":"","Therefore;":"","Theta;":"","theta;":"","thetasym;":"","thetav;":"","thickapprox;":"","thicksim;":"","ThickSpace;":"","ThinSpace;":"","thinsp;":"","thkap;":"","thksim;":"","THORN;":"",THORN:"","thorn;":"",thorn:"","tilde;":"","Tilde;":"","TildeEqual;":"","TildeFullEqual;":"","TildeTilde;":"","timesbar;":"","timesb;":"","times;":"",times:"","timesd;":"","tint;":"","toea;":"","topbot;":"","topcir;":"","top;":"","Topf;":"","topf;":"","topfork;":"","tosa;":"","tprime;":"","trade;":"","TRADE;":"","triangle;":"","triangledown;":"","triangleleft;":"","trianglelefteq;":"","triangleq;":"","triangleright;":"","trianglerighteq;":"","tridot;":"","trie;":"","triminus;":"","TripleDot;":"","triplus;":"","trisb;":"","tritime;":"","trpezium;":"","Tscr;":"","tscr;":"","TScy;":"","tscy;":"","TSHcy;":"","tshcy;":"","Tstrok;":"","tstrok;":"","twixt;":"","twoheadleftarrow;":"","twoheadrightarrow;":"","Uacute;":"",Uacute:"","uacute;":"",uacute:"","uarr;":"","Uarr;":"","uArr;":"","Uarrocir;":"","Ubrcy;":"","ubrcy;":"","Ubreve;":"","ubreve;":"","Ucirc;":"",Ucirc:"","ucirc;":"",ucirc:"","Ucy;":"","ucy;":"","udarr;":"","Udblac;":"","udblac;":"","udhar;":"","ufisht;":"","Ufr;":"","ufr;":"","Ugrave;":"",Ugrave:"","ugrave;":"",ugrave:"","uHar;":"","uharl;":"","uharr;":"","uhblk;":"","ulcorn;":"","ulcorner;":"","ulcrop;":"","ultri;":"","Umacr;":"","umacr;":"","uml;":"",uml:"","UnderBar;":"_","UnderBrace;":"","UnderBracket;":"","UnderParenthesis;":"","Union;":"","UnionPlus;":"","Uogon;":"","uogon;":"","Uopf;":"","uopf;":"","UpArrowBar;":"","uparrow;":"","UpArrow;":"","Uparrow;":"","UpArrowDownArrow;":"","updownarrow;":"","UpDownArrow;":"","Updownarrow;":"","UpEquilibrium;":"","upharpoonleft;":"","upharpoonright;":"","uplus;":"","UpperLeftArrow;":"","UpperRightArrow;":"","upsi;":"","Upsi;":"","upsih;":"","Upsilon;":"","upsilon;":"","UpTeeArrow;":"","UpTee;":"","upuparrows;":"","urcorn;":"","urcorner;":"","urcrop;":"","Uring;":"","uring;":"","urtri;":"","Uscr;":"","uscr;":"","utdot;":"","Utilde;":"","utilde;":"","utri;":"","utrif;":"","uuarr;":"","Uuml;":"",Uuml:"","uuml;":"",uuml:"","uwangle;":"","vangrt;":"","varepsilon;":"","varkappa;":"","varnothing;":"","varphi;":"","varpi;":"","varpropto;":"","varr;":"","vArr;":"","varrho;":"","varsigma;":"","varsubsetneq;":"","varsubsetneqq;":"","varsupsetneq;":"","varsupsetneqq;":"","vartheta;":"","vartriangleleft;":"","vartriangleright;":"","vBar;":"","Vbar;":"","vBarv;":"","Vcy;":"","vcy;":"","vdash;":"","vDash;":"","Vdash;":"","VDash;":"","Vdashl;":"","veebar;":"","vee;":"","Vee;":"","veeeq;":"","vellip;":"","verbar;":"|","Verbar;":"","vert;":"|","Vert;":"","VerticalBar;":"","VerticalLine;":"|","VerticalSeparator;":"","VerticalTilde;":"","VeryThinSpace;":"","Vfr;":"","vfr;":"","vltri;":"","vnsub;":"","vnsup;":"","Vopf;":"","vopf;":"","vprop;":"","vrtri;":"","Vscr;":"","vscr;":"","vsubnE;":"","vsubne;":"","vsupnE;":"","vsupne;":"","Vvdash;":"","vzigzag;":"","Wcirc;":"","wcirc;":"","wedbar;":"","wedge;":"","Wedge;":"","wedgeq;":"","weierp;":"","Wfr;":"","wfr;":"","Wopf;":"","wopf;":"","wp;":"","wr;":"","wreath;":"","Wscr;":"","wscr;":"","xcap;":"","xcirc;":"","xcup;":"","xdtri;":"","Xfr;":"","xfr;":"","xharr;":"","xhArr;":"","Xi;":"","xi;":"","xlarr;":"","xlArr;":"","xmap;":"","xnis;":"","xodot;":"","Xopf;":"","xopf;":"","xoplus;":"","xotime;":"","xrarr;":"","xrArr;":"","Xscr;":"","xscr;":"","xsqcup;":"","xuplus;":"","xutri;":"","xvee;":"","xwedge;":"","Yacute;":"",Yacute:"","yacute;":"",yacute:"","YAcy;":"","yacy;":"","Ycirc;":"","ycirc;":"","Ycy;":"","ycy;":"","yen;":"",yen:"","Yfr;":"","yfr;":"","YIcy;":"","yicy;":"","Yopf;":"","yopf;":"","Yscr;":"","yscr;":"","YUcy;":"","yucy;":"","yuml;":"",yuml:"","Yuml;":"","Zacute;":"","zacute;":"","Zcaron;":"","zcaron;":"","Zcy;":"","zcy;":"","Zdot;":"","zdot;":"","zeetrf;":"","ZeroWidthSpace;":"","Zeta;":"","zeta;":"","zfr;":"","Zfr;":"","ZHcy;":"","zhcy;":"","zigrarr;":"","zopf;":"","Zopf;":"","Zscr;":"","zscr;":"","zwj;":"","zwnj;":""}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?""+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?""+value:value:""+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="\'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+"")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+"",!0)):output.push("");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\\n")>-1&&(str=array?str.split("\\n").map(function(line){return"  "+line}).join("\\n").substr(2):"\\n"+str.split("\\n").map(function(line){return"   "+line}).join("\\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\\n")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\\n ")+" "+output.join(",\\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=(f+"").replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return args[i++]+"";case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(RegExp("\\\\b"+set+"\\\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw Error("process.chdir is not supported")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{"./support/isBuffer":19,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}]},{},[9])(9)}),ace.define("ace/mode/html_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/html/saxparser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,SAXParser=acequire("./html/saxparser").SAXParser,errorTypes={"expected-doctype-but-got-start-tag":"info","expected-doctype-but-got-chars":"info","non-html-root":"info"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||"error"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t,n){n(6)(n(48))},function(e,t){e.exports='(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):typeof module=="object"&&module.exports?module.exports=function(t,n){return n===undefined&&(typeof window!="undefined"?n=require("jquery"):n=require("jquery")(t)),e(n),n}:e(jQuery)})(function(e){function A(t,n,i){typeof i=="string"&&(i={className:i}),this.options=E(w,e.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=e(h.html),this.options.clickToHide&&this.wrapper.addClass(r+"-hidable"),this.wrapper.data(r,this),this.arrow=this.wrapper.find("."+r+"-arrow"),this.container=this.wrapper.find("."+r+"-container"),this.container.append(this.userContainer),t&&t.length&&(this.elementType=t.attr("type"),this.originalElement=t,this.elem=N(t),this.elem.data(r,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}var t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},n="notify",r=n+"js",i=n+"!blank",s={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},o=["l","c","r"],u=["t","m","b"],a=["t","b","l","r"],f={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},l=function(t){var n;return n=[],e.each(t.split(/\\W+/),function(e,t){var r;r=t.toLowerCase().charAt(0);if(s[r])return n.push(r)}),n},c={},h={name:"core",html:\'<div class="\'+r+\'-wrapper">\\n\t<div class="\'+r+\'-arrow"></div>\\n\t<div class="\'+r+\'-container"></div>\\n</div>\',css:"."+r+"-corner {\\n\tposition: fixed;\\n\tmargin: 5px;\\n\tz-index: 1050;\\n}\\n\\n."+r+"-corner ."+r+"-wrapper,\\n."+r+"-corner ."+r+"-container {\\n\tposition: relative;\\n\tdisplay: block;\\n\theight: inherit;\\n\twidth: inherit;\\n\tmargin: 3px;\\n}\\n\\n."+r+"-wrapper {\\n\tz-index: 1;\\n\tposition: absolute;\\n\tdisplay: inline-block;\\n\theight: 0;\\n\twidth: 0;\\n}\\n\\n."+r+"-container {\\n\tdisplay: none;\\n\tz-index: 1;\\n\tposition: absolute;\\n}\\n\\n."+r+"-hidable {\\n\tcursor: pointer;\\n}\\n\\n[data-notify-text],[data-notify-html] {\\n\tposition: relative;\\n}\\n\\n."+r+"-arrow {\\n\tposition: absolute;\\n\tz-index: 2;\\n\twidth: 0;\\n\theight: 0;\\n}"},p={"border-radius":["-webkit-","-moz-"]},d=function(e){return c[e]},v=function(e){if(!e)throw"Missing Style name";c[e]&&delete c[e]},m=function(t,i){if(!t)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var s=c[t];s&&s.cssElem&&(window.console&&console.warn(n+": overwriting style \'"+t+"\'"),c[t].cssElem.remove()),i.name=t,c[t]=i;var o="";i.classes&&e.each(i.classes,function(t,n){return o+="."+r+"-"+i.name+"-"+t+" {\\n",e.each(n,function(t,n){return p[t]&&e.each(p[t],function(e,r){return o+="\t"+r+t+": "+n+";\\n"}),o+="\t"+t+": "+n+";\\n"}),o+="}\\n"}),i.css&&(o+="/* styles for "+i.name+" */\\n"+i.css),o&&(i.cssElem=g(o),i.cssElem.attr("id","notify-"+i.name));var u={},a=e(i.html);y("html",a,u),y("text",a,u),i.fields=u},g=function(t){var n,r,i;r=x("style"),r.attr("type","text/css"),e("head").append(r);try{r.html(t)}catch(s){r[0].styleSheet.cssText=t}return r},y=function(t,n,r){var s;return t!=="html"&&(t="text"),s="data-notify-"+t,b(n,"["+s+"]").each(function(){var n;n=e(this).attr(s),n||(n=i),r[n]=t})},b=function(e,t){return e.is(t)?e:e.find(t)},w={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},E=function(t,n){var r;return r=function(){},r.prototype=t,e.extend(!0,new r,n)},S=function(t){return e.extend(w,t)},x=function(t){return e("<"+t+"></"+t+">")},T={},N=function(t){var n;return t.is("[type=radio]")&&(n=t.parents("form:first").find("[type=radio]").filter(function(n,r){return e(r).attr("name")===t.attr("name")}),t=n.first()),t},C=function(e,t,n){var r,i;if(typeof n=="string")n=parseInt(n,10);else if(typeof n!="number")return;if(isNaN(n))return;return r=s[f[t.charAt(0)]],i=t,e[r]!==undefined&&(t=s[r.charAt(0)],n=-n),e[t]===undefined?e[t]=n:e[t]+=n,null},k=function(e,t,n){if(e==="l"||e==="t")return 0;if(e==="c"||e==="m")return n/2-t/2;if(e==="r"||e==="b")return n-t;throw"Invalid alignment"},L=function(e){return L.e=L.e||x("div"),L.e.text(e).html()};A.prototype.loadHTML=function(){var t;t=this.getStyle(),this.userContainer=e(t.html),this.userFields=t.fields},A.prototype.show=function(e,t){var n,r,i,s,o;r=function(n){return function(){!e&&!n.elem&&n.destroy();if(t)return t()}}(this),o=this.container.parent().parents(":hidden").length>0,i=this.container.add(this.arrow),n=[];if(o&&e)s="show";else if(o&&!e)s="hide";else if(!o&&e)s=this.options.showAnimation,n.push(this.options.showDuration);else{if(!!o||!!e)return r();s=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(r),i[s].apply(i,n)},A.prototype.setGlobalPosition=function(){var t=this.getPosition(),n=t[0],i=t[1],o=s[n],u=s[i],a=n+"|"+i,f=T[a];if(!f||!document.body.contains(f[0])){f=T[a]=x("div");var l={};l[o]=0,u==="middle"?l.top="45%":u==="center"?l.left="45%":l[u]=0,f.css(l).addClass(r+"-corner"),e("body").append(f)}return f.prepend(this.wrapper)},A.prototype.setElementPosition=function(){var n,r,i,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,L,A,O,M,_,D,P,H,B,j;H=this.getPosition(),_=H[0],O=H[1],M=H[2],g=this.elem.position(),d=this.elem.outerHeight(),y=this.elem.outerWidth(),v=this.elem.innerHeight(),m=this.elem.innerWidth(),j=this.wrapper.position(),c=this.container.height(),h=this.container.width(),T=s[_],L=f[_],A=s[L],p={},p[A]=_==="b"?d:_==="r"?y:0,C(p,"top",g.top-j.top),C(p,"left",g.left-j.left),B=["top","left"];for(w=0,S=B.length;w<S;w++)D=B[w],N=parseInt(this.elem.css("margin-"+D),10),N&&C(p,D,N);b=Math.max(0,this.options.gap-(this.options.arrowShow?i:0)),C(p,A,b);if(!this.options.arrowShow)this.arrow.hide();else{i=this.options.arrowSize,r=e.extend({},p),n=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white";for(E=0,x=a.length;E<x;E++){D=a[E],P=s[D];if(D===L)continue;l=P===T?n:"transparent",r["border-"+P]=i+"px solid "+l}C(p,s[L],i),t.call(a,O)>=0&&C(r,s[O],i*2)}t.call(u,_)>=0?(C(p,"left",k(O,h,y)),r&&C(r,"left",k(O,i,m))):t.call(o,_)>=0&&(C(p,"top",k(O,c,d)),r&&C(r,"top",k(O,i,v))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p);if(r)return this.arrow.removeAttr("style").css(r)},A.prototype.getPosition=function(){var e,n,r,i,s,f,c,h;h=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),e=l(h),e.length===0&&(e[0]="b");if(n=e[0],t.call(a,n)<0)throw"Must be one of ["+a+"]";if(e.length===1||(r=e[0],t.call(u,r)>=0)&&(i=e[1],t.call(o,i)<0)||(s=e[0],t.call(o,s)>=0)&&(f=e[1],t.call(u,f)<0))e[1]=(c=e[0],t.call(o,c)>=0)?"m":"l";return e.length===2&&(e[2]=e[1]),e},A.prototype.getStyle=function(e){var t;e||(e=this.options.style),e||(e="default"),t=c[e];if(!t)throw"Missing style: "+e;return t},A.prototype.updateClasses=function(){var t,n;return t=["base"],e.isArray(this.options.className)?t=t.concat(this.options.className):this.options.className&&t.push(this.options.className),n=this.getStyle(),t=e.map(t,function(e){return r+"-"+n.name+"-"+e}).join(" "),this.userContainer.attr("class",t)},A.prototype.run=function(t,n){var r,s,o,u,a;e.isPlainObject(n)?e.extend(this.options,n):e.type(n)==="string"&&(this.options.className=n);if(this.container&&!t){this.show(!1);return}if(!this.container&&!t)return;s={},e.isPlainObject(t)?s=t:s[i]=t;for(o in s){r=s[o],u=this.userFields[o];if(!u)continue;u==="text"&&(r=L(r),this.options.breakNewLines&&(r=r.replace(/\\n/g,"<br/>"))),a=o===i?"":"="+o,b(this.userContainer,"[data-notify-"+u+a+"]").html(r)}this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))},A.prototype.destroy=function(){this.wrapper.data(r,null),this.wrapper.remove()},e[n]=function(t,r,i){return t&&t.nodeName||t.jquery?e(t)[n](r,i):(i=r,r=t,new A(null,r,i)),t},e.fn[n]=function(t,n){return e(this).each(function(){var i=N(e(this)).data(r);i&&i.destroy();var s=new A(e(this),t,n)}),this},e.extend(e[n],{defaults:S,addStyle:m,removeStyle:v,pluginOptions:w,getStyle:d,insertCSS:g}),m("bootstrap",{html:"<div>\\n<span data-notify-text></span>\\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),e(function(){g(h.css).attr("id","core-notify"),e(document).on("click","."+r+"-hidable",function(t){e(this).trigger("notify-hide")}),e(document).on("notify-hide","."+r+"-wrapper",function(t){var n=e(this).data(r);n&&n.show(!1)})})})'},function(e,t,n){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,i,r=function(e,t,n){if("string"==typeof t){var i=s(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],o=0,l=t.length;o<l;++o){var c=s(e,t[o]);if(null==c&&a.original)return;r.push(c)}return n&&n.apply(null,r)||!0}},a=function(e,t){var n=r("",e,t);return null==n&&a.original?a.original.apply(this,arguments):n},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,n){n=o(e,n);var i=t.modules[n];if(!i){if("function"==typeof(i=t.payloads[n])){var a={},s={id:n,uri:"",exports:a,packaged:!0};a=i((function(e,t){return r(n,e,t)}),a,s)||s.exports,t.modules[n]=a,delete t.payloads[n]}i=t.modules[n]=a||i}return i};i=e,(n="ace")&&(e[n]||(e[n]={}),i=e[n]),i.define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.acequire&&i.acequire.packaged||(a.original=i.acequire,i.acequire=a,i.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(e,t,n){"use strict";var i,r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},a=void 0===r.exec.call(/()??/,"")[1],o=(i=/^/g,r.test.call(i,""),!i.lastIndex);function s(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function l(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var i=n||0;i<e.length;i++)if(e[i]===t)return i;return-1}o&&a||(RegExp.prototype.exec=function(e){var t,n,i=r.exec.apply(this,arguments);if("string"==typeof e&&i){if(!a&&i.length>1&&l(i,"")>-1&&(n=RegExp(this.source,r.replace.call(s(this),"g","")),r.replace.call(e.slice(i.index),n,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<i.length;c++)(t=this._xregexp.captureNames[c-1])&&(i[t]=i[c]);!o&&this.global&&!i[0].length&&this.lastIndex>i.index&&this.lastIndex--}return i},o||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(e,t,n){function i(){}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=h.call(arguments,1),r=function(){if(this instanceof r){var i=t.apply(this,n.concat(h.call(arguments)));return Object(i)===i?i:this}return t.apply(e,n.concat(h.call(arguments)))};return t.prototype&&(i.prototype=t.prototype,r.prototype=new i,i.prototype=null),r});var r,a,o,s,l,c=Function.prototype.call,d=Array.prototype,u=Object.prototype,h=d.slice,p=c.bind(u.toString),f=c.bind(u.hasOwnProperty);if((l=f(u,"__defineGetter__"))&&(r=c.bind(u.__defineGetter__),a=c.bind(u.__defineSetter__),o=c.bind(u.__lookupGetter__),s=c.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(h.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):null==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var i=this.slice(e,e+t),r=h.call(arguments,2),a=r.length;if(e===n)a&&this.push.apply(this,r);else{var o=Math.min(t,n-e),s=e+o,l=s+a-o,c=n-s,d=n-o;if(l<s)for(var u=0;u<c;++u)this[l+u]=this[s+u];else if(l>s)for(u=c;u--;)this[l+u]=this[s+u];if(a&&e===d)this.length=d,this.push.apply(this,r);else for(this.length=d+a,u=0;u<a;++u)this[e+u]=r[u]}return i};Array.isArray||(Array.isArray=function(e){return"[object Array]"==p(e)});var g,b,v=Object("a"),y="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=arguments[1],r=-1,a=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError;for(;++r<a;)r in n&&e.call(i,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=Array(i),a=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var o=0;o<i;o++)o in n&&(r[o]=e.call(a,n[o],o,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=$(this),i=y&&"[object String]"==p(this)?this.split(""):n,r=i.length>>>0,a=[],o=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)s in i&&(t=i[s],e.call(o,t,s,n)&&a.push(t));return a}),Array.prototype.every||(Array.prototype.every=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var a=0;a<i;a++)if(a in n&&!e.call(r,n[a],a,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0,r=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var a=0;a<i;a++)if(a in n&&e.call(r,n[a],a,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in n){r=n[a++];break}if(++a>=i)throw new TypeError("reduce of empty array with no initial value")}for(;a<i;a++)a in n&&(r=e.call(void 0,r,n[a],a,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=$(this),n=y&&"[object String]"==p(this)?this.split(""):t,i=n.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in n){r=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}do{a in this&&(r=e.call(void 0,r,n[a],a,t))}while(a--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==p(this)?this.split(""):$(this),n=t.length>>>0;if(!n)return-1;var i=0;for(arguments.length>1&&(i=M(arguments[1])),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==p(this)?this.split(""):$(this),n=t.length>>>0;if(!n)return-1;var i=n-1;for(arguments.length>1&&(i=Math.min(i,M(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in t&&e===t[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(f(e,t)){var n;if(n={enumerable:!0,configurable:!0},l){var i=e.__proto__;e.__proto__=u;var r=o(e,t),a=s(e,t);if(e.__proto__=i,r||a)return r&&(n.get=r),a&&(n.set=a),n}return n.value=e[t],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=g();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var i=function(){};i.prototype=e,(n=new i).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n});function _(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}if(Object.defineProperty){var w=_({}),k="undefined"==typeof document||_(document.createElement("div"));if(!w||!k)var x=Object.defineProperty}if(!Object.defineProperty||x){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(x)try{return x.call(Object,e,t,n)}catch(e){}if(f(n,"value"))if(l&&(o(e,t)||s(e,t))){var i=e.__proto__;e.__proto__=u,delete e[t],e[t]=n.value,e.__proto__=i}else e[t]=n.value;else{if(!l)throw new TypeError("getters & setters can not be defined on this javascript engine");f(n,"get")&&r(e,t,n.get),f(n,"set")&&a(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)f(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze((function(){}))}catch(e){Object.freeze=(b=Object.freeze,function(e){return"function"==typeof e?e:b(e)})}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";f(e,t);)t+="?";e[t]=!0;var n=f(e,t);return delete e[t],n}),!Object.keys){var A=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=C.length;for(var E in{toString:null})A=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)f(e,n)&&t.push(n);if(A)for(var i=0,r=S;i<r;i++){var a=C[i];f(e,a)&&t.push(a)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var T="\t\n\v\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||T.trim()){T="["+T+"]";var D=new RegExp("^"+T+T+"*"),L=new RegExp(T+T+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(L,"")}}function M(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}var $=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(e,t,n){"use strict";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if((t=t||document).createStyleSheet&&(n=t.styleSheets)){for(;i<n.length;)if(n[i++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;i<n.length;)if(n[i++].id===e)return!0;return!1},t.importCssString=function(e,n,i){if(i=i||document,n&&t.hasCssString(n,i))return null;var r;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),i.createStyleSheet?((r=i.createStyleSheet()).cssText=e,n&&(r.owningElement.id=n)):((r=t.createElement("style")).appendChild(i.createTextNode(e)),n&&(r.id=n),t.getDocumentHead(i).appendChild(r))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var i=t.createElement("link");i.rel="stylesheet",i.href=e,t.getDocumentHead(n).appendChild(i)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var a=e.documentElement;a.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var s=n.offsetWidth;return o==s&&(s=i.clientWidth),a.removeChild(i),o-s},"undefined"!=typeof document?(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}):t.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(e,t,n){"use strict";e("./fixoldbrowsers");var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var i=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;t.isWin="win"==i,t.isMac="mac"==i,t.isLinux="linux"==i,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isTouchPad=r.indexOf("TouchPad")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./keys"),r=e("./useragent"),a=null,o=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var i=function(){n.call(e,window.event)};n._wrapper=i,e.attachEvent("on"+t,i)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||r.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,i){function r(e){n&&n(e),i&&i(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addTouchMoveListener=function(e,n){var i,r;"ontouchmove"in e&&(t.addListener(e,"touchstart",(function(e){var t=e.changedTouches[0];i=t.clientX,r=t.clientY})),t.addListener(e,"touchmove",(function(e){var t=e.changedTouches[0];e.wheelX=-(t.clientX-i)/1,e.wheelY=-(t.clientY-r)/1,i=t.clientX,r=t.clientY,n(e)})))},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),n(e)})):"onwheel"in e?t.addListener(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)})):t.addListener(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)}))},t.addMultiMouseDownListener=function(e,n,i,a){var o,s,l,c=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function u(e){if(0!==t.getButton(e)?c=0:e.detail>1?++c>4&&(c=1):c=1,r.isIE){var u=Math.abs(e.clientX-o)>5||Math.abs(e.clientY-s)>5;l&&!u||(c=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),n[c-1]||600),1==c&&(o=e.clientX,s=e.clientY)}if(e._clicks=c,i[a]("mousedown",e),c>4)c=0;else if(c>1)return i[a](d[c],e)}function h(e){c=2,l&&clearTimeout(l),l=setTimeout((function(){l=null}),n[c-1]||600),i[a]("mousedown",e),i[a](d[c],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){t.addListener(e,"mousedown",u),r.isOldIE&&t.addListener(e,"dblclick",h)}))};var s=!r.isMac||!r.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};function l(e,t,n){var l=s(t);if(!r.isMac&&a){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(l|=8),a.altGr){if(3==(3&l))return;a.altGr=0}if(18===n||17===n){var c="location"in t?t.location:t.keyLocation;if(17===n&&1===c)1==a[n]&&(o=t.timeStamp);else if(18===n&&3===l&&2===c){t.timeStamp-o<50&&(a.altGr=!0)}}}if((n in i.MODIFIER_KEYS&&(n=-1),8&l&&n>=91&&n<=93&&(n=-1),!l&&13===n)&&(3===(c="location"in t?t.location:t.keyLocation)&&(e(t,l,-n),t.defaultPrevented)))return;if(r.isChromeOS&&8&l){if(e(t,l,n),t.defaultPrevented)return;l&=-9}return!!(l||n in i.FUNCTION_KEYS||n in i.PRINTABLE_KEYS)&&e(t,l,n)}function c(){a=Object.create(null)}if(t.getModifierString=function(e){return i.KEY_MODS[s(e)]},t.addCommandKeyListener=function(e,n){var i=t.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var o=null;i(e,"keydown",(function(e){o=e.keyCode})),i(e,"keypress",(function(e){return l(n,e,o)}))}else{var s=null;i(e,"keydown",(function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=l(n,e,e.keyCode);return s=e.defaultPrevented,t})),i(e,"keypress",(function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),s=null)})),i(e,"keyup",(function(e){a[e.keyCode]=null})),a||(c(),i(window,"focus",c))}},"object"==typeof window&&window.postMessage&&!r.isOldIE){t.nextTick=function(e,n){n=n||window;t.addListener(n,"message",(function i(r){"zero-timeout-message-1"==r.data&&(t.stopPropagation(r),t.removeListener(n,"message",i),e())})),n.postMessage("zero-timeout-message-1","*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),a=e("../lib/dom"),o=e("../lib/lang"),s=r.isChrome<18,l=r.isIE;t.TextInput=function(e,t){var n=a.createElement("textarea");n.className="ace_text-input",r.isTouchPad&&n.setAttribute("x-palm-disable-auto-cap",!0),n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",r.isOldIE&&(n.style.top="-1000px"),e.insertBefore(n,e.firstChild);var c=!1,d=!1,u=!1,h="",p=!0;try{var f=document.activeElement===n}catch(e){}i.addListener(n,"blur",(function(e){t.onBlur(e),f=!1})),i.addListener(n,"focus",(function(e){f=!0,t.onFocus(e),b()})),this.focus=function(){if(h)return n.focus();var e=n.style.top;n.style.position="fixed",n.style.top="0px",n.focus(),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return f};var m=o.delayedCall((function(){f&&b(p)})),g=o.delayedCall((function(){u||(n.value="",f&&b())}));function b(e){if(!u){if(u=!0,A)t=0,i=e?0:n.value.length-1;else var t=e?2:1,i=2;try{n.setSelectionRange(t,i)}catch(e){}u=!1}}function v(){u||(n.value="",r.isWebKit&&g.schedule())}r.isWebKit||t.addEventListener("changeSelection",(function(){t.selection.isEmpty()!=p&&(p=!p,m.schedule())})),v(),f&&t.onFocus();var y=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!n.setSelectionRange&&n.createTextRange&&(n.setSelectionRange=function(e,t){var n=this.createTextRange();n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select()},y=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),r.isOldIE){var _=!1,w=function(e){if(!_){var t=n.value;if(!u&&t&&""!=t){if(e&&t==""[0])return k.schedule();S(t),_=!0,v(),_=!1}}},k=o.delayedCall(w);i.addListener(n,"propertychange",w);var x={13:1,27:1};i.addListener(n,"keyup",(function(e){if(!u||n.value&&!x[e.keyCode]||setTimeout(O,0),(n.value.charCodeAt(0)||0)<129)return k.call();u?B():I()})),i.addListener(n,"keydown",(function(e){k.schedule(50)}))}var A=null;this.setInputHandler=function(e){A=e},this.getInputHandler=function(){return A};var C=!1,S=function(e){A&&(e=A(e),A=null),d?(b(),e&&t.onPaste(e),d=!1):e=="".charAt(0)?C?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(""==e.substring(0,2)?e=e.substr(2):e.charAt(0)=="".charAt(0)?e=e.substr(1):e.charAt(e.length-1)=="".charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)=="".charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),C&&(C=!1)},E=function(e){if(!u){var t=n.value;S(t),v()}},T=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!s){var r=l||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return T(e,t,!0)}}},D=function(e,r){var a=t.getCopyText();if(!a)return i.preventDefault(e);T(e,a)?(r?t.onCut():t.onCopy(),i.preventDefault(e)):(c=!0,n.value=a,n.select(),setTimeout((function(){c=!1,v(),b(),r?t.onCut():t.onCopy()})))},L=function(e){D(e,!0)},M=function(e){D(e,!1)},$=function(e){var a=T(e);"string"==typeof a?(a&&t.onPaste(a,e),r.isIE&&setTimeout(b),i.preventDefault(e)):(n.value="",d=!0)};i.addCommandKeyListener(n,t.onCommandKey.bind(t)),i.addListener(n,"select",(function(e){c?c=!1:y(n)?(t.selectAll(),b()):A&&b(t.selection.isEmpty())})),i.addListener(n,"input",E),i.addListener(n,"cut",L),i.addListener(n,"copy",M),i.addListener(n,"paste",$),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:M(e);break;case 86:$(e);break;case 88:L(e)}}));var F,I=function(e){u||!t.onCompositionStart||t.$readOnly||((u={}).canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(B,0),t.on("mousedown",O),u.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},B=function(){if(u&&t.onCompositionUpdate&&!t.$readOnly){var e=n.value.replace(/\x01/g,"");if(u.lastValue!==e&&(t.onCompositionUpdate(e),u.lastValue&&t.undo(),u.canUndo&&(u.lastValue=e),u.lastValue)){var i=t.selection.getRange();t.insert(u.lastValue),t.session.markUndoGroup(),u.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection()}}},O=function(e){if(t.onCompositionEnd&&!t.$readOnly){var i=u;u=!1;var a=setTimeout((function(){a=null;var e=n.value.replace(/\x01/g,"");u||(e==i.lastValue?v():!i.lastValue&&e&&(v(),S(e)))}));A=function(e){return a&&clearTimeout(a),(e=e.replace(/\x01/g,""))==i.lastValue?"":(i.lastValue&&a&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",O),"compositionend"==e.type&&i.range&&t.selection.setRange(i.range),r.isChrome&&r.isChrome>=53&&E()}},j=o.delayedCall(B,50);function R(){clearTimeout(F),F=setTimeout((function(){h&&(n.style.cssText=h,h=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())}),r.isOldIE?200:0)}i.addListener(n,"compositionstart",I),r.isGecko?i.addListener(n,"text",(function(){j.schedule()})):(i.addListener(n,"keyup",(function(){j.schedule()})),i.addListener(n,"keydown",(function(){j.schedule()}))),i.addListener(n,"compositionend",O),this.getElement=function(){return n},this.setReadOnly=function(e){n.readOnly=e},this.onContextMenu=function(e){C=!0,b(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){if(o||!r.isOldIE){h||(h=n.style.cssText),n.style.cssText=(o?"z-index:100000;":"")+"height:"+n.style.height+";"+(r.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),l=a.computedStyle(t.container),c=s.top+(parseInt(l.borderTopWidth)||0),d=s.left+(parseInt(s.borderLeftWidth)||0),u=s.bottom-c-n.clientHeight-2,p=function(e){n.style.left=e.clientX-d-2+"px",n.style.top=Math.min(e.clientY-c-2,u)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(F),r.isWin&&!r.isOldIE&&i.capture(t.container,p,R))}},this.onContextMenuClose=R;var N=function(e){t.textInput.onContextMenu(e),R()};i.addListener(n,"mouseup",N),i.addListener(n,"mousedown",(function(e){e.preventDefault(),R()})),i.addListener(t.renderer.scroller,"contextmenu",N),i.addListener(n,"contextmenu",N)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";e("../lib/dom"),e("../lib/event"),e("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,r=e.getButton();if(0!==r){var a=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(a||1==r)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==r&&i.textInput.onContextMenu(e.domEvent))}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var a=r(this.$clickSelection,n);n=a.cursor,e=a.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),a=n.selection[e](i.row,i.column);if(n.$blockScrolling++,this.$clickSelection){var o=this.$clickSelection.comparePoint(a.start),s=this.$clickSelection.comparePoint(a.end);if(-1==o&&s<=0)t=this.$clickSelection.end,a.end.row==i.row&&a.end.column==i.column||(i=a.start);else if(1==s&&o>=0)t=this.$clickSelection.start,a.start.row==i.row&&a.start.column==i.column||(i=a.end);else if(-1==o&&1==s)i=a.end,t=a.start;else{var l=r(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),a=Date.now();(r>0||a-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;return i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200?(this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){var t=e.domEvent.timeStamp,n=t-(this.$lastScrollTime||0),i=this.editor;if(i.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||n<200)return this.$lastScrollTime=t,i.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){i.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),a=e("../lib/event"),o=e("../tooltip").Tooltip;function s(e){o.call(this,e)}r.inherits(s,o),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),a=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+a>i&&(t-=20+a),o.prototype.setPosition.call(this,e,t)}}.call(s.prototype),t.GutterHandler=function(e){var t,n,r,o=e.editor,l=o.renderer.$gutterLayer,c=new s(o.container);function d(){t&&(t=clearTimeout(t)),r&&(c.hide(),r=null,o._signal("hideGutterTooltip",c),o.removeEventListener("mousewheel",d))}function u(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(o.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(a){var s=a.domEvent.target||a.domEvent.srcElement;if(i.hasCssClass(s,"ace_fold-widget"))return d();r&&e.$tooltipFollowsMouse&&u(a),n=a,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return d();if(t==o.session.getLength()){var a=o.renderer.pixelToScreenCoordinates(0,n.y).row,s=n.$pos;if(a>o.session.documentToScreenRow(s.row,s.column))return d()}if(r!=i)if(r=i.text.join("<br/>"),c.setHtml(r),c.show(),o._signal("showGutterTooltip",c),o.on("mousewheel",d),e.$tooltipFollowsMouse)u(n);else{var h=n.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=h.right+"px",p.top=h.bottom+"px"}}():d()}),50))})),a.addListener(o.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,d()}),50))})),o.on("changeSession",d)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),a=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(a.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),a=e("../lib/useragent");function o(e){var t=e.editor,n=i.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.addEventListener("mousedown",this.onMouseDown.bind(e));var o,l,c,d,u,h,p,f,m,g,b,v=t.container,y=0;function _(){var e=h;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,a=!n||e.column!=n.column;!g||r||a?(t.$blockScrolling+=1,t.moveCursorToPosition(e),t.$blockScrolling-=1,g=i,b={x:l,y:c}):s(b.x,b.y,l,c)>5?g=null:i-g>=200&&(t.renderer.scrollCursorIntoView(),g=null)})(h=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,a=t.renderer.layerConfig.characterWidth,o=t.renderer.scroller.getBoundingClientRect(),s={x:{left:l-o.left,right:o.right-l},y:{top:c-o.top,bottom:o.bottom-c}},d=Math.min(s.x.left,s.x.right),u=Math.min(s.y.top,s.y.bottom),h={row:e.row,column:e.column};d/a<=2&&(h.column+=s.x.left<s.x.right?-3:2),u/r<=1&&(h.row+=s.y.top<s.y.bottom?-1:1);var p=e.row!=h.row,f=e.column!=h.column,g=!n||e.row!=n.row;p||f&&!g?m?i-m>=200&&t.renderer.scrollCursorIntoView(h):m=i:m=null}(h,e)}function w(){u=t.selection.toOrientedRange(),o=t.session.addMarker(u,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(d),_(),d=setInterval(_,20),y=0,r.addListener(document,"mousemove",A)}function k(){clearInterval(d),t.session.removeMarker(o),o=null,t.$blockScrolling+=1,t.selection.fromOrientedRange(u),t.$blockScrolling-=1,t.isFocused()&&!f&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),u=null,h=null,y=0,m=null,g=null,r.removeListener(document,"mousemove",A)}this.onDragStart=function(e){if(this.cancelDrag||!v.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}u=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",a.isOpera&&(t.container.appendChild(n),n.scrollTop=0),r.setDragImage&&r.setDragImage(n,0,0),a.isOpera&&t.container.removeChild(n),r.clearData(),r.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(v.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,o||w(),y++,e.dataTransfer.dropEffect=p=S(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,o||(w(),y++),null!==x&&(x=null),e.dataTransfer.dropEffect=p=S(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--y<=0&&o)return k(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(h){var n=e.dataTransfer;if(f)switch(p){case"move":u=u.contains(h.row,h.column)?{start:h,end:h}:t.moveText(u,h);break;case"copy":u=t.moveText(u,h,!0)}else{var i=n.getData("Text");u={start:h,end:t.session.insert(h,i)},t.focus(),p=null}return k(),r.preventDefault(e)}},r.addListener(v,"dragstart",this.onDragStart.bind(e)),r.addListener(v,"dragend",this.onDragEnd.bind(e)),r.addListener(v,"dragenter",this.onDragEnter.bind(e)),r.addListener(v,"dragover",this.onDragOver.bind(e)),r.addListener(v,"dragleave",this.onDragLeave.bind(e)),r.addListener(v,"drop",this.onDrop.bind(e));var x=null;function A(){null==x&&(x=setTimeout((function(){null!=x&&o&&k()}),20))}function C(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function S(e){var t=["copy","copymove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function s(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=a.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;a.isIE&&"dragReady"==this.state&&(s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(a.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(o.prototype),t.DragdropHandler=o})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},a=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=a),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;t&&this.addEventListener(e,(function i(){n.removeEventListener(e,i),t.apply(null,arguments)}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var a=r.indexOf(t);-1!=a&&r.splice(a,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t){n[e];i&&this.setDefaultHandler(e,i.pop())}else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return o('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}};function o(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=o,this.reportError=s}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,i){var r=e("./lib/lang"),a=(e("./lib/oop"),e("./lib/net")),o=e("./lib/app_config").AppConfig;i.exports=t=new o;var s=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function c(r){if(s&&s.document){l.packaged=r||e.packaged||i.packaged||s.define&&n(27).packaged;for(var a,o={},c="",d=document.currentScript||document._currentScript,u=(d&&d.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var p=u[h],f=p.src||p.getAttribute("src");if(f){for(var m=p.attributes,g=0,b=m.length;g<b;g++){var v=m[g];0===v.name.indexOf("data-ace-")&&(o[(a=v.name.replace(/^data-ace-/,""),a.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var y=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(c=y[1])}}for(var _ in c&&(o.base=o.base||c,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[_]&&t.set(_,o[_])}}t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);l[e]=t},t.all=function(){return r.copyObject(l)},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var a=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(a,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var o=l[t+"Path"];return null==o?o=l.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=e(n)}catch(e){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var s=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return s();a.loadScript(t.moduleUrl(n,o),s)}},c(!0),t.init=c})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),a=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),d=function(e){var t=this;this.editor=e,new a(this),new o(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();i.addListener(s,"click",this.onMouseEvent.bind(this,"click")),i.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),i.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),i.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var c=e.renderer.$gutter;i.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),i.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),i.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),i.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),i.addListener(s,"mousedown",n),i.addListener(c,"mousedown",n),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n),i.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),a=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?a.setCursorStyle("default"):a.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new s(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var a=this,o=function(e){if(e){if(r.isWebKit&&!e.which&&a.releaseMouse)return a.releaseMouse();a.x=e.clientX,a.y=e.clientY,t&&t(e),a.mouseEvent=new s(e,a.editor),a.$mouseMoved=!0}},l=function(e){clearInterval(d),c(),a[a.state+"End"]&&a[a.state+"End"](e),a.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),a.isMousePressed=!1,a.$onCaptureMouseMove=a.releaseMouse=null,e&&a.onMouseEvent("mouseup",e)},c=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){l(e)}));a.$onCaptureMouseMove=o,a.releaseMouse=i.capture(this.editor.container,o,l);var d=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(d.prototype),c.defineOptions(d.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=d})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(e,t,n){"use strict";t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),i=e.session,r=i.getFoldAt(n.row,n.column,1);r&&(t.getAccelKey()?i.removeFold(r):i.expandFold(r),t.stop())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),a=r.range||r.firstRange;if(a){n=a.start.row;var o=i.getFoldAt(n,i.getLine(n).length,1);o?i.removeFold(o):(i.addFold("...",a),e.renderer.scrollCursorIntoView({row:a.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),a=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var a,o=!1,s=this.$editor.commands,l=this.$handlers.length;l--&&!((a=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&a.command&&((o="null"==a.command||s.exec(a.command,this.$editor,a.args,i))&&i&&-1!=e&&1!=a.passEvent&&1!=a.command.passEvent&&r.stopEvent(i),o)););return o||-1!=e||(a={command:"insertstring"},o=s.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",a),o},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(a.prototype),t.KeyBinding=a})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var a={row:e,column:t};return i.fromPoints(r||this.start,a||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),a=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",(function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){t.$isEmpty||t._emit("changeSelection")}))};(function(){i.implement(this,a),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var t=this.getSelectionAnchor(),n=this.getSelectionLead(),i=this.isBackwards();i&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(i||0!==n.column)&&this.$moveSelection((function(){this.moveCursorTo(n.row,n.column+e)}))}},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-n,t.column).split(" ").length-1==n?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+n).split(" ").length-1==n?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var a=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(a)&&(n-=this.session.nonTokenRe.lastIndex,a=a.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(a)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var a=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<a&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var a=r.stringReverse(i),o=this.$shortWordEndIndex(a);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var i=this.session.screenToDocumentPosition(n.row+e,n.column);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,a=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,a=this.matchMappings[t]={defaultToken:"text"},o="g",s=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(a.defaultToken=c.defaultToken),c.caseInsensitive&&(o="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var d=c.regex,u=new RegExp("(?:("+d+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?d=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(u=1,d=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||s.push(c)),a[r]=l,r+=u,i.push(d),c.onMatch||(c.onMatch=null)}}i.length||(a[0]=0,i.push("$")),s.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,a=n.length;r<a;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,a=i.length;r<a;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,a,o,s,l){return i?i="]"!=s:s?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):a&&(n++,1!=a.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",a=this.states[i];a||(i="start",a=this.states[i]);var o=this.matchMappings[i],s=this.regExps[i];s.lastIndex=0;for(var l,c=[],d=0,u=0,h={type:null,value:""};l=s.exec(e);){var p=o.defaultToken,f=null,m=l[0],g=s.lastIndex;if(g-m.length>d){var b=e.substring(d,g-m.length);h.type==p?h.value+=b:(h.type&&c.push(h),h={type:p,value:b})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){p=(f=a[o[v]]).onMatch?f.onMatch(m,i,n):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(a=this.states[i])||(this.reportError("state doesn't exist",i),i="start",a=this.states[i]),o=this.matchMappings[i],d=g,(s=this.regExps[i]).lastIndex=g);break}if(m)if("string"==typeof p)f&&!1===f.merge||h.type!==p?(h.type&&c.push(h),h={type:p,value:m}):h.value+=m;else if(p){h.type&&c.push(h),h={type:null,value:""};for(v=0;v<p.length;v++)c.push(p[v])}if(d==e.length)break;if(d=g,u++>r){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});d<e.length;)h.type&&c.push(h),h={value:e.substring(d,d+=2e3),type:"overflow"};i="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(a.prototype),t.Tokenizer=a})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var a=i[r];(a.next||a.onMatch)&&("string"==typeof a.next&&0!==a.next.indexOf(t)&&(a.next=t+a.next),a.nextState&&0!==a.nextState.indexOf(t)&&(a.nextState=t+a.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,a){var o="function"==typeof e?(new e).getRules():e;if(r)for(var s=0;s<r.length;s++)r[s]=t+r[s];else for(var l in r=[],o)r.push(t+l);if(this.addRules(o,t),n){var c=Array.prototype[a?"push":"unshift"];for(s=0;s<r.length;s++)c.apply(this.$rules[r[s]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(a){var o=i[a];o.processed=!0;for(var s=0;s<o.length;s++){var l=o[s],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var d=l.next||l.push;if(d&&Array.isArray(d)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),i[u]&&(u+=n++)),i[u]=d,l.next=u,r(u)}else"pop"==d&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)i[h]?i[h].push&&i[h].push.apply(i[h],l.rules[h]):i[h]=l.rules[h];var p="string"==typeof l?l:"string"==typeof l.include?l.include:"";if(p&&(c=i[p]),c){var f=[s,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),o.splice.apply(o,f),s--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return Object.keys(e).forEach((function(t){var a=e[t];n&&(a=a.toLowerCase());for(var o=a.split(i||"|"),s=o.length;s--;)r[o[s]]=t})),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),a=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],d={},u=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,d.rangeCount!=e.multiSelect.rangeCount&&(d={rangeCount:e.multiSelect.rangeCount})),d[t])return i=d[t];i=d[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},h=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},p=function(){this.add("braces","insertion",(function(e,t,n,r,a){var o=n.getCursorPosition(),l=r.doc.getLine(o.row);if("{"==a){u(n);var c=n.getSelectionRange(),d=r.doc.getTextRange(c);if(""!==d&&"{"!==d&&n.getWrapBehavioursEnabled())return h(c,d,"{","}");if(p.isSaneInsertion(n,r))return/[\]\}\)]/.test(l[o.column])||n.inMultiSelectMode?(p.recordAutoInsert(n,r,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,r,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(u(n),"}"==l.substring(o.column,o.column+1))if(null!==r.$findOpeningBracket("}",{column:o.column+1,row:o.row})&&p.isAutoInsertedClosing(o,l,a))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){u(n);var f="";if(p.isMaybeInsertedClosing(o,l)&&(f=s.stringRepeat("}",i.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===l.substring(o.column,o.column+1)){var m=r.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!m)return null;var g=this.$getIndent(r.getLine(m.row))}else{if(!f)return void p.clearMaybeInsertedClosing();g=this.$getIndent(l)}var b=g+r.getTabString();return{text:"\n"+b+"\n"+g+f,selection:[1,b.length,1,b.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,a){var o=r.doc.getTextRange(a);if(!a.isMultiLine()&&"{"==o){if(u(n),"}"==r.doc.getLine(a.start.row).substring(a.end.column,a.end.column+1))return a.end.column++,a;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,r){if("("==r){u(n);var a=n.getSelectionRange(),o=i.doc.getTextRange(a);if(""!==o&&n.getWrapBehavioursEnabled())return h(a,o,"(",")");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){u(n);var s=n.getCursorPosition(),l=i.doc.getLine(s.row);if(")"==l.substring(s.column,s.column+1))if(null!==i.$findOpeningBracket(")",{column:s.column+1,row:s.row})&&p.isAutoInsertedClosing(s,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==a&&(u(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,r){if("["==r){u(n);var a=n.getSelectionRange(),o=i.doc.getTextRange(a);if(""!==o&&n.getWrapBehavioursEnabled())return h(a,o,"[","]");if(p.isSaneInsertion(n,i))return p.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){u(n);var s=n.getCursorPosition(),l=i.doc.getLine(s.row);if("]"==l.substring(s.column,s.column+1))if(null!==i.$findOpeningBracket("]",{column:s.column+1,row:s.row})&&p.isAutoInsertedClosing(s,l,r))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==a&&(u(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;u(n);var a=r,o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return h(o,s,a,a);if(!s){var l=n.getCursorPosition(),c=i.doc.getLine(l.row),d=c.substring(l.column-1,l.column),p=c.substring(l.column,l.column+1),f=i.getTokenAt(l.row,l.column),m=i.getTokenAt(l.row,l.column+1);if("\\"==d&&f&&/escape/.test(f.type))return null;var g,b=f&&/string|escape/.test(f.type),v=!m||/string|escape/.test(m.type);if(p==a)(g=b!==v)&&/string\.end/.test(m.type)&&(g=!1);else{if(b&&!v)return null;if(b&&v)return null;var y=i.$mode.tokenRe;y.lastIndex=0;var _=y.test(d);y.lastIndex=0;var w=y.test(d);if(_||w)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;g=!0}return{text:g?a+a:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==a||"'"==a)&&(u(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==a))return r.end.column++,r}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),a=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,a,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+a.substr(r.column),i.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),a=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,a)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=a.substr(0,r.column)+n,i.maybeInsertedLineEnd=a.substr(r.column),i.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(p,a),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";t.packages={},function(e){var n=/\w{4}/g;for(var i in e)t.packages[i]=e[i].replace(n,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,o=e("../unicode"),s=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,d=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+o.packages.L+o.packages.Mn+o.packages.Mc+o.packages.Nd+o.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,a=!0,o=!0,l=1/0,c=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(s.escapeRegExp).join("|"),p=this.lineCommentStart[0];else m=s.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),d=t.getUseSoftTabs();v=function(e,t){var n=e.match(m);if(n){var i=n[1].length,a=n[0].length;h(e,i,a)||" "!=n[0][a-1]||a--,r.removeInLine(t,i,a)}};var u=p+" ",h=(b=function(e,t){a&&!/\S/.test(e)||(h(e,l,l)?r.insertInLine({row:t,column:l},u):r.insertInLine({row:t,column:l},p))},y=function(e,t){return m.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+s.escapeRegExp(p)+")"),g=new RegExp("(?:"+s.escapeRegExp(f)+")\\s*$"),b=function(e,t){y(e,t)||a&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},f),r.insertInLine({row:t,column:l},p))},v=function(e,t){var n;(n=e.match(g))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&r.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(m.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function _(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var w=1/0;_((function(e,t){var n=e.search(/\S/);-1!==n?(n<l&&(l=n),o&&!y(e,t)&&(o=!1)):w>e.length&&(w=e.length)})),l==1/0&&(l=w,a=!1,o=!1),d&&l%c!=0&&(l=Math.floor(l/c)*c),_(o?v:b)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var a,o,s=(m=new l(t,i.row,i.column)).getCurrentToken(),d=(t.selection,t.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var u,h;s&&/comment/.test(s.type);){if(-1!=(g=s.value.indexOf(r.start))){var p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;u=new c(p,f,p,f+r.start.length);break}s=m.stepBackward()}var m;for(s=(m=new l(t,i.row,i.column)).getCurrentToken();s&&/comment/.test(s.type);){var g;if(-1!=(g=s.value.indexOf(r.end))){p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;h=new c(p,f,p,f+r.end.length);break}s=m.stepForward()}h&&t.remove(h),u&&(t.remove(u),a=u.start.row,o=-r.start.length)}else o=r.start.length,a=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);d.start.row==a&&(d.start.column+=o),d.end.row==a&&(d.end.column+=o),t.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<n.length;t++)!function(e){var i=n[t],r=e[i];e[n[t]]=function(){return this.$delegator(i,arguments,r)}}(this)},this.$delegator=function(e,t,n){var i=t[0];"string"!=typeof i&&(i=i[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var a=i.split(this.$embeds[r]);if(!a[0]&&a[1]){t[0]=a[1];var o=this.$modes[this.$embeds[r]];return o[e].apply(o,t)}}var s=n.apply(this,t);return n?s:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var a=this.$behaviour.getBehaviours();for(var o in a)if(a[o][t]){var s=a[o][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],a=0,o=r.length;a<o;a++)if("string"==typeof r[a].token)/keyword|support|storage/.test(r[a].token)&&n.push(r[a].regex);else if("object"==typeof r[a].token)for(var s=0,l=r[a].token.length;s<l;s++)if(/keyword|support|storage/.test(r[a].token[s])){i=r[a].regex.match(/\(.+?\)/g)[s];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(d.prototype),t.Mode=d})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,a=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=a.substring(0,r)+t.lines[0]+a.substring(r);else{var o=[i,1].concat(t.lines);e.splice.apply(e,o),e[i]=a.substring(0,r)+e[i],e[i+t.lines.length-1]+=a.substring(r)}break;case"remove":var s=t.end.column,l=t.end.row;i===l?e[i]=a.substring(0,r)+a.substring(s):e.splice(i,l-i+1,a.substring(0,r)+e[l].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,a=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,a=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),s=t.start,l=r?s:t.end;if(e(n,s,i))return{row:n.row,column:n.column};if(e(l,n,!i))return{row:n.row+a,column:n.column+(n.row==l.row?o:0)};return{row:s.row,column:s.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(a.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,a=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,a),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,a=n?this.getLine(r).length:0,s=i?t+1:t,l=i?0:this.getLine(s).length,c=new o(r,a,s,l),d=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),d},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),r(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length,r=e.start.row,a=e.start.column,o=0,s=0;;){o=s,s+=t-1;var l=n.slice(o,s);if(s>i){e.lines=l,e.start.row=r+o,e.start.column=a;break}l.push(""),this.applyDelta({start:this.pos(r+o,a),end:this.pos(r+s,a=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,a=n.length;r<a;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:a-1,column:n[a-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,a=Math.min(e.row,n.length),o=t||0;o<a;++o)r+=n[o].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,a=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,a=t;n.lines[t];)t++;var o=r.getLength(),s=0;for(n.running=!1;t<o;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++s%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,a<=i&&n.fireUpdateEvent(a,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(a.prototype),t.BackgroundTokenizer=a})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),a=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,a){if(this.regExp)for(var o=a.firstRow,s=a.lastRow,l=o;l<=s;l++){var c=this.cache[l];null==c&&((c=i.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new r(l,e.offset,l,e.offset+e.length)})),this.cache[l]=c.length?c:"");for(var d=c.length;d--;)t.drawSingleLineMarker(e,c[d].toScreenRange(n),this.clazz,a)}}}).call(a.prototype),t.SearchHighlight=a})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,a=0,o=this.folds,s=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(t,n)))return void e(null,t,n,a,s);if(!e(null,i.start.row,i.start.column,a,s)&&e(i.placeholder,i.start.row,i.start.column,a)||0===r)return;s=!i.sameRow,a=i.end.column}e(null,t,n,a,s)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,a=this.getNextFoldTo(e,t);if(a)if(i=a.fold,"inside"==a.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if((i=r[o]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,a=this.folds,o=this.foldData,s=a.indexOf(i),l=a[s-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new r(o,a=a.splice(s,a.length-s));return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[]};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,a=n||0;a<r.length;a++){var o=r[a],s=i(e,o.end);if(!(s>0)){var l=i(e,o.start);return 0===s?t&&0!==l?-a-2:a:l>0||0===l&&!t?a:-a-1}}return-a-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],a=1;a<n.length;a++){e=r,r=n[a];var o=i(e.end,r.start);o<0||(0!=o||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(a,1),t.push(r),r=e,a--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var a=[],o=i;o<r;o++)a.push(n[o]);return a},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else n=e.start,t=e.end;for(var i=t.row,r=n.row-i,a=-t.column+n.column,o=this.ranges,s=0,l=o.length;s<l;s++){if(!((c=o[s]).end.row<i)){if(c.start.row>i)break;if(c.start.row==i&&c.start.column>=t.column&&(c.start.column==t.column&&this.$insertRight||(c.start.column+=a,c.start.row+=r)),c.end.row==i&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&a>0&&s<l-1&&c.end.column>c.start.column&&c.end.column==o[s+1].start.column&&(c.end.column-=a),c.end.column+=a,c.end.row+=r}}}if(0!=r&&s<l)for(;s<l;s++){var c;(c=o[s]).start.row+=r,c.end.row+=r}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";e("../range").Range;var i=e("../range_list").RangeList,r=e("../lib/oop"),a=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function o(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(a,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new a(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var t,n;t=e,n=this.start,o(t.start,n),o(t.end,n);for(var i=e.start.row,r=e.start.column,a=0,s=-1;a<this.subFolds.length&&1==(s=this.subFolds[a].range.compare(i,r));a++);var l=this.subFolds[a];if(0==s)return l.addSubFold(e);i=e.range.end.row,r=e.range.end.column;var c=a;for(s=-1;c<this.subFolds.length&&1==(s=this.subFolds[c].range.compare(i,r));c++);this.subFolds[c];if(0==s)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(a,c-a,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)}}.call(a.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,a=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,a=0;a<r.length;a++){var o=r[a];if(o.range.contains(e,t)){if(1==n&&o.range.isEnd(e,t))continue;if(-1==n&&o.range.isStart(e,t))continue;return o}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var a=0;a<i.length;a++){var o=i[a].range.compareRange(e);if(2!=o){if(-2==o)break;for(var s=i[a].folds,l=0;l<s.length;l++){var c=s[l];if(-2==(o=c.range.compareRange(e)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,a,o={end:{column:0}},s=0;s<i.folds.length;s++){var l=(a=i.folds[s]).range.compareEnd(e,t);if(-1==l){r=this.getLine(a.start.row).substring(o.end.column,a.start.column);break}if(0===l)return null;o=a}return r||(r=this.getLine(a.start.row).substring(o.end.column)),-1==n?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var a=n[r],o=a.end.row,s=a.start.row;if(o>=t){s<t&&(s>=e?i-=t-s:i=0);break}o>=e&&(i-=s>=e?o-s:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,o=!1;e instanceof a?n=e:(n=new a(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,l=n.start.column,c=n.end.row,d=n.end.column;if(!(s<c||s==c&&l<=d-2))throw new Error("The range has to be at least 2 characters width");var u=this.getFoldAt(s,l,1),h=this.getFoldAt(c,d,-1);if(u&&h==u)return u.addSubFold(n);u&&!u.range.isStart(s,l)&&this.removeFold(u),h&&!h.range.isEnd(c,d)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var m=i[f];if(c==m.start.row){m.addFold(n),o=!0;break}if(s==m.end.row){if(m.addFold(n),o=!0,!n.sameRow){var g=i[f+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return o||(m=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,a=t.folds;if(1==a.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))a.pop(),t.end.row=a[a.length-1].end.row,t.end.column=a[a.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))a.shift(),t.start.row=a[0].start.row,t.start.column=a[0].start.column;else if(e.sameRow)a.splice(a.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(a=o.folds).shift(),o.start.row=a[0].start.row,o.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),t)this.removeFolds(r);else for(var a=r;a.length;)this.expandFolds(a),a=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var a=this.doc,o="";return e.walk((function(e,t,n,s){if(!(t<i)){if(t==i){if(n<r)return;s=Math.max(r,s)}o+=null!=e?e:a.getLine(t).substring(s,n)}}),t,n),o},this.getDisplayLine=function(e,t,n,i){var r,a=this.getFoldLine(e);return a?this.getFoldDisplayLine(a,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var a=this.getFoldsInRange(i);if(e&&a.length)return void this.expandFolds(a);1==a.length&&(t=a[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(e,t,n){var r=new o(this,e,t),a=r.getCurrentToken();if(a&&/^comment|string/.test(a.type)){var s=new i,l=new RegExp(a.type.replace(/\..*/,"\\."));if(1!=n){do{a=r.stepBackward()}while(a&&l.test(a.type));r.stepForward()}if(s.start.row=r.getCurrentTokenRow(),s.start.column=r.getCurrentTokenColumn()+2,r=new o(this,e,t),-1!=n){do{a=r.stepForward()}while(a&&l.test(a.type));a=r.stepBackward()}else a=r.getCurrentToken();return s.end.row=r.getCurrentTokenRow(),s.end.column=r.getCurrentTokenColumn()+a.value.length-2,s}},this.foldAll=function(e,t,n){null==n&&(n=1e5);var i=this.foldWidgets;if(i){t=t||this.getLength();for(var r=e=e||0;r<t;r++)if(null==i[r]&&(i[r]=this.getFoldWidget(r)),"start"==i[r]){var a=this.getFoldWidgetRange(r);if(a&&a.isMultiLine()&&a.end.row<=t&&a.start.row>=e){r=a.end.row;try{var o=this.addFold("...",a);o&&(o.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var a=n[r];if(null==a&&(a=n[r]=this.getFoldWidget(r)),"start"==a){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,a=this.getFoldAt(e,-1===r?0:i.length,r);if(a)return t.children||t.all?this.removeFold(a):this.expandFold(a),a;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(a=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(a.range))return this.removeFold(a),a;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var l=s.range.start.row+1,c=s.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,a=n.charAt(e.column-1),o=a&&a.match(/([\(\[\{])|([\)\]\}])/);if(o||(a=n.charAt(e.column),e={row:e.row,column:e.column+1},o=a&&a.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(s=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,s),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s;if(!(s=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(s,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],a=1,o=new i(this,t.row,t.column),s=o.getCurrentToken();if(s||(s=o.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=s.value;;){for(;l>=0;){var d=c.charAt(l);if(d==r){if(0==(a-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else d==e&&(a+=1);l-=1}do{s=o.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;l=(c=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],a=1,o=new i(this,t.row,t.column),s=o.getCurrentToken();if(s||(s=o.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=s.value,d=c.length;l<d;){var u=c.charAt(l);if(u==r){if(0==(a-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(a+=1);l+=1}do{s=o.stepForward()}while(s&&!n.test(s.type));if(null==s)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),a=e("./config"),o=e("./lib/event_emitter").EventEmitter,s=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,d=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,h=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new s(this),a.resetOptions(this),this.setMode(t),a._signal("session",this)};(function(){i.implement(this,o),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,a=e[r];if(t>a)n=r+1;else{if(!(t<a))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t)a=i.length-1,r=this.getLine(e).length;else for(var a=0;a<i.length&&!((r+=i[a].value.length)>=t);a++);return(n=i[a])?(n.index=a,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,a={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=a,this._signal("changeFrontMarker")):(this.$backMarkers[r]=a,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new h(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new c(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))r=/\s/;else r=this.nonTokenRe;var a=t;if(a>0){do{a--}while(a>=0&&n.charAt(a).match(r));a++}for(var o=t;o<n.length&&n.charAt(o).match(r);)o++;return new c(e,a,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,a.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new u(n);var r=this;this.bgTokenizer.addEventListener("update",(function(e){r._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,a=this.$foldData[r],o=a?a.start.row:1/0,s=t.length,l=0;l<s;l++){if(l>o){if((l=a.end.row+1)>=s)break;o=(a=this.$foldData[r++])?a.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=e.length-1;-1!=i;i--){var r=e[i];"doc"==r.group?(this.doc.revertDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!0,n)):r.deltas.forEach((function(e){this.addFolds(e.folds)}),this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,i=0;i<e.length;i++){var r=e[i];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),n=this.$getUndoSelection(r.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function i(e){return t?"insert"!==e.action:"insert"===e.action}var r,a,o=e[0];i(o)?r=c.fromPoints(o.start,o.end):r=c.fromPoints(o.start,o.start);for(var s=1;s<e.length;s++)i(o=e[s])?(a=o.start,-1==r.compare(a.row,a.column)&&r.setStart(a),a=o.end,1==r.compare(a.row,a.column)&&r.setEnd(a),!0):(a=o.start,-1==r.compare(a.row,a.column)&&(r=c.fromPoints(o.start,o.start)),!1);if(null!=n){0===c.comparePoints(n.start,r.start)&&(n.start.column+=r.end.column-r.start.column,n.end.column+=r.end.column-r.start.column);var l=n.compareRange(r);1==l?r.setStart(n.start):-1==l&&r.setEnd(n.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),a=c.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row;(d=o?-e.end.column:e.start.column-e.end.column)&&(a.start.row==e.end.row&&a.start.column>e.end.column&&(a.start.column+=d),a.end.row==e.end.row&&a.end.column>e.end.column&&(a.end.column+=d)),o&&a.start.row>=e.end.row&&(a.start.row+=o,a.end.row+=o)}if(a.end=this.insert(a.start,i),r.length){var s=e.start,l=a.start,d=(o=l.row-s.row,l.column-s.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=d),e.end.row==s.row&&(e.end.column+=d),e.start.row+=o,e.end.row+=o,e})))}return a},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new c(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var a=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==a.charAt(o);++o);o<i&&"\t"==a.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e);i=(t=this.$clipRowToDocument(t))-e+1}var a=new c(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(a).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,s),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,a=i.row,o=r.row,s=o-a,l=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(a,s);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var d=0;if(m=this.getFoldLine(r.row)){m.addRemoveChars(r.row,r.column,i.column-r.column),m.shiftRow(-s);var u=this.getFoldLine(a);u&&u!==m&&(u.merge(m),m=u),d=c.indexOf(m)+1}for(;d<c.length;d++){(m=c[d]).start.row>=r.row&&m.shiftRow(-s)}o=a}else{var h=Array(s);h.unshift(a,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);c=this.$foldData,d=0;if(m=this.getFoldLine(a)){var f=m.range.compareInside(i.row,i.column);0==f?(m=m.split(i.row,i.column))&&(m.shiftRow(s),m.addRemoveChars(o,0,r.column-i.column)):-1==f&&(m.addRemoveChars(a,0,r.column-i.column),m.shiftRow(s)),d=c.indexOf(m)+1}for(;d<c.length;d++){var m;(m=c[d]).start.row>=a&&m.shiftRow(s)}}else s=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),s=-s),(m=this.getFoldLine(a))&&m.addRemoveChars(a,i.column,s);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(a,o):this.$updateRowLengthCache(a,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,a,o=this.doc.getAllLines(),s=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,d=n;for(i=Math.min(i,o.length-1);d<=i;)(a=this.getFoldLine(d,a))?(r=[],a.walk(function(n,i,a,s){var l;if(null!=n){(l=this.$getDisplayTokens(n,r.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(o[i].substring(s,a),r.length);r=r.concat(l)}.bind(this),a.end.row,o[a.end.row].length+1),l[a.start.row]=this.$computeWrapSplits(r,c,s),d=a.end.row+1):(r=this.$getDisplayTokens(o[d]),l[d]=this.$computeWrapSplits(r,c,s),d++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,r){if(0==n.length)return[];var a=[],o=n.length,s=0,l=0,c=this.$wrapAsCode,d=this.$indentedSoftWrap,u=i<=Math.max(2*r,8)||!1===d?0:Math.floor(i/2);function h(e){var t=n.slice(s,e),i=t.length;t.join("").replace(/12/g,(function(){i-=1})).replace(/2/g,(function(){i-=1})),a.length||(p=function(){var e=0;if(0===u)return e;if(d)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return c&&!1!==d&&(e+=r),Math.min(e,u)}(),a.indent=p),l+=i,a.push(l),s=e}for(var p=0;o-s>i-p;){var f=s+i-p;if(n[f-1]>=10&&n[f]>=10)h(f);else if(n[f]!=e&&n[f]!=t){for(var m=Math.max(f-(i-(i>>2)),s-1);f>m&&n[f]<e;)f--;if(c){for(;f>m&&n[f]<e;)f--;for(;f>m&&9==n[f];)f--}else for(;f>m&&n[f]<10;)f--;f>m?h(++f):(2==n[f=s+i]&&f--,h(f-p))}else{for(;f!=s-1&&n[f]!=e;f--);if(f>s){h(f);continue}for(f=s+i;f<n.length&&n[f]==t;f++);if(f==n.length)break;h(f)}}return a},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var a=0;a<e.length;a++){var o=e.charCodeAt(a);if(9==o){i=this.getScreenTabSize(r.length+t),r.push(11);for(var s=1;s<i;s++)r.push(12)}else 32==o?r.push(10):o>39&&o<48||o>57&&o<64?r.push(9):o>=4352&&n(o)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,a;for(null==t&&(t=1/0),i=i||0,a=0;a<e.length&&(9==(r=e.charCodeAt(a))?i+=this.getScreenTabSize(i):r>=4352&&n(r)?i+=2:i+=1,!(i>t));a++);return[i,a]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var n,i,r=0,a=0,o=0,s=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),d=l.length;if(d&&c>=0){o=l[c],r=this.$docRowCache[c];var u=e>l[d-1]}else u=!d;for(var h=this.getLength()-1,p=this.getNextFoldLine(r),f=p?p.start.row:1/0;o<=e&&!(o+(s=this.getRowLength(r))>e||r>=h);)o+=s,++r>f&&(r=p.end.row+1,f=(p=this.getNextFoldLine(r,p))?p.start.row:1/0),u&&(this.$docRowCache.push(r),this.$screenRowCache.push(o));if(p&&p.start.row<=r)n=this.getFoldDisplayLine(p),r=p.start.row;else{if(o+s<=e||r>h)return{row:h,column:this.getLine(h).length};n=this.getLine(r),p=null}var m=0;if(this.$useWrapMode){var g=this.$wrapData[r];if(g){var b=Math.floor(e-o);i=g[b],b>0&&g.length&&(m=g.indent,a=g[b-1]||g[g.length-1],n=n.substring(a))}}return a+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&a>=i&&(a=i-1),p?p.idxToPosition(a):{row:r,column:a}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,a=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var o,s=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),d=l.length;if(d&&c>=0){s=l[c],r=this.$screenRowCache[c];var u=e>l[d-1]}else u=!d;for(var h=this.getNextFoldLine(s),p=h?h.start.row:1/0;s<e;){if(s>=p){if((o=h.end.row+1)>e)break;p=(h=this.getNextFoldLine(o,h))?h.start.row:1/0}else o=s+1;r+=this.getRowLength(s),s=o,u&&(this.$docRowCache.push(s),this.$screenRowCache.push(r))}var f="";h&&s>=p?(f=this.getFoldDisplayLine(h,e,t),a=h.start.row):(f=this.getLine(e).substring(0,t),a=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[a];if(g){for(var b=0;f.length>=g[b];)r++,b++;f=f.substring(g[b-1]||0,f.length),m=b>0?g.indent:0}}return{row:r,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(s=0,(t=this.$foldData[s++])?t.start.row:1/0);i<n;){var a=this.$wrapData[i];e+=a?a.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[s++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,s=0;s<o.length;s++)e-=(t=o[s]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,a;for(n||(n=1/0),i=i||0,a=0;a<t.length&&!((i+="\t"===(r=t.charAt(a))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);a++);return[i,a]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),a.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),a=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r){if(e.start)i=e;else{var o=e.offset+(r||0);if(i=new a(n,o,n,o+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))return i=null,!1}return!0})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],s=t.re;if(t.$isMultiLine){var l,c=s.length,d=r.length-c;e:for(var u=s.offset||0;u<=d;u++){for(var h=0;h<c;h++)if(-1==r[u+h].search(s[h]))continue e;var p=r[u],f=r[u+c-1],m=p.length-p.match(s[0])[0].length,g=f.match(s[c-1])[0].length;l&&l.end.row===u&&l.end.column>m||(o.push(l=new a(u,m,u+c-1,g)),c>2&&(u=u+c-2))}}else for(var b=0;b<r.length;b++){var v=i.getMatchOffsets(r[b],s);for(h=0;h<v.length;h++){var y=v[h];o.push(new a(b,y.offset,b,y.offset+y.length))}}if(n){var _=n.start.column,w=n.start.column;for(b=0,h=o.length-1;b<h&&o[b].start.column<_&&o[b].start.row==n.start.row;)b++;for(;b<h&&o[h].end.column>w&&o[h].end.row==n.end.row;)h--;for(o=o.slice(b,h+1),b=0,h=o.length;b<h;b++)o[b].start.row+=n.start.row,o[b].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var a=Math.min(e.length,e.length);a--;){var o=e[a];o&&o.toLowerCase()!=o?t[a]=t[a].toUpperCase():t[a]=t[a].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var n,r=this.$assembleRegExp(t);if(!r)return!1;if(t.$isMultiLine)var o=r.length,s=function(t,i,s){var l=t.search(r[0]);if(-1!=l){for(var c=1;c<o;c++)if(-1==(t=e.getLine(i+c)).search(r[c]))return;var d=t.match(r[o-1])[0].length,u=new a(i,l,i+o-1,d);return 1==r.offset?(u.start.row--,u.start.column=Number.MAX_VALUE):s&&(u.start.column+=s),!!n(u)||void 0}};else if(t.backwards)s=function(e,t,a){for(var o=i.getMatchOffsets(e,r),s=o.length-1;s>=0;s--)if(n(o[s],t,a))return!0};else s=function(e,t,a){for(var o=i.getMatchOffsets(e,r),s=0;s<o.length;s++)if(n(o[s],t,a))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){n=e,l.forEach(s)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var a=new RegExp(n,r)}catch(e){a=!1}return e.re=a},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return""==n[0]?(i.shift(),i.offset=1):i.offset=0,i},this.$lineIterator=function(e,t){var n=1==t.backwards,i=0!=t.skipCurrent,r=t.range,a=t.start;a||(a=r?r[n?"end":"start"]:e.selection.getRange()),a.start&&(a=a[i!=n?"end":"start"]);var o=r?r.start.row:0,s=r?r.end.row:e.getLength()-1;return{forEach:n?function(n){var i=a.row;if(!n(e.getLine(i).substring(0,a.column),i)){for(i--;i>=o;i--)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=s,o=a.row;i>=o;i--)if(n(e.getLine(i),i))return}}:function(n){var i=a.row;if(!n(e.getLine(i).substr(a.column),i,a.column)){for(i+=1;i<=s;i++)if(n(e.getLine(i),i))return;if(0!=t.wrap)for(i=o,s=a.row;i<=s;i++)if(n(e.getLine(i),i))return}}}}}).call(o.prototype),t.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),a=i.KEY_MODS;function o(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){o.call(this,e,t),this.$singleCommand=!1}s.prototype=o.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var a=i[r];if(a==e)delete i[r];else if(Array.isArray(a)){var o=a.indexOf(e);-1!=o&&(a.splice(o,1),1==a.length&&(i[r]=a[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(e),s=a[o.hashId]+o.key;this._addCommandToBinding(i+s,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,a=this.commandKeyBinding;if(n)if(!a[t]||this.$singleCommand)a[t]=n;else{Array.isArray(a[t])?-1!=(r=a[t].indexOf(n))&&a[t].splice(r,1):a[t]=[a[t]],"number"!=typeof i&&(i=i||n.isDefault?-100:e(n));var o=a[t];for(r=0;r<o.length;r++){if(e(o[r])>i)break}o.splice(r,0,n)}else delete a[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var a=0,o=t.length;o--;){var s=i.KEY_MODS[t[o]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;a|=s}return{key:n,hashId:a}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=a[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(o.prototype),t.HashHandler=o,t.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,a=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};i.inherits(o,r),function(){i.implement(this,a),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(o.prototype),t.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),a=e("../range").Range;function o(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:o("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:o("Alt-E","F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:o("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:o(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:o("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:o("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:o("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:o("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:o("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:o("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:o("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:o("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:o("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:o("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:o("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:o("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:o("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:o("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:o(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:o(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:o("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:o("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:o("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:o("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:o("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:o("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:o("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:o("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:o("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:o("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:o("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:o(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:o("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:o(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var d=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==d.length&&(d=" "+d),l+=d}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new a(n.row,0,r.row+2,0),l),s>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+s)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row===t&&i[o].end.column===n||r.push(new a(i[o].end.row,i[o].end.column,t,n))),0===o?0===i[o].start.row&&0===i[o].start.column||r.push(new a(0,0,i[o].start.row,i[o].start.column)):r.push(new a(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<r.length;o++)e.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),a=e("./lib/lang"),o=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,d=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,h=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,b=e("./config"),v=e("./token_iterator").TokenIterator,y=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.commands=new m(o.isMac?"mac":"win",g),this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new d(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=a.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||new u("")),b.resetOptions(this),b._signal("editor",this)};(function(){i.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=a.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;b.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var i=new p(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)i=t.$mode.getMatching(e.session);i&&(t.$bracketHighlight=t.addMarker(i,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new v(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var a=r.value,o=0,s=i.stepBackward();if("<"==s.value)do{s=r,(r=i.stepForward())&&r.value===a&&-1!==r.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--)}while(r&&o>=0);else{do{r=s,s=i.stepBackward(),r&&r.value===a&&-1!==r.type.indexOf("tag-name")&&("<"===s.value?o++:"</"===s.value&&o--)}while(s&&o<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),d=new p(l,c,l,c+r.value.length),u=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=u&&0!==d.compareRange(u.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),d&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(d,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(b.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,i=t.end.column+1,r=e.getLine(t.start.row),a=r.length,o=r.substring(Math.max(n,0),Math.min(i,a));if(!(n>=0&&/^[\w\d]/.test(o)||i<=a&&/[\w\d]$/.test(o)))if(o=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(o))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges;if(n.length>i.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var r=i.length;r--;){var a=i[r];a.isEmpty()||this.session.remove(a),this.session.insert(a.start,n[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var a=i.transformAction(n.getState(r.row),"insertion",this,n,e);a&&(e!==a.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=a.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){(o=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(r.row);if(r.column>s.search(/\S|$/)){var l=s.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,d=n.getState(r.row),u=(s=n.getLine(r.row),i.checkOutdent(d,s,e));n.insert(r,e);if(a&&a.selection&&(2==a.selection.length?this.selection.setSelectionRange(new p(r.row,c+a.selection[0],r.row,c+a.selection[1])):this.selection.setSelectionRange(new p(r.row+a.selection[0],a.selection[1],r.row+a.selection[2],a.selection[3]))),n.getDocument().isNewLine(e)){var h=i.getNextLineIndent(d,s.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},h)}u&&i.autoOutdent(d,n,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var a=n.getTextRange(t);if("\n"==a[a.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){d=this.$getSelectedRows();return void e.indentRows(d.first,d.last,"\t")}}var i=e.getLine(t.start.row),r=t.start,o=e.getTabSize(),s=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=o-s%o,c=a.stringRepeat(" ",l);else{for(l=s%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var d=this.$getSelectedRows();e.indentRows(d.first,d.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,n=[];for(r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));for(var i=new p(0,0,0,0),r=e.first;r<=e.last;r++){var a=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=a.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var a=this.getNumberAt(t,n);if(a){var o=a.value.indexOf(".")>=0?a.start+a.value.indexOf(".")+1:a.end,s=a.start+a.value.length-o,l=parseFloat(a.value);l*=Math.pow(10,s),o!==a.end&&n<o?e*=Math.pow(10,a.end-n-1):e*=Math.pow(10,a.end-n),l+=e;var c=(l/=Math.pow(10,s)).toFixed(s),d=new p(t,a.start,t,a.end);this.session.replace(d,c),this.moveCursorTo(t,Math.max(a.start+1,n+c.length-a.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var a=i?n.start:n.end,o=t.insert(a,t.getTextRange(n),!1);n.start=a,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var a=r.toOrientedRange();n=this.$getSelectedRows(a),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),a.moveBy(i,0),r.fromOrientedRange(a)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,l=0,c=o.length,d=0;d<c;d++){var u=d;o[d].moveBy(s,0);for(var h=(n=this.$getSelectedRows(o[d])).first,p=n.last;++d<c;){l&&o[d].moveBy(l,0);var f=this.$getSelectedRows(o[d]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(d--,s=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(u=d+1);u<=d;)o[u].moveBy(s,0),u++;t||(s=0),l+=s}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var a=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(a)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),a=r||i.stepForward();if(a){var o,s,l=!1,c={},d=n.column-a.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(a.value.match(/[{}()\[\]]/g)){for(;d<a.value.length&&!l;d++)if(u[a.value[d]])switch(s=u[a.value[d]]+"."+a.type.replace("rparen","lparen"),isNaN(c[s])&&(c[s]=0),a.value[d]){case"(":case"[":case"{":c[s]++;break;case")":case"]":case"}":c[s]--,-1===c[s]&&(o="bracket",l=!0)}}else a&&-1!==a.type.indexOf("tag-name")&&(isNaN(c[a.value])&&(c[a.value]=0),"<"===r.value?c[a.value]++:"</"===r.value&&c[a.value]--,-1===c[a.value]&&(o="tag",l=!0));l||(r=a,a=i.stepForward(),d=0)}while(a&&!l);if(o){var h,f;if("bracket"===o)(h=this.session.getBracketRange(n))||(f=(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1)).start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(h=this.session.getBracketRange(f)));else if("tag"===o){if(!a||-1===a.type.indexOf("tag-name"))return;var m=a.value;if(0===(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{a=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&h.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),a.value===m&&-1!==a.type.indexOf("tag-name")&&("<"===r.value?c[m]++:"</"===r.value&&c[m]--,0===c[m]&&(l=!0)))}while(r&&!l)}a&&a.type.indexOf("tag-name")&&(f=h.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=h.end)}(f=h&&h.cursor||f)&&(e?h&&t?this.selection.setRange(h):h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var a=n.length-1;a>=0;--a)this.$tryReplace(n[a],e)&&i++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var a=this.$search.find(this.session);return t.preventScroll?a:a?(this.revealRange(a,n),a):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var a=this.on("changeSelection",(function(){i=!0})),o=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,a=e.$cursorLayer.$pixelPos,o=e.layerConfig,s=a.top-o.offset;null!=(i=a.top>=0&&s+t.top<0||!(a.top<o.height&&a.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=s+"px",r.style.left=a.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",a),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(y.prototype),b.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y})),ace.define("ace/undomanager",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++){for(var r=e[i],a={group:r.group,deltas:new Array(r.length)},o=0;o<r.deltas.length;o++){var s=r.deltas[o];a.deltas[o]=t(s)}n[i]=a}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(i.prototype),t.UndoManager=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),a=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,o),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var o=n.text;o=o?a.escapeHTML(o):n.html||"",-1===r.text.indexOf(o)&&r.text.push(o);var s=n.type;"error"==s?r.className=" ace_error":"warning"==s&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=s||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),a=t.getNextFoldLine(n),o=a?a.start.row:1/0,s=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,d=t.$firstLineNumber,u=0,h=t.gutterRenderer||this.$renderer,p=null,f=-1,m=n;;){if(m>o&&(m=a.end.row+1,o=(a=t.getNextFoldLine(m,a))?a.start.row:1/0),m>r){for(;this.$cells.length>f+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}(p=this.$cells[++f])||((p={element:null,textNode:null,foldWidget:null}).element=i.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[f]=p);var g="ace_gutter-cell ";if(l[m]&&(g+=l[m]),c[m]&&(g+=c[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),p.element.className!=g&&(p.element.className=g),(v=t.getRowLength(m)*e.lineHeight+"px")!=p.element.style.height&&(p.element.style.height=v),s){var b=s[m];null==b&&(b=s[m]=t.getFoldWidget(m))}if(b){p.foldWidget||(p.foldWidget=i.createElement("span"),p.element.appendChild(p.foldWidget));g="ace_fold-widget ace_"+b;"start"==b&&m==o&&m<a.end.row?g+=" ace_closed":g+=" ace_open",p.foldWidget.className!=g&&(p.foldWidget.className=g);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var y=u=h?h.getText(t,m):m+d;y!=p.textNode.data&&(p.textNode.data=y),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(u=t.getLength()+d);var _=h?h.getWidth(t,u,e):u.toString().length*e.characterWidth,w=this.$padding||this.$computePadding();(_+=w.left+w.right)===this.gutterWidth||isNaN(_)||(this.gutterWidth=_,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",_))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(e=e||this.config){this.config=e;var t=[];for(var n in this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var a=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,a,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,a){for(var o=this.session,s=t.start.row,l=t.end.row,c=s,d=0,u=0,h=o.getScreenLastRowColumn(c),p=new i(c,t.start.column,c,u);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==s?t.start.column:o.getRowWrapIndent(c),p.end.column=h,d=u,u=h,h=c+1<l?o.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==s?" ace_start":"")+" ace_br"+((c==s||c==s+1&&t.start.column?1:0)|(d<u?2:0)|(u>h?4:0)|(c==l?8:0)),r,c==l?0:1,a)},this.drawMultiLineMarker=function(e,t,n,i,r){var a=this.$padding,o=i.lineHeight,s=this.$getTop(t.start.row,i),l=a+t.start.column*i.characterWidth;r=r||"",e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",l,"px;",r,"'></div>"),s=this.$getTop(t.end.row,i);var c=t.end.column*i.characterWidth;if(e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",c,"px;","top:",s,"px;","left:",a,"px;",r,"'></div>"),!((o=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){s=this.$getTop(t.start.row+1,i);var d=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,d?" ace_br"+d:"","' style='","height:",o,"px;","right:0;","top:",s,"px;","left:",a,"px;",r,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,i,r,a){var o=i.lineHeight,s=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;e.push("<div class='",n,"' style='","height:",o,"px;","width:",s,"px;","top:",l,"px;","left:",c,"px;",a||"","'></div>")},this.drawFullLineMarker=function(e,t,n,i,r){var a=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-a),e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,i,r){var a=this.$getTop(t.start.row,i),o=i.lineHeight;e.push("<div class='",n,"' style='","height:",o,"px;","top:",a,"px;","left:0;right:0;",r||"","'></div>")}}).call(a.prototype),t.Marker=a})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),a=e("../lib/lang"),o=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){i.implement(this,o),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+a.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(a.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i="ace_indent-guide",r="",o="";if(this.showInvisibles){i+=" ace_invisible",r=" ace_invisible_space",o=" ace_invisible_tab";var s=a.stringRepeat(this.SPACE_CHAR,this.tabSize),l=a.stringRepeat(this.TAB_CHAR,this.tabSize)}else l=s=a.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+i+r+"'>"+s+"</span>",this.$tabStrings["\t"]="<span class='"+i+o+"'>"+l+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),a=this.element.childNodes,o=0,s=e.firstRow;s<i;s++){if(l=this.session.getFoldLine(s)){if(l.containsRow(i)){i=l.start.row;break}s=l.end.row}o++}s=i;for(var l,c=(l=this.session.getNextFoldLine(s))?l.start.row:1/0;s>c&&(s=l.end.row+1,c=(l=this.session.getNextFoldLine(s,l))?l.start.row:1/0),!(s>r);){var d=a[o++];if(d){var u=[];this.$renderLine(u,s,!this.$useLineGroups(),s==c&&l),d.style.height=e.lineHeight*this.session.getRowLength(s)+"px",d.innerHTML=u.join("")}s++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);i>0;i--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);i>0;i--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)}if(e.lastRow>t.lastRow){r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(r)}},this.$renderLinesFragment=function(e,t,n){for(var i=this.element.ownerDocument.createDocumentFragment(),a=t,o=this.session.getNextFoldLine(a),s=o?o.start.row:1/0;a>s&&(a=o.end.row+1,s=(o=this.session.getNextFoldLine(a,o))?o.start.row:1/0),!(a>n);){var l=r.createElement("div"),c=[];if(this.$renderLine(c,a,!1,a==s&&o),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",i.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(a)+"px";else for(;l.firstChild;)i.appendChild(l.firstChild);a++}return i},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,i=e.lastRow,r=n,a=this.session.getNextFoldLine(r),o=a?a.start.row:1/0;r>o&&(r=a.end.row+1,o=(a=this.session.getNextFoldLine(r,a))?a.start.row:1/0),!(r>i);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(r),"px'>"),this.$renderLine(t,r,!1,r==o&&a),this.$useLineGroups()&&t.push("</div>"),r++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){var r=this,o=i.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,(function(e,n,i,o,s){if(n)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+a.stringRepeat(r.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var l=r.session.getScreenTabSize(t+o);return t+=l-1,r.$tabStrings[l]}if(""==e){var c=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",d=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*r.config.characterWidth+"px'>"+d+"</span>"}return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")}));if(this.$textToken[n.type])e.push(o);else{var s="ace_"+n.type.replace(/\./g," ace_"),l="";"fold"==n.type&&(l=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",s,"'",l,">",o,"</span>")}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);return i<=0||i>=n?t:" "==t[0]?(i-=i%this.tabSize,e.push(a.stringRepeat(this.$tabStrings[" "],i/this.tabSize)),t.substr(i)):"\t"==t[0]?(e.push(a.stringRepeat(this.$tabStrings["\t"],i)),t.substr(i)):t},this.$renderWrappedLine=function(e,t,n,i){for(var r=0,o=0,s=n[0],l=0,c=0;c<t.length;c++){var d=t[c],u=d.value;if(0==c&&this.displayIndentGuides){if(r=u.length,!(u=this.renderIndentGuide(e,u,s)))continue;r-=u.length}if(r+u.length<s)l=this.$renderToken(e,l,d,u),r+=u.length;else{for(;r+u.length>=s;)l=this.$renderToken(e,l,d,u.substring(0,s-r)),u=u.substring(s-r),r=s,i||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(a.stringRepeat("",n.indent)),l=0,s=n[++o]||Number.MAX_VALUE;0!=u.length&&(r+=u.length,l=this.$renderToken(e,l,d,u))}}},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var a=1;a<t.length;a++)r=(i=t[a]).value,n=this.$renderToken(e,n,i,r)},this.$renderLine=function(e,t,n,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else r=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var a=this.session.getRowSplitData(t);a&&a.length?this.$renderWrappedLine(e,r,a,n):this.$renderSimpleLine(e,r)}this.showInvisibles&&(i&&(t=i.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[];var r=n.getTokens(e);return t.walk((function(e,t,a,o,s){null!=e?i.push({type:"fold",value:e}):(s&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,a=0;a+e[r].value.length<t;)if(a+=e[r].value.length,++r==e.length)return;for(a!=t&&((o=e[r].value.substring(t-a)).length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),a=t+o.length,r+=1);a<n&&r<e.length;){var o;(o=e[r].value).length+a>n?i.push({type:e[r].type,value:o.substring(0,n-a)}):i.push(e[r]),a+=o.length,r+=1}}(r,o,a))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i,r=e("../lib/dom"),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===i&&(i=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(i?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||i||(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+n.column*this.config.characterWidth,top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var r=t.length;n<r;n++){var a=this.getPixelPosition(t[n].cursor,!0);if(!((a.top>e.height+e.offset||a.top<0)&&n>1)){var o=(this.cursors[i++]||this.addCursor()).style;this.drawCursor?this.drawCursor(o,a,e,t[n],this.session):(o.left=a.left+"px",o.top=a.top+"px",o.width=e.characterWidth+"px",o.height=e.lineHeight+"px")}}for(;this.cursors.length>i;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=a,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(a.prototype),t.Cursor=a})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),a=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,a.addListener(this.element,"scroll",this.onScroll.bind(this)),a.addListener(this.element,"mousedown",a.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(s.prototype);var l=function(e,t){s.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};i.inherits(l,s),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>32768?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var c=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(c,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;i.nextFrame((function(){var e;for(t.pending=!1;e=t.changes;)t.changes=0,t.onRender(e)}),this.window)}}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),a=e("../lib/lang"),o=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=a.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){i.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",o.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval((function(){e.checkForSizeChanges()}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=a.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),a=e("./config"),o=e("./lib/useragent"),s=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,d=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter;r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}',"ace_editor.css");var g=function(e,t){var n=this;this.container=e||r.createElement("div"),this.$keepTextAreaAtCursor=!o.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var i=this.$textLayer=new c(this.content);this.canvas=i.element,this.$markerFront=new l(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),a.resetOptions(this),a._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var a=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(a|this.$changes,!0):this.$loop.schedule(a|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var r=0,a=this.$size,o={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};return i&&(e||a.height!=i)&&(a.height=i,r|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),n&&(e||a.width!=n)&&(r|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),a.$dirty=!n||!i,r&&this._signal("resize",o),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var i=this.textarea.style,r=this.lineHeight;if(t<0||t>e.height-r)i.top=i.left="0";else{var a=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");a*=this.session.$getStringScreenWidth(o)[0]+2,r+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-a&&(n=this.$size.scrollerWidth-a),n+=this.gutterWidth,i.height=r+"px",i.width=a+"px",i.left=Math.min(n,this.$size.scrollerWidth-a)+"px",i.top=Math.min(t,this.$size.height-r)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}if(e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(e&this.CHANGE_SCROLL)return e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender")}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),a=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==a;o&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=t.scrollerHeight+this.lineHeight,d=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=d;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+d<0||this.scrollTop>u.top),p=s!==h;p&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,m,g=Math.ceil(c/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),v=b+g,y=this.lineHeight;b=e.screenToDocumentRow(b,0);var _=e.getFoldLine(b);_&&(b=_.start.row),f=e.documentToScreenRow(b,0),m=e.getRowLength(b)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(v)*y+m,l=this.scrollTop-f*y;var w=0;return this.layerConfig.width!=r&&(w=this.CHANGE_H_SCROLL),(o||p)&&(w=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),p&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:f,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:y?Math.max(0,Math.ceil((l+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},w},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,a=i.top,o=n&&n.top||0,s=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>a?(t&&l+o>a+this.lineHeight&&(a-=t*this.$size.scrollerHeight),0===a&&(a=-this.scrollMargin.top),this.session.setScrollTop(a)):l+this.$size.scrollerHeight-s<a+this.lineHeight&&(t&&l+this.$size.scrollerHeight-s<a-this.lineHeight&&(a+=t*this.$size.scrollerHeight),this.session.setScrollTop(a+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,r=0,a=this.STEPS,o=[];for(r=0;r<a;++r)o.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return o},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var a=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(a,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var a=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:a},clearInterval(this.$timer),i.session.setScrollTop(a.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){a.length?(i.session.setScrollTop(a.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=(e+this.scrollLeft-n.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=Math.round(i);return{row:r,column:a,side:i-a>0?1:-1}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=Math.round((e+this.scrollLeft-n.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(i,0))},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(i.column*this.characterWidth),a=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+a-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)o(e);else{var i=e||this.$options.theme.initialValue;a.loadModule(["theme",i],o)}function o(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.importCssString(i.cssText,i.cssClass,n.container.ownerDocument),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var a="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&a!=n.$padding&&n.setPadding(a),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),a.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,i){"use strict";var r=e("../lib/oop"),a=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config"),l=function(t,i,r,a){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)a=a||s.moduleUrl(i.id,"worker");else{var o=this.$normalizePath;a=a||o(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach((function(t){l[t]=o(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}try{var c=i.src,d=new(n(50))([c],{type:"application/javascript"}),u=(window.URL||window.webkitURL).createObjectURL(d);this.$worker=new Worker(u)}catch(e){if(!(e instanceof window.DOMException))throw e;d=this.$workerBlob(a);var h=window.URL||window.webkitURL,p=h.createObjectURL(d);this.$worker=new Worker(p),h.revokeObjectURL(p)}this.$worker.postMessage({init:!0,tlns:l,module:i.id,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return a.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+a.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,a=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),i&&(r?setTimeout(c):c())},this.setEmitSync=function(e){r=e};var c=function(){var e=l.messageBuffer.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);l.messageBuffer.length;)c()}))};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,a=e("./lib/oop"),o=function(e,t,n,i,r,a){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=a,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){a.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,a=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var s={row:(l=this.others[o]).row,column:l.column+a};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var l;s={row:(l=this.others[o]).row,column:l.column+a};this.doc.remove(new i(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function a(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,s=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(s&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(s||n||l){if(0===c){var d,u=e.editor,h=u.selection,p=u.inMultiSelectMode,f=e.getDocumentPosition(),m=h.getCursor(),g=e.inSelection()||h.isEmpty()&&a(f,m),b=e.x,v=e.y,y=u.session,_=u.renderer.pixelToScreenCoordinates(b,v),w=_;if(u.$mouseHandler.$enableJumpToDef)s&&n||l&&n?d=o?"block":"add":n&&u.$blockSelectEnabled&&(d="block");else if(l&&!n){if(d="add",!p&&o)return}else n&&u.$blockSelectEnabled&&(d="block");if(d&&r.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==d){if(!p&&g)return;if(!p){var k=h.toOrientedRange();u.addSelectionMarker(k)}var x=h.rangeList.rangeAtPoint(f);u.$blockScrolling++,u.inVirtualSelectionMode=!0,o&&(x=null,k=h.ranges[0]||k,u.removeSelectionMarker(k)),u.once("mouseup",(function(){var e=h.toOrientedRange();x&&e.isEmpty()&&a(x.cursor,e.cursor)?h.substractPoint(e.cursor):(o?h.substractPoint(k.cursor):k&&(u.removeSelectionMarker(k),h.addRange(k)),h.addRange(e)),u.$blockScrolling--,u.inVirtualSelectionMode=!1}))}else if("block"==d){var A;e.stop(),u.inVirtualSelectionMode=!0;var C=[];u.$blockScrolling++,p&&!l?h.toSingleRange():!p&&l&&(A=h.toOrientedRange(),u.addSelectionMarker(A)),o?_=y.documentToScreenPosition(h.lead):h.moveToPosition(f),u.$blockScrolling--,w={row:-1,column:-1};var S=function(){var e=u.renderer.pixelToScreenCoordinates(b,v),t=y.screenToDocumentPosition(e.row,e.column);a(w,e)&&a(t,h.lead)||(w=e,u.$blockScrolling++,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(C),C=h.rectangularRangeBlock(w,_),u.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=u.$mouseHandler.$clickSelection.clone()),C.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers(),u.$blockScrolling--)};i.capture(u.container,(function(e){b=e.clientX,v=e.clientY}),(function(e){clearInterval(E),u.removeSelectionMarkers(C),C.length||(C=[h.toOrientedRange()]),u.$blockScrolling++,A&&(u.removeSelectionMarker(A),h.toSingleRange(A));for(var t=0;t<C.length;t++)h.addRange(C[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null,u.$blockScrolling--}));var E=setInterval((function(){S()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,a=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,s=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var d=new(0,e("./search").Search);var u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{n=this.getRange();var i=this.isBackwards(),a=n.start.row,o=n.end.row;if(a==o){if(i)var s=n.end,l=n.start;else s=n.start,l=n.end;return this.addRange(r.fromPoints(l,l)),void this.addRange(r.fromPoints(s,s))}var c=[],d=this.getLineRange(a,!0);d.start.column=n.start.column,c.push(d);for(var u=a+1;u<o;u++)c.push(this.getLineRange(u,!0));(d=this.getLineRange(o,!0)).end.column=n.end.column,c.push(d),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.selectionLead),a=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(i,a).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],a=e.column<t.column;if(a)var o=e.column,s=t.column;else o=t.column,s=e.column;var l,c,d=e.row<t.row;if(d)var u=e.row,h=t.row;else u=t.row,h=e.row;o<0&&(o=0),u<0&&(u=0),u==h&&(n=!0);for(var p=u;p<=h;p++){var f=r.fromPoints(this.session.screenToDocumentPosition(p,o),this.session.screenToDocumentPosition(p,s));if(f.isEmpty()){if(m&&(l=f.end,c=m,l.row==c.row&&l.column==c.column))break;var m=f.end}f.cursor=a?f.start:f.end,i.push(f)}if(d&&i.reverse(),!n){for(var g=i.length-1;i[g].isEmpty()&&g>0;)g--;if(g>0)for(var b=0;i[b].isEmpty();)b++;for(var v=g;v>=b;v--)i[v].isEmpty()&&i.splice(v,1)}return i}}.call(a.prototype);var h=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(c.defaultCommands),function(e){var t=e.textInput.getElement(),n=!1;function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}s.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()})),s.addListener(t,"keyup",i),s.addListener(t,"blur",i)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,l=this.selection,c=l.rangeList,d=(r?l:c).ranges;if(!d.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var h=new a(s);this.inVirtualSelectionMode=!0;for(var p=d.length;p--;){if(o)for(;p>0&&d[p].start.row==d[p-1].end.row;)p--;h.fromOrientedRange(d[p]),h.index=p,this.selection=s.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),h.toOrientedRange(d[p])}h.detach(),this.selection=s.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row==t.row&&this.session.$clipPositionToDocument(i.row,i.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var a=this.multiSelect;n||a.toSingleRange(r[0]);for(var o=r.length;o--;)a.addRange(r[o],!0);return i&&a.rangeList.rangeAtPoint(i.start)&&a.addRange(i,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,a=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(a.column=this.selection.$desiredColumn);var o,s=this.session.screenToDocumentPosition(a.row+e,a.column);if(n.isEmpty())c=s;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);i?(o=r.fromPoints(s,c)).cursor=o.start:(o=r.fromPoints(c,s)).cursor=o.end;if(o.desiredColumn=a.column,this.selection.inMultiSelectMode){if(t)var d=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),d&&this.selection.substractPoint(d)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){if((s=i[r]).isEmpty()){var a=t.getWordRange(s.start.row,s.start.column);s.start.row=a.start.row,s.start.column=a.start.column,s.end.row=a.end.row,s.end.column=a.end.column}}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var s=i[r];o.unshift(t.getTextRange(s))}e<0?o.unshift(o.pop()):o.push(o.shift());for(r=i.length;r--;){a=(s=i[r]).clone();t.replace(s,o[r]),s.start.row=a.start.row,s.start.column=a.start.column}},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var a=i.getTextRange(r),o=function(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}(i,a,e);o&&(o.cursor=-1==e?o.start:o.end,this.$blockScrolling+=1,this.session.unfold(o),this.multiSelect.addRange(o),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,a=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&a.length!=n.length-1){a.forEach((function(e){t.substractPoint(e.cursor)}));var o=0,s=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<s&&(s=i),i}));n.forEach((function(t,n){var i=t.cursor,a=o-i.column,d=c[n]-s;a>d?e.insert(i,l.stringRepeat(" ",a-d)):e.remove(new r(i.row,i.column,i.row,i.column-a+d)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var d=this.selection.getRange(),u=d.start.row,h=d.end.row,p=u==h;if(p){var f,m=this.session.getLength();do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&++h<m);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=m&&(h=m-1)}var g=this.session.removeFullLines(u,h);g=this.$reAlignText(g,p),this.session.insert({row:u,column:0},g.join("\n")+"\n"),p||(d.start.column=0,d.end.column=g[g.length-1].length),this.selection.setRange(d)}},this.$reAlignText=function(e,t){var n,i,r,a=!0,o=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(o=!1),n!=t[1].length&&(a=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:a?o?function(e){return e[2]?s(n+i-e[2].length)+e[2]+s(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?s(n)+e[2]+s(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function s(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?s(n)+e[2]+s(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,a=e.getLine(t),o=a.search(r);if(-1!=o){for(var s=n||a.length,l=e.getLength(),c=t,d=t;++t<l;){var u=e.getLine(t).search(r);if(-1!=u){if(u<=o)break;d=t}}if(d>c){var h=e.getLine(d).length;return new i(c,s,d,h)}}},this.openingBracketBlock=function(e,t,n,r,a){var o={row:n,column:r+1},s=e.$findClosingBracket(t,o,a);if(s){var l=e.foldWidgets[s.row];return null==l&&(l=e.getFoldWidget(s.row)),"start"==l&&s.row>o.row&&(s.row--,s.column=e.getLine(s.row).length),i.fromPoints(o,s)}},this.closingBracketBlock=function(e,t,n,r,a){var o={row:n,column:r},s=e.$findOpeningBracket(t,o);if(s)return s.column++,o.column--,i.fromPoints(s,o)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");e("./range").Range;function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,a=i.end.row,o="add"==e.action,s=r+1;s<a;s++)n[s]&&(n[s].hidden=o);n[a]&&(o?n[r]?n[a].hidden=o:n[r]=n[a]:(n[r]==n[a]&&(n[r]=void 0),n[a].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){t.splice(n+1,i).forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var r=new Array(i);r.unshift(n,0),t.splice.apply(t,r),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(e.row,0);if(e.$fold=r,r){var a=this.session.lineWidgets;e.row!=r.end.row||a[r.start.row]?e.hidden=!0:a[r.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,a=0;a<n.length;a++){var o=n[a];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var s=o.h/i.lineHeight;o.coverLine&&(s-=this.session.getRowLineCount(o.row))<0&&(s=0),o.rowCount!=s&&(o.rowCount=s,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),a=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=r;o<=a;o++){var s=i[o];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;s.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=l-n.offset+"px";var c=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(c-=t.scrollLeft),s.el.style.left=c+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),a=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),s=o.row,l=n.widgetManager.getWidgetsAtRow(s).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():s-=t;var c,d=function(e,t,n){var i=e.getAnnotations().sort(a.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var a=i+r>>1,o=n(t,e[a]);if(o>0)i=a+1;else{if(!(o<0))return a;r=a-1}}return-(i+1)}(i,{row:t,column:-1},a.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var o=i[r];if(o&&n){if(o.row===t){do{o=i[r+=n]}while(o&&o.row===t);if(!o)return i.slice()}var s=[];t=o.row;do{s[n<0?"unshift":"push"](o),o=i[r+=n]}while(o&&o.row==t);return s.length&&s}}}(n,s,t);if(d){var u=d[0];o.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,o.row=u.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var h={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=h.el.appendChild(r.createElement("div")),f=h.el.appendChild(r.createElement("div"));f.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(o).left;f.style.left=m+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(r.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),a=e("./lib/event"),o=e("./editor").Editor,s=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.define=n(27),t.edit=function(e){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var i="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;i=s.value,e=r.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(i=r.getInnerText(e),e.innerHTML="");var l=t.createEditSession(i),d=new o(new c(e));d.setSession(l);var u={document:l,editor:d,onResize:d.resize.bind(d,null)};return s&&(u.textarea=s),a.addListener(window,"resize",u.onResize),d.on("destroy",(function(){a.removeListener(window,"resize",u.onResize),u.editor.container.env=null})),d.container.env=d.env=u,d},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new l),n},t.EditSession=s,t.UndoManager=l,t.version="1.2.6"})),ace.acequire(["ace/ace"],(function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})),e.exports=window.ace.acequire("ace/ace")},function(e,t,n){(function(t){e.exports=function(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var e=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(t,n){var i=new e,r=n.endings,a=n.type;if(r)for(var o=0,s=t.length;o<s;++o)i.append(t[o],r);else for(o=0,s=t.length;o<s;++o)i.append(t[o]);return a?i.getBlob(a):i.getBlob()}}()}).call(this,n(13))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(e){return function(t,n,a,o){var s=i(t),l=r[e][i(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(i,r,a,o){var s=t(i),l=n[e][t(i)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,i)}},r=["","","","","","","","","","","",""];e.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,a,o){var s=n(t),l=i[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},a=["","","","","","","","","","","",""];e.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i,r;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2])}e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:t,mm:t,h:t,hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}var n=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],i=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,r=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:r,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:r,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){return e+(1===e?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),i=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function a(e){return e>1&&e<5&&1!=~~(e/10)}function o(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"pr sekund":"pr sekundami";case"ss":return t||i?r+(a(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?r+(a(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?r+(a(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?r+(a(e)?"dny":"dn"):r+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?r+(a(e)?"msce":"msc"):r+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?r+(a(e)?"roky":"let"):r+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){return e+(/$/i.exec(e)?"":/$/i.exec(e)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n,i=this._calendarEl[e],r=t&&t.hours();return n=i,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(i=i.apply(t)),i.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function i(e,i,r,a){var o="";switch(r){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":o=a?"sekunnin":"sekuntia";break;case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"pivn":"piv";case"dd":o=a?"pivn":"piv";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return o=function(e,i){return e<10?i?n[e]:t[e]:e}(e,a)+" "+o}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return i?r[n][0]:r[n][1]}e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return i?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10==0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:i,longMonthsParse:i,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,i){var r=e;switch(n){case"s":return i||t?"nhny msodperc":"nhny msodperce";case"ss":return r+(i||t)?" msodperc":" msodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" ra":" rja");case"hh":return r+(i||t?" ra":" rja");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hnap":" hnapja");case"MM":return r+(i||t?" hnap":" hnapja");case"y":return"egy"+(i||t?" v":" ve");case"yy":return r+(i||t?" v":" ve")}return""}function i(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e){return e%100==11||e%10!=1}function n(e,n,i,r){var a=e+" ";switch(i){case"s":return n||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?a+(n||r?"sekndur":"sekndum"):a+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?a+(n||r?"mntur":"mntum"):n?a+"mnta":a+"mntu";case"hh":return t(e)?a+(n||r?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?a+"dagar":a+(r?"daga":"dgum"):n?a+"dagur":a+(r?"dag":"degi");case"M":return n?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?n?a+"mnuir":a+(r?"mnui":"mnuum"):n?a+"mnuur":a+(r?"mnu":"mnui");case"y":return n||r?"r":"ri";case"yy":return t(e)?a+(n||r?"r":"rum"):a+(n||r?"r":"ri")}}e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20==0||e%100==0?"-"+e:e+"-"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=[" ","","","","","","","",""," "," "," "];e.defineLocale("ku",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10==0||e>10&&e<20}function r(e){return t[e].split("_")}function a(e,t,a,o){var s=e+" ";return 1===e?s+n(0,t,a[0],o):t?s+(i(e)?r(a)[1]:r(a)[0]):o?s+r(a)[1]:s+(i(e)?r(a)[1]:r(a)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(e,t,n,i){return t?"kelios sekunds":i?"keli sekundi":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function i(e,i,r){return e+" "+n(t[r],e,i)}function r(e,i,r){return n(t[r],e,i)}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(e,t){return t?"daas sekundes":"dam sekundm"},ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(e,t,n,i){var r="";if(t)switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),i=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function a(e,t,n){var i=e+" ";switch(n){case"ss":return i+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"ww":return i+(r(e)?"tygodnie":"tygodni");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,i){return e?/D MMMM/.test(i)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i,r;return"m"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,w:"",ww:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function r(e,t,n,r){var a=e+" ";switch(n){case"s":return t||r?"pr seknd":"pr sekundami";case"ss":return t||r?a+(i(e)?"sekundy":"seknd"):a+"sekundami";case"m":return t?"minta":r?"mintu":"mintou";case"mm":return t||r?a+(i(e)?"minty":"mint"):a+"mintami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?a+(i(e)?"hodiny":"hodn"):a+"hodinami";case"d":return t||r?"de":"dom";case"dd":return t||r?a+(i(e)?"dni":"dn"):a+"dami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?a+(i(e)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?a+(i(e)?"roky":"rokov"):a+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var i=e%10;return e+(t[i]||t[e%100-i]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,i,r){var a=function(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,a="";return n>0&&(a+=t[n]+"vatlh"),i>0&&(a+=(""!==a?" ":"")+t[i]+"maH"),r>0&&(a+=(""!==a?" ":"")+t[r]),""===a?"pagh":a}(e);switch(i){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var i=e%10;return e+(t[i]||t[e%100-i]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i||t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var i,r;return"m"===n?t?"":"":"h"===n?t?"":"":e+" "+(i=+e,r={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2])}function n(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:t,m:t,mm:t,h:"",hh:t,d:"",dd:t,M:"",MM:t,y:"",yy:t},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1200?"":1200===i?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(e,t,n){!function(e){"use strict";
//! moment.js locale configuration
e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(e,t,n){e.exports=n(187)},function(e,t,n){"use strict";var i=n(8),r=n(29),a=n(188),o=n(35);function s(e){var t=new a(e),n=r(a.prototype.request,t);return i.extend(n,a.prototype,t),i.extend(n,t),n}var l=s(n(32));l.Axios=a,l.create=function(e){return s(o(l.defaults,e))},l.Cancel=n(36),l.CancelToken=n(201),l.isCancel=n(31),l.all=function(e){return Promise.all(e)},l.spread=n(202),e.exports=l,e.exports.default=l},function(e,t,n){"use strict";var i=n(8),r=n(30),a=n(189),o=n(190),s=n(35);function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},l.prototype.getUri=function(e){return e=s(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var i=n(8);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var i=n(8),r=n(191),a=n(31),o=n(32);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var i=n(8);e.exports=function(e,t,n){return i.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var i=n(8);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},function(e,t,n){"use strict";var i=n(34);e.exports=function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var i=n(196),r=n(197);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(8),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(i.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=i.trim(e.substr(0,a)).toLowerCase(),n=i.trim(e.substr(a+1)),t){if(o[t]&&r.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var i=n(8);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i=n(8);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(36);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var s,l=2147483647,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function b(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(u,".")).split("."),t).join(".")}function v(e){for(var t,n,i=[],r=0,a=e.length;r<a;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<a?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var i=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;i+=36)e=p(e/35);return p(i+36*e/(e+38))}function k(e){var t,n,i,r,a,o,s,c,d,u,h,f=[],g=e.length,b=0,v=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&m("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(a=b,o=1,s=36;r>=g&&m("invalid-input"),((c=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((l-b)/o))&&m("overflow"),b+=c*o,!(c<(d=s<=_?1:s>=_+26?26:s-_));s+=36)o>p(l/(u=36-d))&&m("overflow"),o*=u;_=w(b-a,t=f.length+1,0==a),p(b/t)>l-v&&m("overflow"),v+=p(b/t),b%=t,f.splice(b++,0,v)}return y(f)}function x(e){var t,n,i,r,a,o,s,c,d,u,h,g,b,y,k,x=[];for(g=(e=v(e)).length,t=128,n=0,a=72,o=0;o<g;++o)(h=e[o])<128&&x.push(f(h));for(i=r=x.length,r&&x.push("-");i<g;){for(s=l,o=0;o<g;++o)(h=e[o])>=t&&h<s&&(s=h);for(s-t>p((l-n)/(b=i+1))&&m("overflow"),n+=(s-t)*b,t=s,o=0;o<g;++o)if((h=e[o])<t&&++n>l&&m("overflow"),h==t){for(c=n,d=36;!(c<(u=d<=a?1:d>=a+26?26:d-a));d+=36)k=c-u,y=36-u,x.push(f(_(u+k%y,0))),c=p(k/y);x.push(f(_(c,0))),a=w(n,b,i==r),n=0,++i}++n,++t}return x.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:y},decode:k,encode:x,toASCII:function(e){return b(e,(function(e){return d.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return b(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(39)(e),n(13))},function(e,t,n){var i,r;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.5
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */!function(a,o){"use strict";e.exports?e.exports=o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}(0,(function(e){"use strict";var t=e&&e.IPv6;return{best:function(e){var t,n,i=e.toLowerCase().split(":"),r=i.length,a=8;for(""===i[0]&&""===i[1]&&""===i[2]?(i.shift(),i.shift()):""===i[0]&&""===i[1]?i.shift():""===i[r-1]&&""===i[r-2]&&i.pop(),-1!==i[(r=i.length)-1].indexOf(".")&&(a=7),t=0;t<r&&""!==i[t];t++);if(t<a)for(i.splice(t,1,"0000");i.length<a;)i.splice(t,0,"0000");for(var o=0;o<a;o++){n=i[o].split("");for(var s=0;s<3&&("0"===n[0]&&n.length>1);s++)n.splice(0,1);i[o]=n.join("")}var l=-1,c=0,d=0,u=-1,h=!1;for(o=0;o<a;o++)h?"0"===i[o]?d+=1:(h=!1,d>c&&(l=u,c=d)):"0"===i[o]&&(h=!0,u=o,d=1);d>c&&(l=u,c=d),c>1&&i.splice(l,c,""),r=i.length;var p="";for(""===i[0]&&(p=":"),o=0;o<r&&(p+=i[o],o!==r-1);o++)p+=":";return""===i[r-1]&&(p+=":"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))},function(e,t,n){var i,r;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.5
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */!function(a,o){"use strict";e.exports?e.exports=o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}(0,(function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var i=e.lastIndexOf(".",t-1);if(i<=0||i>=t-1)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(i+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var i=e.lastIndexOf(".",t-1);if(i<=0||i>=t-1)return null;var r=n.list[e.slice(t+1)];return r?r.indexOf(" "+e.slice(i+1,t)+" ")<0?null:e.slice(i+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))},function(e,t,n){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},a.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(a,r),a.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},a.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},a.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=a})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,a=e("./text_highlight_rules").TextHighlightRules,o="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",s=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+o+")(\\.)(prototype)(\\.)("+o+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\.)("+o+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+o+")(\\.)("+o+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+o+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+o+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:o},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+o+")(\\.)("+o+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:o},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:o},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=o.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(s,a),t.JavaScriptHighlightRules=s})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,a=e.findMatchingBracket({row:t,column:r});if(!a||a.row==t)return 0;var o=this.$getIndent(e.getLine(a.row));e.replace(new i(t,0,t,r-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,a=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(o,a),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,a=e.getLine(n);if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,n);if(r=a.match(this.foldingStartMarker)){var o=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,o);var s=e.getCommentFoldRange(n,o+r[0].length,1);return s&&!s.isMultiLine()&&(i?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(r=a.match(this.foldingStopMarker))){o=r.index+r[0].length;return r[1]?this.closingBracketBlock(e,r[1],n,o):e.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),a=t,o=n.length,s=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var d=this.getFoldWidgetRange(e,"all",t);if(d){if(d.start.row<=a)break;if(d.isMultiLine())t=d.end.row;else if(i==c)break}s=t}}return new r(a,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),a=e.getLength(),o=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<a;){t=e.getLine(n);var c=s.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>o)return new r(o,i,n,t.length)}}.call(o.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,i){"use strict";var r=e("../lib/oop"),a=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/cstyle").CstyleBehaviour,d=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.foldingRules=new d};r.inherits(u,a),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),a=r.tokens,o=r.state;if(a.length&&"comment"==a[a.length-1].type)return i;if("start"==e||"no_regex"==e)(s=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==o||"no_regex"==o)return"";var s;(s=t.match(/^\s*(\/?)\*/))&&(s[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],n(45),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),a=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=t.supportFunction="rgb|rgba|url|attr|counter|counters",s=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",d=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",u=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",h=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":o,"support.constant":s,"support.type":a,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+d+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:d},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:u},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:h},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};i.inherits(p,r),t.CssHighlightRules=p})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},r=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),!t.getTokenAt(n.row,n.column))return[];if("ruleset"===e){var r=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i)}return[]},this.getPropertyCompletions=function(e,t,n,r){return Object.keys(i).map((function(e){return{caption:e,snippet:e+": $0",meta:"property",score:Number.MAX_VALUE}}))},this.getPropertyValueCompletions=function(e,t,n,r){var a=t.getLine(n.row).substr(0,n.column),o=(/([\w\-]+):[^:]*$/.exec(a)||{})[1];if(!o)return[];var s=[];return o in i&&"object"==typeof i[o]&&(s=Object.keys(i[o])),s.map((function(e){return{caption:e,snippet:e,meta:"property value",score:Number.MAX_VALUE}}))}}).call(r.prototype),t.CssCompletions=r})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),a=e("../../token_iterator").TokenIterator,o=function(){this.inherit(r),this.add("colon","insertion",(function(e,t,n,i,r){if(":"===r){var o=n.getCursorPosition(),s=new a(i,o.row,o.column),l=s.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=s.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(o.row);if(":"===c.substring(o.column,o.column+1))return{text:"",selection:[1,1]};if(!c.substring(o.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===o){var s=n.getCursorPosition(),l=new a(i,s.row,s.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}})),this.add("semicolon","insertion",(function(e,t,n,i,r){if(";"===r){var a=n.getCursorPosition();if(";"===i.doc.getLine(a.row).substring(a.column,a.column+1))return{text:"",selection:[1,1]}}}))};i.inherits(o,r),t.CssBehaviour=o})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,i){"use strict";var r=e("../lib/oop"),a=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./css_completions").CssCompletions,d=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new d,this.$completer=new c,this.foldingRules=new u};r.inherits(h,a),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new l(["ace"],n(42),"Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,a=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:"+t+":)?"+t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===a&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(a,r),t.XmlHighlightRules=a})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),a=e("./css_highlight_rules").CssHighlightRules,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(a,"css-","style"),this.embedTagRules(new o({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,s),t.HtmlHighlightRules=c})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator;e("../../lib/lang");function o(e,t){return e.type.lastIndexOf(t+".xml")>-1}var s=function(){this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){var s=r,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:s+l+s,selection:!1};var c=n.getCursorPosition(),d=i.doc.getLine(c.row).substring(c.column,c.column+1),u=new a(i,c.row,c.column),h=u.getCurrentToken();if(d==s&&(o(h,"attribute-value")||o(h,"string")))return{text:"",selection:[1,1]};if(h||(h=u.stepBackward()),!h)return;for(;o(h,"tag-whitespace")||o(h,"whitespace");)h=u.stepBackward();var p=!d||d.match(/\s/);if(o(h,"attribute-equals")&&(p||">"==d)||o(h,"decl-attribute-equals")&&(p||"?"==d))return{text:s+s,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var a=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==a||"'"==a)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==a)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,i,r){if(">"==r){var s=n.getSelectionRange().start,l=new a(i,s.row,s.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(o(c,"tag-name")||o(c,"tag-whitespace")||o(c,"attribute-name")||o(c,"attribute-equals")||o(c,"attribute-value")))return;if(o(c,"reference.attribute-value"))return;if(o(c,"attribute-value")){var d=c.value.charAt(0);if('"'==d||"'"==d){var u=c.value.charAt(c.value.length-1),h=l.getCurrentTokenColumn()+c.value.length;if(h>s.column||h==s.column&&d!=u)return}}for(;!o(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var p=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(o(l.stepBackward(),"end-tag-open"))return;var m=c.value;if(p==s.row&&(m=m.substring(0,s.column-f)),this.voidElements.hasOwnProperty(m.toLowerCase()))return;return{text:"></"+m+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,r){if("\n"==r){var o=n.getCursorPosition(),s=i.getLine(o.row),l=new a(i,o.row,o.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var d=c.value,u=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[d]){var h=i.getTokenAt(o.row,o.column+1),p=(s=i.getLine(u),this.$getIndent(s)),f=p+i.getTabString();return h&&"</"===h.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};i.inherits(s,r),t.XmlBehaviour=s})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,a=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(a,r),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(a.prototype)})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../../lib/lang"),e("../../range").Range),a=e("./fold_mode").FoldMode,o=e("../../token_iterator").TokenIterator,s=t.FoldMode=function(e,t){a.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(s,a);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new l,r=0;r<n.length;r++){var a=n[r];if(c(a,"tag-open")){if(i.end.column=i.start.column+a.value.length,i.closing=c(a,"end-tag-open"),!(a=n[++r]))return null;for(i.tagName=a.value,i.end.column+=a.value.length,r++;r<n.length;r++)if(a=n[r],i.end.column+=a.value.length,c(a,"tag-close")){i.selfClosing="/>"==a.value;break}return i}if(c(a,"tag-close"))return i.selfClosing="/>"==a.value,i;i.start.column+=a.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var r=e.getTokens(t),a=0,o=0;o<r.length;o++){var s=r[o];if(!((a+=s.value.length)<i)&&c(s,"end-tag-open")&&(s=r[o+1])&&s.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(c(t,"tag-name"))n.tagName=t.value;else if(c(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))return n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;c(t,"tag-name")?n.tagName=t.value:c(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return null;var a,s=[];if(i.closing||i.selfClosing){c=new o(e,n,i.end.column);for(var l={row:n,column:i.start.column};a=this._readTagBackward(c);){if(a.selfClosing){if(s.length)continue;return a.start.column+=a.tagName.length+2,a.end.column-=2,r.fromPoints(a.start,a.end)}if(a.closing)s.push(a);else if(this._pop(s,a),0==s.length)return a.start.column+=a.tagName.length+2,a.start.row==a.end.row&&a.start.column<a.end.column&&(a.start.column=a.end.column),r.fromPoints(a.start,l)}}else{var c=new o(e,n,i.start.column),d={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(d.column=i.end.column);a=this._readTagForward(c);){if(a.selfClosing){if(s.length)continue;return a.start.column+=a.tagName.length+2,a.end.column-=2,r.fromPoints(a.start,a.end)}if(a.closing){if(this._pop(s,a),0==s.length)return r.fromPoints(d,a.start)}else s.push(a)}}}}).call(s.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./mixed").FoldMode,a=e("./xml").FoldMode,o=e("./cstyle").FoldMode,s=t.FoldMode=function(e,t){r.call(this,new a(e,t),{"js-":new o,"css-":new o})};i.inherits(s,r)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),a={html:{manifest:1},head:{},title:{},base:{href:1,target:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},noscript:{href:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},section:{},nav:{},article:{pubdate:1},aside:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},header:{},footer:{},address:{},main:{},p:{},hr:{},pre:{},blockquote:{cite:1},ol:{start:1,reversed:1},ul:{},li:{value:1},dl:{},dt:{},dd:{},figure:{},figcaption:{},div:{},a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},em:{},strong:{},small:{},s:{},cite:{},q:{cite:1},dfn:{},abbr:{},data:{},time:{datetime:1},code:{},var:{},samp:{},kbd:{},sub:{},sup:{},i:{},b:{},u:{},mark:{},ruby:{},rt:{},rp:{},bdi:{},bdo:{},span:{},br:{},wbr:{},ins:{cite:1,datetime:1},del:{cite:1,datetime:1},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},embed:{src:1,height:1,width:1,type:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},param:{name:1,value:1},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},source:{src:1,type:1,media:1},track:{kind:1,src:1,srclang:1,label:1,default:1},canvas:{width:1,height:1},map:{name:1},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},svg:{},math:{},table:{summary:1},caption:{},colgroup:{span:1},col:{span:1},tbody:{},thead:{},tfoot:{},tr:{},td:{headers:1,rowspan:1,colspan:1},th:{headers:1,rowspan:1,colspan:1,scope:1},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},fieldset:{disabled:1,form:1,name:1},legend:{},label:{form:1,for:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},size:1,src:1,step:1,width:1,files:1,value:1},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},datalist:{},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},acequired:{acequired:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},output:{for:1,form:1,name:1},progress:{value:1,max:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},details:{open:1},summary:{},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},menu:{type:1,label:1},dialog:{open:1}},o=Object.keys(a);function s(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!s(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,i){var r=t.getTokenAt(n.row,n.column);if(!r)return[];if(s(r,"tag-name")||s(r,"tag-open")||s(r,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(s(r,"tag-whitespace")||s(r,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(s(r,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var a=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(a)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,i){return o.map((function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}}))},this.getAttributeCompletions=function(e,t,n,i){var o=l(t,n);if(!o)return[];var s=r;return o in a&&(s=s.concat(Object.keys(a[o]))),s.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}}))},this.getAttributeValueCompletions=function(e,t,n,r){var o=l(t,n),c=function(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!s(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!o)return[];var d=[];return o in a&&c in a[o]&&"object"==typeof a[o][c]&&(d=Object.keys(a[o][c])),d.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:Number.MAX_VALUE}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:Number.MAX_VALUE}}))}}).call(c.prototype),t.HtmlCompletions=c})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,i){"use strict";var r=e("../lib/oop"),a=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,l=e("./css").Mode,c=e("./html_highlight_rules").HtmlHighlightRules,d=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,p=e("../worker/worker_client").WorkerClient,f=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],m=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=c,this.$behaviour=new d,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":l}),this.foldingRules=new u(this.voidElements,a.arrayToMap(m))};r.inherits(g,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=a.arrayToMap(f),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==g){var t=new p(["ace"],n(46),"Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html"}.call(g.prototype),t.Mode=g}))},function(e,t){ace.define("ace/theme/twilight",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-twilight",t.cssText=".ace-twilight .ace_gutter {background: #232323;color: #E2E2E2}.ace-twilight .ace_print-margin {width: 1px;background: #232323}.ace-twilight {background-color: #141414;color: #F8F8F8}.ace-twilight .ace_cursor {color: #A7A7A7}.ace-twilight .ace_marker-layer .ace_selection {background: rgba(221, 240, 255, 0.20)}.ace-twilight.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #141414;}.ace-twilight .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-twilight .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(255, 255, 255, 0.25)}.ace-twilight .ace_marker-layer .ace_active-line {background: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_gutter-active-line {background-color: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_marker-layer .ace_selected-word {border: 1px solid rgba(221, 240, 255, 0.20)}.ace-twilight .ace_invisible {color: rgba(255, 255, 255, 0.25)}.ace-twilight .ace_keyword,.ace-twilight .ace_meta {color: #CDA869}.ace-twilight .ace_constant,.ace-twilight .ace_constant.ace_character,.ace-twilight .ace_constant.ace_character.ace_escape,.ace-twilight .ace_constant.ace_other,.ace-twilight .ace_heading,.ace-twilight .ace_markup.ace_heading,.ace-twilight .ace_support.ace_constant {color: #CF6A4C}.ace-twilight .ace_invalid.ace_illegal {color: #F8F8F8;background-color: rgba(86, 45, 86, 0.75)}.ace-twilight .ace_invalid.ace_deprecated {text-decoration: underline;font-style: italic;color: #D2A8A1}.ace-twilight .ace_support {color: #9B859D}.ace-twilight .ace_fold {background-color: #AC885B;border-color: #F8F8F8}.ace-twilight .ace_support.ace_function {color: #DAD085}.ace-twilight .ace_list,.ace-twilight .ace_markup.ace_list,.ace-twilight .ace_storage {color: #F9EE98}.ace-twilight .ace_entity.ace_name.ace_function,.ace-twilight .ace_meta.ace_tag,.ace-twilight .ace_variable {color: #AC885B}.ace-twilight .ace_string {color: #8F9D6A}.ace-twilight .ace_string.ace_regexp {color: #E9C062}.ace-twilight .ace_comment {font-style: italic;color: #5F5A60}.ace-twilight .ace_variable {color: #7587A6}.ace-twilight .ace_xml-pe {color: #494949}.ace-twilight .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},,,,function(e,t,n){var i,r,a;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.5
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */!function(o,s){"use strict";e.exports?e.exports=s(n(203),n(204),n(205)):(r=[n(203),n(204),n(205)],void 0===(a="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=a))}(0,(function(e,t,n,i){"use strict";var r=i&&i.URI;function a(e,t){var n=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof a))return n?i?new a(e,t):new a(e):new a;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}a.version="1.19.5";var o=a.prototype,s=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function c(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function d(e){return"Array"===c(e)}function u(e,t){var n,i,r={};if("RegExp"===c(t))r=null;else if(d(t))for(n=0,i=t.length;n<i;n++)r[t[n]]=!0;else r[t]=!0;for(n=0,i=e.length;n<i;n++){(r&&void 0!==r[e[n]]||!r&&t.test(e[n]))&&(e.splice(n,1),i--,n--)}return e}function h(e,t){var n,i;if(d(t)){for(n=0,i=t.length;n<i;n++)if(!h(e,t[n]))return!1;return!0}var r=c(t);for(n=0,i=e.length;n<i;n++)if("RegExp"===r){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!d(e)||!d(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function f(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function g(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:a.preventInvalidHostname,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.preventInvalidHostname=!1,a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\._-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.hostProtocols=["http","https"],a.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=g,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=g,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(e,t){var n=a.encode(e+"");return void 0===t&&(t=a.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},a.decodeQuery=function(e,t){e+="",void 0===t&&(t=a.escapeQuerySpace);try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var b,v={encode:"encode",decode:"decode"},y=function(e,t){return function(n){try{return a[t](n+"").replace(a.characters[e][t].expression,(function(n){return a.characters[e][t].map[n]}))}catch(e){return n}}};for(b in v)a[b+"PathSegment"]=y("pathname",v[b]),a[b+"UrnPathSegment"]=y("urnpath",v[b]);var _=function(e,t,n){return function(i){var r;r=n?function(e){return a[t](a[n](e))}:a[t];for(var o=(i+"").split(e),s=0,l=o.length;s<l;s++)o[s]=r(o[s]);return o.join(e)}};function w(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function k(e,t){return function(n,i){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!i),this)}}a.decodePath=_("/","decodePathSegment"),a.decodeUrnPath=_(":","decodeUrnPathSegment"),a.recodePath=_("/","encodePathSegment","decode"),a.recodeUrnPath=_(":","encodeUrnPathSegment","decode"),a.encodeReserved=y("reserved","encode"),a.parse=function(e,t){var n;return t||(t={preventInvalidHostname:a.preventInvalidHostname}),(n=e.indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=a.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},a.parseHost=function(e,t){e||(e="");var n,i,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),s=e.indexOf("/"),l=e.indexOf(":",o+1);-1!==l&&(-1===s||l<s)?(t.hostname=e.substring(0,r)||null,t.port=null):(i=e.substring(0,r).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),t.preventInvalidHostname&&a.ensureValidHostname(t.hostname,t.protocol),t.port&&a.ensureValidPort(t.port),e.substring(r)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var i,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(i=e.substring(0,o).split(":"),t.username=i[0]?a.decode(i[0]):null,i.shift(),t.password=i[0]?a.decode(i.join(":")):null,e=n.substring(o+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,r,o={},l=e.split("&"),c=l.length,d=0;d<c;d++)n=l[d].split("="),i=a.decodeQuery(n.shift(),t),r=n.length?a.decodeQuery(n.join("="),t):null,s.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(r)):o[i]=r;return o},a.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(a.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username)),e.password&&(t+=":"+a.encode(e.password)),t&&(t+="@"),t},a.buildQuery=function(e,t,n){var i,r,o,l,c="";for(r in e)if(s.call(e,r))if(d(e[r]))for(i={},o=0,l=e[r].length;o<l;o++)void 0!==e[r][o]&&void 0===i[e[r][o]+""]&&(c+="&"+a.buildQueryParameter(r,e[r][o],n),!0!==t&&(i[e[r][o]+""]=!0));else void 0!==e[r]&&(c+="&"+a.buildQueryParameter(r,e[r],n));return c.substring(1)},a.buildQueryParameter=function(e,t,n){return a.encodeQuery(e,n)+(null!==t?"="+a.encodeQuery(t,n):"")},a.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)s.call(t,i)&&a.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),d(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},a.setQuery=function(e,t,n){if("object"==typeof t)for(var i in t)s.call(t,i)&&a.setQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},a.removeQuery=function(e,t,n){var i,r,o;if(d(t))for(i=0,r=t.length;i<r;i++)e[t[i]]=void 0;else if("RegExp"===c(t))for(o in e)t.test(o)&&(e[o]=void 0);else if("object"==typeof t)for(o in t)s.call(t,o)&&a.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===c(n)?!d(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=u(e[t],n):e[t]!==String(n)||d(n)&&1!==n.length?d(e[t])&&(e[t]=u(e[t],n)):e[t]=void 0:e[t]=void 0}},a.hasQuery=function(e,t,n,i){switch(c(t)){case"String":break;case"RegExp":for(var r in e)if(s.call(e,r)&&t.test(r)&&(void 0===n||a.hasQuery(e,r,n)))return!0;return!1;case"Object":for(var o in t)if(s.call(t,o)&&!a.hasQuery(e,o,t[o]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(c(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(d(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!d(e[t])&&(i?h:p)(e[t],n);case"RegExp":return d(e[t])?!!i&&h(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return d(e[t])?!!i&&h(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.joinPaths=function(){for(var e=[],t=[],n=0,i=0;i<arguments.length;i++){var r=new a(arguments[i]);e.push(r);for(var o=r.segment(),s=0;s<o.length;s++)"string"==typeof o[s]&&t.push(o[s]),o[s]&&n++}if(!t.length||!n)return new a("");var l=new a("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||l.path("/"+l.path()),l.normalize()},a.commonPath=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},a.withinString=function(e,t,n){n||(n={});var i=n.start||a.findUri.start,r=n.end||a.findUri.end,o=n.trim||a.findUri.trim,s=n.parens||a.findUri.parens,l=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var d=c.index;if(n.ignoreHtml){var u=e.slice(Math.max(d-3,0),d);if(u&&l.test(u))continue}for(var h=d+e.slice(d).search(r),p=e.slice(d,h),f=-1;;){var m=s.exec(p);if(!m)break;var g=m.index+m[0].length;f=Math.max(f,g)}if(!((p=f>-1?p.slice(0,f)+p.slice(f).replace(o,""):p.replace(o,"")).length<=c[0].length||n.ignore&&n.ignore.test(p))){var b=t(p,d,h=d+p.length,e);void 0!==b?(b=String(b),e=e.slice(0,d)+b+e.slice(h),i.lastIndex=d+b.length):i.lastIndex=h}}return i.lastIndex=0,e},a.ensureValidHostname=function(t,n){var i=!!t,r=!1;if(!!n&&(r=h(a.hostProtocols,n)),r&&!i)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},a.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},a.noConflict=function(e){if(e){var t={URI:this.noConflict()};return i.URITemplate&&"function"==typeof i.URITemplate.noConflict&&(t.URITemplate=i.URITemplate.noConflict()),i.IPv6&&"function"==typeof i.IPv6.noConflict&&(t.IPv6=i.IPv6.noConflict()),i.SecondLevelDomains&&"function"==typeof i.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=i.SecondLevelDomains.noConflict()),t}return i.URI===this&&(i.URI=r),this},o.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},o.clone=function(){return new a(this)},o.valueOf=o.toString=function(){return this.build(!1)._string},o.protocol=w("protocol"),o.username=w("username"),o.password=w("password"),o.hostname=w("hostname"),o.port=w("port"),o.query=k("query","?"),o.fragment=k("fragment","#"),o.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},o.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},o.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?a.decodeUrnPath:a.decodePath)(n):n}return this._parts.urn?this._parts.path=e?a.recodeUrnPath(e):"":this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},o.path=o.pathname,o.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var i=e instanceof a,r="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[a.getDomAttribute(e)]||"",r=!1);if(!i&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=a.parse(String(e),this._parts);else{if(!i&&!r)throw new TypeError("invalid input");var o=i?e._parts:e;for(n in o)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=o[n]);o.query&&this.query(o.query,!1)}return this.build(!t),this},o.is=function(e){var t=!1,i=!1,r=!1,o=!1,s=!1,l=!1,c=!1,d=!this._parts.urn;switch(this._parts.hostname&&(d=!1,i=a.ip4_expression.test(this._parts.hostname),r=a.ip6_expression.test(this._parts.hostname),s=(o=!(t=i||r))&&n&&n.has(this._parts.hostname),l=o&&a.idn_expression.test(this._parts.hostname),c=o&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return d;case"absolute":return!d;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return r;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var x=o.protocol,A=o.port,C=o.hostname;o.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(a.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,e,t)},o.scheme=o.protocol,o.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),a.ensureValidPort(e))),A.call(this,e,t))},o.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==a.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&a.ensureValidHostname(e,this._parts.protocol)}return C.call(this,e,t)},o.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var i=a(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},o.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildHost(this._parts):"";if("/"!==a.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},o.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildAuthority(this._parts):"";if("/"!==a.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},o.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=a.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},o.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=a.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},o.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var i=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,i),o=new RegExp("^"+l(r));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&a.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},o.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(a.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},o.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(i+1);return!0!==t&&n&&n.list[r.toLowerCase()]&&n.get(this._parts.hostname)||r}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},o.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?a.decodePath(i):i}var r=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,r),s=new RegExp("^"+l(o));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},o.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(n+1);return e?a.decodePathSegment(i):i}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var o=new RegExp(l(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(o,e),r?this.normalizePath(t):this.build(!t),this},o.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,i,r=this.filename(),o=r.lastIndexOf(".");return-1===o?"":(n=r.substring(o+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",e?a.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var s,c=this.suffix();if(c)s=e?new RegExp(l(c)+"$"):new RegExp(l("."+c)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return s&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},o.segment=function(e,t,n){var i=this._parts.urn?":":"/",r=this.path(),a="/"===r.substring(0,1),o=r.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(a&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(d(t)){o=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(f(t[s])))}else(t||"string"==typeof t)&&(t=f(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=f(t):o.splice(e,1);return a&&o.unshift(""),this.path(o.join(i),n)},o.segmentCoded=function(e,t,n){var i,r,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(d(i=this.segment(e,t,n)))for(r=0,o=i.length;r<o;r++)i[r]=a.decode(i[r]);else i=void 0!==i?a.decode(i):void 0;return i}if(d(t))for(r=0,o=t.length;r<o;r++)t[r]=a.encode(t[r]);else t="string"==typeof t||t instanceof String?a.encode(t):t;return this.segment(e,t,n)};var S=o.query;return o.query=function(e,t){if(!0===e)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n);return this._parts.query=a.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):S.call(this,e,t)},o.setQuery=function(e,t,n){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)s.call(e,r)&&(i[r]=e[r])}return this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.addQuery=function(e,t,n){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(i,e,void 0===t?null:t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.removeQuery=function(e,t,n){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(i,e,t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.hasQuery=function(e,t,n){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(i,e,t,n)},o.setSearch=o.setQuery,o.addSearch=o.addQuery,o.removeSearch=o.removeQuery,o.hasSearch=o.hasQuery,o.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},o.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},o.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},o.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},o.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,r,o="";for("/"!==(n=a.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(o=n.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(i=n.search(/\/\.\.(\/|$)/));)0!==i?(-1===(r=n.substring(0,i).lastIndexOf("/"))&&(r=i),n=n.substring(0,r)+n.substring(i+3)):n=n.substring(3);return t&&this.is("relative")&&(n=o+n.substring(1)),this._parts.path=n,this.build(!e),this},o.normalizePathname=o.normalizePath,o.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},o.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},o.normalizeSearch=o.normalizeQuery,o.normalizeHash=o.normalizeFragment,o.iso8859=function(){var e=a.encode,t=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},o.unicode=function(){var e=a.encode,t=a.decode;a.encode=g,a.decode=unescape;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},o.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var i="",r=0,o=t._parts.query.split("&"),s=o.length;r<s;r++){var l=(o[r]||"").split("=");i+="&"+a.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(i+="="+a.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=a.decodeQuery(t.hash(),!0)},o.absoluteTo=function(e){var t,n,i,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),r._parts.protocol)return r;if(r._parts.protocol=e._parts.protocol,this._parts.hostname)return r;for(n=0;i=o[n];n++)r._parts[i]=e._parts[i];return r._parts.path?(".."===r._parts.path.substring(-2)&&(r._parts.path+="/"),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath())):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),r.build(),r},o.relativeTo=function(e){var t,n,i,r,o,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),t=s._parts,n=e._parts,r=s.path(),o=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,r===o)return t.path="",s.build();if(!(i=a.commonPath(r,o)))return s.build();var l=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=l+t.path.substring(i.length)||"./",s.build()},o.equals=function(e){var t,n,i,r,o,l=this.clone(),c=new a(e),u={};if(l.normalize(),c.normalize(),l.toString()===c.toString())return!0;if(i=l.query(),r=c.query(),l.query(""),c.query(""),l.toString()!==c.toString())return!1;if(i.length!==r.length)return!1;for(o in t=a.parseQuery(i,this._parts.escapeQuerySpace),n=a.parseQuery(r,this._parts.escapeQuerySpace),t)if(s.call(t,o)){if(d(t[o])){if(!p(t[o],n[o]))return!1}else if(t[o]!==n[o])return!1;u[o]=!0}for(o in n)if(s.call(n,o)&&!u[o])return!1;return!0},o.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},o.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},o.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a}))},,,,,,function(e,t,n){var i={"./af":51,"./af.js":51,"./ar":52,"./ar-dz":53,"./ar-dz.js":53,"./ar-kw":54,"./ar-kw.js":54,"./ar-ly":55,"./ar-ly.js":55,"./ar-ma":56,"./ar-ma.js":56,"./ar-sa":57,"./ar-sa.js":57,"./ar-tn":58,"./ar-tn.js":58,"./ar.js":52,"./az":59,"./az.js":59,"./be":60,"./be.js":60,"./bg":61,"./bg.js":61,"./bm":62,"./bm.js":62,"./bn":63,"./bn-bd":64,"./bn-bd.js":64,"./bn.js":63,"./bo":65,"./bo.js":65,"./br":66,"./br.js":66,"./bs":67,"./bs.js":67,"./ca":68,"./ca.js":68,"./cs":69,"./cs.js":69,"./cv":70,"./cv.js":70,"./cy":71,"./cy.js":71,"./da":72,"./da.js":72,"./de":73,"./de-at":74,"./de-at.js":74,"./de-ch":75,"./de-ch.js":75,"./de.js":73,"./dv":76,"./dv.js":76,"./el":77,"./el.js":77,"./en-au":78,"./en-au.js":78,"./en-ca":79,"./en-ca.js":79,"./en-gb":80,"./en-gb.js":80,"./en-ie":81,"./en-ie.js":81,"./en-il":82,"./en-il.js":82,"./en-in":83,"./en-in.js":83,"./en-nz":84,"./en-nz.js":84,"./en-sg":85,"./en-sg.js":85,"./eo":86,"./eo.js":86,"./es":87,"./es-do":88,"./es-do.js":88,"./es-mx":89,"./es-mx.js":89,"./es-us":90,"./es-us.js":90,"./es.js":87,"./et":91,"./et.js":91,"./eu":92,"./eu.js":92,"./fa":93,"./fa.js":93,"./fi":94,"./fi.js":94,"./fil":95,"./fil.js":95,"./fo":96,"./fo.js":96,"./fr":97,"./fr-ca":98,"./fr-ca.js":98,"./fr-ch":99,"./fr-ch.js":99,"./fr.js":97,"./fy":100,"./fy.js":100,"./ga":101,"./ga.js":101,"./gd":102,"./gd.js":102,"./gl":103,"./gl.js":103,"./gom-deva":104,"./gom-deva.js":104,"./gom-latn":105,"./gom-latn.js":105,"./gu":106,"./gu.js":106,"./he":107,"./he.js":107,"./hi":108,"./hi.js":108,"./hr":109,"./hr.js":109,"./hu":110,"./hu.js":110,"./hy-am":111,"./hy-am.js":111,"./id":112,"./id.js":112,"./is":113,"./is.js":113,"./it":114,"./it-ch":115,"./it-ch.js":115,"./it.js":114,"./ja":116,"./ja.js":116,"./jv":117,"./jv.js":117,"./ka":118,"./ka.js":118,"./kk":119,"./kk.js":119,"./km":120,"./km.js":120,"./kn":121,"./kn.js":121,"./ko":122,"./ko.js":122,"./ku":123,"./ku.js":123,"./ky":124,"./ky.js":124,"./lb":125,"./lb.js":125,"./lo":126,"./lo.js":126,"./lt":127,"./lt.js":127,"./lv":128,"./lv.js":128,"./me":129,"./me.js":129,"./mi":130,"./mi.js":130,"./mk":131,"./mk.js":131,"./ml":132,"./ml.js":132,"./mn":133,"./mn.js":133,"./mr":134,"./mr.js":134,"./ms":135,"./ms-my":136,"./ms-my.js":136,"./ms.js":135,"./mt":137,"./mt.js":137,"./my":138,"./my.js":138,"./nb":139,"./nb.js":139,"./ne":140,"./ne.js":140,"./nl":141,"./nl-be":142,"./nl-be.js":142,"./nl.js":141,"./nn":143,"./nn.js":143,"./oc-lnc":144,"./oc-lnc.js":144,"./pa-in":145,"./pa-in.js":145,"./pl":146,"./pl.js":146,"./pt":147,"./pt-br":148,"./pt-br.js":148,"./pt.js":147,"./ro":149,"./ro.js":149,"./ru":150,"./ru.js":150,"./sd":151,"./sd.js":151,"./se":152,"./se.js":152,"./si":153,"./si.js":153,"./sk":154,"./sk.js":154,"./sl":155,"./sl.js":155,"./sq":156,"./sq.js":156,"./sr":157,"./sr-cyrl":158,"./sr-cyrl.js":158,"./sr.js":157,"./ss":159,"./ss.js":159,"./sv":160,"./sv.js":160,"./sw":161,"./sw.js":161,"./ta":162,"./ta.js":162,"./te":163,"./te.js":163,"./tet":164,"./tet.js":164,"./tg":165,"./tg.js":165,"./th":166,"./th.js":166,"./tk":167,"./tk.js":167,"./tl-ph":168,"./tl-ph.js":168,"./tlh":169,"./tlh.js":169,"./tr":170,"./tr.js":170,"./tzl":171,"./tzl.js":171,"./tzm":172,"./tzm-latn":173,"./tzm-latn.js":173,"./tzm.js":172,"./ug-cn":174,"./ug-cn.js":174,"./uk":175,"./uk.js":175,"./ur":176,"./ur.js":176,"./uz":177,"./uz-latn":178,"./uz-latn.js":178,"./uz.js":177,"./vi":179,"./vi.js":179,"./x-pseudo":180,"./x-pseudo.js":180,"./yo":181,"./yo.js":181,"./zh-cn":182,"./zh-cn.js":182,"./zh-hk":183,"./zh-hk.js":183,"./zh-mo":184,"./zh-mo.js":184,"./zh-tw":185,"./zh-tw.js":185};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=217},,,,,,,,,function(e,t,n){"use strict";n.r(t);var i="undefined"!=typeof window?function(){if(!e)var e={};var t={FONT:"font",VIEW:"view",TRANSFORM:"transform",EASING_FUNCTION:"easing-function",TRANSITION:"transition"},n={};n[t.FONT]={},n[t.VIEW]={},n[t.TRANSFORM]={},n[t.EASING_FUNCTION]={},n[t.TRANSITION]={};var i=function(e,t){if(!n[e])return null;for(var i in t)if(t.hasOwnProperty(i)){if(n[e][i])return null;n[e][i]=t[i]}},r=function(e,t,i){if(!n[e])throw"Can't add extension with type of \""+e+'", "'+e+'" is not a valid extension type. The following types are valid: '+zt(n);if(!/^[-a-z]+$/.test(t))throw"Can't add extension with name \""+t+'", "'+t+'" is contains invalid characters. Only lowercase alphabetical characters and dashes are allowed.';if(n[e][t])throw"Can't add extension with name \""+t+'", "'+t+'" is already added.';n[e][t]=i},a=function(e,t){if(!n[e])throw"Can't get extension with type of \""+e+'", "'+e+'" is not a valid extension type. The following types are available: '+zt(n);if(!n[e][t])throw"Can't get extension with name \""+t+'", "'+t+'" is not available. The following extensions are available: '+zt(n[e]);return n[e][t]},o={Week:6048e5,Day:864e5,Hour:36e5,Minute:6e4,Second:1e3,Millisecond:1,Month:2628e6,Year:31536e6},s=["Januari","Februari","March","April","May","June","July","August","September","October","November","December"];for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];1===c?(o.mi=c,o.ms=c):2628e6===c?o.M=c:o[l.charAt(0).toLowerCase()]=c,o[l.toLowerCase()]=c,o[l.toLowerCase()+"s"]=c}var d={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:0},u={M:1,y:12},h=function(e){return e instanceof Date},p=function(e,t){var n=t-e.getDay();return e.setDate(e.getDate()+n),e},f=function(e,t){var n=w(e.getMonth()+1,e.getFullYear());return t="last"===t?n:Math.max(1,Math.min(n,t)),e.setDate(t),e},m=function(e,t){return e.setMonth(s.map((function(e){return e.toLowerCase()})).indexOf(t)),e},g=function(e){var t=6e4*(new Date).getTimezoneOffset();if("Z"===e)return t;var n=e.match(/\+|-|[\d]{2}|[\d]{2}/g);return("-"===n.shift()?-1:1)*(36e5*parseInt(n[0],10)+6e4*parseInt(n[1],10))+t},b=function(e){return new Date(Date.now()+e)},v=function(e,t){return new Date(e.getTime()+t)},y=function(e,t){return e.toDateString()===t.toDateString()},_=function(e,t){return e.getTime()===t.getTime()},w=function(e,t){return new Date(t,e,0).getDate()},k=function(e){return e.match(/(Z)|([+\-][0-9]{2}:?[0-9]*$)/g)?new Date(e):(e+=-1!==e.indexOf("T")?"Z":"",x(new Date(e)))},x=function(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())},A=function(e,t){return t.map((function(t){var n=o[t],i=Math.max(0,Math.floor(e/n));return e%=n,i}))},C=function(e,t,n){var i=t-e,r=!1;if(i<0){i=e-t;var a=[t,e];e=a[0],t=a[1],r=!0}n||(n=["d","h","m"]);var s=n.indexOf("m");s>=0&&("y"===n[s-1]||"d"===n[s+1])&&(n[s].key="M");var l=void 0,c=void 0,d=void 0,h=n.includes("y"),p=n.includes("M");(p||h)&&(l=new Date(e.valueOf()+i),c=L(l,e),d=p?Math.floor(c):12*Math.floor(c/12),i=l.valueOf()-D(T(e),d).valueOf());var f=n.map((function(e){if("y"===e||"M"===e){var t=Math.max(0,Math.floor(c/u[e]));return c-=t*u[e],t}var n=o[e],r=Math.max(0,Math.floor(i/n));return i%=n,r}));return r?f.map((function(e){return e>0?-e:e})):f},S=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if("number"==typeof t[0]&&"string"==typeof t[1]){if(!o[t[1]])throw'"'+t[1]+'" is not a valid amount.';return t[0]*o[t[1]]}return h(t[0])?C.apply(void 0,t):"number"==typeof t[0]&&Array.isArray(t[1])?A.apply(void 0,t):null},E=function(){return new Date},T=function(e){return new Date(e.valueOf())},D=function(e,t){return e.setMonth(e.getMonth()+t),e},L=function(e,t){var n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),i=D(T(e),n);return-(n+(t-i<0?(t-i)/(i-D(T(e),n-1)):(t-i)/(D(T(e),n+1)-i)))},M=function(e){return{destroy:function(){e.destroyed=!0,e.frame&&cancelAnimationFrame(e.frame),e.styleObserver&&e.styleObserver.disconnect(),e.didResizeWindow&&window.removeEventListener("resize",e.didResizeWindow),e.root&&e.root.parentNode&&e.root.parentNode.removeChild(e.root)}}},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.createElement("span"),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.root=t,e.aligned=null,e.destroyed=!1,t&&n&&(e.root.classList.add("tick-"+n),e.root.setAttribute("data-view",n)),t&&t.dataset.layout&&(e.align=(t.dataset.layout.match(/left|right|center/)||[])[0]||"left"),{appendTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"last";!e.root||e.root&&e.root.parentNode||("last"!==n?("first"===n&&(0===t.childNodes.length?t.appendChild(e.root):0===t.children.length&&t.childNodes.length?t.insertBefore(e.root,t.childNodes[t.childNodes.length-1]):t.insertBefore(e.root,t.children[0])),"string"!=typeof n&&t.insertBefore(e.root,n)):t.childNodes.length&&t.childNodes[t.childNodes.length-1].nodeType===Node.TEXT_NODE?t.insertBefore(e.root,t.childNodes[t.childNodes.length-1]):t.appendChild(e.root))}}},F=function(e,t){return e.definition=t,{setDefinition:function(t){e.definition=t}}},I=function(e,t,n,i){return{draw:function(){if(!e.dirty){if(n)n(e)&&B(e);return!1}return t(e,i),B(e),e.dirty=!1,!0}}},B=function(e){if(!e.fit){if(!e.root||!(e.root.getAttribute("data-layout")||"").match(/fit/))return void(e.fit=!1);var t=window.getComputedStyle(e.root,null);e.fit=!0,e.fitInfo={currentFontSize:parseInt(t.getPropertyValue("font-size"),10)}}e.fitInfo.availableWidth=e.root.parentNode.clientWidth,e.fitInfo.currentWidth=e.root.scrollWidth;var n=Math.min(Math.max(4,e.fitInfo.availableWidth/e.fitInfo.currentWidth*e.fitInfo.currentFontSize),1024);Math.abs(n-e.fitInfo.currentFontSize)<=1||(e.fitInfo.currentFontSize=n,e.root.style.fontSize=e.fitInfo.currentFontSize+"px")},O=function(e){return e.dirty=!0,e.value=null,e.valueUpdateCount=0,e.isInitialValue=function(){return e.valueUpdateCount<=1},{reset:function(){e.dirty=!0,e.value=null,e.valueUpdateCount=0},update:function(t){Nt(e.value,t)||(e.value=t,e.valueUpdateCount++,e.dirty=!0)}}},j=function(e){e.didResizeWindow=function(){e.dirty=!0},window.addEventListener("resize",e.didResizeWindow)},R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=(function(){function e(e){this.value=e}function t(t){var n,i;function r(n,i){try{var o=t[n](i),s=o.value;s instanceof e?Promise.resolve(s.value).then((function(e){r("next",e)}),(function(e){r("throw",e)})):a(o.done?"return":"normal",o.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(a,o){var s={key:e,arg:t,resolve:a,reject:o,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},z=function(e,t){var n=(e.definition||[]).concat();"right"===e.align&&n.reverse();var i=Array.isArray(e.value)?e.value.concat():"object"===R(e.value)?$t(e.value):e.value;n.forEach((function(n){if(!n.presenter){if(e.update=t(n),!n.presenter)return;n.presenter.appendTo(e.root)}})),n.filter((function(e){return void 0!==e.presenter})).forEach((function(t){Array.isArray(i)&&e.valueMapping?e.update(t,"indexes"===e.valueMapping?"right"===e.align?i.pop():i.shift():i):t.key&&void 0!==i[t.key]?e.update(t,i[t.key]):e.update(t,i)})),e.views=n,W(e)},W=function(e){var t=!1;return e.views.filter((function(e){return void 0!==e.presenter})).forEach((function(e){e.presenter.draw()&&(t=!0)})),t},U=function(e,t,n){var i=Ft(Array.isArray(e.value)?e.value:(e.value+"").split(""));if("right"===e.align&&i.reverse(),e.definitions.length>i.length)for(;e.definitions.length>i.length;){e.definitions.pop().presenter.destroy()}i.forEach((function(n,i){var r=e.definitions[i];r||(r=e.definitions[i]=ot(e.definition),e.update=t(r),r.presenter.appendTo(e.root,"right"===e.align?"first":"last"))})),i.forEach((function(t,n){return e.update(e.definitions[n],t)})),e.views=i,q(e)},q=function(e){var t=!1;return e.views.forEach((function(n,i){e.definitions[i].presenter.draw()&&(t=!0)})),t},V="undefined"==typeof document?null:function(){for(var e=["webkit","Moz","ms","O"],t=0,n=e.length,i=document.createElement("div").style;t<n;t++)if(e[t]+"Transform"in i)return e[t];return null}(),G=function(e,t){var n=document.createElement(e);return t&&(n.className=t),n},K=function(e,t,n){var i=new MutationObserver((function(i){t.forEach((function(r){i.filter((function(e){return t.includes(e.attributeName)})).length&&n(e.getAttribute(r))}))}));return i.observe(e,{attributes:!0}),i},X=function(e){return e instanceof HTMLElement},Q=function(e,t){e.style.transformOrigin=t},J=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";e.transforms||(e.transforms=[]);var r=e.transforms.find((function(e){return e.name===t}));r?r.value=n:e.transforms.push({name:t,value:n,unit:i}),Z(e,e.transforms)},Z=function(e,t){e.style.transform=t.map((function(e){return e.name+"("+e.value+e.unit+")"})).join(" ")},ee=function(e){var t=e.getBoundingClientRect();return!(t.bottom<0)&&!(t.top>window.scrollY+window.innerHeight)},te=function(e){return e.trim()},ne={},ie=function(e,t){var n=t.toString();return ne[n]||(ne[n]={}),ne[n][e]||(ne[n][e]=t(e)),ne[n][e]},re=new RegExp("^[0-9]+$"),ae=new RegExp("^(true|false)$"),oe=new RegExp("^[0-9.]+$"),se=new RegExp("color"),le=new RegExp("shadow"),ce=new RegExp("^(follow-gradient|horizontal-gradient|vertical-gradient)"),de=new RegExp("^[.0-9]+(?:ms|s){1}$"),ue=new RegExp("^transition-?(?:in|out)?$"),he=new RegExp("^url\\("),pe=function(e){return e?parseFloat(e)*(/ms$/.test(e)?1:1e3):0},fe=function(e){return e.match(/[a-z]+(?:\(.*?\))?\s?(?:origin\(.*?\))?\s?(?:[a-z]+\(.*?\))?[ .a-z-0-9]*/g).map(me)},me=function(e){var t=e.match(/([a-z]+(?:\(.*?\))?)\s?(?:origin\((.*?)\))?\s?([a-z]+(?:\(.*?\))?)?\s?(?:([.0-9ms]+)?\s?(?:(ease-[a-z-]+))?\s?([.0-9ms]+)?)?/),n=mt(t[1]),i=void 0,r=void 0,a=void 0,o=void 0,s=void 0;return t.slice(2).filter((function(e){return void 0!==e})).forEach((function(e){de.test(e)?void 0===r?r=pe(e):o=pe(e):/ /.test(e)?i=e:/^ease-[a-z-]+$/.test(e)?a=e:/^[a-z]+/.test(e)&&(s=mt(e))})),s&&(r=void 0,a=void 0),{name:n.name,parameters:n.parameters,duration:r,ease:a,delay:o,origin:i,resolver:s}},ge=function(e){var t=e.match(/follow-gradient|horizontal-gradient|vertical-gradient/)[0];return{type:t,colors:e.substr(t.length).match(/(?:transparent|rgb\(.*?\)|hsl\(.*?\)|hsla\(.*?\)|rgba\(.*?\)|[a-z]+|#[abcdefABCDEF\d]+)\s?(?:[\d]{1,3}%?)?/g).map(ve)}},be=/\s([\d]{1,3})%?$/,ve=function(e){var t=e.match(be);return{offset:t?parseFloat(t[1])/100:null,value:xe(e.replace(be,""))}},ye=[],_e=function(e,t){return ye[e]?ye[e].find((function(e){return e.node.parentNode===t})):null},we=function(e,t){ye[e]||(ye[e]=[]),ye[e].push(t)},ke="undefined"==typeof document?function(e){return 0}:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0==e)return 0;if(n){var i=_e(n,t)||{};return i.node||(i.node=document.createElement("span"),i.node.style.cssText="position:absolute;padding:0;visibility:hidden;",t.appendChild(i.node)),i.node.style.marginTop=e,i.style||(i.style=window.getComputedStyle(i.node)),we(n,i),parseInt(i.style.marginTop,10)}var r=document.createElement("span");return r.style.cssText="position:absolute;padding:0;visibility:hidden;margin-top:"+e,t.appendChild(r),requestAnimationFrame((function(){r.parentNode.removeChild(r)})),parseInt(window.getComputedStyle(r).marginTop,10)},xe="undefined"==typeof document?function(e){return e}:function(e){if("transparent"===e)return"rgba(0,0,0,0)";var t=document.createElement("span");return t.style.cssText="position:absolute;visibility:hidden;color:"+e,document.body.appendChild(t),requestAnimationFrame((function(){t.parentNode.removeChild(t)})),window.getComputedStyle(t).getPropertyValue("color")},Ae=function(e){return"string"!=typeof e?e:e.match(/([-.\d]+(?:%|ms|s|deg|cm|em|ch|ex|q|in|mm|pc|pt|px|vh|vw|vmin|vmax)?)|[%#A-Za-z0-9,.()]+/g)},Ce=function(e){var t=e.split(":").map(te),n=function(e){return e.trim().split("-").map((function(e,t){return t>0?function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e):e})).join("")}(t[0]),i=function(e,t){return ae.test(e)?function(e){return"string"==typeof e?"true"===e:e}(e):re.test(e)?parseInt(e,10):oe.test(e)?parseFloat(e):he.test(e)?1===(n=e.match(/url\((.*?)\)/g).map((function(e){return e.substring(4,e.length-1)}))).length?n[0]:n:se.test(t)?ce.test(e)?ie(e,ge):ie(e,xe):le.test(t)?ie(e,Ae):ue.test(t)?"none"===e?e:ie(e,fe):e;var n}(t[1],t[0]);return n&&null!=i?{property:n,value:i}:null},Se=function(e){return e},Ee=function(e){return e<.5?2*e*e:(4-2*e)*e-1},Te={"ease-linear":Se,"ease-in-sine":function(e){return-1*Math.cos(e*(Math.PI/2))+1},"ease-out-sine":function(e){return Math.sin(e*(Math.PI/2))},"ease-in-out-sine":function(e){return-.5*(Math.cos(Math.PI*e)-1)},"ease-in-cubic":function(e){return e*e*e},"ease-out-cubic":function(e){var t=e-1;return t*t*t+1},"ease-in-out-cubic":function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},"ease-in-circ":function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)},"ease-out-circ":function(e){var t=e-1;return Math.sqrt(1-t*t)},"ease-in-out-circ":function(e){var t=2*e,n=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-n*n)+1)},"ease-in-quad":function(e){return e*e},"ease-out-quad":function(e){return e*(2-e)},"ease-in-out-quad":Ee,"ease-in-quart":function(e){return e*e*e*e},"ease-out-quart":function(e){return 1- --e*e*e*e},"ease-in-out-quart":function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},"ease-in-expo":function(e){return 0===e?0:Math.pow(2,10*(e-1))},"ease-out-expo":function(e){return 1===e?1:1-Math.pow(2,-10*e)},"ease-in-out-expo":function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},"ease-in-back":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=e/1;return n*n*((t+1)*n-t)},"ease-out-back":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=e/1-1;return n*n*((t+1)*n+t)+1},"ease-in-out-back":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=2*e,i=n-2,r=1.525*t;return n<1?.5*n*n*((r+1)*n-r):.5*(i*i*((r+1)*i+r)+2)},"ease-out-elastic":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,n=1-t,i=2*e;if(0===e||1===e)return e;var r=n/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*i)*Math.sin((i-r)*(2*Math.PI)/n)+1},"ease-out-bounce":function(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var n=t-1.5/2.75;return 7.5625*n*n+.75}if(t<2.5/2.75){var i=t-2.25/2.75;return 7.5625*i*i+.9375}var r=t-2.625/2.75;return 7.5625*r*r+.984375}};i(t.EASING_FUNCTION,Te);var De=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Se,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Le((function(t){e(i(t))}),t,n,r)},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!e)return null;var r=null,a=void 0,o=null,s=function s(l){if(null===r&&(r=l),(a=l-r-i)<n)return e(a>=0?a/n:0),o=requestAnimationFrame(s),null;e(1),t&&t()};return s(jt()),function(){cancelAnimationFrame(o)}},Me=function(){var e=null,t={velocity:0,origin:0,position:0,destination:1},n=function(){cancelAnimationFrame(e)};return{getPosition:function(){return t.position},cancel:n,translate:function(i,r,a,o){n(),null===a?t.destination=r:(t.position=r,t.destination=a,t.velocity=0),t.origin=t.position;var s=null;!function r(a){e=requestAnimationFrame(r),s||(s=a);var l=a-s;l<=1e3/24||(s=a-l%(1e3/24),o(t,n),i(t.position))}(jt())}}},$e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Me(),a={update:null,cancel:r.cancel,getPosition:r.getPosition};return"arrive"===e?a.update=Fe.apply(void 0,[r.translate].concat(n)):"spring"===e?a.update=Be.apply(void 0,[r.translate].concat(n)):"step"===e&&(a.update=Ie.apply(void 0,[r.translate].concat(n))),a},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(i,r,a,(function(e,i){var r=e.destination-e.position,a=e.origin+.5*(e.destination-e.origin);e.velocity+=2*(-(a-e.origin)+r)*n,e.position+=e.velocity<0?Math.max(e.velocity,-t):Math.min(e.velocity,t),(e.origin<e.destination&&e.position>=e.destination||e.origin>=e.destination&&e.position<=e.destination)&&(i(),e.velocity=0,e.position=e.destination)}))}},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(n,i,r,(function(e,n){e.velocity=t,e.position+=e.velocity,(e.origin<e.destination&&e.position>=e.destination||e.origin>=e.destination&&e.position<=e.destination)&&(n(),e.velocity=0,e.position=e.destination)}))}},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.75,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(r,a,o,(function(e,r){var a=-(e.position-e.destination)*t;e.velocity+=a/i,e.position+=e.velocity,e.velocity*=n,Oe(e.position,e.destination,e.velocity)&&(r(),e.position=e.destination,e.velocity=0)}))}},Oe=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<i&&Math.abs(n)<i},je=function(e){var t=e.map((function(e){return Ne(Re(e.name,e.parameters,e.ease),e.origin,e.duration,e.delay)}));return function(e,n,i){if(!X(e))return!1;var r=t.length;t.forEach((function(t){t(e,n,(function(){!--r&&i&&i(e)}))}))}},Re=function(e,n,i){var r=i?a(t.EASING_FUNCTION,i):i,o=a(t.TRANSITION,e);return function(e,t,i){o.apply(void 0,[e,i,t,r].concat(Y(n)))}},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"50% 50% 0",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=arguments[3];return function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments[2];Q(r,t),Le((function(t){e(r,a,t)}),o,n,i)}},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.lastAppliedStyles=null,He(e,t,e.root.dataset.style),e.styleObserver=K(e.root,["data-style"],(function(n){He(e,t,n)})),{setStyle:function(n){He(e,t,n)}}},He=function(e,n,i){if(e.lastAppliedStyles!==i){e.lastAppliedStyles=i,e.style=i?Et(n,function(e){return e.split(";").filter((function(e){return e.trim().length})).map(Ce).filter((function(e){return null!==e})).reduce((function(e,t){return e[t.property]=t.value,e}),{})}(i)):n;var r=[],o=[];e.style.transitionIn&&e.style.transitionIn.length?(r=e.style.transitionIn,o=e.style.transitionOut):e.style.transition&&"none"!==e.style.transition&&e.style.transition.forEach((function(e){var n=function(e){return a(t.TRANSITION,e.name).apply(void 0,Y(e.parameters||[]))}(e);r=r.concat(n.intro),o=o.concat(n.outro)})),r&&o&&(e.transitionIn=je(r),e.transitionOut=je(o),e.skipToTransitionInEnd=je(r.map(Ye)),e.skipToTransitionOutEnd=je(o.map(Ye))),e.dirty=!0}},Ye=function(e){var t=$t(e);return t.duration=0,t.delay=0,t},ze=function(e){return e[V+"BackingStorePixelRatio"]||e.backingStorePixelRatio||1},We=function(){return window.devicePixelRatio||1},Ue=function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)},qe={text:function(){return function(e){var t={};return Object.assign({},$(t,e,"text"),O(t),I(t,(function(e){e.root.setAttribute("data-value",e.value),function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))}(e.root,e.value)})),M(t))}}};i(t.VIEW,qe);var Ve=function(e,t,n){return function(e,t,n){var i={valueMapping:null};if(e&&e.dataset.valueMapping){var r=e.dataset.valueMapping;i.valueMapping=-1!==["none","indexes"].indexOf(r)?r:null}return Object.assign({},$(i,e),j(i),O(i),F(i,t),I(i,z,W,n),M(i))}(e,t,n)},Ge=function(e,t,n){return function(e,t,n){var i={definitions:[]};return Object.assign({},$(i,e),O(i),F(i,t),I(i,U,q,n),M(i))}(e,t,n)},Ke=function(e,n,i){var r=a(t.VIEW,e);return r?r({Extension:{Type:t,getExtension:a},Utils:{toPixels:ke,toColor:xe},Canvas:{clear:Ue,getDevicePixelRatio:We,getBackingStoreRatio:ze},DOM:{visible:ee,create:G,transform:J},Animation:{animate:De},Data:{request:Rt},Date:{performance:jt},View:{rooter:$,drawer:I,updater:O,styler:Pe,grouper:F,resizer:j,destroyer:M}})(n,i):null},Xe=function(e,t){return"-"===e[t]&&">"===e[t+1]},Qe=function(e){return"'"===e||'"'===e},Je=function(e){return","===e},Ze=function(e){return"("===e},et=function(e){return")"===e},tt=function(e){return 0!==e.trim().length},nt=function(e,t){return e.push(t.trim())},it=function(e,t){return tt(t)?(nt(e,t),""):t},rt=function(e,t){return e.length&&t.push(e.length>1?e.concat():e[0]),[]},at=function e(t,n,i){for(var r="",a=[],o=null,s=!1;t<n.length;){var l=n[t];if(Ze(l)){s=!1;var c=[r.trim()];l=n[t=e(t+1,n,c)],a.push(c),r=""}else{if(et(l))return s&&r.trim().length&&(a.push([r.trim()]),r="",s=!1),tt(r)&&nt(a,r),a=rt(a,i),t+1;null!==o&&l!==o?r+=l:l===o?(a.push(r),r="",o=null):Qe(l)?(r="",o=l):Xe(n,t)?(s=!0,r.trim().length&&(a.push([r.trim()]),r=""),t+=2):Je(l)?(s&&r.trim().length&&(a.push([r.trim()]),r="",s=!1),a=rt(a,i),r=it(i,r)):r+=l,t++}}return(s&&r.trim().length||!s&&r.trim().length&&!a.length)&&(a.push([r.trim()]),r=""),rt(a,i),it(i,r),t},ot=function e(t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="root"!==i?"children"!==i?"repeat"!==i?t[i]:null===t[i]?null:e(t[i]):null===t[i]?null:t[i].map(e):t[i].cloneNode());return n.presenter=null,n},st={root:null,key:null,view:null,overlay:null,presenter:null,transform:null,layout:null,style:null,repeat:null,children:null,className:null},lt=function e(t){return Array.from(t).map((function(t){var n=Et(st,{root:t});for(var i in t.dataset)t.dataset.hasOwnProperty(i)&&void 0!==n[i]&&(n[i]=t.dataset[i]);return n.repeat?(n.repeat=e(t.children).pop(),Array.from(t.children).forEach((function(e){e.parentNode.removeChild(e)}))):t.children.length&&(n.children=e(t.children)),n}))},ct=function e(t){return t.map((function(t){return"string"==typeof(t=Et(st,t)).root?t.root=document.createElement(t.root):t.root=document.createElement("span"),t.transform&&(t.root.dataset.transform=t.transform),t.className&&(t.root.className=t.className),t.overlay&&(t.root.dataset.overlay=t.overlay),t.view?(t.root.dataset.view=t.view,t.style&&(t.root.dataset.style=t.style),t.repeat=null):(t.layout&&(t.root.dataset.layout=t.layout),t.repeat?(t.root.dataset.repeat=!0,t.repeat=e(t.children).pop()):t.children&&(t.children=e(t.children),t.children.forEach((function(e){t.root.appendChild(e.root)})))),t}))},dt=function(e){var t=!1,n=function(n,r){n.transform(r,(function(e){n.presenter.update(e)}),e),t||(t=!0,i())},i=function t(){e.baseDefinition.presenter.draw(),requestAnimationFrame(t)};return function t(i){return i.presenter=function(e,t){var n=void 0;return e.repeat?n=Ge(e.root,e.repeat,t):"string"==typeof e.view?n=Ke(e.view,e.root,e.style):function(e){return e.children&&e.children.length}(e)&&(n=Ve(e.root,e.children,t)),n}(i,t),i.transform=pt(i.transform,e),n}(e.baseDefinition)},ut=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){!function t(r,a){n.length<=r?i(a):n[r](a,ht(t,[r+1]),e)}(0,t)}},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];return function(){var i=Array.from(t);return Array.prototype.push.apply(i,arguments),e.apply(n,i)}},pt=function(e,t){if(!e)return function(e,t){return t(e)};if("function"==typeof e)return e;var n=function(e){var t=[];return at(0,e,t),t}("transform("+(/^[a-z]+$/.test(e)?e+"()":e)+")");return ft(n,t)},ft=function e(n,i){var r=n.map((function(n){var r=n.shift(),o=a(t.TRANSFORM,r)||function(e,t,n){t(e)},s=n.map((function(t){return Array.isArray(t)?"string"==typeof t[0]?e([t],i):e(t,i):Ct(t)}));return o.apply(void 0,Y(s))}));return ut.apply(void 0,[i].concat(Y(r)))},mt=function(e){var t=e.match(/[a-z]+/)[0];return{name:t,parameters:gt(e.substring(t.length))}},gt=function(e){return(e.match(/('.+?')|(".+?")|(\[.+?])|([.:\-\d\sa-zA-Z]+%?)/g)||[]).map(Mt).filter((function(e){return e.length})).map(Ct)},bt=function(e){return e.substring(1,e.length-1)},vt=/^([\d]{4}-[\d]{1,2}-[\d]{1,2})/,yt=/^(true|false)$/,_t=/^[\a-zA-Z]+$/,wt=/^0[\d]+/,kt=/^('|")/,xt=/^-?(?:\d+)?(?:\.|0\.)?[\d]+$/,At=/^(\[)/,Ct=function(e){return yt.test(e)?"true"===e:At.test(e)?gt(bt(e)):vt.test(e)?k(e):kt.test(e)?bt(e):_t.test(e)||wt.test(e)?e:xt.test(e)?parseFloat(e):e},St=function(e){var t=(e+"").match(/(-?[.\d]+)(%|ms|s|deg|cm|em|ch|ex|q|in|mm|pc|pt|px|vh|vw|vmin|vmax)?/);return{value:parseFloat(t[1]),units:t[2]}},Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=void 0===t[n]?e[n]:t[n]);return i},Tt=function(e){var t=window,n=e.split(".");return n.forEach((function(e,i){t[n[i]]&&(t=t[n[i]])})),t!==window?t:null},Dt=function(e){return/^(?:[\w]+\s?:\s?[\w.]+,\s?)+(?:[\w]+\s?:\s?[\w.]+)$/g.test(e)?e.match(/(?:(\w+)\s?:\s?([\w.]+))/g).reduce((function(e,t){var n=t.split(":");return e[n[0]]=Ct(n[1]),e}),{}):Ct(e)},Lt=function(e){return parseInt(e,10)},Mt=function(e){return e.trim()},$t=function(e){return"object"===(void 0===e?"undefined":R(e))&&null!==e?JSON.parse(JSON.stringify(e)):e},Ft=function(e){return e.slice()},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Bt=function(e){for(var t=[],n=0;n<e;n++)t.push(n);return t},Ot=function(e){for(var t=e.length;t;t--){var n=Math.floor(Math.random()*t),i=[e[n],e[t-1]];e[t-1]=i[0],e[n]=i[1]}},jt=function(){return window.performance.now()},Rt=function(e,t,n,i){var r=new XMLHttpRequest;i&&i(r),r.open("GET",e,!0),r.onload=function(){t(r.response)},n&&(r.onerror=function(){n(r,r.status)}),r.send()},Nt=function(e,t){return Pt(e)?Ht(e,t):Array.isArray(e)?Yt(e,t):e===t},Pt=function(e){return e===Object(e)},Ht=function(e,t){for(var n in e)if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1;return!0},Yt=function(e,t){return e.length==t.length&&e.every((function(e,n){return e===t[n]}))},zt=function(e){return Object.keys(e).map((function(e){return'"'+e+'"'})).join(", ")},Wt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.createElement("div");N(this,e),this._options=Et(e.options(),t),this._element=n,this._value=null,this._observer=null,this._viewDefinition=null,this._constants=null,this._presets=null,this._updater=null,this._didInit=null,this._didDestroy=null,this._willDestroy=null,this._didUpdate=null,this._init()}return P(e,[{key:"isRootElement",value:function(e){return this._element===e}},{key:"setConstant",value:function(e,t){this._constants[e]=t}},{key:"getConstants",value:function(){return this._constants}},{key:"getConstant",value:function(e){return this._constants[e]}},{key:"setPreset",value:function(e,t){this._presets[e]=t}},{key:"getPreset",value:function(e){return this._presets[e]}},{key:"destroy",value:function(){this._willDestroy(this),this._observer.disconnect(),this.baseDefinition.presenter.destroy(),this._didDestroy(this)}},{key:"redraw",value:function(){this.baseDefinition&&this.baseDefinition.presenter&&(this.baseDefinition.presenter.reset(),this.baseDefinition.presenter.draw(),this._updater(this.baseDefinition,this._value))}},{key:"_init",value:function(){var e=this;this._viewDefinition=this._options.view,this._willDestroy=this._options.willDestroy,this._didDestroy=this._options.didDestroy,this._didInit=this._options.didInit,this._didUpdate=this._options.didUpdate,this._value=this._options.value,this._presets=this._options.presets,this._constants=this._options.constants,this._element.classList.contains("tick")||this._element.classList.add("tick"),this._observer=K(this._element,["data-value"],(function(t){e.value=t})),this._viewDefinition.root!==this._element&&(Array.from(this._viewDefinition.root.children).forEach((function(t){e._element.appendChild(t)})),this._viewDefinition.root=this._element),this._viewDefinition.view||this._viewDefinition.children||(this._viewDefinition.view="text"),this._updater=dt(this),null!==this.value&&this._update(this.value),this._element.dataset.state="initialised",this._didInit(this,this.value)}},{key:"_update",value:function(e){this._updater(this.baseDefinition,e),this._didUpdate(this,e)}},{key:"baseDefinition",get:function(){return this._viewDefinition}},{key:"root",get:function(){return this._element}},{key:"value",get:function(){return this._value},set:function(e){this._value="string"==typeof e?Dt(e):e,this._update(e)}}],[{key:"options",value:function(){return{constants:Vt(),presets:Gt(),value:null,view:null,didInit:function(e){},didUpdate:function(e,t){},willDestroy:function(e){},didDestroy:function(e){}}}}]),e}(),Ut=function(e,t,n,i){return{label:1===e?t:n,progress:e/i,value:e}},qt=[],Vt=function(){return Kt},Gt=function(){return Xt},Kt={YEAR_PLURAL:"Years",YEAR_SINGULAR:"Year",MONTH_PLURAL:"Months",MONTH_SINGULAR:"Month",WEEK_PLURAL:"Weeks",WEEK_SINGULAR:"Week",DAY_PLURAL:"Days",DAY_SINGULAR:"Day",HOUR_PLURAL:"Hours",HOUR_SINGULAR:"Hour",MINUTE_PLURAL:"Minutes",MINUTE_SINGULAR:"Minute",SECOND_PLURAL:"Seconds",SECOND_SINGULAR:"Second",MILLISECOND_PLURAL:"Milliseconds",MILLISECOND_SINGULAR:"Millisecond"},Xt={y:function(e,t){return Ut(e,t.YEAR_SINGULAR,t.YEAR_PLURAL,10)},M:function(e,t){return Ut(e,t.MONTH_SINGULAR,t.MONTH_PLURAL,12)},w:function(e,t){return Ut(e,t.WEEK_SINGULAR,t.WEEK_PLURAL,52)},d:function(e,t){return Ut(e,t.DAY_SINGULAR,t.DAY_PLURAL,365)},h:function(e,t){return Ut(e,t.HOUR_SINGULAR,t.HOUR_PLURAL,24)},m:function(e,t){return Ut(e,t.MINUTE_SINGULAR,t.MINUTE_PLURAL,60)},s:function(e,t){return Ut(e,t.SECOND_SINGULAR,t.SECOND_PLURAL,60)},mi:function(e,t){return Ut(e,t.MILLISECOND_SINGULAR,t.MILLISECOND_PLURAL,1e3)}},Qt={value:Dt,didInit:Tt,didUpdate:Tt,didDestroy:Tt,willDestroy:Tt},Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.dataset,r={meta:{}};for(var a in i)if(i.hasOwnProperty(a)){var o=t[a],s=i[a];o&&(s=null===(s=o(s))?$t(n[a]):s,r[a]=s)}return r},Zt=function(e){var t=qt.filter((function(t){return t.isRootElement(e)}));return t?t[0]:null},en=function(){return H({},Wt.options(),{constants:H({},Kt),presets:H({},Xt)})},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(e&&!X(e)&&(t=e,e=void 0),!e||!Zt(e)){t&&t.view&&(t.view=ct([t.view])[0]),!t&&e&&(t=Jt(e,Qt,en())),e&&(t||(t={}),t.view||(t.view=lt([e])[0]));var n=new Wt(t,e);return qt.push(n),n}},nn=function(e){return function(){setTimeout(e,0)}},rn=function(){return Date.now()},an=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Et({autostart:!0},n),r=null,a=null,o=null,s=0,l=null,c=!1,d=null,u=function(){return c},h=function(){return null!==a},p=function(){return document.hidden},f=function n(){var i=rn(),o=r-i,l=t+o;r=i+l,e(i-a-s+o),d=setTimeout(n,l)},m=function(){u()?y():h()||(a=rn(),setTimeout((function(){e(0)}),0),C(),p()?k():(r=rn()+t,d=setTimeout((function(){f()}),t)))},g=function(){clearTimeout(d),d=null,a=null,r=null,o=null,s=0,l=null,c=!1,A()},b=function(){g(),m()},v=function(){h()&&!p()&&(c=!0,A(),_())},y=function(){u()&&h()&&!p()&&(c=!1,C(),w())},_=function(){clearTimeout(d),o=rn(),l=r-o},w=function(){s+=rn()-o,o=null,r=rn()+l,d=setTimeout((function(){f()}),l)},k=function(){_()},x=function(){h()&&w()},A=function(){document.removeEventListener("visibilitychange",S)},C=function(){document.addEventListener("visibilitychange",S)},S=function(){p()?k():x()};return i.autostart&&m(),{start:m,stop:nn(g),reset:nn(b),pause:nn(v),resume:y}},on=function(e){/^[\d]+/.test(e)||(e="1 "+e);var t=e.split(" ");return parseFloat(t[0])*o[t[1].toLowerCase()]},sn=function(e,t){return function(e,t){return e.setHours(t[0]||0,t[1]||0,t[2]||0,t[3]||0),e}(e,t.split(":").map(Lt))},ln=function(e,t){var n=t.match(/((?:[\d]+\s)?(?:hours|hour|minutes|minute|seconds|second))|((?:from|till)\s[\d]+(?::[\d]+)?(?::[\d]+)?)|(wait\s[\d]+\s[a-z]+)/g).reduce((function(e,t){return/from/.test(t)?e.from=sn(e.from,t.split(" ")[1]):/till/.test(t)?e.till=sn(e.till,t.split(" ")[1]):/wait/.test(t)?e.idle=on(t.substr(5)):/hours|hour|minutes|minute|seconds|second/.test(t)&&(e.interval=on(t)),e}),{idle:null,interval:null,date:null,dist:null,wait:!1,from:sn(T(e),"0"),till:sn(T(e),"23:59:59:999")});if(e<n.from||e>=n.till)return n;if(n.interval>n.till-n.from)return n;var i=e-n.from,r=n.interval-i%n.interval;return null!==n.idle&&r>=n.interval-n.idle?(n.wait=!0,n):(n.dist=r,n.date=new Date(e.getTime()+n.dist),n)},cn=function(e,t){return/januari|februari|march|april|may|june|july|august|september|october|november|december/.test(t)?function(e,t){var n=t.match(/januari|februari|march|april|may|june|july|august|september|october|november|december|[\d]+th|\dst|\dnd|first|last|at\s[\d]+(?::[\d]+)?(?::[\d]+)?/g);if(n.length>1){var i="";n.forEach((function(e){i=t.split(e)[1]||""}));var r=i.trim().match(/wait\s[\d]+\s[a-z]+/);r&&n.push(r[0])}var a=n.reduce((function(t,n){return/([\d]+th|\dst|\dnd|first|last)/.test(n)&&(t.day=/^[\d]/.test(n)?parseInt(n,10):"first"===n?1:n),/^at/.test(n)?t.time=sn(T(e),n.substr(3)):/wait/.test(n)?t.idle=on(n.substr(5)):/^[\a-zA-Z]+$/.test(n)&&(t.month=n),t}),{idle:null,day:null,month:null,time:null,date:null,dist:null,wait:!1});if(a.time){a.time.setDate(1),a.time=m(a.time,a.month),a.time=f(a.time,a.day);var o=a.time-e,s=0;if(o<0&&(s=o,a.time.setFullYear(a.time.getFullYear()+1),o=a.time-e),null!==a.idle&&s+a.idle>0)return a.wait=!0,a;a.dist=o}else{a.time=T(e),a.time.setDate(1),a.time=m(a.time,a.month),a.time=f(a.time,a.day);var l=ln(a.time,t);if(l.wait)return a;a.time=T(y(e,a.time)&&l.date?l.date:l.from);var c=a.time-e;c<0&&(a.time=T(l.from),a.time.setFullYear(a.time.getFullYear()+1),c=a.time-e),a.dist=c}return a.date=T(a.time),a}(e,t):/month/.test(t)?function(e,t){var n=t.match(/[\d]+th|\dst|\dnd|first|last|at\s[\d]+(?::[\d]+)?(?::[\d]+)?/g);if(n.length>1){var i="";n.forEach((function(e){i=t.split(e)[1]||""}));var r=i.trim().match(/wait\s[\d]+\s[a-z]+/);r&&n.push(r[0])}var a=n.reduce((function(t,n){return/([\d]+th|\dst|\dnd|first|last)/.test(n)&&(t.day=/^[\d]/.test(n)?parseInt(n,10):"first"===n?1:n),/^at/.test(n)?t.time=sn(T(e),n.substr(3)):/wait/.test(n)&&(t.idle=on(n.substr(5))),t}),{idle:null,day:null,time:null,date:null,dist:null,wait:!1});if(a.time){a.time=f(a.time,a.day);var o=a.time-e,s=0;if(o<0&&(s=o,a.time.setDate(1),a.time.setMonth(a.time.getMonth()+1),f(a.time,a.day),o=a.time-e),null!==a.idle&&s+a.idle>0)return a.wait=!0,a;a.dist=o}else{a.time=f(T(e),a.day);var l=ln(a.time,t);if(l.wait)return a;a.time=T(y(e,a.time)&&l.date?l.date:l.from);var c=a.time-e;c<0&&(a.time=T(l.from),a.time.setDate(1),a.time.setMonth(a.time.getMonth()+1),f(a.time,a.day),c=a.time-e),a.dist=c}return a.date=T(a.time),a}(e,t):/(?:mon|tues|wednes|thurs|fri|satur|sun)day/.test(t)?function(e,t){var n=t.match(/(?:mon|tues|wednes|thurs|fri|satur|sun)day|at\s[\d]+(?::[\d]+)?(?::[\d]+)?/g);if(n.length>1){var i="";n.forEach((function(e){i=t.split(e)[1]||""}));var r=i.trim().match(/wait\s[\d]+\s[a-z]+/);r&&n.push(r[0])}var a=n.reduce((function(t,n){return/(?:mon|tues|wednes|thurs|fri|satur|sun)day/.test(n)&&(t.day=d[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(n)]),/^at/.test(n)?t.time=sn(T(e),n.substr(3)):/wait/.test(n)&&(t.idle=on(n.substr(5))),t}),{idle:null,day:null,time:null,date:null,dist:null,wait:!1});if(a.time){a.time=p(a.time,a.day);var s=a.time-e;if(s<0&&(a.time.setDate(a.time.getDate()+7),s=a.time-e),null!==a.idle&&s>=o.Week-a.idle)return a.wait=!0,a;a.dist=s}else{a.time=p(T(e),a.day);var l=ln(a.time,t);if(l.wait)return a;a.time=T(y(e,a.time)&&l.date?l.date:l.from);var c=a.time-e;c<0&&a.time.setDate(a.time.getDate()+7),a.dist=c}return a.date=T(a.time),a}(e,t):/day at/.test(t)||/^at /.test(t)?function(e,t){var n=t.match(/([\d]+(?::[\d]+)?(?::[\d]+)?)|(wait\s[\d]+\s[a-z]+)/g).reduce((function(t,n){return/^[\d]/.test(n)?t.time=sn(T(e),n):/wait/.test(n)&&(t.idle=on(n.substr(5))),t}),{idle:null,time:null,date:null,wait:!1,dist:null}),i=n.time-e;return i<0&&(n.time.setDate(n.time.getDate()+1),i=n.time-e),null!==n.idle&&i>=o.Day-n.idle?(n.wait=!0,n):(n.dist=i,n.date=T(n.time),n)}(e,t):/hours|hour|minutes|minute|seconds|second/.test(t)?ln(e,t):null},dn=function(e,t){for(var n=t.split(",").map(Mt).map((function(t){return cn(e,t)})),i=null,r=0;r<n.length;r++){var a=n[r];if(null===i&&a.wait)return null;(null===i||null===i.dist&&null!==a.dist||null!==a.dist&&a.dist<i.dist)&&(i=a)}return i.date},un=function(e,t){!0!==e?"string"!=typeof e?setTimeout((function(){t(0)}),0):setTimeout((function(){t(k(e).getTime()-E().getTime())}),0):function(e){var t=new XMLHttpRequest,n=Date.now();t.open("HEAD",window.location+"?noCache="+n),t.setRequestHeader("Content-Type","text/html"),t.setRequestHeader("Cache-Control","no-cache"),t.onload=function(){var i=.5*(n-Date.now()),r=new Date(t.getResponseHeader("Date"));e(new Date(r.getTime()+i))},t.send()}((function(e){t(e.getTime()-E().getTime())}))},hn={format:["d","h","m","s"],cascade:!0,server:null,interval:1e3},pn=function(e){return H({complete:!1,offset:null,value:null,timer:null,onload:function(){},onupdate:function(e){}},e)},fn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"!=typeof e)throw'Can\'t start counter, the "milliseconds" parameter is required';var n=(t=Et({units:"seconds",target:0,amount:1e3,interval:1e3},t)).target,i=e,r=pn({target:n,onended:function(){}});return setTimeout((function(){r.timer=an((function(a){if((i=e-a/t.interval*t.amount)<=n)return r.value=t.target,r.onupdate(r.value/o[t.units]),r.timer.stop(),void r.onended();r.value=i,r.onupdate(r.value/o[t.units])}),t.interval,{autostart:!1}),r.complete=!0,r.onload(),r.timer.start()}),0),r},mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw'Can\'t start counter, the "due" parameter is required';t=Et(hn,t);var n=h(e)?e:k(e),i=pn({due:T(n),onended:function(){}});return un(t.server,(function(e){i.offset=e;i.timer=an((function(){var r=b(e);if(n-r<=0)return i.value=new Array(t.format.length).fill(0),i.onupdate(i.value),i.timer.stop(),void i.onended();i.value=C(r,n,t.format,t.cascade),i.onupdate(i.value)}),t.interval,{autostart:!1}),i.complete=!0,i.onload(),i.timer.start()})),i},gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(n,i){return i((parseFloat(n)-e)/(t-e))}},bn=function(e,t,n,i){t[e]=n[e],i(Ft(t))},vn={ascii:function(){return function(e,t){return t((e+"").charCodeAt(0))}},char:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e?new RegExp("[^"+e+"]","g"):null;return function(e,i){var r=String.fromCharCode(e);n&&(r=r.replace(n,t)),i(r)}},tween:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ease-linear",i=arguments[2];e=pe(e);var r=a(t.EASING_FUNCTION,n),o=null,s=null;return function(t,n){if(t=parseFloat(t),o&&o(),null===s||t===s)return s=t,void n(t);var a=s,l=t-a;o=De((function(e){n(a+e*l)}),(function(){o=null}),e,r,i),s=t}},value:function(e){return function(t,n){return n(e)}},input:function(){return function(e,t){return t(e)}},rotate:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var i=Array.isArray(e)?e:[e],r=[],a=t.length;i.forEach((function(e,o){t[o%a](e,(function(e){r[o]=e,o===i.length-1&&n(r)}))}))}},map:function(e){return function(t,n){var i=[],r=t;r.forEach((function(t,a){e(t,(function(e){i[a]=e,a===r.length-1&&n(i.concat())}))}))}},transform:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var i=[],r=e;t.forEach((function(e,a){e(r,(function(e){i[a]=e,a===t.length-1&&n(1===i.length?i[0]:i)}))}))}},upper:function(){return function(e,t){return t((e+"").toUpperCase())}},lower:function(){return function(e,t){return t((e+"").toLowerCase())}},abs:function(){return function(e,t){return t(Math.abs(e))}},add:function(e){return function(t,n){return n(t+e)}},subtract:function(e){return function(t,n){return n(t-e)}},modulus:function(e){return function(t,n){return n(t%e)}},pad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left";return function(n,i){return i(e.length>(""+n).length?"left"===t?(""+e+n).slice(-e.length):(""+n+e).substring(0,e.length):n)}},number:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return function(i,r){r((i<0?"-":"")+parseFloat(Math.abs(i)).toFixed(n).replace(/./g,(function(n,i,r){return"."===n?e:i&&(r.length-i)%3==0?t+n:n})))}},replace:function(e,t){return function(n,i){return i((n+"").replace(new RegExp("."===e?"\\"+e:e,"g"),t))}},round:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n){return n(e?t.toFixed(e):Math.round(t))}},ceil:function(){return function(e,t){return t(Math.ceil(e))}},floor:function(){return function(e,t){return t(Math.floor(e))}},fraction:gn,percentage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=gn(e,t);return function(e,t){n(e,(function(e){t(100*e)}))}},multiply:function(e){return function(t,n){return n(t*e)}},divide:function(e){return function(t,n){return n(t/e)}},split:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){return n((t+"").split(e))}},format:function(e){return function(t,n){return n(e.replace(/\$0/gi,t))}},plural:function(e,t){return function(n,i){return i(1===n?e:t)}},limit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n,i){return i(Math.min(Math.max(n,e),t))}},reverse:function(){return function(e,t){return t(Array.isArray(e)?e.reverse():(e+"").split("").reverse().join(""))}},arrive:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=null,a=null,o=null;return function(s,l){return s=parseFloat(s),null===r?(r=s,void l(s)):(n&&null!==a&&r===s&&(o.cancel(),o=null),i&&null!==a&&s-o.getPosition()>1?(o.cancel(),o=null,a=null,r=s,void l(s)):(o?o.update(l,s):(o=$e("arrive",e,t)).update(l,r,s),void(a=s)))}},spring:function(e,t,n){var i=null,r=null;return function(a,o){if(a=parseFloat(a),null===i)return i=a,void o(a);r?r.update(o,a):(r=$e("spring",e,t,n)).update(o,i,a)}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rtl",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=null;return function(r,a){if(!i)return i=Ft(r),void a(Ft(i));i="rtl"===e?i.slice(i.length-r.length,i.length):i.slice(0,r.length);var o=Bt(r.length);"random"===e&&Ot(o),"rtl"===e&&o.reverse();!function e(){bn(o.shift(),i,r,a),o.length&&setTimeout(e,It(t,n))}()}},step:function(e){var t=null,n=null,i=null;return function(r,a){if(r=parseFloat(r),null===t)return t=r,void a(r);null!==n&&t===r&&(i.cancel(),i=null),i?i.update(a,r):(i=$e("step",e)).update(a,t,r),n=r}},keys:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){var i={};e.forEach((function(e,n){i[t[n]]=e})),n(i)}},duration:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return n(A(e,t))}},substring:function(e,t){return function(n,i){return i((n+"").substring(e,t))}},preset:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){return n(e.map((function(e,n){return i.getPreset(t[n])(e,i.getConstants(),i)})))}}};i(t.TRANSFORM,vn);var yn={x:"translateX",y:"translateY",z:"translateZ"},_n={x:"rotateX",y:"rotateY",z:"rotateZ"},wn={both:"scale",x:"scaleX",y:"scaleY"},kn=function(e,t,n){return e+(t-e)*n},xn={fade:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(n<0){var o=[a,r];r=o[0],a=o[1]}e.style.opacity=kn(r,a,i(t))},move:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"100%",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"y";if(n<0){var s=[a,r];r=s[0],a=s[1]}var l=ie(r,St),c=ie(a,St);J(e,yn[o],kn(l.value,c.value,i(t)),l.units||c.units)},rotate:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"90deg",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"x";if(n<0){var s=[a,r];r=s[0],a=s[1]}var l=ie(r,St),c=ie(a,St);J(e,_n[o],kn(l.value,c.value,i(t)),l.units||c.units)},scale:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"both";if(n<0){var s=[a,r];r=s[0],a=s[1]}J(e,wn[o],kn(r,a,i(t)))},crossfade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1],n=arguments[2];return{intro:[{name:"fade",parameters:[0,1],duration:1e3*e,delay:pe(t)}],outro:[{name:"fade",parameters:[1,0],duration:1e3*e,delay:pe(n)}]}},swap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments[3],r=arguments[4];return{intro:[{name:"move",parameters:[""+100*-t,"0%",e],duration:1e3*n,delay:pe(i)}],outro:[{name:"move",parameters:["0%",""+100*t,e],duration:1e3*n,delay:pe(r)}]}},revolve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"y",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments[3],r=arguments[4];return{intro:[{name:"rotate",parameters:[90*-t+"deg","0deg",e],duration:1e3*n,delay:pe(i)}],outro:[{name:"rotate",parameters:["0deg",90*t+"deg",e],duration:1e3*n,delay:pe(r)}]}},zoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],i=arguments[3];return{intro:[{name:"scale",parameters:[e,1],duration:1e3*t,delay:pe(n)}],outro:[{name:"scale",parameters:[1,e],duration:1e3*t,delay:pe(i)}]}}};i(t.TRANSITION,xn);var An={supported:function(){var e=window;if(void 0===e)return!1;var t=e.CSS&&e.CSS.supports,n=!!e.MSInputMethodContext&&!!document.documentMode,i=t&&CSS.supports("transform","translateX(0)");return n||t&&i&&!!["MutationObserver","requestAnimationFrame"].filter((function(t){return t in e})).length}(),options:{setConstant:function(e,t){Kt[e]=t},setPreset:function(e,t){Xt[e]=t}},helper:{interval:an,date:function(e){return e?k(e):E()},duration:S},data:{request:Rt,poll:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e4;return an((function(){Rt(e,t)}),n)}},DOM:{create:tn,destroy:function(e){var t=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].isRootElement(t))return n;return-1}(qt,e);return!(t<0)&&(qt[t].destroy(),qt.splice(t,1),!0)},parse:function(e){var t,n=void 0,i=void 0,r=[];for(i=(t=e.querySelectorAll(".tick:not([data-state])")).length;i--;)n=t[i],r.push(tn(n));return r},find:Zt},count:{down:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if("number"==typeof t[0]&&"string"==typeof t[1]){var i=t[0],r=t[1].toLowerCase();return t.shift(),t[0]=S(i,r),t[1]=t[1]||{},t[1].units=r,fn.apply(void 0,t)}return"string"==typeof t[0]||h(t[0])?mn.apply(void 0,t):null},up:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw'Can\'t start counter, the "since" parameter is required';t=Et(hn,t);var n=h(e)?e:k(e),i=pn({since:T(n)});return un(t.server,(function(e){i.offset=e;i.timer=an((function(){var r=b(e);i.value=C(n,r,t.format,t.cascade),i.onupdate(i.value)}),t.interval,{autostart:!1}),i.complete=!0,i.onload(),i.timer.start()})),i},schedule:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw'Can\'t start scheduler, "schedule" is a required parameter';var n=(t=Et(H({},hn,{timezone:null}),t)).timezone?g(t.timezone):null,i=pn({waiting:null,nextScheduledDate:null,previouslyScheduledDate:null,onrepeat:function(e,t){},onresume:function(e){},onwait:function(e){}}),r=void 0,a=null;return un(t.server,(function(o){i.offset=o;i.timer=an((function(){var s=b(o);if(null!==n&&(s=v(s,n)),a=dn(s,e),i.waiting=null===a,i.waiting)return void 0===r&&(r=null),i.value=new Array(t.format.length).fill(0),i.nextScheduledDate&&(i.previouslyScheduledDate=T(i.nextScheduledDate)),i.nextScheduledDate=null===a?null:T(a),void i.onwait(i.previouslyScheduledDate?T(i.previouslyScheduledDate):null);i.nextScheduledDate=T(a),null===r&&i.onresume(T(a)),(null===r||void 0!==r&&!_(r,a))&&(i.onrepeat(T(a),r?T(r):null),r&&(i.previouslyScheduledDate=T(r))),r=T(a),i.value=C(s,a,t.format,t.cascade),i.onupdate(i.value)}),t.interval,{autostart:!1}),i.complete=!0,i.onload(),i.timer.start()})),i}},plugin:{add:function(e,t,n){if("function"==typeof e){var i=e;return r(i.identifier.type,i.identifier.name,i)}return r(e,t,n)}}},Cn=function(e){if(!t.hasOwnProperty(e))return"continue";An.plugin[function(e){return e.replace(/-./g,(function(e){return e.charAt(1).toUpperCase()}))}("add-"+t[e])]=function(n,i){r(t[e],n,i)}};for(var Sn in t)Cn(Sn);return e.exports=An,e.exports}():null,r="undefined"!=typeof window?function(){if(!e)var e={};!function(){function e(e){this.value=e}function t(t){var n,i;function r(n,i){try{var o=t[n](i),s=o.value;s instanceof e?Promise.resolve(s.value).then((function(e){r("next",e)}),(function(e){r("throw",e)})):a(o.done?"return":"normal",o.value)}catch(e){a("throw",e)}}function a(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):i=null}this._invoke=function(e,t){return new Promise((function(a,o){var s={key:e,arg:t,resolve:a,reject:o,next:null};i?i=i.next=s:(n=i=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();return e.exports=function(e){var n=e.DOM,i=(e.Animation.animate,e.Extension),r=e.Date.performance,a=e.View,o=a.rooter,s=a.destroyer,l=a.drawer,c=a.updater,d=a.styler,u=i.getExtension(i.Type.EASING_FUNCTION,"ease-out-cubic"),h=i.getExtension(i.Type.EASING_FUNCTION,"ease-out-sine"),p=function(e){if(e.isInitialValue()){e.root.textContent="",e.spacer=n.create("span","tick-flip-spacer"),e.root.appendChild(e.spacer);var t=n.create("span","tick-flip-shadow-top tick-flip-shadow tick-flip-front"),a=n.create("span","tick-flip-shadow-bottom tick-flip-shadow tick-flip-back");e.root.appendChild(t),e.root.appendChild(a),e.shadowCard=n.create("span","tick-flip-card-shadow"),e.root.appendChild(e.shadowCard)}if(e.spacer.textContent=e.value,e.isInitialValue()||n.visible(e.root)){var o=e.cards[e.cards.length-1];if(o&&(o.waiting=!1,o.offset=r(),o.back=e.value),e.isInitialValue()){var s=new f;s.back=e.value,s.offset=null,s.progress=1,e.root.insertBefore(s.root,e.root.firstChild),e.cards.push(s)}var l=new f;if(l.offset=null,l.progress=0,l.visual_progress=0,l.waiting=!0,l.front=e.value,l.rotate(0),e.root.insertBefore(l.root,e.root.firstChild),e.cards.push(l),!e.animating){e.animating=!0;var c=i.getExtension(i.Type.EASING_FUNCTION,e.style.flipEasing);!function t(){var i=e.cards.filter((function(e){return!e.done&&!e.waiting}));if(0!==i.length){i.forEach((function(t){null!==t.offset&&(t.progress=(r()-t.offset)/e.style.flipDuration),t.progress>=1&&(t.progress=1,t.done=!0),t.visual_progress=c(t.progress)}));i.reverse().forEach((function(e,t){var n=i[t-1];n&&e.visual_progress<=n.visual_progress&&(e.visual_progress=n.visual_progress+.01)})),i.reverse(),e.cards.forEach((function(t,n){var i=1-2*Math.abs(t.visual_progress-.5),r=1-(t.visual_progress-.5)/.5;t.shadowFront=i,t.highlightBack=r;var a=e.cards[n+1];a&&t.visual_progress>.5&&t.visual_progress>0&&(t.shadowBack=u(a.visual_progress))})),i.forEach((function(e,t){var n=e.visual_progress;n>.5&&!e.done?e.root.style.zIndex=10+t:e.root.style.removeProperty("z-index"),e.rotate(-180*n)}));var a=0,o=1;i.forEach((function(e){var t=Math.abs(e.visual_progress-.5);t<o&&(o=t,a=e.visual_progress)}));var s=h(a<.5?a/.5:(1-a)/.5);e.shadowCard.style.opacity=s,n.transform(e.shadowCard,"scaleY",s),e.cards.filter((function(e){return e.done})).slice(0,-1).forEach((function(t){e.cards=e.cards.filter((function(e){return e!==t})),t.root.parentNode&&e.root.removeChild(t.root)})),requestAnimationFrame(t)}else e.animating=!1}()}}else e.cards.forEach((function(t){t.back=e.value,t.front=e.value}))},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._root=n.create("span","tick-flip-card");var t=n.create("span","tick-flip-panel-front tick-flip-front tick-flip-panel"),i=n.create("span","tick-flip-panel-front-text"),r=n.create("span","tick-flip-panel-text-wrapper");i.appendChild(r);var a=n.create("span","tick-flip-panel-front-shadow");t.appendChild(i),t.appendChild(a);var o=n.create("span","tick-flip-panel-back tick-flip-back tick-flip-panel"),s=n.create("span","tick-flip-panel-back-text"),l=n.create("span","tick-flip-panel-text-wrapper");s.appendChild(l);var c=n.create("span","tick-flip-panel-back-highlight"),d=n.create("span","tick-flip-panel-back-shadow");o.appendChild(s),o.appendChild(c),o.appendChild(d),this._root.appendChild(t),this._root.appendChild(o),this._front=t,this._back=o,this._shadowFront=a,this._shadowBack=d,this._highlightBack=c,this._textBack=l,this._textFront=r,this._frontValue=null,this._backValue=null}return t(e,[{key:"rotate",value:function(e){this._front.style.transform="rotateX("+e+"deg)",this._back.style.transform="rotateX("+(-180+e)+"deg)"}},{key:"root",get:function(){return this._root}},{key:"front",set:function(e){this._frontValue=e,this._textFront.textContent=e},get:function(){return this._frontValue}},{key:"back",set:function(e){this._backValue=e,this._textBack.textContent=e},get:function(){return this._backValue}},{key:"highlightBack",set:function(e){this._highlightBack.style.opacity=e}},{key:"shadowBack",set:function(e){this._shadowBack.style.opacity=e}},{key:"shadowFront",set:function(e){this._shadowFront.style.opacity=e}}]),e}();return function(e){var t={cards:[],lastCard:null,initialCard:null,shadowAbove:null,shadowBelow:null,shadowCard:null,currentValue:null,lastValue:null,front:null,back:null};return Object.assign({},o(t,e,"flip"),c(t),d(t,{flipDuration:800,flipEasing:"ease-out-bounce"}),l(t,p),s(t))}},e.exports.identifier={name:"flip",type:"view"},e.exports}():null;i.plugin.add(r);t.default=i},function(e,t,n){(e.exports=n(18)(!0)).push([e.i,'.m-r-10{margin-right:10px}.m-t-20{margin-top:20px}[data-bump="false"]{display:none}.m-b-20{margin-bottom:20px}.h-auto{height:auto !important}body.builderUI{padding:41px 0px 0px 90px;background:#ecf0f1;display:block}.side{width:90px;height:100%;background-color:#2d3e4f;padding-top:40px;position:fixed;top:0px;left:0px;z-index:100}.side button{border:0px;padding:18px 0px;background:none;background-color:none;width:90px;transition:background-color .5s}.side button:disabled{opacity:0.5;cursor:default}.side button svg{width:50px;height:50px}.side button svg path{transition:fill .5s;transition-delay:0s}.side button span{color:#bdc3c7;font-size:10px;text-transform:uppercase;display:block;text-align:center;transition:color .5s;transition-delay:0s}.side button:hover,.side button.active{background-color:#35495d}.side button:hover svg path,.side button.active svg path{fill:#ecf0f1}.side button:hover span,.side button.active span{color:#ecf0f1}body>header{background:RGBA(53, 73, 93, 1);right:0px;top:0px;width:calc(100vw - 90px);z-index:9999;padding-right:0px;padding-left:0px;position:fixed}body>header button,body>header btn{border-radius:0px !important}body>header .select2-container{margin-bottom:0px !important}body>header .responsiveToggle{margin-left:0px;transition:margin-left .5s}body>header .responsiveToggle a{width:58px;text-align:center;padding:11px 18px 11px;font-size:20px;height:41px}body>header .responsiveToggle a svg path{fill:#bdc3c7;transition:fill .5s}body>header .responsiveToggle a:hover svg path,body>header .responsiveToggle a.active svg path{fill:#fff}.sideSecondOpen .responsiveToggle{margin-left:250px}body>header .slick,body>header .slick>button{display:flex;padding-right:3px}body>header .slick>i,body>header .slick>button>i{float:left}body>header .slick .slide,body>header .slick>button .slide{width:0px;display:inline-block;overflow:hidden;float:left;text-align:left;padding-left:10px;transition:width 0.25s linear 0s;-webkit-transition:width 0.25s linear 0s;-moz-transition:width 0.25s linear 0s}body>header .slick:hover .slide,body>header .slick>button:hover .slide{width:125px;transition-delay:0.25s}body>header .dropdown-menu.revisions-dropdown{width:260px;max-height:400px;overflow-y:auto}body>header .dropdown-menu.revisions-dropdown li{color:#fff;padding:5px 11px 7px}body>header .dropdown-menu.revisions-dropdown li>a{display:inline;padding:0px;margin:0px}body>header .dropdown-menu.revisions-dropdown li>a:before,body>header .dropdown-menu.revisions-dropdown li>a:after{content:none}body>header .gridViewToggle{color:#ecf0f1;margin:5px 0px 0px 15px;float:left;border-left:1px dashed #798b9d;padding-left:15px}.builderLayout{display:flex;flex-direction:row;min-height:calc(100vh - 41px)}.builderLayout>.sideSecond{width:0px;background-color:#35495d;transition:width .5s;overflow:hidden}.builderLayout>.sideSecond.open{width:250px}.builderLayout>.sideSecond.open .sideSecondInner{opacity:1;width:250px}.builderLayout>.sideSecond.open .sideSecondInner button.closeSideSecond{opacity:1}.builderLayout>.sideSecond.open .sideSecondInner .heading{width:250px}.builderLayout>.sideSecond .sideSecondInner{position:fixed;width:0px;max-height:calc(100vh - 41px);height:100%;opacity:0;padding-top:55px;transition:opacity .5s,width .5s;overflow-y:auto;overflow-x:hidden}.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond{background:none;border:0px;position:absolute;top:13px;right:15px;opacity:0;transition:opacity 1s}.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond svg{width:20px}.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond svg path,.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond svg polygon{transition:fill .5s}.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond:hover svg path,.builderLayout>.sideSecond .sideSecondInner button.closeSideSecond:hover svg polygon{fill:#fff}.builderLayout>.sideSecond .sideSecondInner .heading{padding:15px 20px 15px;height:55px;width:0px;background-color:RGBA(53, 73, 93, 1);position:fixed;top:41px;z-index:10;transition:width .5s}.builderLayout>.sideSecond .sideSecondInner h4{color:#ecf0f1;font-size:21px;margin:0px}.builderLayout>.sideSecond .sideSecondInner::-webkit-scrollbar{width:5px;background-color:#2d3e4f}.builderLayout>.sideSecond .sideSecondInner::-webkit-scrollbar-thumb{background-color:#bdc3c7;outline:0px;border:0px;border-radius:0px}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button,.builderLayout>.sideSecond[data-sidesecond="components"] nav button,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button{display:block;background:none;background-color:none;border:none;color:#bdc3c7;width:100%;text-align:left;padding:0px 20px;overflow:hidden;height:49px;opacity:1;transition:color .5s,background-color .5s,height .5s,opacity .5s}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button svg,.builderLayout>.sideSecond[data-sidesecond="components"] nav button svg,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button svg,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button svg{float:right;height:12px;width:12px;position:relative;top:7px;transition:transform .5s ease-in-out}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button svg polygon,.builderLayout>.sideSecond[data-sidesecond="components"] nav button svg polygon,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button svg polygon,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button svg polygon{transition:fill .5s ease-in}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button span,.builderLayout>.sideSecond[data-sidesecond="components"] nav button span,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button span,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button span{height:22px;display:inline-block;text-overflow:ellipsis;overflow:hidden;width:90%;white-space:nowrap}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.active{position:fixed;width:250px;z-index:1}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button:hover,.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="components"] nav button:hover,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button:hover,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.active,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button:hover,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.active{background-color:#00b591;color:#fff}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button:hover svg,.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.active svg,.builderLayout>.sideSecond[data-sidesecond="components"] nav button:hover svg,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.active svg,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button:hover svg,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.active svg,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button:hover svg,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.active svg{transform:rotate(90deg)}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button:hover svg polygon,.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.active svg polygon,.builderLayout>.sideSecond[data-sidesecond="components"] nav button:hover svg polygon,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.active svg polygon,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button:hover svg polygon,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.active svg polygon,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button:hover svg polygon,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.active svg polygon{fill:#fff}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.active:hover svg,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.active:hover svg,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.active:hover svg,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.active:hover svg{transform:rotate(270deg)}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav button.noshow,.builderLayout>.sideSecond[data-sidesecond="components"] nav button.noshow,.builderLayout>.sideSecond[data-sidesecond="templates"] nav button.noshow,.builderLayout>.sideSecond[data-sidesecond="popups"] nav button.noshow{height:0px;opacity:0}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul{display:none;padding:0px;margin:0px}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul li,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul li,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul li,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul li{margin:10px 10px 0px;position:relative}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul li img,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul li img,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul li img,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul li img{max-width:100%;cursor:move;border-radius:5px}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul li.templ>img,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul li.templ>img,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul li.templ>img,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul li.templ>img{cursor:pointer}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul li>.delFavBlock,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul li>.delFavBlock,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul li>.delFavBlock,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul li>.delFavBlock{color:#be3a31;position:absolute;top:5px;right:10px;font-size:18px;opacity:0.5;transition:opacity .5s ease-in-out}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul li>.delFavBlock:hover,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul li>.delFavBlock:hover,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul li>.delFavBlock:hover,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul li>.delFavBlock:hover{opacity:1}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul.unhide,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul.unhide,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul.unhide,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul.unhide{display:block;padding-top:50px}.builderLayout>.sideSecond[data-sidesecond="blocks"] nav>ul.unhide:empty:before,.builderLayout>.sideSecond[data-sidesecond="components"] nav>ul.unhide:empty:before,.builderLayout>.sideSecond[data-sidesecond="templates"] nav>ul.unhide:empty:before,.builderLayout>.sideSecond[data-sidesecond="popups"] nav>ul.unhide:empty:before{content:attr(data-no-fav-blocks);background:#fff;border-radius:5px;padding:40px 20px;display:block;margin:10px;text-align:center;font-size:16px;line-height:21px}.builderLayout>.sideSecond[data-sidesecond="templates"] ul{margin:0px;padding:0px}.builderLayout>.sideSecond[data-sidesecond="templates"] ul li{margin:10px 10px 10px;position:relative}.builderLayout>.sideSecond[data-sidesecond="templates"] ul li img{max-width:100%;cursor:move;border-radius:5px}.builderLayout>.sideSecond[data-sidesecond="templates"] ul li a.btn-danger{z-index:100;right:5px;top:5px;position:absolute;border-radius:5px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul{padding:0px;margin:0px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li{height:49px;line-height:49px;padding:0px 20px;overflow:hidden;background-color:transparent;transition:background-color .5s;cursor:pointer}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li:after{content:"";display:block;clear:both;width:100%}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li a{color:#bdc3c7;transition:color .5s;float:left;width:65%;overflow:hidden;text-overflow:ellipsis}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons{float:right;margin-top:12px;opacity:0;transition:opacity .5s}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons button{float:right}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons button.fileSave{display:none;border-radius:5px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons button.fileDel{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:0px;border-bottom-right-radius:0px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons button.fileEdit{border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:5px;border-bottom-right-radius:5px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li .pageButtons button.fileDuplicate{border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.edit .pageButtons .fileEdit,.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.edit .pageButtons .fileDel,.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.edit .pageButtons .fileDuplicate{display:none}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.edit .pageButtons .fileSave{display:block}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.edit input[type="text"]{border:0px;background:none;color:#fff;float:left}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li:hover,.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.active{background-color:#2d3e4f}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li:hover .pageButtons,.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.active .pageButtons{opacity:1}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li:hover a,.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner ul li.active a{color:#fff}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner hr{border-top:2px dashed #bdc3c7;margin:20px 0px 10px;width:100%}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner .buttonWrapper{padding:10px}.builderLayout>.sideSecond[data-sidesecond="pages"] .sideSecondInner .buttonWrapper .btn{width:100%;display:block}.builderLayout>.sideSecond[data-sidesecond="popups"] ul{display:block !important}.builderLayout>.canvasWrapper{flex-grow:1;padding:18px 18px 0px}body .modal-dialog{margin:120px auto 30px}.toggle:hover,.toggle:focus{color:#fff}#hidden{display:none !important}.actionButtons{border-radius:0px}.margin-bottom-5{margin-bottom:5px}textarea:hover,input:hover,textarea:active,input:active,textarea:focus,input:focus,button:focus,button:active,button:hover{outline:0px !important;-webkit-appearance:none}body .drop-hover{border:3px dashed #95a5a6;height:150px;background:#ecf0f1}#loader{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;background-color:#4684ee;position:fixed;left:0px;top:0px;width:100%;height:100%;background:#2c3e50;z-index:10000}#loader span{color:#ecf0f1;font-family:Consolas, Menlo, Monaco, monospace;font-weight:bold;font-size:30vh;opacity:0.8}#loader span{display:inline-block;-webkit-animation:pulse 0.4s alternate infinite ease-in-out;animation:pulse 0.4s alternate infinite ease-in-out}#loader span:nth-child(odd){-webkit-animation-delay:0.4s;animation-delay:0.4s}@-webkit-keyframes pulse{to{-webkit-transform:scale(0.8);transform:scale(0.8);opacity:0.5}}@keyframes pulse{to{-webkit-transform:scale(0.8);transform:scale(0.8);opacity:0.5}}body .btn-warning{background-color:#f39c12}body .btn-warning:hover{background-color:#f4a62a}body .fileinput .fileinput-preview{cursor:default !important}body .btn-file>input[type="file"]{position:absolute !important}.showHide{margin-bottom:20px}.showHide>label{text-align:center;display:block;color:#2f81b7;cursor:pointer}.showHide .showHideContent{max-height:0px;overflow:hidden;transition:max-height 0.5s ease-in-out}.showHide input[type="checkbox"]{display:none}.showHide input[type="checkbox"]:checked ~ .showHideContent{max-height:500px}.styleEditor{width:0px;background:#f9f9f9;box-shadow:6px 0px 1px rgba(0,0,0,0.1);padding:0px;overflow-y:auto;overflow-x:visible;z-index:2000;transition:width .5s;border-left:2px solid #e9e7e7}.styleEditor.open{width:300px}.styleEditor .styleEditorInner{position:fixed;width:300px;overflow-y:auto;overflow-x:hidden;height:100vh;padding:20px;z-index:9999}.styleEditor .styleEditorInner::-webkit-scrollbar{width:5px;background-color:#2d3e4f}.styleEditor .styleEditorInner::-webkit-scrollbar-thumb{background-color:#bdc3c7;outline:0px;border:0px;border-radius:0px}.styleEditor .alert{font-size:13px;padding:10px 30px 14px 20px !important;clear:both;margin-top:10px}.styleEditor .alert button{font-size:14px;right:-22px;top:0px}.styleEditor .tab-content{padding:0px;border:0px;border-radius:0px;margin-bottom:20px;border-bottom:2px dashed #ccc}.styleEditor .nav-tabs li span{font-size:12px;color:#34495e}.styleEditor form{width:100%;overflow:visible;position:relative;margin-bottom:20px}.styleEditor>a.close{position:absolute;top:60px;right:15px;font-size:20px}.styleEditor h3{font-size:17px;font-weight:normal;margin-top:0px;margin-bottom:30px}.styleEditor .control-label{line-height:20px;padding-top:6px;font-size:13px;float:left;width:55%}#shapeModal .sp-replacer{float:right;width:100%;border:2px solid #bdc3c7;height:35px;background:#fff;padding:6px}#shapeModal .sp-replacer .sp-preview{width:85%;border:0px}.uncode-radio-image .uncode_radio_images_list{margin:0;padding:0;float:none;width:100%;list-style:none}.uncode-radio-image .uncode_radio_images_list::before,.uncode-radio-image .uncode_radio_images_list::after{display:block;content:"";width:100%;clear:both}.uncode-radio-image .uncode_radio_images_list li{width:50%;float:left;padding:0 10px;margin:5px 0}.uncode-radio-image .uncode_radio_images_list li input[type="radio"]{display:none}.uncode-radio-image .uncode_radio_images_list li label{display:block}.uncode-radio-image .uncode_radio_images_list li label .uncode_radio_image_src{width:100%;height:25px;display:block;background-color:#f6f6f6;background-position:center bottom;background-repeat:no-repeat;background-size:100% 50%;overflow:hidden;-webkit-transition:-webkit-box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);-moz-transition:-moz-box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);-o-transition:box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);-webkit-transition:box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);-moz-transition:box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);transition:box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);border:1px solid transparent;cursor:pointer}.uncode-radio-image .uncode_radio_images_list li label .uncode_radio_image_src.checked{border:1px solid #00b591}.uncode-radio-image .uncode_radio_images_list li label .uncode_radio_image_title{font-size:12px}.styleEditor .form-group{position:relative;margin-bottom:10px;min-height:40px}.styleEditor .form-group>a.linkLib{position:absolute;top:0px;right:10px;font-size:22px}.styleEditor .form-group>span.inputAppend{position:absolute;top:4px;right:10px;font-size:15px;letter-spacing:1px;color:#a5abaf}.styleEditor [data-form-type]{display:none}.styleEditor .form-group>a.linkLib span{background:#fff}.styleEditor .form-group>a.linkGradient{right:40px}.styleEditor .form-group>a.linkLib span.fa.fa-paint-brush{vertical-align:top;margin-top:9px;font-size:18px}.styleEditor .form-group>input{float:right;width:42%;text-overflow:ellipsis}.styleEditor .form-group>input.padding-right{padding-right:40px;background-image:none !important}.styleEditor .form-group>input.padding-right.p-r-60{padding-right:60px}.styleEditor .form-group>.btn-block.select{min-width:30px}.styleEditor .form-group>.btn-block.select>.btn{width:100%}.styleEditor .form-group>.btn-block.select .dropdown-menu{right:0px;left:auto}.styleEditor .form-group>.sp-replacer{float:right;width:42%;border:2px solid #bdc3c7;height:35px;background:#fff;padding:6px}.styleEditor .form-group .sp-preview{width:75%;border:0px}body .sp-container{border:2px solid #bdc3c7}body .sp-container .sp-palette-container{border-right:2px solid #bdc3c7}body .sp-container .sp-picker-container{border-left:0px}body .sp-container button,body .sp-container button:hover{background-image:none;background-color:#1abc9c;color:#fff;border-radius:0px;border:0px;font-family:"Lato", Helvetica, Arial, ;font-weight:normal;padding:0px 12px;text-shadow:none;line-height:31px;text-transform:uppercase}body .sp-input{border-radius:0px;background:#fff;border:1px solid #ccc}.styleEditor .form-group>input.active{position:absolute;right:0px;width:100%}.styleEditor div#styleElements{margin-bottom:0px}.styleEditor ul.breadcrumb{background:#e1e0e0;border-radius:0px;font-size:14px;text-transform:uppercase}.styleEditor .breadcrumb>li:after{color:#24bfa0}.styleEditor .breadcrumb .active{color:#24bfa0;font-weight:bold}.styleEditor .nav-tabs>li>a{padding:7px 15px 8px;border:2px solid transparent}.styleEditor .sideButtons{margin:0px 0px 30px;width:100%}.styleEditor .sideButtons>*{float:left;width:50%}.styleEditor .sideButtons>*:first-child{border-top-right-radius:0px;border-bottom-right-radius:0px}.styleEditor .sideButtons>*:last-child{border-top-left-radius:0px;border-bottom-left-radius:0px}.styleEditor p.or{color:#7f8c8d;font-weight:bold;font-size:15px;border-bottom:2px solid #bdc3c7;line-height:0px;margin-bottom:25px}.styleEditor p.or span{background:#f9f9f9;padding:0px 10px}.styleEditor .link_Tab .btn-group{margin-bottom:25px}.styleEditor .link_Tab .btn-group,.styleEditor .link_Tab .btn-group button{width:100%}.styleEditor .link_Tab .btn-group .dropdown-menu{right:0px;left:auto}.styleEditor .link_Tab input{margin-bottom:20px}.styleEditor .form-group.fullWidth>input{float:none;width:100%}.styleEditor ul.nav-tabs li.active a{background-color:#f9f9f9;border-color:#e1e4e7 #e1e4e7 #f9f9f9}.styleEditor .fileinput .thumbnail{border-radius:0px}.styleEditor .imageFileTab>input{margin-bottom:20px}.styleEditor .imageFileTab>.form-group{margin-bottom:20px}.styleEditor #icons_chosen{width:100% !important;margin-bottom:30px}#frame{display:block;border:0px}.screen{margin:0px auto}.screen.mobile,.screen.tablet{border-left:2px solid #e1e0e0;border-right:2px solid #e1e0e0;border-bottom:2px solid #e1e0e0}.screen .zoomer-wrapper{background:#fff}.screen .start{position:absolute;width:100%;left:0px;top:0px;z-index:99}.screen .start>span{display:block;background:#34495e;padding:10px 20px;width:450px;color:#fff;font-size:13px;text-transform:uppercase;text-align:center;margin:170px auto 0px}.screen.mobile .start>span{width:300px}.screen .toolbar{background:#e1e0e0;height:35px;padding:0px 0px 0px 11px}.screen .toolbar .buttons{float:left;height:13px;margin-top:11px}.screen .toolbar .title{font-size:14px;color:#000;text-align:center;margin-right:80px;padding-top:5px}.screen .toolbar .left{display:block;width:13px;height:13px;float:left;border-radius:13px;margin-right:6px}.screen .toolbar .left.red{background:#e74c3c}.screen .toolbar .left.yellow{background:#f4a62a}.screen .toolbar .left.green{background:#16a085}.screen .frameWrapper{background:#fff;padding-top:0px;position:relative}.screen .frameWrapper.empty{min-height:400px}.screen .frameWrapper #pageList>ul{list-style:none;list-style-type:none;margin:0px;padding:0px;display:none;height:100%;min-height:300px}.screen .frameWrapper #pageList>ul.active{display:block}.screen .frameWrapper #pageList>ul>li{display:block;overflow:hidden;position:relative}.screen .frameWrapper #pageList>ul>li .editorButtons,.screen .frameWrapper #popups .popupDz ul li .editorButtons{position:absolute;top:0px;right:0px;z-index:100}.screen .frameWrapper #pageList>ul iframe{border:0px;width:100%}.screen .frameWrapper #pageList>ul li .zoomer-cover{cursor:move;overflow:hidden !important}.screen .frameWrapper #pageList>ul li .zoomer-small,.screen .frameWrapper #pageList>ul li .zoomer-small iframe{overflow:hidden !important;overflow-y:hidden !important}.screen .frameCover{visibility:visible;opacity:1;transition:right .5s linear 0s;-webkit-transition:right .5s linear .5s;-moz-transition:right .5s linear .5s,o;background-color:#ecf0f1;padding-left:10px;position:absolute;top:40px;right:-295px;width:auto;height:36px;-webkit-border-top-left-radius:50px;-webkit-border-bottom-left-radius:50px;-moz-border-radius-topleft:50px;-moz-border-radius-bottomleft:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;overflow:visible}.screen .frameCover.forAdmin{right:-510px}.screen .frameCover.forPopup.entry{right:-497px}.screen .frameCover.forPopup.entry a.select2-choice{border-radius:0px}.screen .frameCover.forPopup.regular{right:-207px}.screen .frameCover .divPopupDelayWrapper .select{width:160px;min-width:0px}.screen .frameCover>.frameCoverToggle{border:0px;background:none;font-size:20px;padding:0px;margin-right:10px;line-height:36px}.screen .frameCover>.frameCoverToggle:hover{color:#239f85}.screen .frameCover>.select2-container.select-sm>.select2-choice{border-radius:0px}.screen .frameCover ul.dropdown-menu{max-height:250px;overflow-y:auto}.screen .frameCover.stay{right:0px !important}.screen .frameCover.stay>.frameCoverToggle{color:#be3a31}.screen.mobile li:hover .frameCover{visibility:hidden;opacity:0}.screen .frameCover.move{width:100%;height:100%;background-color:transparent;visibility:visible;opacity:1}.screen .frameCover.move button,.screen .frameCover.move label{display:none}.screen .frameCover.move:hover button{display:block}.screen .frameCover button,.screen .frameWrapper #pageList ul li .editorButtons button,.screen .frameCover label,.screen .frameCover>span{float:right}.screen .frameCover>span{font-size:22px;margin-right:10px}.screen .frameCover label{padding-right:20px;margin-bottom:0px;margin-top:8px}.screen .frameCover button,.screen .frameWrapper #pageList ul li .editorButtons button{height:36px;border-radius:0px}.screen .frameCover button{border-radius:0px}.screen .frameCover button>i{float:left;top:0px;position:relative;left:2px}.screen .frameWrapper #pageList ul li .editorButtons button i{float:left;top:2px;position:relative;left:2px;margin-right:5px}.screen .aceEditor{position:absolute;top:0;right:0;bottom:0;left:0}.builderActive{border:3px dashed red;cursor:pointer}#canvasOverlay{position:absolute;left:0px;top:0px;width:100%;height:100%;background:RGBA(45, 62, 79, 0.5);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:none;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}#canvasOverlay .loader{color:#fff;font-family:Consolas, Menlo, Monaco, monospace;font-weight:bold;font-size:20vh;opacity:0.8}#canvasOverlay .loader span{display:inline-block;-webkit-animation:pulse 0.4s alternate infinite ease-in-out;animation:pulse 0.4s alternate infinite ease-in-out}#canvasOverlay .loader span:nth-child(odd){-webkit-animation-delay:0.4s;animation-delay:0.4s}@-webkit-keyframes pulse{to{-webkit-transform:scale(0.8);transform:scale(0.8);opacity:0.5}}@keyframes pulse{to{-webkit-transform:scale(0.8);transform:scale(0.8);opacity:0.5}}.modal.small-modal>.modal-dialog,.modal.small-modal .modal-content{width:400px}.modal.small-modal>.modal-dialog{margin-top:140px}#successModal .alert,#errorModal .alert{margin-bottom:0px}.fr-popup .fr-input-line input+label{display:none !important}.fr-toolbar.fr-inline{z-index:10000000}.modal-dialog.modal-hg{width:95%;margin-top:50px}.pageSettingsModal .form-group .bootstrap-tagsinput{min-height:43px;border:2px solid #bdc3c7}.pageSettingsModal .form-group .bootstrap-tagsinput input[type="text"]{display:none}#savePage{position:relative}#savePage:hover ul{display:block}#savePage ul{display:none;list-style:none;position:absolute;padding:0;margin:10px 0 0;left:0;width:100%;min-width:150px;background:#ffffff}#savePage ul li a{padding:10px 15px;display:inline-block}.tail-datetime-calendar{z-index:10000 !important}.popupsWrapper{display:none;background-color:rgba(0,0,0,0.85);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:100}.popupsWrapper .popupTypeSelectWrapper{position:absolute;top:-36px;left:0px;z-index:1}.popupsWrapper .popupTypeSelectWrapper .select2-container.select-sm>.select2-choice{border-radius:0px}.popupsWrapper button.close{position:absolute;right:20px;top:20px;background-color:#fff;opacity:1;text-shadow:none;border:none;border-radius:9999px;width:30px;height:30px;opacity:0.5;-webkit-appearance:none;padding:0;cursor:pointer;border:0;font-size:21px;font-weight:700;color:#000}.popupsWrapper button.close:hover{opacity:1}.popupsWrapper button.close span{background-color:transparent;line-height:27px;height:30px;vertical-align:baseline;display:inline-block}.popupsWrapper .wrapper{overflow-y:auto;padding-bottom:100px}.popupsWrapper div.popupDz{position:relative;display:none}.popupsWrapper div.popupDz ul:not(.dropdown-menu){display:block;min-height:200px;width:100%;margin:100px auto;padding:0px;list-style:none;list-style-type:none}.popupsWrapper div.popupDz ul:not(.dropdown-menu)>li{list-style:none;list-style-type:none;position:relative;overflow:hidden}.popupsWrapper div.popupDz ul:not(.dropdown-menu)>li.hidden{display:none}.popupsWrapper div.popupDz ul:not(.dropdown-menu)>li>iframe{border:0px;width:100%}.popupsWrapper div.popupDz.regular li{margin-bottom:100px}.popupsWrapper div.popupDz .dzPlaceholder{position:absolute;top:0px;left:0px;width:100%;height:100%;display:flex;display:flex;align-items:center;justify-content:center;z-index:-1}.popupsWrapper div.popupDz .dzPlaceholder span{width:70%;height:200px;line-height:200px;border:2px dashed rgba(255,255,255,0.75);color:#fff;font-size:30px;letter-spacing:1px;text-transform:uppercase;display:block;text-align:center}.popupsWrapper div.popupDz.visible{display:block}.popupsWrapper.visible{display:block}.lbl{position:relative;display:block;height:20px;width:44px;background:#898989;border-radius:100px;cursor:pointer;transition:all 0.3s ease}.lbl:after{position:absolute;left:-2px;top:-3px;display:block;width:26px;height:26px;border-radius:100px;background:#29bb9c;box-shadow:0px 3px 3px rgba(0,0,0,0.05);content:"";transition:all 0.3s ease}.lbl:active:after{transform:scale(1.15, 0.85)}.cbx:checked ~ label:after{left:20px}.hidden{display:none}.notifyjs-custom-warning{color:#fafafa !important;background-color:#ffbd4a !important;border:1px solid #ffd740;width:300px;text-align:center;white-space:initial !important}.newSiteModal .modal-content,.newPageModal .modal-content{border:0px}.newSiteModal .modal-content h2,.newPageModal .modal-content h2{text-transform:uppercase;font-size:45px;margin-bottom:20px}.newSiteModal .modal-content h3,.newPageModal .modal-content h3{font-size:19px;text-transform:uppercase;margin-top:0px;font-weight:normal}.newSiteModal .modal-content .modal-body,.newPageModal .modal-content .modal-body{padding:0px;display:flex;min-height:400px;justify-content:space-between}.newSiteModal .modal-content .modal-body .divEmptyCanvas img,.newPageModal .modal-content .modal-body .divEmptyCanvas img{margin:20px 0px}.newSiteModal .modal-content .modal-body ul.catList,.newPageModal .modal-content .modal-body ul.catList{width:30%;list-style:none;list-style-type:none;padding:20px 0px 0px;margin:0px;background-color:#3A99D8}.newSiteModal .modal-content .modal-body ul.catList li,.newPageModal .modal-content .modal-body ul.catList li{list-style:none;list-style-type:none}.newSiteModal .modal-content .modal-body ul.catList li button,.newPageModal .modal-content .modal-body ul.catList li button{width:100%;border-radius:0px;height:60px;background-color:#3A99D8;color:#ECF0F1;border:0px;padding-right:40px;text-align:left;padding-left:30px;position:relative;transition:background-color .5s,color .5s;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.newSiteModal .modal-content .modal-body ul.catList li button svg polygon,.newPageModal .modal-content .modal-body ul.catList li button svg polygon{fill:#bdc3c7;transition:fill .5s}.newSiteModal .modal-content .modal-body ul.catList li button:active,.newSiteModal .modal-content .modal-body ul.catList li button:focus,.newPageModal .modal-content .modal-body ul.catList li button:active,.newPageModal .modal-content .modal-body ul.catList li button:focus{outline:none}.newSiteModal .modal-content .modal-body ul.catList li button.active,.newSiteModal .modal-content .modal-body ul.catList li button:hover,.newPageModal .modal-content .modal-body ul.catList li button.active,.newPageModal .modal-content .modal-body ul.catList li button:hover{background-color:#2F81B7;color:#fff}.newSiteModal .modal-content .modal-body ul.catList li button.active svg polygon,.newSiteModal .modal-content .modal-body ul.catList li button:hover svg polygon,.newPageModal .modal-content .modal-body ul.catList li button.active svg polygon,.newPageModal .modal-content .modal-body ul.catList li button:hover svg polygon{fill:#fff}.newSiteModal .modal-content .modal-body ul.catList li button svg,.newPageModal .modal-content .modal-body ul.catList li button svg{position:absolute;top:20px;right:20px}.newSiteModal .modal-content .modal-body .templateWrapper,.newPageModal .modal-content .modal-body .templateWrapper{width:65%}.newSiteModal .modal-content .modal-body .templateWrapper ul.templateList,.newPageModal .modal-content .modal-body .templateWrapper ul.templateList{margin:0px;padding:20px 0px;list-style:none;list-style-type:none}.newSiteModal .modal-content .modal-body .templateWrapper ul.templateList li,.newPageModal .modal-content .modal-body .templateWrapper ul.templateList li{list-style:none;list-style-type:none;width:45%;float:left;margin-right:15px;margin-bottom:20px}.newSiteModal .modal-content .modal-body .templateWrapper ul.templateList li a img,.newPageModal .modal-content .modal-body .templateWrapper ul.templateList li a img{max-width:100%;border-radius:5px;border:2px solid transparent}.newSiteModal .modal-content .modal-body .templateWrapper ul.templateList li a.active img,.newPageModal .modal-content .modal-body .templateWrapper ul.templateList li a.active img{border:2px solid #239F85}.newPageModal .modal-content .modal-body .templateWrapper{width:70%;padding:15px;position:relative}.newPageModal .modal-content .modal-body .templateList{position:absolute;overflow-y:auto;top:15px;left:15px;bottom:15px;right:15px}.newPageModal .modal-content .modal-body .templateList__item{display:none;flex-wrap:wrap}.newPageModal .modal-content .modal-body .templateList__item h3{width:100%;padding:0 10px;margin:20px 0}.newPageModal .modal-content .modal-body .templateList__item a{width:50%;padding:0 10px;margin-bottom:20px}.newPageModal .modal-content .modal-body .templateList__item a.active img{border-color:#239F85}.newPageModal .modal-content .modal-body .templateList__item a img{width:100%;height:250px;object-fit:cover;border:2px solid transparent;border-radius:4px}.newPageModal .modal-content .modal-body .templateList__item a span{text-transform:capitalize}div[data-checkout="false"]{display:none}div[data-checkout="true"]{display:block}.w-110{width:110px !important}.blockCatSelection .h-auto .form-group{display:none;padding-left:15px;padding-right:15px;align-items:center}.blockCatSelection .h-auto .form-group label{margin-right:10px}.blockCatSelection .h-auto .form-group label+div{flex-grow:1;position:relative;max-width:200px}.blockCatSelection .h-auto .form-group label+div span{position:absolute;top:50%;right:10px;transform:translateY(-50%)}.variants{float:left;padding:2px 5px;display:flex;position:relative;z-index:20}.variants button{margin-right:5px;border:1px solid #767676;border-radius:2px}.variants button.active{background:#2c81ba;border-color:#2c81ba;color:white}.variants button:last-child{margin-right:0}[data-variant-hide]{display:none}[data-simulate="false"]{display:none}\n',"",{version:3,sources:["D:/OSPanel/domains/app.local/skin/pagebuilder/assets/sass/_includes.scss","D:/OSPanel/domains/app.local/skin/pagebuilder/assets/sass/components/_bump.scss","D:/OSPanel/domains/app.local/skin/pagebuilder/assets/sass/builder.scss","D:/OSPanel/domains/app.local/skin/pagebuilder/assets/sass/other.scss"],names:[],mappings:"AAAA,QACI,iBAAkB,CACrB,QAGG,eAAgB,CACnB,oBCLG,YAAa,CCQjB,QACC,kBAAmB,CACnB,QAGA,sBAAuB,CACvB,eAGA,yBAde,CAef,kBAAkC,CAClC,aAAc,CACd,MAKA,UAtBe,CAuBf,WAAY,CACZ,wBAAyB,CACzB,gBAAiB,CACjB,cAAe,CACf,OAAQ,CACR,QAAS,CACT,WAAY,CARb,aAWE,UAAW,CACX,gBAAiB,CACjB,eAAgB,CAChB,qBAAsB,CACtB,UApCc,CAqCd,+BAlCsB,CAkBxB,sBAmBG,WAAY,CACZ,cAAe,CApBlB,iBAwBG,UAAW,CACX,WAAY,CAzBf,sBA4BI,mBA9CoB,CA+CpB,mBAAoB,CA7BxB,kBAkCG,aAAc,CACd,cAAe,CACf,wBAAyB,CACzB,aAAc,CACd,iBAAkB,CAClB,oBAzDqB,CA0DrB,mBAAoB,CAxCvB,uCA6CG,wBAAyB,CA7C5B,yDAgDI,YAAa,CAhDjB,iDAoDI,aAAc,CACd,YAWF,8BAA+B,CAC/B,SAAU,CACV,OAAQ,CACR,wBAAyB,CACzB,YAAa,CACb,iBAAkB,CAClB,gBAAiB,CACjB,cAAe,CATjB,mCAaG,4BAA6B,CAbhC,+BAiBG,4BAA6B,CAjBhC,8BAqBG,eAAgB,CAChB,0BAtGqB,CAgFxB,gCAyBI,UAAW,CACX,iBAAkB,CAClB,sBAAuB,CACvB,cAAe,CACf,WAAY,CA7BhB,yCAgCK,YAAa,CACb,mBAjHmB,CAgFxB,+FAuCM,SAAU,CACV,kCAKF,iBAAkB,CA7CtB,6CAmDG,YAAa,CACb,iBAAkB,CApDrB,iDAuDI,UAAW,CAvDf,2DA2DI,SAAU,CACV,oBAAqB,CACrB,eAAgB,CAChB,UAAW,CACX,eAAgB,CAChB,iBAAkB,CAClB,gCAAiC,CACjC,wCAAyC,CACzC,qCAAsC,CAnE1C,uEAwEK,WAAY,CACZ,sBAAuB,CAzE5B,8CA+EG,WAAY,CACZ,gBAAiB,CACjB,eAAgB,CAjFnB,iDAoFI,UAAW,CACX,oBAAqB,CArFzB,mDAwFK,cAAe,CACf,WAAY,CACZ,UAAW,CA1FhB,mHA8FM,YAAa,CA9FnB,4BAqGG,aAAc,CACd,uBAAwB,CACxB,UAAW,CACX,8BAA+B,CAC/B,iBAAkB,CAClB,eAOF,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAH/B,2BAME,SAAU,CACV,wBAAyB,CACzB,oBAxMsB,CAyMtB,eAAgB,CATlB,gCAYG,WA9MoB,CAkMvB,iDAeI,SAAU,CACV,WAlNmB,CAkMvB,wEAmBK,SAAU,CAnBf,0DAuBK,WAzNkB,CAkMvB,4CA6BG,cAAe,CACf,SAAU,CACV,6BAA8B,CAC9B,WAAY,CACZ,SAAU,CACV,gBAAiB,CACjB,gCAnOqB,CAoOrB,eAAgB,CAChB,iBAAkB,CArCrB,mEAyCI,eAAgB,CAChB,UAAW,CACX,iBAAkB,CAClB,QAAS,CACT,UAAW,CACX,SAAU,CACV,qBAAsB,CA/C1B,uEAkDK,UAAW,CAlDhB,2JAsDM,mBAtPkB,CAgMxB,uKA6DM,SAAU,CA7DhB,qDAmEI,sBAAuB,CACvB,WAAY,CACZ,SAAU,CACV,oCAAqC,CACrC,cAAe,CACf,QAAS,CACT,UAAW,CACX,oBA1QoB,CAgMxB,+CA8EI,aAAc,CACd,cAAe,CACf,UAAW,CAhFf,+DAoFI,SAAU,CACV,wBAAyB,CArF7B,qEAyFI,wBAAyB,CACzB,WAAY,CACZ,UAAW,CACX,iBAAkB,CA5FtB,uQAuGK,aAAc,CACd,eAAgB,CAChB,qBAAsB,CACtB,WAAY,CACZ,aAAc,CACd,UAAW,CACX,eAAgB,CAChB,gBAAiB,CACjB,eAAgB,CAChB,WAAY,CACZ,SAAU,CACV,gEAlTmB,CAgMxB,uRAsHM,WAAY,CACZ,WAAY,CACZ,UAAW,CACX,iBAAkB,CAClB,OAAQ,CACR,oCAAoD,CA3H1D,uTA8HO,2BAA2C,CA9HlD,2RAmIM,WAAY,CACZ,oBAAqB,CACrB,sBAAuB,CACvB,eAAgB,CAChB,SAAU,CACV,kBAAmB,CAxIzB,mSA4IM,cAAe,CACf,WAAY,CACZ,SAAU,CA9IhB,kkBAmJM,wBAAyB,CACzB,UAAW,CApJjB,kmBAuJO,uBAAwB,CAvJ/B,kqBAyJQ,SAAU,CAzJlB,2UAgKO,wBAAyB,CAhKhC,mSAqKM,UAAW,CACX,SAAU,CAtKhB,uPA2KK,YAAa,CACb,WAAY,CACZ,UAAW,CA7KhB,mQAgLM,oBAAqB,CACrB,iBAAkB,CAjLxB,mRAoLO,cAAe,CACf,WAAY,CACZ,iBAAkB,CAtLzB,2SA0LO,cAAe,CA1LtB,uTA8LO,aAAc,CACd,iBAAkB,CAClB,OAAQ,CACR,UAAW,CACX,cAAe,CACf,WAAY,CACZ,kCAAkD,CApMzD,+UAuMQ,SAAU,CAvMlB,mRA6MM,aAAc,CACd,gBAAiB,CA9MvB,uUAiNO,gCAAiC,CACjC,eAAgB,CAChB,iBAAkB,CAClB,iBAAkB,CAClB,aAAc,CACd,WAAY,CACZ,iBAAkB,CAClB,cAAe,CACf,gBAAiB,CAzNxB,2DAkOI,UAAW,CACX,WAAY,CAnOhB,8DAsOK,qBAAsB,CACtB,iBAAkB,CAvOvB,kEA0OM,cAAe,CACf,WAAY,CACZ,iBAAkB,CA5OxB,2EAgPM,WAAY,CACZ,SAAU,CACV,OAAQ,CACR,iBAAkB,CAClB,iBAAkB,CApPxB,wEA6PK,WAAY,CACZ,UAAW,CA9PhB,2EAiQM,WAAY,CACZ,gBAAiB,CACjB,gBAAiB,CACjB,eAAgB,CAChB,4BAA6B,CAC7B,+BAtckB,CAuclB,cAAe,CAvQrB,iFA0QO,UAAW,CACX,aAAc,CACd,UAAW,CACX,UAAW,CA7QlB,6EAiRO,aAAc,CACd,oBAldiB,CAmdjB,UAAW,CACX,SAAU,CACV,eAAgB,CAChB,sBAAuB,CAtR9B,wFA0RO,WAAY,CACZ,eAAgB,CAChB,SAAU,CACV,sBA7diB,CAgMxB,+FAgSQ,WAAY,CAhSpB,wGAmSS,YAAa,CACb,iBAAkB,CApS3B,uGAuSS,0BAA2B,CAC3B,6BAA8B,CAC9B,2BAA4B,CAC5B,8BAA+B,CA1SxC,wGA6SS,0BAA2B,CAC3B,6BAA8B,CAC9B,2BAA4B,CAC5B,8BAA+B,CAhTxC,6GAmTS,0BAA2B,CAC3B,6BAA8B,CAC9B,2BAA4B,CAC5B,8BAA+B,CAtTxC,yTAgUS,YAAa,CAhUtB,uGAmUS,aAAc,CAnUvB,mGAuUQ,UAAW,CACX,eAAgB,CAChB,UAAW,CACX,UAAW,CA1UnB,mKAgVO,wBAAyB,CAhVhC,6LAmVQ,SAAU,CAnVlB,uKAuVQ,UAAW,CAvVnB,wEA8VK,6BAA8B,CAC9B,oBAAqB,CACrB,UAAW,CAhWhB,oFAoWK,YAAa,CApWlB,yFAuWM,UAAW,CACX,aAAc,CAxWpB,wDAgXI,wBAAyB,CAhX7B,8BAsXE,WAAY,CACZ,qBAAsB,CACtB,mBAID,sBAAuB,CACvB,4BAIA,UAAW,CACX,QAGA,uBAAwB,CACxB,eAGA,iBAAkB,CAClB,iBAGA,iBAAkB,CAClB,2HAWA,sBAAuB,CACvB,uBAAwB,CACxB,iBAGA,yBAA0B,CAC1B,YAAa,CACb,kBAAmB,CACnB,QAGA,mBAAoB,CACpB,oBAAqB,CACrB,mBAAoB,CACpB,YAAa,CACb,uBAAwB,CACxB,8BAA+B,CAC/B,oBAAqB,CACrB,sBAAuB,CACvB,wBAAyB,CACzB,0BAA2B,CAC3B,qBAAsB,CACtB,kBAAmB,CACnB,wBAAyB,CACzB,cAAe,CACf,QAAS,CACT,OAAQ,CACR,UAAW,CACX,WAAY,CACZ,kBAAmB,CACnB,aAAc,CACd,aAGA,aAAc,CACd,8CAA+C,CAC/C,gBAAiB,CACjB,cAAe,CACf,WAAY,CACZ,aAGA,oBAAqB,CACrB,2DAA4D,CAC5D,mDAAoD,CACpD,4BAGA,4BAA6B,CAC7B,oBAAqB,CACrB,yBAEA,GACC,4BAA6B,CAC7B,oBAAqB,CACrB,WAAY,CAAA,CAGd,iBACC,GACC,4BAA6B,CAC7B,oBAAqB,CACrB,WAAY,CAAA,CAId,kBACC,wBAAyB,CACzB,wBAGA,wBAAyB,CACzB,mCAGA,yBAA0B,CAC1B,kCAGA,4BAA6B,CAC7B,UAKA,kBAAmB,CADpB,gBAIE,iBAAkB,CAClB,aAAc,CACd,aAAc,CACd,cAAe,CAPjB,2BAWE,cAAe,CACf,eAAgB,CAChB,sCAAuC,CAbzC,iCAiBE,YAAa,CAjBf,4DAoBG,gBAAiB,CACjB,aASF,SAAU,CACV,kBAAmB,CACnB,sCAA0C,CAC1C,WAAY,CACZ,eAAgB,CAChB,kBAAmB,CACnB,YAAa,CACb,oBAltBuB,CAmtBvB,6BAA8B,CAT/B,kBAYE,WAAY,CAZd,+BAgBE,cAAe,CACf,WAAY,CACZ,eAAgB,CAChB,iBAAkB,CAClB,YAAa,CACb,YAAa,CACb,YAAa,CAtBf,kDAyBG,SAAU,CACV,wBAAyB,CA1B5B,wDA8BG,wBAAyB,CACzB,WAAY,CACZ,UAAW,CACX,iBAAkB,CAjCrB,oBAsCE,cAAe,CACf,sCAAuC,CACvC,UAAW,CACX,eAAgB,CAzClB,2BA4CG,cAAe,CACf,WAAY,CACZ,OAAQ,CACR,0BAKF,WAAY,CACZ,UAAW,CACX,iBAAkB,CAClB,kBAAmB,CACnB,6BAA8B,CAC9B,+BAGA,cAAe,CACf,aAAc,CACd,kBAGA,UAAW,CACX,gBAAiB,CACjB,iBAAkB,CAClB,kBAAmB,CACnB,qBAGA,iBAAkB,CAClB,QAAS,CACT,UAAW,CACX,cAAe,CACf,gBAGA,cAAe,CACf,kBAAmB,CACnB,cAAe,CACf,kBAAmB,CACnB,4BAGA,gBAAiB,CACjB,eAAgB,CAChB,cAAe,CACf,UAAW,CACX,SAAU,CACV,yBAIC,WAAY,CACZ,UAAW,CACX,wBAAyB,CACzB,WAAY,CACZ,eAAgB,CAChB,WAAY,CAPd,qCAUG,SAAU,CACV,UAAW,CACX,8CAMD,QAAS,CACT,SAAU,CACV,UAAW,CACX,UAAW,CACX,eAAgB,CANlB,2GAUG,aAAc,CACd,UAAW,CACX,UAAW,CACX,UAAW,CAbd,iDAiBG,SAAU,CACV,UAAW,CACX,cAAe,CACf,YAAa,CApBhB,qEAuBI,YAAa,CAvBjB,uDA2BI,aAAc,CA3BlB,+EA8BK,UAAW,CACX,WAAY,CACZ,aAAc,CACd,wBAAyB,CACzB,iCAAkC,CAClC,2BAA4B,CAC5B,wBAAyB,CACzB,eAAgB,CAChB,kFAAmF,CACnF,4EAA6E,CAC7E,qEAAsE,CACtE,0EAA2E,CAC3E,uEAAwE,CACxE,kEAAmE,CACnE,4BAA6B,CAC7B,cAAe,CA7CpB,uFAgDM,wBAAyB,CAhD/B,iFAqDK,cAAe,CACf,yBAOJ,iBAAkB,CAClB,kBAAmB,CACnB,eAAgB,CAChB,mCAGA,iBAAkB,CAClB,OAAQ,CACR,UAAW,CACX,cAAe,CACf,0CAGA,iBAAkB,CAClB,OAAQ,CACR,UAAW,CACX,cAAe,CACf,kBAAmB,CACnB,aAAc,CACd,8BAGA,YAAa,CACb,wCAGA,eAAgB,CAChB,wCAGA,UAAW,CACX,0DAGA,kBAAmB,CACnB,cAAe,CACf,cAAe,CACf,+BAGA,WAAY,CACZ,SAAU,CACV,sBAAuB,CACvB,6CAGA,kBAAmB,CACnB,gCAAiC,CACjC,oDAGA,kBAAmB,CACnB,2CAGA,cAAe,CACf,gDAGA,UAAW,CACX,0DAGA,SAAU,CACV,SAAU,CACV,sCAGA,WAAY,CACZ,SAAU,CACV,wBAAyB,CACzB,WAAY,CACZ,eAAgB,CAChB,WAAY,CACZ,qCAGA,SAAU,CACV,UAAW,CACX,mBAGA,wBAAyB,CACzB,yCAGA,8BAA+B,CAC/B,wCAGA,eAAgB,CAChB,0DAIA,qBAAsB,CACtB,wBAAyB,CACzB,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,yCAAa,CAAA,kBACA,CAAA,gBACJ,CAAA,gBACI,CAAA,gBACA,CAAA,wBACG,CAAA,eAGZ,iBACW,CAAA,eACH,CAAA,qBACJ,CAAA,sCAGuB,iBACrB,CAAA,SACH,CAAA,UACA,CAAA,+BAGQ,iBACA,CAAA,2BAGD,kBACF,CAAA,iBACG,CAAA,cACJ,CAAA,wBACK,CAAA,kCAGY,aACrB,CAAA,iCAGiB,aACjB,CAAA,gBACM,CAAA,4BAGa,oBACjB,CAAA,4BACD,CAAA,0BAGI,mBACJ,CAAA,UACD,CAAA,4BAGiB,UACjB,CAAA,SACA,CAAA,wCAFqB,2BAKF,CAAA,8BACG,CAAA,uCAND,0BAUH,CAAA,6BACG,CAAA,kBAIf,aACN,CAAA,gBACM,CAAA,cACF,CAAA,+BACI,CAAA,eACF,CAAA,kBACE,CAAA,uBAGE,kBACL,CAAA,gBACH,CAAA,kCAGa,kBACP,CAAA,2EAIkB,UAC1B,CAAA,iDAG0B,SAC1B,CAAA,SACD,CAAA,6BAGgB,kBACP,CAAA,yCAGqB,UAC7B,CAAA,UACA,CAAA,qCAG0B,wBACf,CAAA,oCACJ,CAAA,mCAGS,iBACR,CAAA,iCAGa,kBACb,CAAA,uCAGa,kBACb,CAAA,2BAGH,qBACL,CAAA,kBACQ,CAAA,OACf,aAKS,CAAA,UACD,CAAA,QACR,eAGQ,CAAA,8BAIF,6BACO,CAAA,8BACC,CAAA,+BACC,CAAA,wBAGR,eACK,CAAA,eAGL,iBACG,CAAA,UACH,CAAA,QACD,CAAA,OACD,CAAA,UACE,CAAE,oBAGO,aACP,CAAA,kBACG,CAAA,iBACH,CAAA,WACF,CAAA,UACA,CAAA,cACI,CAAA,wBACK,CAAA,iBACJ,CAAA,qBACJ,CAAA,2BAGe,WAChB,CAAA,iBAGA,kBACK,CAAA,WACJ,CAAA,wBACC,CAAA,0BAGO,UACT,CAAA,WACC,CAAA,eACI,CAAA,wBAGI,cACL,CAAA,UACJ,CAAA,iBACK,CAAA,iBACE,CAAA,eACD,CAAA,uBAGG,aACP,CAAA,UACF,CAAA,WACC,CAAA,UACD,CAAA,kBACQ,CAAA,gBACD,CAAA,2BAGO,kBACT,CAAA,8BAGS,kBACT,CAAA,6BAGS,kBACT,CAAA,sBAGL,eACK,CAAA,eACC,CAAA,iBACH,CAAA,4BAGU,gBACR,CAAA,mCAGqB,eACrB,CAAA,oBACK,CAAA,UACT,CAAA,WACC,CAAA,YACA,CAAA,WACD,CAAA,gBACI,CAAA,0CAGuB,aAC1B,CAAA,sCAG6B,aAC7B,CAAA,eACC,CAAA,iBACA,CAAA,iHAIkC,iBAClC,CAAA,OACL,CAAA,SACE,CAAA,WACE,CAAA,0CAG2B,UAC5B,CAAA,UACD,CAAA,oDAGgC,WAC/B,CAAA,0BACE,CAAA,+GAI2C,0BAC3C,CAAA,4BACE,CAAA,oBAGL,kBACK,CAAA,SACZ,CAAO,8BACoC,CAAC,uCApuCzB,CAAA,sCAAA,CAAI,wBAuuCL,CAAA,iBACJ,CAAA,iBACJ,CAAA,QACL,CAAA,YACE,CAAA,UACA,CAAA,WACC,CAAA,mCACwB,CAAA,sCACG,CAAA,+BACP,CAAA,kCACG,CAAA,2BACP,CAAA,8BACG,CAAA,gBACjB,CAAA,6BAnBQ,YAsBV,CAAA,mCAGE,YACF,CAAA,oDAEN,iBACe,CAAA,qCAIP,YACF,CAAA,kDAIP,WACQ,CAAA,aACI,CAAA,sCAIX,UACO,CAAA,eACI,CAAA,cACD,CAAA,WACF,CAAA,iBACK,CAAA,gBACD,CAAA,4CANK,aASV,CAAA,iEAIwB,iBACjB,CAAA,qCAGd,gBACW,CAAA,eACA,CAAA,yBAIK,oBACX,CAAA,2CAEL,aACM,CAAA,oCASe,iBACX,CAAA,SACZ,CAAO,yBAGW,UACX,CAAA,WACC,CAAA,4BACU,CAAA,kBACN,CAAA,SACZ,CAAO,+DAIiB,YACf,CAAA,sCAGqB,aACrB,CAAA,0IAMY,WACd,CAAA,yBAGc,cACV,CAAA,iBACG,CAAA,0BAGK,kBACJ,CAAA,iBACA,CAAA,cACH,CAAA,uFAIwC,WAC5C,CAAA,iBACO,CAAA,2BAGI,iBACJ,CAAA,6BAGU,UAClB,CAAA,OACF,CAAA,iBACK,CAAA,QACJ,CAAA,8DAGoD,UACnD,CAAA,OACF,CAAA,iBACK,CAAA,QACJ,CAAA,gBACQ,CAAA,mBAGP,iBACG,CAAA,KACV,CAAG,OACH,CAAK,QACL,CAAM,MACN,CAAI,eACJ,qBAGQ,CAAA,cACA,CAAA,eACR,iBAGU,CAAA,QACJ,CAAA,OACD,CAAA,UACE,CAAA,WACC,CAAA,gCACI,CAAA,mBACH,CAAA,oBACA,CAAA,mBACA,CAAA,YACA,CAAA,uBACS,CAAA,8BACO,CAAA,oBACV,CAAA,sBACE,CAAA,wBACE,CAAA,0BACE,CAAA,qBACL,CAAA,kBACH,CAAA,uBAGC,UACP,CAAA,8CACM,CAAA,gBACA,CAAA,cACF,CAAA,WACF,CAAA,4BAGa,oBACb,CAAA,2DACU,CAAA,mDACR,CAAA,2CAG0B,4BACZ,CAAA,oBACR,CAAA,yBAElB,GACC,4BACoB,CAAA,oBACR,CAAA,WACF,CAAA,CAAA,iBAGX,GACC,4BACoB,CAAA,oBACR,CAAA,WACF,CAAA,CAAA,mEAYQ,WACX,CAAA,iCAGa,gBACR,CAAA,wCAkBD,iBACI,CAAA,qCAKiB,uBACvB,CAAA,sBAGC,gBACD,CAAA,uBAKG,SACL,CAAA,eACK,CAAA,oDAOX,eACa,CAAA,wBACJ,CAAA,uEACG,YACD,CAAA,UACT,iBAMO,CAAA,mBAGT,aACU,CAAA,aAIX,YACU,CAAA,eACG,CAAA,iBACF,CAAA,SACV,CAAO,eACC,CAAA,MACR,CAAI,UACG,CAAA,eACI,CAAA,kBACC,CAAA,kBAEV,iBAES,CAAA,oBACA,CAAA,wBACT,wBAQM,CAAA,eACT,YAOS,CAAA,iCACS,CAAA,iBACR,CAAA,OACL,CAAA,QACC,CAAA,UACC,CAAA,WACC,CAAA,WACC,CAAA,uCAET,iBACW,CAAA,SACL,CAAA,QACC,CAAA,SACN,CAAO,oFAEwB,iBACf,CAAA,4BAIX,iBACK,CAAA,UACH,CAAA,QACF,CAAA,qBACa,CAAA,SAClB,CAAO,gBACM,CAAA,WACL,CAAA,oBACO,CAAA,UACR,CAAA,WACC,CAAA,WACC,CAAA,uBACW,CAAA,SACpB,CAAO,cACC,CAAA,QACR,CAAM,cACK,CAAA,eACE,CAAA,UACN,CAAA,kCAlBI,SAqBV,CAAO,iCAGR,4BACmB,CAAA,gBACL,CAAA,WACL,CAAA,uBACQ,CAAA,oBACP,CAAA,wBAIX,eACa,CAAA,oBACI,CAAA,2BAGd,iBACQ,CAAA,YACD,CAAA,kDAEF,aACG,CAAA,gBACG,CAAA,UACL,CAAA,iBACC,CAAA,WACC,CAAA,eACG,CAAA,oBACK,CAAA,qDAEb,eACS,CAAA,oBACK,CAAA,iBACP,CAAA,eACA,CAAA,4DAJL,YAOK,CAAA,4DAGN,UACK,CAAA,UACD,CAAA,sCAMT,mBACgB,CAAA,0CAIjB,iBACW,CAAA,OACL,CAAA,QACC,CAAA,UACC,CAAA,WACC,CAAA,YACC,CAAA,YACA,CAAA,kBACI,CAAA,sBACI,CAAA,UACV,CAAE,+CAET,SACQ,CAAA,YACC,CAAA,iBACK,CAAA,wCACM,CAAA,UACZ,CAAA,cACI,CAAA,kBACK,CAAA,wBACA,CAAA,aACP,CAAA,iBACG,CAAA,mCA1DJ,aA+DA,CAAA,uBA1HE,aA+HH,CAAA,KACT,iBAQS,CAAA,aACD,CAAA,WACD,CAAA,UACD,CAAA,kBACK,CAAA,mBACG,CAAA,cACP,CAAA,wBACI,CAAA,WAGT,iBACO,CAAA,SACJ,CAAA,QACD,CAAA,aACI,CAAA,UACF,CAAA,WACC,CAAA,mBACO,CAAA,kBACH,CAAA,uCACY,CAAA,UACjB,CAAE,wBACG,CAAA,kBAGF,2BACC,CAAA,2BAGQ,SACb,CAAA,QACN,YAGS,CAAA,yBACT,wBAKO,CAAA,mCACW,CAAA,wBACV,CAAA,WACD,CAAA,iBACK,CAAA,8BACC,CAAA,0DCrtDb,UACS,CAAA,gEAER,wBACiB,CAAA,cACF,CAAA,kBACI,CAAA,gEAGnB,cACY,CAAA,wBACQ,CAAA,cACJ,CAAA,kBACC,CAAA,kFAGjB,WAEU,CAAA,YACA,CAAA,gBACG,CAAA,6BACK,CAAA,0HAGhB,eACS,CAAA,wGAIR,SACM,CAAA,eACK,CAAA,oBACK,CAAA,oBACR,CAAA,UACD,CAAA,wBACU,CAAA,8GAElB,eACa,CAAA,oBACK,CAAA,4HAEjB,UACQ,CAAA,iBACQ,CAAA,WACP,CAAA,wBACU,CAAA,aACX,CAAA,UACC,CAAA,kBACO,CAAA,eACH,CAAA,iBACE,CAAA,iBACJ,CAAA,yCAvDI,CAAA,sBA0DC,CAAA,eACL,CAAA,kBACG,CAAA,oJAGZ,YACO,CAAA,mBAhEM,CAAA,kRA6CT,YAyBK,CAAA,kRAzBL,wBA6Bc,CAAA,UACX,CAAA,kUAGN,SACO,CAAA,oIAKT,iBACW,CAAA,QACL,CAAA,UACE,CAAA,oHAOX,SACQ,CAAA,oJAEL,UACO,CAAA,gBACC,CAAA,eAEG,CAAA,oBACK,CAAA,0JAEjB,eACa,CAAA,oBACK,CAAA,SACV,CAAA,UACA,CAAA,iBACO,CAAA,kBACC,CAAA,sKAGd,cACY,CAAA,iBACI,CAAA,4BACP,CAAA,oLAIR,wBACS,CAAA,0DAmBd,SACQ,CAAA,YACE,CAAA,iBACC,CAAA,uDAGX,iBACW,CAAA,eAEE,CAAA,QACP,CAAA,SACC,CAAA,WACE,CAAA,UACD,CAAA,6DAEN,YACS,CAAA,cACE,CAAA,gEAEX,UACQ,CAAA,cACE,CAAA,aACD,CAAA,+DAPH,SAWE,CAAA,cACE,CAAA,kBACM,CAAA,0EAGd,oBACe,CAAA,mEAIhB,UACQ,CAAA,YACC,CAAA,gBACI,CAAA,4BACJ,CAAA,iBACO,CAAA,oEAGhB,yBACiB,CAAA,2BDqiDL,YACR,CAAA,0BAGQ,aACR,CAAA,OACT,sBAGO,CAAA,uCAKN,YACU,CAAA,iBACK,CAAA,kBACC,CAAA,kBAEF,CAAA,6CAEb,iBACe,CAAA,iDAEV,WACH,CAAS,iBACC,CAAA,eACC,CAAA,sDAEX,iBACW,CAAA,OACL,CAAA,UACE,CAAA,0BACI,CAAA,UACX,UAQE,CAAA,eACE,CAAA,YACA,CAAA,iBACC,CAAA,UACH,CAAE,iBAET,gBACe,CAAA,wBACN,CAAA,iBACO,CAAA,wBAHV,kBAMQ,CAAA,oBACE,CAAA,WACP,CAAA,4BARH,cAYJ,CAAY,oBAKf,YACU,CAAA,wBAGK,YACL",file:"builder.scss",sourcesContent:[".m-r-10 {\r\n    margin-right: 10px;\r\n}\r\n\r\n.m-t-20 {\r\n    margin-top: 20px;\r\n}",'[data-bump="false"] {\r\n    display: none;\r\n}\r\n','@import \'includes\';\n@import \'components/bump\';\n\n/* vars */\n$sideWidth: 90px;\n$sideSecondWidth: 250px;\n$topNavHeight: 41px;\n$animationDuration: 0.5s;\n\n.m-b-20 {\n\tmargin-bottom: 20px;\n}\n\n.h-auto {\n\theight: auto !important;\n}\n\nbody.builderUI {\n\tpadding: $topNavHeight 0px 0px $sideWidth;\n\tbackground: rgba(236, 240, 241, 1);\n\tdisplay: block;\n}\n\n/* fixed side */\n\n.side {\n\twidth: $sideWidth;\n\theight: 100%;\n\tbackground-color: #2d3e4f;\n\tpadding-top: 40px;\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 0px;\n\tz-index: 100;\n\n\tbutton {\n\t\tborder: 0px;\n\t\tpadding: 18px 0px;\n\t\tbackground: none;\n\t\tbackground-color: none;\n\t\twidth: $sideWidth;\n\t\ttransition: background-color $animationDuration;\n\n\t\t&:disabled {\n\t\t\topacity: 0.5;\n\t\t\tcursor: default;\n\t\t}\n\n\t\tsvg {\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\n\t\t\tpath {\n\t\t\t\ttransition: fill $animationDuration;\n\t\t\t\ttransition-delay: 0s;\n\t\t\t}\n\t\t}\n\n\t\tspan {\n\t\t\tcolor: #bdc3c7;\n\t\t\tfont-size: 10px;\n\t\t\ttext-transform: uppercase;\n\t\t\tdisplay: block;\n\t\t\ttext-align: center;\n\t\t\ttransition: color $animationDuration;\n\t\t\ttransition-delay: 0s;\n\t\t}\n\n\t\t&:hover,\n\t\t&.active {\n\t\t\tbackground-color: #35495d;\n\n\t\t\tsvg path {\n\t\t\t\tfill: #ecf0f1;\n\t\t\t}\n\n\t\t\tspan {\n\t\t\t\tcolor: #ecf0f1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* end fixed side */\n\n/* header */\n\nbody {\n\t& > header {\n\t\tbackground: RGBA(53, 73, 93, 1);\n\t\tright: 0px;\n\t\ttop: 0px;\n\t\twidth: calc(100vw - 90px);\n\t\tz-index: 9999;\n\t\tpadding-right: 0px;\n\t\tpadding-left: 0px;\n\t\tposition: fixed;\n\n\t\tbutton,\n\t\tbtn {\n\t\t\tborder-radius: 0px !important;\n\t\t}\n\n\t\t.select2-container {\n\t\t\tmargin-bottom: 0px !important;\n\t\t}\n\n\t\t.responsiveToggle {\n\t\t\tmargin-left: 0px;\n\t\t\ttransition: margin-left $animationDuration;\n\n\t\t\ta {\n\t\t\t\twidth: 58px;\n\t\t\t\ttext-align: center;\n\t\t\t\tpadding: 11px 18px 11px;\n\t\t\t\tfont-size: 20px;\n\t\t\t\theight: 41px;\n\n\t\t\t\tsvg path {\n\t\t\t\t\tfill: #bdc3c7;\n\t\t\t\t\ttransition: fill $animationDuration;\n\t\t\t\t}\n\n\t\t\t\t&:hover,\n\t\t\t\t&.active {\n\t\t\t\t\tsvg path {\n\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@at-root .sideSecondOpen .responsiveToggle {\n\t\t\t\tmargin-left: 250px;\n\t\t\t}\n\t\t}\n\n\t\t.slick,\n\t\t.slick > button {\n\t\t\tdisplay: flex;\n\t\t\tpadding-right: 3px;\n\n\t\t\t> i {\n\t\t\t\tfloat: left;\n\t\t\t}\n\n\t\t\t.slide {\n\t\t\t\twidth: 0px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\toverflow: hidden;\n\t\t\t\tfloat: left;\n\t\t\t\ttext-align: left;\n\t\t\t\tpadding-left: 10px;\n\t\t\t\ttransition: width 0.25s linear 0s;\n\t\t\t\t-webkit-transition: width 0.25s linear 0s;\n\t\t\t\t-moz-transition: width 0.25s linear 0s;\n\t\t\t}\n\n\t\t\t&:hover {\n\t\t\t\t.slide {\n\t\t\t\t\twidth: 125px;\n\t\t\t\t\ttransition-delay: 0.25s;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.dropdown-menu.revisions-dropdown {\n\t\t\twidth: 260px;\n\t\t\tmax-height: 400px;\n\t\t\toverflow-y: auto;\n\n\t\t\tli {\n\t\t\t\tcolor: #fff;\n\t\t\t\tpadding: 5px 11px 7px;\n\n\t\t\t\t> a {\n\t\t\t\t\tdisplay: inline;\n\t\t\t\t\tpadding: 0px;\n\t\t\t\t\tmargin: 0px;\n\n\t\t\t\t\t&:before,\n\t\t\t\t\t&:after {\n\t\t\t\t\t\tcontent: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.gridViewToggle {\n\t\t\tcolor: #ecf0f1;\n\t\t\tmargin: 5px 0px 0px 15px;\n\t\t\tfloat: left;\n\t\t\tborder-left: 1px dashed #798b9d;\n\t\t\tpadding-left: 15px;\n\t\t}\n\t}\n}\n\n/* end header */\n\n.builderLayout {\n\tdisplay: flex;\n\tflex-direction: row;\n\tmin-height: calc(100vh - 41px);\n\n\t& > .sideSecond {\n\t\twidth: 0px;\n\t\tbackground-color: #35495d;\n\t\ttransition: width $animationDuration;\n\t\toverflow: hidden;\n\n\t\t&.open {\n\t\t\twidth: $sideSecondWidth;\n\n\t\t\t.sideSecondInner {\n\t\t\t\topacity: 1;\n\t\t\t\twidth: $sideSecondWidth;\n\n\t\t\t\t& button.closeSideSecond {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\n\t\t\t\t.heading {\n\t\t\t\t\twidth: $sideSecondWidth;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.sideSecondInner {\n\t\t\tposition: fixed;\n\t\t\twidth: 0px;\n\t\t\tmax-height: calc(100vh - 41px);\n\t\t\theight: 100%;\n\t\t\topacity: 0;\n\t\t\tpadding-top: 55px;\n\t\t\ttransition: opacity $animationDuration, width $animationDuration;\n\t\t\toverflow-y: auto;\n\t\t\toverflow-x: hidden;\n\n\t\t\t/* close side second button */\n\t\t\t& button.closeSideSecond {\n\t\t\t\tbackground: none;\n\t\t\t\tborder: 0px;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 13px;\n\t\t\t\tright: 15px;\n\t\t\t\topacity: 0;\n\t\t\t\ttransition: opacity 1s;\n\n\t\t\t\tsvg {\n\t\t\t\t\twidth: 20px;\n\n\t\t\t\t\tpath,\n\t\t\t\t\tpolygon {\n\t\t\t\t\t\ttransition: fill $animationDuration;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\tsvg path,\n\t\t\t\t\tsvg polygon {\n\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.heading {\n\t\t\t\tpadding: 15px 20px 15px;\n\t\t\t\theight: 55px;\n\t\t\t\twidth: 0px;\n\t\t\t\tbackground-color: RGBA(53, 73, 93, 1);\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 41px;\n\t\t\t\tz-index: 10;\n\t\t\t\ttransition: width $animationDuration;\n\t\t\t}\n\n\t\t\th4 {\n\t\t\t\tcolor: #ecf0f1;\n\t\t\t\tfont-size: 21px;\n\t\t\t\tmargin: 0px;\n\t\t\t}\n\n\t\t\t&::-webkit-scrollbar {\n\t\t\t\twidth: 5px;\n\t\t\t\tbackground-color: #2d3e4f;\n\t\t\t}\n\n\t\t\t&::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: #bdc3c7;\n\t\t\t\toutline: 0px;\n\t\t\t\tborder: 0px;\n\t\t\t\tborder-radius: 0px;\n\t\t\t}\n\t\t}\n\n\t\t&[data-sidesecond="blocks"],\n\t\t&[data-sidesecond="components"],\n\t\t&[data-sidesecond="templates"],\n\t\t&[data-sidesecond="popups"] {\n\t\t\t/* side second nav */\n\t\t\tnav {\n\t\t\t\tbutton {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tbackground: none;\n\t\t\t\t\tbackground-color: none;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tcolor: #bdc3c7;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\tpadding: 0px 20px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\theight: 49px;\n\t\t\t\t\topacity: 1;\n\t\t\t\t\ttransition: color $animationDuration, background-color $animationDuration, height $animationDuration,\n\t\t\t\t\t\topacity $animationDuration;\n\n\t\t\t\t\tsvg {\n\t\t\t\t\t\tfloat: right;\n\t\t\t\t\t\theight: 12px;\n\t\t\t\t\t\twidth: 12px;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\ttop: 7px;\n\t\t\t\t\t\ttransition: transform $animationDuration ease-in-out;\n\n\t\t\t\t\t\tpolygon {\n\t\t\t\t\t\t\ttransition: fill $animationDuration ease-in;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tspan {\n\t\t\t\t\t\theight: 22px;\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\twidth: 90%;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.active {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\twidth: 250px;\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t&:hover,\n\t\t\t\t\t&.active {\n\t\t\t\t\t\tbackground-color: #00b591;\n\t\t\t\t\t\tcolor: #fff;\n\n\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\ttransform: rotate(90deg);\n\t\t\t\t\t\t\tpolygon {\n\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&.active:hover {\n\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\ttransform: rotate(270deg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&.noshow {\n\t\t\t\t\t\theight: 0px;\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t& > ul {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\tpadding: 0px;\n\t\t\t\t\tmargin: 0px;\n\n\t\t\t\t\tli {\n\t\t\t\t\t\tmargin: 10px 10px 0px;\n\t\t\t\t\t\tposition: relative;\n\n\t\t\t\t\t\timg {\n\t\t\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\t\t\tcursor: move;\n\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.templ > img {\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t> .delFavBlock {\n\t\t\t\t\t\t\tcolor: #be3a31;\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 5px;\n\t\t\t\t\t\t\tright: 10px;\n\t\t\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\t\t\topacity: 0.5;\n\t\t\t\t\t\t\ttransition: opacity $animationDuration ease-in-out;\n\n\t\t\t\t\t\t\t&:hover {\n\t\t\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&.unhide {\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tpadding-top: 50px;\n\n\t\t\t\t\t\t&:empty:before {\n\t\t\t\t\t\t\tcontent: attr(data-no-fav-blocks);\n\t\t\t\t\t\t\tbackground: #fff;\n\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\tpadding: 40px 20px;\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tfont-size: 16px;\n\t\t\t\t\t\t\tline-height: 21px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&[data-sidesecond="templates"] {\n\t\t\tul {\n\t\t\t\tmargin: 0px;\n\t\t\t\tpadding: 0px;\n\n\t\t\t\tli {\n\t\t\t\t\tmargin: 10px 10px 10px;\n\t\t\t\t\tposition: relative;\n\n\t\t\t\t\timg {\n\t\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\t\tcursor: move;\n\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t}\n\n\t\t\t\t\ta.btn-danger {\n\t\t\t\t\t\tz-index: 100;\n\t\t\t\t\t\tright: 5px;\n\t\t\t\t\t\ttop: 5px;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&[data-sidesecond="pages"] {\n\t\t\t.sideSecondInner {\n\t\t\t\tul {\n\t\t\t\t\tpadding: 0px;\n\t\t\t\t\tmargin: 0px;\n\n\t\t\t\t\tli {\n\t\t\t\t\t\theight: 49px;\n\t\t\t\t\t\tline-height: 49px;\n\t\t\t\t\t\tpadding: 0px 20px;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tbackground-color: transparent;\n\t\t\t\t\t\ttransition: background-color $animationDuration;\n\t\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t\t&:after {\n\t\t\t\t\t\t\tcontent: "";\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\tclear: both;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ta {\n\t\t\t\t\t\t\tcolor: #bdc3c7;\n\t\t\t\t\t\t\ttransition: color $animationDuration;\n\t\t\t\t\t\t\tfloat: left;\n\t\t\t\t\t\t\twidth: 65%;\n\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.pageButtons {\n\t\t\t\t\t\t\tfloat: right;\n\t\t\t\t\t\t\tmargin-top: 12px;\n\t\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\t\ttransition: opacity $animationDuration;\n\n\t\t\t\t\t\t\tbutton {\n\t\t\t\t\t\t\t\tfloat: right;\n\n\t\t\t\t\t\t\t\t&.fileSave {\n\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&.fileDel {\n\t\t\t\t\t\t\t\t\tborder-top-left-radius: 5px;\n\t\t\t\t\t\t\t\t\tborder-bottom-left-radius: 5px;\n\t\t\t\t\t\t\t\t\tborder-top-right-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-bottom-right-radius: 0px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&.fileEdit {\n\t\t\t\t\t\t\t\t\tborder-top-left-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-bottom-left-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-top-right-radius: 5px;\n\t\t\t\t\t\t\t\t\tborder-bottom-right-radius: 5px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t&.fileDuplicate {\n\t\t\t\t\t\t\t\t\tborder-top-left-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-bottom-left-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-top-right-radius: 0px;\n\t\t\t\t\t\t\t\t\tborder-bottom-right-radius: 0px;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.edit {\n\t\t\t\t\t\t\t.pageButtons {\n\t\t\t\t\t\t\t\t.fileEdit,\n\t\t\t\t\t\t\t\t.fileDel,\n\t\t\t\t\t\t\t\t.fileDuplicate {\n\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t.fileSave {\n\t\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinput[type="text"] {\n\t\t\t\t\t\t\t\tborder: 0px;\n\t\t\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\tfloat: left;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&:hover,\n\t\t\t\t\t\t&.active {\n\t\t\t\t\t\t\tbackground-color: #2d3e4f;\n\n\t\t\t\t\t\t\t.pageButtons {\n\t\t\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ta {\n\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\thr {\n\t\t\t\t\tborder-top: 2px dashed #bdc3c7;\n\t\t\t\t\tmargin: 20px 0px 10px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\n\t\t\t\t.buttonWrapper {\n\t\t\t\t\tpadding: 10px;\n\n\t\t\t\t\t.btn {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&[data-sidesecond="popups"] {\n\t\t\tul {\n\t\t\t\tdisplay: block !important;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .canvasWrapper {\n\t\tflex-grow: 1;\n\t\tpadding: 18px 18px 0px;\n\t}\n}\n\nbody .modal-dialog {\n\tmargin: 120px auto 30px;\n}\n\n.toggle:hover,\n.toggle:focus {\n\tcolor: #fff;\n}\n\n#hidden {\n\tdisplay: none !important;\n}\n\n.actionButtons {\n\tborder-radius: 0px;\n}\n\n.margin-bottom-5 {\n\tmargin-bottom: 5px;\n}\n\ntextarea:hover,\ninput:hover,\ntextarea:active,\ninput:active,\ntextarea:focus,\ninput:focus,\nbutton:focus,\nbutton:active,\nbutton:hover {\n\toutline: 0px !important;\n\t-webkit-appearance: none;\n}\n\nbody .drop-hover {\n\tborder: 3px dashed #95a5a6;\n\theight: 150px;\n\tbackground: #ecf0f1;\n}\n\n#loader {\n\tdisplay: -webkit-box;\n\tdisplay: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n\t-webkit-box-pack: center;\n\t-webkit-justify-content: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-webkit-align-items: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n\tbackground-color: #4684ee;\n\tposition: fixed;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #2c3e50;\n\tz-index: 10000;\n}\n\n#loader span {\n\tcolor: #ecf0f1;\n\tfont-family: Consolas, Menlo, Monaco, monospace;\n\tfont-weight: bold;\n\tfont-size: 30vh;\n\topacity: 0.8;\n}\n\n#loader span {\n\tdisplay: inline-block;\n\t-webkit-animation: pulse 0.4s alternate infinite ease-in-out;\n\tanimation: pulse 0.4s alternate infinite ease-in-out;\n}\n\n#loader span:nth-child(odd) {\n\t-webkit-animation-delay: 0.4s;\n\tanimation-delay: 0.4s;\n}\n@-webkit-keyframes pulse {\n\tto {\n\t\t-webkit-transform: scale(0.8);\n\t\ttransform: scale(0.8);\n\t\topacity: 0.5;\n\t}\n}\n@keyframes pulse {\n\tto {\n\t\t-webkit-transform: scale(0.8);\n\t\ttransform: scale(0.8);\n\t\topacity: 0.5;\n\t}\n}\n\nbody .btn-warning {\n\tbackground-color: #f39c12;\n}\n\nbody .btn-warning:hover {\n\tbackground-color: #f4a62a;\n}\n\nbody .fileinput .fileinput-preview {\n\tcursor: default !important;\n}\n\nbody .btn-file > input[type="file"] {\n\tposition: absolute !important;\n}\n\n/* show/hide sections */\n\n.showHide {\n\tmargin-bottom: 20px;\n\n\t> label {\n\t\ttext-align: center;\n\t\tdisplay: block;\n\t\tcolor: #2f81b7;\n\t\tcursor: pointer;\n\t}\n\n\t.showHideContent {\n\t\tmax-height: 0px;\n\t\toverflow: hidden;\n\t\ttransition: max-height 0.5s ease-in-out;\n\t}\n\n\tinput[type="checkbox"] {\n\t\tdisplay: none;\n\n\t\t&:checked ~ .showHideContent {\n\t\t\tmax-height: 500px;\n\t\t}\n\t}\n}\n\n/* end show/hide sections */\n\n/* style editor */\n\n.styleEditor {\n\twidth: 0px;\n\tbackground: #f9f9f9;\n\tbox-shadow: 6px 0px 1px rgba(0, 0, 0, 0.1);\n\tpadding: 0px;\n\toverflow-y: auto;\n\toverflow-x: visible;\n\tz-index: 2000;\n\ttransition: width $animationDuration;\n\tborder-left: 2px solid #e9e7e7;\n\n\t&.open {\n\t\twidth: 300px;\n\t}\n\n\t.styleEditorInner {\n\t\tposition: fixed;\n\t\twidth: 300px;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t\theight: 100vh;\n\t\tpadding: 20px;\n\t\tz-index: 9999;\n\n\t\t&::-webkit-scrollbar {\n\t\t\twidth: 5px;\n\t\t\tbackground-color: #2d3e4f;\n\t\t}\n\n\t\t&::-webkit-scrollbar-thumb {\n\t\t\tbackground-color: #bdc3c7;\n\t\t\toutline: 0px;\n\t\t\tborder: 0px;\n\t\t\tborder-radius: 0px;\n\t\t}\n\t}\n\n\t.alert {\n\t\tfont-size: 13px;\n\t\tpadding: 10px 30px 14px 20px !important;\n\t\tclear: both;\n\t\tmargin-top: 10px;\n\n\t\tbutton {\n\t\t\tfont-size: 14px;\n\t\t\tright: -22px;\n\t\t\ttop: 0px;\n\t\t}\n\t}\n}\n\n.styleEditor .tab-content {\n\tpadding: 0px;\n\tborder: 0px;\n\tborder-radius: 0px;\n\tmargin-bottom: 20px;\n\tborder-bottom: 2px dashed #ccc;\n}\n\n.styleEditor .nav-tabs li span {\n\tfont-size: 12px;\n\tcolor: #34495e;\n}\n\n.styleEditor form {\n\twidth: 100%;\n\toverflow: visible;\n\tposition: relative;\n\tmargin-bottom: 20px;\n}\n\n.styleEditor > a.close {\n\tposition: absolute;\n\ttop: 60px;\n\tright: 15px;\n\tfont-size: 20px;\n}\n\n.styleEditor h3 {\n\tfont-size: 17px;\n\tfont-weight: normal;\n\tmargin-top: 0px;\n\tmargin-bottom: 30px;\n}\n\n.styleEditor .control-label {\n\tline-height: 20px;\n\tpadding-top: 6px;\n\tfont-size: 13px;\n\tfloat: left;\n\twidth: 55%;\n}\n\n#shapeModal {\n\t.sp-replacer {\n\t\tfloat: right;\n\t\twidth: 100%;\n\t\tborder: 2px solid #bdc3c7;\n\t\theight: 35px;\n\t\tbackground: #fff;\n\t\tpadding: 6px;\n\n\t\t.sp-preview {\n\t\t\twidth: 85%;\n\t\t\tborder: 0px;\n\t\t}\n\t}\n}\n\n.uncode-radio-image {\n\t.uncode_radio_images_list {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tfloat: none;\n\t\twidth: 100%;\n\t\tlist-style: none;\n\n\t\t&::before,\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tcontent: "";\n\t\t\twidth: 100%;\n\t\t\tclear: both;\n\t\t}\n\n\t\tli {\n\t\t\twidth: 50%;\n\t\t\tfloat: left;\n\t\t\tpadding: 0 10px;\n\t\t\tmargin: 5px 0;\n\n\t\t\tinput[type="radio"] {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\tlabel {\n\t\t\t\tdisplay: block;\n\n\t\t\t\t.uncode_radio_image_src {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 25px;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tbackground-color: #f6f6f6;\n\t\t\t\t\tbackground-position: center bottom;\n\t\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\t\tbackground-size: 100% 50%;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t-webkit-transition: -webkit-box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\t-moz-transition: -moz-box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\t-o-transition: box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\t-webkit-transition: box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\t-moz-transition: box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\ttransition: box-shadow 0.25s cubic-bezier(0.785, 0.135, 0.15, 0.86);\n\t\t\t\t\tborder: 1px solid transparent;\n\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t&.checked {\n\t\t\t\t\t\tborder: 1px solid #00b591;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.uncode_radio_image_title {\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.styleEditor .form-group {\n\tposition: relative;\n\tmargin-bottom: 10px;\n\tmin-height: 40px;\n}\n\n.styleEditor .form-group > a.linkLib {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 10px;\n\tfont-size: 22px;\n}\n\n.styleEditor .form-group > span.inputAppend {\n\tposition: absolute;\n\ttop: 4px;\n\tright: 10px;\n\tfont-size: 15px;\n\tletter-spacing: 1px;\n\tcolor: #a5abaf;\n}\n\n.styleEditor [data-form-type] {\n\tdisplay: none;\n}\n\n.styleEditor .form-group > a.linkLib span {\n\tbackground: #fff;\n}\n\n.styleEditor .form-group > a.linkGradient {\n\tright: 40px;\n}\n\n.styleEditor .form-group > a.linkLib span.fa.fa-paint-brush {\n\tvertical-align: top;\n\tmargin-top: 9px;\n\tfont-size: 18px;\n}\n\n.styleEditor .form-group > input {\n\tfloat: right;\n\twidth: 42%;\n\ttext-overflow: ellipsis;\n}\n\n.styleEditor .form-group > input.padding-right {\n\tpadding-right: 40px;\n\tbackground-image: none !important;\n}\n\n.styleEditor .form-group > input.padding-right.p-r-60 {\n\tpadding-right: 60px;\n}\n\n.styleEditor .form-group > .btn-block.select {\n\tmin-width: 30px;\n}\n\n.styleEditor .form-group > .btn-block.select > .btn {\n\twidth: 100%;\n}\n\n.styleEditor .form-group > .btn-block.select .dropdown-menu {\n\tright: 0px;\n\tleft: auto;\n}\n\n.styleEditor .form-group > .sp-replacer {\n\tfloat: right;\n\twidth: 42%;\n\tborder: 2px solid #bdc3c7;\n\theight: 35px;\n\tbackground: #fff;\n\tpadding: 6px;\n}\n\n.styleEditor .form-group .sp-preview {\n\twidth: 75%;\n\tborder: 0px;\n}\n\nbody .sp-container {\n\tborder: 2px solid #bdc3c7;\n}\n\nbody .sp-container .sp-palette-container {\n\tborder-right: 2px solid #bdc3c7;\n}\n\nbody .sp-container .sp-picker-container {\n\tborder-left: 0px;\n}\n\nbody .sp-container button,\nbody .sp-container button:hover {\n\tbackground-image: none;\n\tbackground-color: #1abc9c;\n\tcolor: #fff;\n\tborder-radius: 0px;\n\tborder: 0px;\n\tfont-family: "Lato", Helvetica, Arial, ;\n\tfont-weight: normal;\n\tpadding: 0px 12px;\n\ttext-shadow: none;\n\tline-height: 31px;\n\ttext-transform: uppercase;\n}\n\nbody .sp-input {\n\tborder-radius: 0px;\n\tbackground: #fff;\n\tborder: 1px solid #ccc;\n}\n\n.styleEditor .form-group > input.active {\n\tposition: absolute;\n\tright: 0px;\n\twidth: 100%;\n}\n\n.styleEditor div#styleElements {\n\tmargin-bottom: 0px;\n}\n\n.styleEditor ul.breadcrumb {\n\tbackground: #e1e0e0;\n\tborder-radius: 0px;\n\tfont-size: 14px;\n\ttext-transform: uppercase;\n}\n\n.styleEditor .breadcrumb > li:after {\n\tcolor: #24bfa0;\n}\n\n.styleEditor .breadcrumb .active {\n\tcolor: #24bfa0;\n\tfont-weight: bold;\n}\n\n.styleEditor .nav-tabs > li > a {\n\tpadding: 7px 15px 8px;\n\tborder: 2px solid transparent;\n}\n\n.styleEditor .sideButtons {\n\tmargin: 0px 0px 30px;\n\twidth: 100%;\n}\n\n.styleEditor .sideButtons > * {\n\tfloat: left;\n\twidth: 50%;\n\n\t&:first-child {\n\t\tborder-top-right-radius: 0px;\n\t\tborder-bottom-right-radius: 0px;\n\t}\n\n\t&:last-child {\n\t\tborder-top-left-radius: 0px;\n\t\tborder-bottom-left-radius: 0px;\n\t}\n}\n\n.styleEditor p.or {\n\tcolor: #7f8c8d;\n\tfont-weight: bold;\n\tfont-size: 15px;\n\tborder-bottom: 2px solid #bdc3c7;\n\tline-height: 0px;\n\tmargin-bottom: 25px;\n}\n\n.styleEditor p.or span {\n\tbackground: #f9f9f9;\n\tpadding: 0px 10px;\n}\n\n.styleEditor .link_Tab .btn-group {\n\tmargin-bottom: 25px;\n}\n\n.styleEditor .link_Tab .btn-group,\n.styleEditor .link_Tab .btn-group button {\n\twidth: 100%;\n}\n\n.styleEditor .link_Tab .btn-group .dropdown-menu {\n\tright: 0px;\n\tleft: auto;\n}\n\n.styleEditor .link_Tab input {\n\tmargin-bottom: 20px;\n}\n\n.styleEditor .form-group.fullWidth > input {\n\tfloat: none;\n\twidth: 100%;\n}\n\n.styleEditor ul.nav-tabs li.active a {\n\tbackground-color: #f9f9f9;\n\tborder-color: #e1e4e7 #e1e4e7 #f9f9f9;\n}\n\n.styleEditor .fileinput .thumbnail {\n\tborder-radius: 0px;\n}\n\n.styleEditor .imageFileTab > input {\n\tmargin-bottom: 20px;\n}\n\n.styleEditor .imageFileTab > .form-group {\n\tmargin-bottom: 20px;\n}\n\n.styleEditor #icons_chosen {\n\twidth: 100% !important;\n\tmargin-bottom: 30px;\n}\n\n/* end style editor */\n\n#frame {\n\tdisplay: block;\n\tborder: 0px;\n}\n\n.screen {\n\tmargin: 0px auto;\n}\n\n.screen.mobile,\n.screen.tablet {\n\tborder-left: 2px solid #e1e0e0;\n\tborder-right: 2px solid #e1e0e0;\n\tborder-bottom: 2px solid #e1e0e0;\n}\n\n.screen .zoomer-wrapper {\n\tbackground: #fff;\n}\n\n.screen .start {\n\tposition: absolute;\n\twidth: 100%;\n\tleft: 0px;\n\ttop: 0px;\n\tz-index: 99;\n}\n\n.screen .start > span {\n\tdisplay: block;\n\tbackground: #34495e;\n\tpadding: 10px 20px;\n\twidth: 450px;\n\tcolor: #fff;\n\tfont-size: 13px;\n\ttext-transform: uppercase;\n\ttext-align: center;\n\tmargin: 170px auto 0px;\n}\n\n.screen.mobile .start > span {\n\twidth: 300px;\n}\n\n.screen .toolbar {\n\tbackground: #e1e0e0;\n\theight: 35px;\n\tpadding: 0px 0px 0px 11px;\n}\n\n.screen .toolbar .buttons {\n\tfloat: left;\n\theight: 13px;\n\tmargin-top: 11px;\n}\n\n.screen .toolbar .title {\n\tfont-size: 14px;\n\tcolor: #000;\n\ttext-align: center;\n\tmargin-right: 80px;\n\tpadding-top: 5px;\n}\n\n.screen .toolbar .left {\n\tdisplay: block;\n\twidth: 13px;\n\theight: 13px;\n\tfloat: left;\n\tborder-radius: 13px;\n\tmargin-right: 6px;\n}\n\n.screen .toolbar .left.red {\n\tbackground: #e74c3c;\n}\n\n.screen .toolbar .left.yellow {\n\tbackground: #f4a62a;\n}\n\n.screen .toolbar .left.green {\n\tbackground: #16a085;\n}\n\n.screen .frameWrapper {\n\tbackground: #fff;\n\tpadding-top: 0px;\n\tposition: relative;\n}\n\n.screen .frameWrapper.empty {\n\tmin-height: 400px;\n}\n\n.screen .frameWrapper #pageList > ul {\n\tlist-style: none;\n\tlist-style-type: none;\n\tmargin: 0px;\n\tpadding: 0px;\n\tdisplay: none;\n\theight: 100%;\n\tmin-height: 300px;\n}\n\n.screen .frameWrapper #pageList > ul.active {\n\tdisplay: block;\n}\n\n.screen .frameWrapper #pageList > ul > li {\n\tdisplay: block;\n\toverflow: hidden;\n\tposition: relative;\n}\n\n.screen .frameWrapper #pageList > ul > li .editorButtons,\n.screen .frameWrapper #popups .popupDz ul li .editorButtons {\n\tposition: absolute;\n\ttop: 0px;\n\tright: 0px;\n\tz-index: 100;\n}\n\n.screen .frameWrapper #pageList > ul iframe {\n\tborder: 0px;\n\twidth: 100%;\n}\n\n.screen .frameWrapper #pageList > ul li .zoomer-cover {\n\tcursor: move;\n\toverflow: hidden !important;\n}\n\n.screen .frameWrapper #pageList > ul li .zoomer-small,\n.screen .frameWrapper #pageList > ul li .zoomer-small iframe {\n\toverflow: hidden !important;\n\toverflow-y: hidden !important;\n}\n\n.screen .frameCover {\n\tvisibility: visible;\n\topacity: 1;\n\ttransition: right $animationDuration linear 0s;\n\t-webkit-transition: right $animationDuration linear $animationDuration;\n\t-moz-transition: right $animationDuration linear $animationDuration, o;\n\tbackground-color: #ecf0f1;\n\tpadding-left: 10px;\n\tposition: absolute;\n\ttop: 40px;\n\tright: -295px;\n\twidth: auto;\n\theight: 36px;\n\t-webkit-border-top-left-radius: 50px;\n\t-webkit-border-bottom-left-radius: 50px;\n\t-moz-border-radius-topleft: 50px;\n\t-moz-border-radius-bottomleft: 50px;\n\tborder-top-left-radius: 50px;\n\tborder-bottom-left-radius: 50px;\n\toverflow: visible;\n\n\t&.forAdmin {\n\t\tright: -510px;\n\t}\n\n\t&.forPopup.entry {\n\t\tright: -497px;\n\n\t\ta.select2-choice {\n\t\t\tborder-radius: 0px;\n\t\t}\n\t}\n\n\t&.forPopup.regular {\n\t\tright: -207px;\n\t}\n\n\t.divPopupDelayWrapper {\n\t\t.select {\n\t\t\twidth: 160px;\n\t\t\tmin-width: 0px;\n\t\t}\n\t}\n\n\t> .frameCoverToggle {\n\t\tborder: 0px;\n\t\tbackground: none;\n\t\tfont-size: 20px;\n\t\tpadding: 0px;\n\t\tmargin-right: 10px;\n\t\tline-height: 36px;\n\n\t\t&:hover {\n\t\t\tcolor: #239f85;\n\t\t}\n\t}\n\n\t> .select2-container.select-sm > .select2-choice {\n\t\tborder-radius: 0px;\n\t}\n\n\tul.dropdown-menu {\n\t\tmax-height: 250px;\n\t\toverflow-y: auto;\n\t}\n}\n\n.screen .frameCover.stay {\n\tright: 0px !important;\n\n\t> .frameCoverToggle {\n\t\tcolor: #be3a31;\n\t}\n}\n\n.screen li .frameCover:hover {\n\t/*right: 0px;\n\ttransition-delay:0s;*/\n}\n\n.screen.mobile li:hover .frameCover {\n\tvisibility: hidden;\n\topacity: 0;\n}\n\n.screen .frameCover.move {\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: transparent;\n\tvisibility: visible;\n\topacity: 1;\n}\n\n.screen .frameCover.move button,\n.screen .frameCover.move label {\n\tdisplay: none;\n}\n\n.screen .frameCover.move:hover button {\n\tdisplay: block;\n}\n\n.screen .frameCover button,\n.screen .frameWrapper #pageList ul li .editorButtons button,\n.screen .frameCover label,\n.screen .frameCover > span {\n\tfloat: right;\n}\n\n.screen .frameCover > span {\n\tfont-size: 22px;\n\tmargin-right: 10px;\n}\n\n.screen .frameCover label {\n\tpadding-right: 20px;\n\tmargin-bottom: 0px;\n\tmargin-top: 8px;\n}\n\n.screen .frameCover button,\n.screen .frameWrapper #pageList ul li .editorButtons button {\n\theight: 36px;\n\tborder-radius: 0px;\n}\n\n.screen .frameCover button {\n\tborder-radius: 0px;\n}\n\n.screen .frameCover button > i {\n\tfloat: left;\n\ttop: 0px;\n\tposition: relative;\n\tleft: 2px;\n}\n\n.screen .frameWrapper #pageList ul li .editorButtons button i {\n\tfloat: left;\n\ttop: 2px;\n\tposition: relative;\n\tleft: 2px;\n\tmargin-right: 5px;\n}\n\n.screen .aceEditor {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n}\n\n.builderActive {\n\tborder: 3px dashed red;\n\tcursor: pointer;\n}\n\n#canvasOverlay {\n\tposition: absolute;\n\tleft: 0px;\n\ttop: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: RGBA(45, 62, 79, 0.5);\n\tdisplay: -webkit-box;\n\tdisplay: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: none;\n\t-webkit-box-pack: center;\n\t-webkit-justify-content: center;\n\t-ms-flex-pack: center;\n\tjustify-content: center;\n\t-webkit-box-align: center;\n\t-webkit-align-items: center;\n\t-ms-flex-align: center;\n\talign-items: center;\n}\n\n#canvasOverlay .loader {\n\tcolor: #fff;\n\tfont-family: Consolas, Menlo, Monaco, monospace;\n\tfont-weight: bold;\n\tfont-size: 20vh;\n\topacity: 0.8;\n}\n\n#canvasOverlay .loader span {\n\tdisplay: inline-block;\n\t-webkit-animation: pulse 0.4s alternate infinite ease-in-out;\n\tanimation: pulse 0.4s alternate infinite ease-in-out;\n}\n\n#canvasOverlay .loader span:nth-child(odd) {\n\t-webkit-animation-delay: 0.4s;\n\tanimation-delay: 0.4s;\n}\n@-webkit-keyframes pulse {\n\tto {\n\t\t-webkit-transform: scale(0.8);\n\t\ttransform: scale(0.8);\n\t\topacity: 0.5;\n\t}\n}\n@keyframes pulse {\n\tto {\n\t\t-webkit-transform: scale(0.8);\n\t\ttransform: scale(0.8);\n\t\topacity: 0.5;\n\t}\n}\n\n/* modals */\n\n.modal-content {\n\t/*border-radius: 0px;\n\tborder: 0px;*/\n}\n\n.modal.small-modal > .modal-dialog,\n.modal.small-modal .modal-content {\n\twidth: 400px;\n}\n\n.modal.small-modal > .modal-dialog {\n\tmargin-top: 140px;\n}\n\n/* some flat ui resets */\n\n.btn {\n\t/*border-radius: 0px;*/\n}\n\n.form-control {\n\t/*border-radius: 0px;*/\n}\n\n.alert {\n\t/*border-radius: 0px;*/\n}\n\n#successModal .alert,\n#errorModal .alert {\n\tmargin-bottom: 0px;\n}\n\n/* end modals */\n\n.fr-popup .fr-input-line input + label {\n\tdisplay: none !important;\n}\n\n.fr-toolbar.fr-inline {\n\tz-index: 10000000;\n}\n\n/* huge modal */\n\n.modal-dialog.modal-hg {\n\twidth: 95%;\n\tmargin-top: 50px;\n}\n\n/* end huge modal */\n\n.pageSettingsModal {\n\t.form-group {\n\t\t.bootstrap-tagsinput {\n\t\t\tmin-height: 43px;\n\t\t\tborder: 2px solid #bdc3c7;\n\t\t\tinput[type="text"] {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n\n#savePage {\n\tposition: relative;\n\n\t&:hover {\n\t\tul {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\tul {\n\t\tdisplay: none;\n\t\tlist-style: none;\n\t\tposition: absolute;\n\t\tpadding: 0;\n\t\tmargin: 10px 0 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\tmin-width: 150px;\n\t\tbackground: #ffffff;\n\n\t\tli {\n\t\t\ta {\n\t\t\t\tpadding: 10px 15px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* datepicker */\n\n.tail-datetime-calendar {\n\tz-index: 10000 !important;\n}\n\n/*.end datepicker */\n\n/* popup container */\n\n.popupsWrapper {\n\tdisplay: none;\n\tbackground-color: rgba(0, 0, 0, 0.85);\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 100;\n\n\t.popupTypeSelectWrapper {\n\t\tposition: absolute;\n\t\ttop: -36px;\n\t\tleft: 0px;\n\t\tz-index: 1;\n\n\t\t.select2-container.select-sm > .select2-choice {\n\t\t\tborder-radius: 0px;\n\t\t}\n\t}\n\n\tbutton.close {\n\t\tposition: absolute;\n\t\tright: 20px;\n\t\ttop: 20px;\n\t\tbackground-color: #fff;\n\t\topacity: 1;\n\t\ttext-shadow: none;\n\t\tborder: none;\n\t\tborder-radius: 9999px;\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\topacity: 0.5;\n\t\t-webkit-appearance: none;\n\t\tpadding: 0;\n\t\tcursor: pointer;\n\t\tborder: 0;\n\t\tfont-size: 21px;\n\t\tfont-weight: 700;\n\t\tcolor: #000;\n\n\t\t&:hover {\n\t\t\topacity: 1;\n\t\t}\n\n\t\tspan {\n\t\t\tbackground-color: transparent;\n\t\t\tline-height: 27px;\n\t\t\theight: 30px;\n\t\t\tvertical-align: baseline;\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t.wrapper {\n\t\toverflow-y: auto;\n\t\tpadding-bottom: 100px;\n\t}\n\n\tdiv.popupDz {\n\t\tposition: relative;\n\t\tdisplay: none;\n\n\t\tul:not(.dropdown-menu) {\n\t\t\tdisplay: block;\n\t\t\tmin-height: 200px;\n\t\t\twidth: 100%;\n\t\t\tmargin: 100px auto;\n\t\t\tpadding: 0px;\n\t\t\tlist-style: none;\n\t\t\tlist-style-type: none;\n\n\t\t\t& > li {\n\t\t\t\tlist-style: none;\n\t\t\t\tlist-style-type: none;\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t&.hidden {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t& > iframe {\n\t\t\t\t\tborder: 0px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.regular {\n\t\t\tli {\n\t\t\t\tmargin-bottom: 100px;\n\t\t\t}\n\t\t}\n\n\t\t.dzPlaceholder {\n\t\t\tposition: absolute;\n\t\t\ttop: 0px;\n\t\t\tleft: 0px;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tz-index: -1;\n\n\t\t\tspan {\n\t\t\t\twidth: 70%;\n\t\t\t\theight: 200px;\n\t\t\t\tline-height: 200px;\n\t\t\t\tborder: 2px dashed rgba(255, 255, 255, 0.75);\n\t\t\t\tcolor: #fff;\n\t\t\t\tfont-size: 30px;\n\t\t\t\tletter-spacing: 1px;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tdisplay: block;\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t}\n\n\t\t&.visible {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.visible {\n\t\tdisplay: block;\n\t}\n}\n\n/* end popup container */\n\n/* customer switches */\n\n.lbl {\n\tposition: relative;\n\tdisplay: block;\n\theight: 20px;\n\twidth: 44px;\n\tbackground: #898989;\n\tborder-radius: 100px;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n}\n\n.lbl:after {\n\tposition: absolute;\n\tleft: -2px;\n\ttop: -3px;\n\tdisplay: block;\n\twidth: 26px;\n\theight: 26px;\n\tborder-radius: 100px;\n\tbackground: #29bb9c;\n\tbox-shadow: 0px 3px 3px rgba(0, 0, 0, 0.05);\n\tcontent: "";\n\ttransition: all 0.3s ease;\n}\n\n.lbl:active:after {\n\ttransform: scale(1.15, 0.85);\n}\n\n.cbx:checked ~ label:after {\n\tleft: 20px;\n}\n\n.hidden {\n\tdisplay: none;\n}\n\n/* end custom switches */\n\n.notifyjs-custom-warning {\n\tcolor: #fafafa !important;\n\tbackground-color: #ffbd4a !important;\n\tborder: 1px solid #ffd740;\n\twidth: 300px;\n\ttext-align: center;\n\twhite-space: initial !important;\n}\n\n@import "other";\n\ndiv[data-checkout="false"] {\n\tdisplay: none;\n}\n\ndiv[data-checkout="true"] {\n\tdisplay: block;\n}\n\n.w-110 {\n\twidth: 110px !important;\n}\n\n.blockCatSelection {\n\t.h-auto {\n\t\t.form-group {\n\t\t\tdisplay: none;\n\t\t\tpadding-left: 15px;\n\t\t\tpadding-right: 15px;\n\t\t\t// display: flex;\n\t\t\talign-items: center;\n\n\t\t\tlabel {\n\t\t\t\tmargin-right: 10px;\n\n\t\t\t\t& + div {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmax-width: 200px;\n\n\t\t\t\t\tspan {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\tright: 10px;\n\t\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.variants {\n\tfloat: left;\n\tpadding: 2px 5px;\n\tdisplay: flex;\n\tposition: relative;\n\tz-index: 20;\n\n\tbutton {\n\t\tmargin-right: 5px;\n\t\tborder: 1px solid #767676;\n\t\tborder-radius: 2px;\n\n\t\t&.active {\n\t\t\tbackground: #2c81ba;\n\t\t\tborder-color: #2c81ba;\n\t\t\tcolor: white;\n\t\t}\n\n\t\t&:last-child {\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n}\n\n[data-variant-hide] {\n\tdisplay: none;\n}\n\n[data-simulate="false"] {\n\tdisplay: none;\n}\n',"$animationDuration: .5s;\n\n.newSiteModal, .newPageModal {\n\n\t.modal-content {\n\t\tborder: 0px;\n\n\t\th2 {\n\t\t\ttext-transform: uppercase;\n    \t\tfont-size: 45px;\n    \t\tmargin-bottom: 20px;\n\t\t}\n\n\t\th3 {\n\t\t\tfont-size: 19px;\n    \t\ttext-transform: uppercase;\n    \t\tmargin-top: 0px;\n    \t\tfont-weight: normal;\n\t\t}\n\t\n\t\t.modal-body {\n\n\t\t\tpadding: 0px;\n\t\t\tdisplay: flex;\n\t\t\tmin-height: 400px;\n\t\t\tjustify-content: space-between;\n\n\t\t\t.divEmptyCanvas {\n\t\t\t\timg {\n\t\t\t\t\tmargin: 20px 0px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tul.catList {\n\t\t\t\twidth: 30%;\n\t\t\t\tlist-style: none;\n\t\t\t\tlist-style-type: none;\n\t\t\t\tpadding: 20px 0px 0px;\n\t\t\t\tmargin: 0px;\n\t\t\t\tbackground-color: #3A99D8;\n\n\t\t\t\tli {\n\t\t\t\t\tlist-style: none;\n\t\t\t\t\tlist-style-type: none;\n\n\t\t\t\t\tbutton {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tborder-radius: 0px;\n\t\t\t\t\t\theight: 60px;\n\t\t\t\t\t\tbackground-color: #3A99D8;\n\t\t\t\t\t\tcolor: #ECF0F1;\n\t\t\t\t\t\tborder: 0px;\n\t\t\t\t\t\tpadding-right: 40px;\n\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\tpadding-left: 30px;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\ttransition: background-color $animationDuration,\n\t\t\t\t\t\t\t\t\tcolor $animationDuration;\n\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\twhite-space: nowrap;\n\n\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\tpolygon {\n\t\t\t\t\t\t\t\tfill: #bdc3c7;\n\t\t\t\t\t\t\t\ttransition: fill $animationDuration;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&:active, &:focus {\n\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t&.active, &:hover {\n\t\t\t\t\t\t\tbackground-color: #2F81B7;\n\t\t\t\t\t\t\tcolor: #fff;\n\n\t\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\t\tpolygon {\n\t\t\t\t\t\t\t\t\tfill: #fff;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsvg {\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 20px;\n\t\t\t\t\t\t\tright: 20px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t.templateWrapper {\n\t\t\t\twidth: 65%;\n\n\t\t\t\tul.templateList {\n\t\t\t\t\tmargin: 0px;\n\t\t\t\t\tpadding: 20px 0px;\n\t\t\t\t\t\n\t\t\t\t\tlist-style: none;\n\t\t\t\t\tlist-style-type: none;\n\n\t\t\t\t\tli {\n\t\t\t\t\t\tlist-style: none;\n\t\t\t\t\t\tlist-style-type: none;\n\t\t\t\t\t\twidth: 45%;\n\t\t\t\t\t\tfloat: left;\n\t\t\t\t\t\tmargin-right: 15px;\n\t\t\t\t\t\tmargin-bottom: 20px;\n\n\t\t\t\t\t\ta {\n\t\t\t\t\t\t\timg {\n\t\t\t\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\t\t\t\tborder: 2px solid transparent;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t&.active {\n\t\t\t\t\t\t\t\timg {\n\t\t\t\t\t\t\t\t\tborder: 2px solid #239F85;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t}\n}\n\n.newPageModal {\n\t.modal-content {\n\t\t.modal-body {\n\t\t\t.templateWrapper {\n\t\t\t\twidth: 70%;\n\t\t\t\tpadding: 15px;\n\t\t\t\tposition: relative;\n\t\t\t}\n\n\t\t\t.templateList {\n\t\t\t\tposition: absolute;\n\t\t\t\t// height: 100%;\n\t\t\t\toverflow-y: auto;\n\t\t\t\ttop: 15px;\n\t\t\t\tleft: 15px;\n\t\t\t\tbottom: 15px;\n\t\t\t\tright: 15px;\n\t\t\n\t\t\t\t&__item {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\n\t\t\t\t\th3 {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t\t\tmargin: 20px 0;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\ta {\n\t\t\t\t\t\twidth: 50%;\n\t\t\t\t\t\tpadding: 0 10px;\n\t\t\t\t\t\tmargin-bottom: 20px;\n\n\t\t\t\t\t\t&.active {\n\t\t\t\t\t\t\timg {\n\t\t\t\t\t\t\t\tborder-color: #239F85;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\timg {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 250px;\n\t\t\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\t\t\tborder: 2px solid transparent;\n\t\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tspan {\n\t\t\t\t\t\t\ttext-transform: capitalize;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}  \n}"]}])},,,,,,,,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",c="[object Array]",d="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Function]",f="[object GeneratorFunction]",m="[object Map]",g="[object Number]",b="[object Object]",v="[object RegExp]",y="[object Set]",_="[object String]",w="[object Symbol]",k="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",T="[object Int16Array]",D="[object Int32Array]",L="[object Uint8Array]",M="[object Uint16Array]",$="[object Uint32Array]",F=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,B=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,R=RegExp(O.source),N=RegExp(j.source),P=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,V=RegExp(q.source),G=/^\s+|\s+$/g,K=/^\s+/,X=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Z=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,de=/($^)/,ue=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="[\\ud800-\\udfff]",me="["+pe+"]",ge="["+he+"]",be="\\d+",ve="[\\u2700-\\u27bf]",ye="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[^\\ud800-\\udfff"+pe+be+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",we="\\ud83c[\\udffb-\\udfff]",ke="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Ce="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Se="(?:"+ye+"|"+_e+")",Ee="(?:"+Ce+"|"+_e+")",Te="(?:"+ge+"|"+we+")"+"?",De="[\\ufe0e\\ufe0f]?"+Te+("(?:\\u200d(?:"+[ke,xe,Ae].join("|")+")[\\ufe0e\\ufe0f]?"+Te+")*"),Le="(?:"+[ve,xe,Ae].join("|")+")"+De,Me="(?:"+[ke+ge+"?",ge,xe,Ae,fe].join("|")+")",$e=RegExp("[']","g"),Fe=RegExp(ge,"g"),Ie=RegExp(we+"(?="+we+")|"+Me+De,"g"),Be=RegExp([Ce+"?"+ye+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[me,Ce,"$"].join("|")+")",Ee+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[me,Ce+Se,"$"].join("|")+")",Ce+"?"+Se+"+(?:['](?:d|ll|m|re|s|t|ve))?",Ce+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",be,Le].join("|"),"g"),Oe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ne=-1,Pe={};Pe[C]=Pe[S]=Pe[E]=Pe[T]=Pe[D]=Pe[L]=Pe["[object Uint8ClampedArray]"]=Pe[M]=Pe[$]=!0,Pe[l]=Pe[c]=Pe[x]=Pe[d]=Pe[A]=Pe[u]=Pe[h]=Pe[p]=Pe[m]=Pe[g]=Pe[b]=Pe[v]=Pe[y]=Pe[_]=Pe[k]=!1;var He={};He[l]=He[c]=He[x]=He[A]=He[d]=He[u]=He[C]=He[S]=He[E]=He[T]=He[D]=He[m]=He[g]=He[b]=He[v]=He[y]=He[_]=He[w]=He[L]=He["[object Uint8ClampedArray]"]=He[M]=He[$]=!0,He[h]=He[p]=He[k]=!1;var Ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ze=parseFloat,We=parseInt,Ue="object"==typeof e&&e&&e.Object===Object&&e,qe="object"==typeof self&&self&&self.Object===Object&&self,Ve=Ue||qe||Function("return this")(),Ge=t&&!t.nodeType&&t,Ke=Ge&&"object"==typeof i&&i&&!i.nodeType&&i,Xe=Ke&&Ke.exports===Ge,Qe=Xe&&Ue.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),Ze=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function at(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var o=e[r];t(i,o,n(o),e)}return i}function st(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function dt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a}function ut(e,t){return!!(null==e?0:e.length)&&wt(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function pt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function ft(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function mt(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function gt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function bt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var vt=Ct("length");function yt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function _t(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}function wt(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):_t(e,xt,n)}function kt(e,t,n,i){for(var r=n-1,a=e.length;++r<a;)if(i(e[r],t))return r;return-1}function xt(e){return e!=e}function At(e,t){var n=null==e?0:e.length;return n?Tt(e,t)/n:NaN}function Ct(e){return function(t){return null==t?void 0:t[e]}}function St(e){return function(t){return null==e?void 0:e[t]}}function Et(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function Tt(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Dt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Lt(e){return function(t){return e(t)}}function Mt(e,t){return pt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function Ft(e,t){for(var n=-1,i=e.length;++n<i&&wt(t,e[n],0)>-1;);return n}function It(e,t){for(var n=e.length;n--&&wt(t,e[n],0)>-1;);return n}function Bt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Ot=St({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),jt=St({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Rt(e){return"\\"+Ye[e]}function Nt(e){return Oe.test(e)}function Pt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Ht(e,t){return function(n){return e(t(n))}}function Yt(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[r++]=n)}return a}function zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Ut(e){return Nt(e)?function(e){var t=Ie.lastIndex=0;for(;Ie.test(e);)++t;return t}(e):vt(e)}function qt(e){return Nt(e)?function(e){return e.match(Ie)||[]}(e):function(e){return e.split("")}(e)}var Vt=St({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Gt=function e(t){var n,i=(t=null==t?Ve:Gt.defaults(Ve.Object(),t,Gt.pick(Ve,Re))).Array,r=t.Date,he=t.Error,pe=t.Function,fe=t.Math,me=t.Object,ge=t.RegExp,be=t.String,ve=t.TypeError,ye=i.prototype,_e=pe.prototype,we=me.prototype,ke=t["__core-js_shared__"],xe=_e.toString,Ae=we.hasOwnProperty,Ce=0,Se=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ee=we.toString,Te=xe.call(me),De=Ve._,Le=ge("^"+xe.call(Ae).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Xe?t.Buffer:void 0,Ie=t.Symbol,Oe=t.Uint8Array,Ye=Me?Me.allocUnsafe:void 0,Ue=Ht(me.getPrototypeOf,me),qe=me.create,Ge=we.propertyIsEnumerable,Ke=ye.splice,Qe=Ie?Ie.isConcatSpreadable:void 0,Je=Ie?Ie.iterator:void 0,vt=Ie?Ie.toStringTag:void 0,St=function(){try{var e=Zr(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),Kt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ve.Date.now&&r.now,Qt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,Jt=fe.ceil,Zt=fe.floor,en=me.getOwnPropertySymbols,tn=Me?Me.isBuffer:void 0,nn=t.isFinite,rn=ye.join,an=Ht(me.keys,me),on=fe.max,sn=fe.min,ln=r.now,cn=t.parseInt,dn=fe.random,un=ye.reverse,hn=Zr(t,"DataView"),pn=Zr(t,"Map"),fn=Zr(t,"Promise"),mn=Zr(t,"Set"),gn=Zr(t,"WeakMap"),bn=Zr(me,"create"),vn=gn&&new gn,yn={},_n=Sa(hn),wn=Sa(pn),kn=Sa(fn),xn=Sa(mn),An=Sa(gn),Cn=Ie?Ie.prototype:void 0,Sn=Cn?Cn.valueOf:void 0,En=Cn?Cn.toString:void 0;function Tn(e){if(Wo(e)&&!Fo(e)&&!(e instanceof $n)){if(e instanceof Mn)return e;if(Ae.call(e,"__wrapped__"))return Ea(e)}return new Mn(e)}var Dn=function(){function e(){}return function(t){if(!zo(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Ln(){}function Mn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function On(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Bn;++t<n;)this.add(e[t])}function jn(e){var t=this.__data__=new In(e);this.size=t.size}function Rn(e,t){var n=Fo(e),i=!n&&$o(e),r=!n&&!i&&jo(e),a=!n&&!i&&!r&&Jo(e),o=n||i||r||a,s=o?Dt(e.length,be):[],l=s.length;for(var c in e)!t&&!Ae.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oa(c,l))||s.push(c);return s}function Nn(e){var t=e.length;return t?e[Oi(0,t-1)]:void 0}function Pn(e,t){return xa(br(e),Kn(t,0,e.length))}function Hn(e){return xa(br(e))}function Yn(e,t,n){(void 0===n||Do(e[t],n))&&(void 0!==n||t in e)||Vn(e,t,n)}function zn(e,t,n){var i=e[t];Ae.call(e,t)&&Do(i,n)&&(void 0!==n||t in e)||Vn(e,t,n)}function Wn(e,t){for(var n=e.length;n--;)if(Do(e[n][0],t))return n;return-1}function Un(e,t,n,i){return ei(e,(function(e,r,a){t(i,e,n(e),a)})),i}function qn(e,t){return e&&vr(t,_s(t),e)}function Vn(e,t,n){"__proto__"==t&&St?St(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gn(e,t){for(var n=-1,r=t.length,a=i(r),o=null==e;++n<r;)a[n]=o?void 0:ms(e,t[n]);return a}function Kn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,a){var o,s=1&t,c=2&t,h=4&t;if(n&&(o=r?n(e,i,r,a):n(e)),void 0!==o)return o;if(!zo(e))return e;var k=Fo(e);if(k){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return br(e,o)}else{var F=na(e),I=F==p||F==f;if(jo(e))return ur(e,s);if(F==b||F==l||I&&!r){if(o=c||I?{}:ra(e),!s)return c?function(e,t){return vr(e,ta(e),t)}(e,function(e,t){return e&&vr(t,ws(t),e)}(o,e)):function(e,t){return vr(e,ea(e),t)}(e,qn(o,e))}else{if(!He[F])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case x:return hr(e);case d:case u:return new i(+e);case A:return function(e,t){var n=t?hr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case C:case S:case E:case T:case D:case L:case"[object Uint8ClampedArray]":case M:case $:return pr(e,n);case m:return new i;case g:case _:return new i(e);case v:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return new i;case w:return r=e,Sn?me(Sn.call(r)):{}}var r}(e,F,s)}}a||(a=new jn);var B=a.get(e);if(B)return B;a.set(e,o),Ko(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,a))})):Uo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,a))}));var O=k?void 0:(h?c?qr:Ur:c?ws:_s)(e);return st(O||e,(function(i,r){O&&(i=e[r=i]),zn(o,r,Xn(i,t,n,r,e,a))})),o}function Qn(e,t,n){var i=n.length;if(null==e)return!i;for(e=me(e);i--;){var r=n[i],a=t[r],o=e[r];if(void 0===o&&!(r in e)||!a(o))return!1}return!0}function Jn(e,t,n){if("function"!=typeof e)throw new ve(a);return ya((function(){e.apply(void 0,n)}),t)}function Zn(e,t,n,i){var r=-1,a=ut,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=pt(t,Lt(n))),i?(a=ht,o=!1):t.length>=200&&(a=$t,o=!1,t=new On(t));e:for(;++r<s;){var d=e[r],u=null==n?d:n(d);if(d=i||0!==d?d:0,o&&u==u){for(var h=c;h--;)if(t[h]===u)continue e;l.push(d)}else a(t,u,i)||l.push(d)}return l}Tn.templateSettings={escape:P,evaluate:H,interpolate:Y,variable:"",imports:{_:Tn}},Tn.prototype=Ln.prototype,Tn.prototype.constructor=Tn,Mn.prototype=Dn(Ln.prototype),Mn.prototype.constructor=Mn,$n.prototype=Dn(Ln.prototype),$n.prototype.constructor=$n,Fn.prototype.clear=function(){this.__data__=bn?bn(null):{},this.size=0},Fn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fn.prototype.get=function(e){var t=this.__data__;if(bn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ae.call(t,e)?t[e]:void 0},Fn.prototype.has=function(e){var t=this.__data__;return bn?void 0!==t[e]:Ae.call(t,e)},Fn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bn&&void 0===t?"__lodash_hash_undefined__":t,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(e){var t=this.__data__,n=Wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},In.prototype.get=function(e){var t=this.__data__,n=Wn(t,e);return n<0?void 0:t[n][1]},In.prototype.has=function(e){return Wn(this.__data__,e)>-1},In.prototype.set=function(e,t){var n=this.__data__,i=Wn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Bn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(pn||In),string:new Fn}},Bn.prototype.delete=function(e){var t=Qr(this,e).delete(e);return this.size-=t?1:0,t},Bn.prototype.get=function(e){return Qr(this,e).get(e)},Bn.prototype.has=function(e){return Qr(this,e).has(e)},Bn.prototype.set=function(e,t){var n=Qr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},On.prototype.add=On.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},On.prototype.has=function(e){return this.__data__.has(e)},jn.prototype.clear=function(){this.__data__=new In,this.size=0},jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},jn.prototype.get=function(e){return this.__data__.get(e)},jn.prototype.has=function(e){return this.__data__.has(e)},jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof In){var i=n.__data__;if(!pn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Bn(i)}return n.set(e,t),this.size=n.size,this};var ei=wr(li),ti=wr(ci,!0);function ni(e,t){var n=!0;return ei(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ii(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(void 0===s?o==o&&!Qo(o):n(o,s)))var s=o,l=a}return l}function ri(e,t){var n=[];return ei(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function ai(e,t,n,i,r){var a=-1,o=e.length;for(n||(n=aa),r||(r=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ai(s,t-1,n,i,r):ft(r,s):i||(r[r.length]=s)}return r}var oi=kr(),si=kr(!0);function li(e,t){return e&&oi(e,t,_s)}function ci(e,t){return e&&si(e,t,_s)}function di(e,t){return dt(t,(function(t){return Po(e[t])}))}function ui(e,t){for(var n=0,i=(t=sr(t,e)).length;null!=e&&n<i;)e=e[Ca(t[n++])];return n&&n==i?e:void 0}function hi(e,t,n){var i=t(e);return Fo(e)?i:ft(i,n(e))}function pi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in me(e)?function(e){var t=Ae.call(e,vt),n=e[vt];try{e[vt]=void 0;var i=!0}catch(e){}var r=Ee.call(e);i&&(t?e[vt]=n:delete e[vt]);return r}(e):function(e){return Ee.call(e)}(e)}function fi(e,t){return e>t}function mi(e,t){return null!=e&&Ae.call(e,t)}function gi(e,t){return null!=e&&t in me(e)}function bi(e,t,n){for(var r=n?ht:ut,a=e[0].length,o=e.length,s=o,l=i(o),c=1/0,d=[];s--;){var u=e[s];s&&t&&(u=pt(u,Lt(t))),c=sn(u.length,c),l[s]=!n&&(t||a>=120&&u.length>=120)?new On(s&&u):void 0}u=e[0];var h=-1,p=l[0];e:for(;++h<a&&d.length<c;){var f=u[h],m=t?t(f):f;if(f=n||0!==f?f:0,!(p?$t(p,m):r(d,m,n))){for(s=o;--s;){var g=l[s];if(!(g?$t(g,m):r(e[s],m,n)))continue e}p&&p.push(m),d.push(f)}}return d}function vi(e,t,n){var i=null==(e=ma(e,t=sr(t,e)))?e:e[Ca(Ra(t))];return null==i?void 0:at(i,e,n)}function yi(e){return Wo(e)&&pi(e)==l}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!Wo(e)&&!Wo(t)?e!=e&&t!=t:function(e,t,n,i,r,a){var o=Fo(e),s=Fo(t),p=o?c:na(e),f=s?c:na(t),k=(p=p==l?b:p)==b,C=(f=f==l?b:f)==b,S=p==f;if(S&&jo(e)){if(!jo(t))return!1;o=!0,k=!1}if(S&&!k)return a||(a=new jn),o||Jo(e)?zr(e,t,n,i,r,a):function(e,t,n,i,r,a,o){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new Oe(e),new Oe(t)));case d:case u:case g:return Do(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case _:return e==t+"";case m:var s=Pt;case y:var l=1&i;if(s||(s=zt),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var p=zr(s(e),s(t),i,r,a,o);return o.delete(e),p;case w:if(Sn)return Sn.call(e)==Sn.call(t)}return!1}(e,t,p,n,i,r,a);if(!(1&n)){var E=k&&Ae.call(e,"__wrapped__"),T=C&&Ae.call(t,"__wrapped__");if(E||T){var D=E?e.value():e,L=T?t.value():t;return a||(a=new jn),r(D,L,n,i,a)}}if(!S)return!1;return a||(a=new jn),function(e,t,n,i,r,a){var o=1&n,s=Ur(e),l=s.length,c=Ur(t).length;if(l!=c&&!o)return!1;var d=l;for(;d--;){var u=s[d];if(!(o?u in t:Ae.call(t,u)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var f=!0;a.set(e,t),a.set(t,e);var m=o;for(;++d<l;){u=s[d];var g=e[u],b=t[u];if(i)var v=o?i(b,g,u,t,e,a):i(g,b,u,e,t,a);if(!(void 0===v?g===b||r(g,b,n,i,a):v)){f=!1;break}m||(m="constructor"==u)}if(f&&!m){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,i,r,a)}(e,t,n,i,_i,r))}function wi(e,t,n,i){var r=n.length,a=r,o=!i;if(null==e)return!a;for(e=me(e);r--;){var s=n[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){var l=(s=n[r])[0],c=e[l],d=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var u=new jn;if(i)var h=i(c,d,l,e,t,u);if(!(void 0===h?_i(d,c,3,i,u):h))return!1}}return!0}function ki(e){return!(!zo(e)||(t=e,Se&&Se in t))&&(Po(e)?Le:oe).test(Sa(e));var t}function xi(e){return"function"==typeof e?e:null==e?qs:"object"==typeof e?Fo(e)?Di(e[0],e[1]):Ti(e):tl(e)}function Ai(e){if(!ua(e))return an(e);var t=[];for(var n in me(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ci(e){if(!zo(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=ua(e),n=[];for(var i in e)("constructor"!=i||!t&&Ae.call(e,i))&&n.push(i);return n}function Si(e,t){return e<t}function Ei(e,t){var n=-1,r=Bo(e)?i(e.length):[];return ei(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Ti(e){var t=Jr(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(n){return n===e||wi(n,e,t)}}function Di(e,t){return la(e)&&ha(t)?pa(Ca(e),t):function(n){var i=ms(n,e);return void 0===i&&i===t?gs(n,e):_i(t,i,3)}}function Li(e,t,n,i,r){e!==t&&oi(t,(function(a,o){if(r||(r=new jn),zo(a))!function(e,t,n,i,r,a,o){var s=ba(e,n),l=ba(t,n),c=o.get(l);if(c)return void Yn(e,n,c);var d=a?a(s,l,n+"",e,t,o):void 0,u=void 0===d;if(u){var h=Fo(l),p=!h&&jo(l),f=!h&&!p&&Jo(l);d=l,h||p||f?Fo(s)?d=s:Oo(s)?d=br(s):p?(u=!1,d=ur(l,!0)):f?(u=!1,d=pr(l,!0)):d=[]:Vo(l)||$o(l)?(d=s,$o(s)?d=os(s):zo(s)&&!Po(s)||(d=ra(l))):u=!1}u&&(o.set(l,d),r(d,l,i,a,o),o.delete(l));Yn(e,n,d)}(e,t,o,n,Li,i,r);else{var s=i?i(ba(e,o),a,o+"",e,t,r):void 0;void 0===s&&(s=a),Yn(e,o,s)}}),ws)}function Mi(e,t){var n=e.length;if(n)return oa(t+=t<0?n:0,n)?e[t]:void 0}function $i(e,t,n){t=t.length?pt(t,(function(e){return Fo(e)?function(t){return ui(t,1===e.length?e[0]:e)}:e})):[qs];var i=-1;return t=pt(t,Lt(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ei(e,(function(e,n,r){return{criteria:pt(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;for(;++i<o;){var l=fr(r[i],a[i]);if(l){if(i>=s)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Fi(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var o=t[i],s=ui(e,o);n(s,o)&&Hi(a,sr(o,e),s)}return a}function Ii(e,t,n,i){var r=i?kt:wt,a=-1,o=t.length,s=e;for(e===t&&(t=br(t)),n&&(s=pt(e,Lt(n)));++a<o;)for(var l=0,c=t[a],d=n?n(c):c;(l=r(s,d,l,i))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Bi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==a){var a=r;oa(r)?Ke.call(e,r,1):Zi(e,r)}}return e}function Oi(e,t){return e+Zt(dn()*(t-e+1))}function ji(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Zt(t/2))&&(e+=e)}while(t);return n}function Ri(e,t){return _a(fa(e,t,qs),e+"")}function Ni(e){return Nn(Ds(e))}function Pi(e,t){var n=Ds(e);return xa(n,Kn(t,0,n.length))}function Hi(e,t,n,i){if(!zo(e))return e;for(var r=-1,a=(t=sr(t,e)).length,o=a-1,s=e;null!=s&&++r<a;){var l=Ca(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=o){var d=s[l];void 0===(c=i?i(d,l,s):void 0)&&(c=zo(d)?d:oa(t[r+1])?[]:{})}zn(s,l,c),s=s[l]}return e}var Yi=vn?function(e,t){return vn.set(e,t),e}:qs,zi=St?function(e,t){return St(e,"toString",{configurable:!0,enumerable:!1,value:zs(t),writable:!0})}:qs;function Wi(e){return xa(Ds(e))}function Ui(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=i(a);++r<a;)o[r]=e[r+t];return o}function qi(e,t){var n;return ei(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Vi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=e[a];null!==o&&!Qo(o)&&(n?o<=t:o<t)?i=a+1:r=a}return r}return Gi(e,t,qs,n)}function Gi(e,t,n,i){var r=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!=t,s=null===t,l=Qo(t),c=void 0===t;r<a;){var d=Zt((r+a)/2),u=n(e[d]),h=void 0!==u,p=null===u,f=u==u,m=Qo(u);if(o)var g=i||f;else g=c?f&&(i||h):s?f&&h&&(i||!p):l?f&&h&&!p&&(i||!m):!p&&!m&&(i?u<=t:u<t);g?r=d+1:a=d}return sn(a,4294967294)}function Ki(e,t){for(var n=-1,i=e.length,r=0,a=[];++n<i;){var o=e[n],s=t?t(o):o;if(!n||!Do(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function Xi(e){return"number"==typeof e?e:Qo(e)?NaN:+e}function Qi(e){if("string"==typeof e)return e;if(Fo(e))return pt(e,Qi)+"";if(Qo(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ji(e,t,n){var i=-1,r=ut,a=e.length,o=!0,s=[],l=s;if(n)o=!1,r=ht;else if(a>=200){var c=t?null:jr(e);if(c)return zt(c);o=!1,r=$t,l=new On}else l=t?[]:s;e:for(;++i<a;){var d=e[i],u=t?t(d):d;if(d=n||0!==d?d:0,o&&u==u){for(var h=l.length;h--;)if(l[h]===u)continue e;t&&l.push(u),s.push(d)}else r(l,u,n)||(l!==s&&l.push(u),s.push(d))}return s}function Zi(e,t){return null==(e=ma(e,t=sr(t,e)))||delete e[Ca(Ra(t))]}function er(e,t,n,i){return Hi(e,t,n(ui(e,t)),i)}function tr(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?Ui(e,i?0:a,i?a+1:r):Ui(e,i?a+1:0,i?r:a)}function nr(e,t){var n=e;return n instanceof $n&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,ft([e],t.args))}),n)}function ir(e,t,n){var r=e.length;if(r<2)return r?Ji(e[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=e[a],l=-1;++l<r;)l!=a&&(o[a]=Zn(o[a]||s,e[l],t,n));return Ji(ai(o,1),t,n)}function rr(e,t,n){for(var i=-1,r=e.length,a=t.length,o={};++i<r;){var s=i<a?t[i]:void 0;n(o,e[i],s)}return o}function ar(e){return Oo(e)?e:[]}function or(e){return"function"==typeof e?e:qs}function sr(e,t){return Fo(e)?e:la(e,t)?[e]:Aa(ss(e))}var lr=Ri;function cr(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Ui(e,t,n)}var dr=Kt||function(e){return Ve.clearTimeout(e)};function ur(e,t){if(t)return e.slice();var n=e.length,i=Ye?Ye(n):new e.constructor(n);return e.copy(i),i}function hr(e){var t=new e.constructor(e.byteLength);return new Oe(t).set(new Oe(e)),t}function pr(e,t){var n=t?hr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,a=Qo(e),o=void 0!==t,s=null===t,l=t==t,c=Qo(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!a&&!c&&e<t||c&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!l)return-1}return 0}function mr(e,t,n,r){for(var a=-1,o=e.length,s=n.length,l=-1,c=t.length,d=on(o-s,0),u=i(c+d),h=!r;++l<c;)u[l]=t[l];for(;++a<s;)(h||a<o)&&(u[n[a]]=e[a]);for(;d--;)u[l++]=e[a++];return u}function gr(e,t,n,r){for(var a=-1,o=e.length,s=-1,l=n.length,c=-1,d=t.length,u=on(o-l,0),h=i(u+d),p=!r;++a<u;)h[a]=e[a];for(var f=a;++c<d;)h[f+c]=t[c];for(;++s<l;)(p||a<o)&&(h[f+n[s]]=e[a++]);return h}function br(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function vr(e,t,n,i){var r=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?Vn(n,s,l):zn(n,s,l)}return n}function yr(e,t){return function(n,i){var r=Fo(n)?ot:Un,a=t?t():{};return r(n,e,Xr(i,2),a)}}function _r(e){return Ri((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&sa(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=me(t);++i<r;){var s=n[i];s&&e(t,s,i,a)}return t}))}function wr(e,t){return function(n,i){if(null==n)return n;if(!Bo(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=me(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function kr(e){return function(t,n,i){for(var r=-1,a=me(t),o=i(t),s=o.length;s--;){var l=o[e?s:++r];if(!1===n(a[l],l,a))break}return t}}function xr(e){return function(t){var n=Nt(t=ss(t))?qt(t):void 0,i=n?n[0]:t.charAt(0),r=n?cr(n,1).join(""):t.slice(1);return i[e]()+r}}function Ar(e){return function(t){return mt(Ps($s(t).replace($e,"")),e,"")}}function Cr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Dn(e.prototype),i=e.apply(n,t);return zo(i)?i:n}}function Sr(e){return function(t,n,i){var r=me(t);if(!Bo(t)){var a=Xr(n,3);t=_s(t),n=function(e){return a(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[a?t[o]:o]:void 0}}function Er(e){return Wr((function(t){var n=t.length,i=n,r=Mn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ve(a);if(r&&!s&&"wrapper"==Gr(o))var s=new Mn([],!0)}for(i=s?i:n;++i<n;){var l=Gr(o=t[i]),c="wrapper"==l?Vr(o):void 0;s=c&&ca(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[Gr(c[0])].apply(s,c[3]):1==o.length&&ca(o)?s[l]():s.thru(o)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Fo(i))return s.plant(i).value();for(var r=0,a=n?t[r].apply(this,e):i;++r<n;)a=t[r].call(this,a);return a}}))}function Tr(e,t,n,r,a,o,s,l,c,d){var u=128&t,h=1&t,p=2&t,f=24&t,m=512&t,g=p?void 0:Cr(e);return function b(){for(var v=arguments.length,y=i(v),_=v;_--;)y[_]=arguments[_];if(f)var w=Kr(b),k=Bt(y,w);if(r&&(y=mr(y,r,a,f)),o&&(y=gr(y,o,s,f)),v-=k,f&&v<d){var x=Yt(y,w);return Br(e,t,Tr,b.placeholder,n,y,x,l,c,d-v)}var A=h?n:this,C=p?A[e]:e;return v=y.length,l?y=ga(y,l):m&&v>1&&y.reverse(),u&&c<v&&(y.length=c),this&&this!==Ve&&this instanceof b&&(C=g||Cr(C)),C.apply(A,y)}}function Dr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,a){t(i,n(e),r,a)})),i}(n,e,t(i),{})}}function Lr(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Qi(n),i=Qi(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Mr(e){return Wr((function(t){return t=pt(t,Lt(Xr())),Ri((function(n){var i=this;return e(t,(function(e){return at(e,i,n)}))}))}))}function $r(e,t){var n=(t=void 0===t?" ":Qi(t)).length;if(n<2)return n?ji(t,e):t;var i=ji(t,Jt(e/Ut(t)));return Nt(t)?cr(qt(i),0,e).join(""):i.slice(0,e)}function Fr(e){return function(t,n,r){return r&&"number"!=typeof r&&sa(t,n,r)&&(n=r=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,r){for(var a=-1,o=on(Jt((t-e)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:ns(r),e)}}function Ir(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Br(e,t,n,i,r,a,o,s,l,c){var d=8&t;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var u=[e,t,r,d?a:void 0,d?o:void 0,d?void 0:a,d?void 0:o,s,l,c],h=n.apply(void 0,u);return ca(e)&&va(h,u),h.placeholder=i,wa(h,e,t)}function Or(e){var t=fe[e];return function(e,n){if(e=as(e),(n=null==n?0:sn(is(n),292))&&nn(e)){var i=(ss(e)+"e").split("e");return+((i=(ss(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var jr=mn&&1/zt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Qs;function Rr(e){return function(t){var n=na(t);return n==m?Pt(t):n==y?Wt(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Nr(e,t,n,r,s,l,c,d){var u=2&t;if(!u&&"function"!=typeof e)throw new ve(a);var h=r?r.length:0;if(h||(t&=-97,r=s=void 0),c=void 0===c?c:on(is(c),0),d=void 0===d?d:is(d),h-=s?s.length:0,64&t){var p=r,f=s;r=s=void 0}var m=u?void 0:Vr(e),g=[e,t,n,r,s,p,f,l,c,d];if(m&&function(e,t){var n=e[1],i=t[1],r=n|i,a=r<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?mr(c,l,t[4]):l,e[4]=c?Yt(e[3],o):t[4]}(l=t[5])&&(c=e[5],e[5]=c?gr(c,l,t[6]):l,e[6]=c?Yt(e[5],o):t[6]);(l=t[7])&&(e[7]=l);128&i&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(g,m),e=g[0],t=g[1],n=g[2],r=g[3],s=g[4],!(d=g[9]=void 0===g[9]?u?0:e.length:on(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)b=8==t||16==t?function(e,t,n){var r=Cr(e);return function a(){for(var o=arguments.length,s=i(o),l=o,c=Kr(a);l--;)s[l]=arguments[l];var d=o<3&&s[0]!==c&&s[o-1]!==c?[]:Yt(s,c);if((o-=d.length)<n)return Br(e,t,Tr,a.placeholder,void 0,s,d,void 0,void 0,n-o);var u=this&&this!==Ve&&this instanceof a?r:e;return at(u,this,s)}}(e,t,d):32!=t&&33!=t||s.length?Tr.apply(void 0,g):function(e,t,n,r){var a=1&t,o=Cr(e);return function t(){for(var s=-1,l=arguments.length,c=-1,d=r.length,u=i(d+l),h=this&&this!==Ve&&this instanceof t?o:e;++c<d;)u[c]=r[c];for(;l--;)u[c++]=arguments[++s];return at(h,a?n:this,u)}}(e,t,n,r);else var b=function(e,t,n){var i=1&t,r=Cr(e);return function t(){var a=this&&this!==Ve&&this instanceof t?r:e;return a.apply(i?n:this,arguments)}}(e,t,n);return wa((m?Yi:va)(b,g),e,t)}function Pr(e,t,n,i){return void 0===e||Do(e,we[n])&&!Ae.call(i,n)?t:e}function Hr(e,t,n,i,r,a){return zo(e)&&zo(t)&&(a.set(t,e),Li(e,t,void 0,Hr,a),a.delete(t)),e}function Yr(e){return Vo(e)?void 0:e}function zr(e,t,n,i,r,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var u=-1,h=!0,p=2&n?new On:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],m=t[u];if(i)var g=o?i(m,f,u,t,e,a):i(f,m,u,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!bt(t,(function(e,t){if(!$t(p,t)&&(f===e||r(f,e,n,i,a)))return p.push(t)}))){h=!1;break}}else if(f!==m&&!r(f,m,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Wr(e){return _a(fa(e,void 0,Fa),e+"")}function Ur(e){return hi(e,_s,ea)}function qr(e){return hi(e,ws,ta)}var Vr=vn?function(e){return vn.get(e)}:Qs;function Gr(e){for(var t=e.name+"",n=yn[t],i=Ae.call(yn,t)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function Kr(e){return(Ae.call(Tn,"placeholder")?Tn:e).placeholder}function Xr(){var e=Tn.iteratee||Vs;return e=e===Vs?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Qr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Jr(e){for(var t=_s(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,ha(r)]}return t}function Zr(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ki(n)?n:void 0}var ea=en?function(e){return null==e?[]:(e=me(e),dt(en(e),(function(t){return Ge.call(e,t)})))}:rl,ta=en?function(e){for(var t=[];e;)ft(t,ea(e)),e=Ue(e);return t}:rl,na=pi;function ia(e,t,n){for(var i=-1,r=(t=sr(t,e)).length,a=!1;++i<r;){var o=Ca(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&Yo(r)&&oa(o,r)&&(Fo(e)||$o(e))}function ra(e){return"function"!=typeof e.constructor||ua(e)?{}:Dn(Ue(e))}function aa(e){return Fo(e)||$o(e)||!!(Qe&&e&&e[Qe])}function oa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function sa(e,t,n){if(!zo(n))return!1;var i=typeof t;return!!("number"==i?Bo(n)&&oa(t,n.length):"string"==i&&t in n)&&Do(n[t],e)}function la(e,t){if(Fo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qo(e))||(W.test(e)||!z.test(e)||null!=t&&e in me(t))}function ca(e){var t=Gr(e),n=Tn[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var i=Vr(n);return!!i&&e===i[0]}(hn&&na(new hn(new ArrayBuffer(1)))!=A||pn&&na(new pn)!=m||fn&&"[object Promise]"!=na(fn.resolve())||mn&&na(new mn)!=y||gn&&na(new gn)!=k)&&(na=function(e){var t=pi(e),n=t==b?e.constructor:void 0,i=n?Sa(n):"";if(i)switch(i){case _n:return A;case wn:return m;case kn:return"[object Promise]";case xn:return y;case An:return k}return t});var da=ke?Po:al;function ua(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function ha(e){return e==e&&!zo(e)}function pa(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function fa(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=on(r.length-t,0),s=i(o);++a<o;)s[a]=r[t+a];a=-1;for(var l=i(t+1);++a<t;)l[a]=r[a];return l[t]=n(s),at(e,this,l)}}function ma(e,t){return t.length<2?e:ui(e,Ui(t,0,-1))}function ga(e,t){for(var n=e.length,i=sn(t.length,n),r=br(e);i--;){var a=t[i];e[i]=oa(a,n)?r[a]:void 0}return e}function ba(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var va=ka(Yi),ya=Qt||function(e,t){return Ve.setTimeout(e,t)},_a=ka(zi);function wa(e,t,n){var i=t+"";return _a(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Q,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return st(s,(function(n){var i="_."+n[0];t&n[1]&&!ut(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(J);return t?t[1].split(Z):[]}(i),n)))}function ka(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xa(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var a=Oi(n,r),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var Aa=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(U,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function Ca(e){if("string"==typeof e||Qo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Sa(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ea(e){if(e instanceof $n)return e.clone();var t=new Mn(e.__wrapped__,e.__chain__);return t.__actions__=br(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ta=Ri((function(e,t){return Oo(e)?Zn(e,ai(t,1,Oo,!0)):[]})),Da=Ri((function(e,t){var n=Ra(t);return Oo(n)&&(n=void 0),Oo(e)?Zn(e,ai(t,1,Oo,!0),Xr(n,2)):[]})),La=Ri((function(e,t){var n=Ra(t);return Oo(n)&&(n=void 0),Oo(e)?Zn(e,ai(t,1,Oo,!0),void 0,n):[]}));function Ma(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),_t(e,Xr(t,3),r)}function $a(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=is(n),r=n<0?on(i+r,0):sn(r,i-1)),_t(e,Xr(t,3),r,!0)}function Fa(e){return(null==e?0:e.length)?ai(e,1):[]}function Ia(e){return e&&e.length?e[0]:void 0}var Ba=Ri((function(e){var t=pt(e,ar);return t.length&&t[0]===e[0]?bi(t):[]})),Oa=Ri((function(e){var t=Ra(e),n=pt(e,ar);return t===Ra(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?bi(n,Xr(t,2)):[]})),ja=Ri((function(e){var t=Ra(e),n=pt(e,ar);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?bi(n,void 0,t):[]}));function Ra(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Na=Ri(Pa);function Pa(e,t){return e&&e.length&&t&&t.length?Ii(e,t):e}var Ha=Wr((function(e,t){var n=null==e?0:e.length,i=Gn(e,t);return Bi(e,pt(t,(function(e){return oa(e,n)?+e:e})).sort(fr)),i}));function Ya(e){return null==e?e:un.call(e)}var za=Ri((function(e){return Ji(ai(e,1,Oo,!0))})),Wa=Ri((function(e){var t=Ra(e);return Oo(t)&&(t=void 0),Ji(ai(e,1,Oo,!0),Xr(t,2))})),Ua=Ri((function(e){var t=Ra(e);return t="function"==typeof t?t:void 0,Ji(ai(e,1,Oo,!0),void 0,t)}));function qa(e){if(!e||!e.length)return[];var t=0;return e=dt(e,(function(e){if(Oo(e))return t=on(e.length,t),!0})),Dt(t,(function(t){return pt(e,Ct(t))}))}function Va(e,t){if(!e||!e.length)return[];var n=qa(e);return null==t?n:pt(n,(function(e){return at(t,void 0,e)}))}var Ga=Ri((function(e,t){return Oo(e)?Zn(e,t):[]})),Ka=Ri((function(e){return ir(dt(e,Oo))})),Xa=Ri((function(e){var t=Ra(e);return Oo(t)&&(t=void 0),ir(dt(e,Oo),Xr(t,2))})),Qa=Ri((function(e){var t=Ra(e);return t="function"==typeof t?t:void 0,ir(dt(e,Oo),void 0,t)})),Ja=Ri(qa);var Za=Ri((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Va(e,n)}));function eo(e){var t=Tn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Wr((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Gn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof $n&&oa(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[r],thisArg:void 0}),new Mn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var io=yr((function(e,t,n){Ae.call(e,n)?++e[n]:Vn(e,n,1)}));var ro=Sr(Ma),ao=Sr($a);function oo(e,t){return(Fo(e)?st:ei)(e,Xr(t,3))}function so(e,t){return(Fo(e)?lt:ti)(e,Xr(t,3))}var lo=yr((function(e,t,n){Ae.call(e,n)?e[n].push(t):Vn(e,n,[t])}));var co=Ri((function(e,t,n){var r=-1,a="function"==typeof t,o=Bo(e)?i(e.length):[];return ei(e,(function(e){o[++r]=a?at(t,e,n):vi(e,t,n)})),o})),uo=yr((function(e,t,n){Vn(e,n,t)}));function ho(e,t){return(Fo(e)?pt:Ei)(e,Xr(t,3))}var po=yr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var fo=Ri((function(e,t){if(null==e)return[];var n=t.length;return n>1&&sa(e,t[0],t[1])?t=[]:n>2&&sa(t[0],t[1],t[2])&&(t=[t[0]]),$i(e,ai(t,1),[])})),mo=Xt||function(){return Ve.Date.now()};function go(e,t,n){return t=n?void 0:t,Nr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function bo(e,t){var n;if("function"!=typeof t)throw new ve(a);return e=is(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var vo=Ri((function(e,t,n){var i=1;if(n.length){var r=Yt(n,Kr(vo));i|=32}return Nr(e,i,t,n,r)})),yo=Ri((function(e,t,n){var i=3;if(n.length){var r=Yt(n,Kr(yo));i|=32}return Nr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,s,l,c,d=0,u=!1,h=!1,p=!0;if("function"!=typeof e)throw new ve(a);function f(t){var n=i,a=r;return i=r=void 0,d=t,s=e.apply(a,n)}function m(e){return d=e,l=ya(b,t),u?f(e):s}function g(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-d>=o}function b(){var e=mo();if(g(e))return v(e);l=ya(b,function(e){var n=t-(e-c);return h?sn(n,o-(e-d)):n}(e))}function v(e){return l=void 0,p&&i?f(e):(i=r=void 0,s)}function y(){var e=mo(),n=g(e);if(i=arguments,r=this,c=e,n){if(void 0===l)return m(c);if(h)return dr(l),l=ya(b,t),f(c)}return void 0===l&&(l=ya(b,t)),s}return t=as(t)||0,zo(n)&&(u=!!n.leading,o=(h="maxWait"in n)?on(as(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==l&&dr(l),d=0,i=c=r=l=void 0},y.flush=function(){return void 0===l?s:v(mo())},y}var wo=Ri((function(e,t){return Jn(e,1,t)})),ko=Ri((function(e,t,n){return Jn(e,as(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(a);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(xo.Cache||Bn),n}function Ao(e){if("function"!=typeof e)throw new ve(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=Bn;var Co=lr((function(e,t){var n=(t=1==t.length&&Fo(t[0])?pt(t[0],Lt(Xr())):pt(ai(t,1),Lt(Xr()))).length;return Ri((function(i){for(var r=-1,a=sn(i.length,n);++r<a;)i[r]=t[r].call(this,i[r]);return at(e,this,i)}))})),So=Ri((function(e,t){return Nr(e,32,void 0,t,Yt(t,Kr(So)))})),Eo=Ri((function(e,t){return Nr(e,64,void 0,t,Yt(t,Kr(Eo)))})),To=Wr((function(e,t){return Nr(e,256,void 0,void 0,void 0,t)}));function Do(e,t){return e===t||e!=e&&t!=t}var Lo=Ir(fi),Mo=Ir((function(e,t){return e>=t})),$o=yi(function(){return arguments}())?yi:function(e){return Wo(e)&&Ae.call(e,"callee")&&!Ge.call(e,"callee")},Fo=i.isArray,Io=Ze?Lt(Ze):function(e){return Wo(e)&&pi(e)==x};function Bo(e){return null!=e&&Yo(e.length)&&!Po(e)}function Oo(e){return Wo(e)&&Bo(e)}var jo=tn||al,Ro=et?Lt(et):function(e){return Wo(e)&&pi(e)==u};function No(e){if(!Wo(e))return!1;var t=pi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Vo(e)}function Po(e){if(!zo(e))return!1;var t=pi(e);return t==p||t==f||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ho(e){return"number"==typeof e&&e==is(e)}function Yo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function zo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Wo(e){return null!=e&&"object"==typeof e}var Uo=tt?Lt(tt):function(e){return Wo(e)&&na(e)==m};function qo(e){return"number"==typeof e||Wo(e)&&pi(e)==g}function Vo(e){if(!Wo(e)||pi(e)!=b)return!1;var t=Ue(e);if(null===t)return!0;var n=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Te}var Go=nt?Lt(nt):function(e){return Wo(e)&&pi(e)==v};var Ko=it?Lt(it):function(e){return Wo(e)&&na(e)==y};function Xo(e){return"string"==typeof e||!Fo(e)&&Wo(e)&&pi(e)==_}function Qo(e){return"symbol"==typeof e||Wo(e)&&pi(e)==w}var Jo=rt?Lt(rt):function(e){return Wo(e)&&Yo(e.length)&&!!Pe[pi(e)]};var Zo=Ir(Si),es=Ir((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(Bo(e))return Xo(e)?qt(e):br(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=na(e);return(t==m?Pt:t==y?zt:Ds)(e)}function ns(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function is(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function rs(e){return e?Kn(is(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Qo(e))return NaN;if(zo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=ae.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):re.test(e)?NaN:+e}function os(e){return vr(e,ws(e))}function ss(e){return null==e?"":Qi(e)}var ls=_r((function(e,t){if(ua(t)||Bo(t))vr(t,_s(t),e);else for(var n in t)Ae.call(t,n)&&zn(e,n,t[n])})),cs=_r((function(e,t){vr(t,ws(t),e)})),ds=_r((function(e,t,n,i){vr(t,ws(t),e,i)})),us=_r((function(e,t,n,i){vr(t,_s(t),e,i)})),hs=Wr(Gn);var ps=Ri((function(e,t){e=me(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&sa(t[0],t[1],r)&&(i=1);++n<i;)for(var a=t[n],o=ws(a),s=-1,l=o.length;++s<l;){var c=o[s],d=e[c];(void 0===d||Do(d,we[c])&&!Ae.call(e,c))&&(e[c]=a[c])}return e})),fs=Ri((function(e){return e.push(void 0,Hr),at(xs,void 0,e)}));function ms(e,t,n){var i=null==e?void 0:ui(e,t);return void 0===i?n:i}function gs(e,t){return null!=e&&ia(e,t,gi)}var bs=Dr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),e[t]=n}),zs(qs)),vs=Dr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ee.call(t)),Ae.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),ys=Ri(vi);function _s(e){return Bo(e)?Rn(e):Ai(e)}function ws(e){return Bo(e)?Rn(e,!0):Ci(e)}var ks=_r((function(e,t,n){Li(e,t,n)})),xs=_r((function(e,t,n,i){Li(e,t,n,i)})),As=Wr((function(e,t){var n={};if(null==e)return n;var i=!1;t=pt(t,(function(t){return t=sr(t,e),i||(i=t.length>1),t})),vr(e,qr(e),n),i&&(n=Xn(n,7,Yr));for(var r=t.length;r--;)Zi(n,t[r]);return n}));var Cs=Wr((function(e,t){return null==e?{}:function(e,t){return Fi(e,t,(function(t,n){return gs(e,n)}))}(e,t)}));function Ss(e,t){if(null==e)return{};var n=pt(qr(e),(function(e){return[e]}));return t=Xr(t),Fi(e,n,(function(e,n){return t(e,n[0])}))}var Es=Rr(_s),Ts=Rr(ws);function Ds(e){return null==e?[]:Mt(e,_s(e))}var Ls=Ar((function(e,t,n){return t=t.toLowerCase(),e+(n?Ms(t):t)}));function Ms(e){return Ns(ss(e).toLowerCase())}function $s(e){return(e=ss(e))&&e.replace(ce,Ot).replace(Fe,"")}var Fs=Ar((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Is=Ar((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Bs=xr("toLowerCase");var Os=Ar((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var js=Ar((function(e,t,n){return e+(n?" ":"")+Ns(t)}));var Rs=Ar((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ns=xr("toUpperCase");function Ps(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return je.test(e)}(e)?function(e){return e.match(Be)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Hs=Ri((function(e,t){try{return at(e,void 0,t)}catch(e){return No(e)?e:new he(e)}})),Ys=Wr((function(e,t){return st(t,(function(t){t=Ca(t),Vn(e,t,vo(e[t],e))})),e}));function zs(e){return function(){return e}}var Ws=Er(),Us=Er(!0);function qs(e){return e}function Vs(e){return xi("function"==typeof e?e:Xn(e,1))}var Gs=Ri((function(e,t){return function(n){return vi(n,e,t)}})),Ks=Ri((function(e,t){return function(n){return vi(e,n,t)}}));function Xs(e,t,n){var i=_s(t),r=di(t,i);null!=n||zo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_s(t)));var a=!(zo(n)&&"chain"in n&&!n.chain),o=Po(e);return st(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),r=n.__actions__=br(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,ft([this.value()],arguments))})})),e}function Qs(){}var Js=Mr(pt),Zs=Mr(ct),el=Mr(bt);function tl(e){return la(e)?Ct(Ca(e)):function(e){return function(t){return ui(t,e)}}(e)}var nl=Fr(),il=Fr(!0);function rl(){return[]}function al(){return!1}var ol=Lr((function(e,t){return e+t}),0),sl=Or("ceil"),ll=Lr((function(e,t){return e/t}),1),cl=Or("floor");var dl,ul=Lr((function(e,t){return e*t}),1),hl=Or("round"),pl=Lr((function(e,t){return e-t}),0);return Tn.after=function(e,t){if("function"!=typeof t)throw new ve(a);return e=is(e),function(){if(--e<1)return t.apply(this,arguments)}},Tn.ary=go,Tn.assign=ls,Tn.assignIn=cs,Tn.assignInWith=ds,Tn.assignWith=us,Tn.at=hs,Tn.before=bo,Tn.bind=vo,Tn.bindAll=Ys,Tn.bindKey=yo,Tn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Fo(e)?e:[e]},Tn.chain=eo,Tn.chunk=function(e,t,n){t=(n?sa(e,t,n):void 0===t)?1:on(is(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,s=i(Jt(r/t));a<r;)s[o++]=Ui(e,a,a+=t);return s},Tn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var a=e[t];a&&(r[i++]=a)}return r},Tn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ft(Fo(n)?br(n):[n],ai(t,1))},Tn.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ve(a);return[n(e[0]),e[1]]})):[],Ri((function(n){for(var i=-1;++i<t;){var r=e[i];if(at(r[0],this,n))return at(r[1],this,n)}}))},Tn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Qn(n,e,t)}}(Xn(e,1))},Tn.constant=zs,Tn.countBy=io,Tn.create=function(e,t){var n=Dn(e);return null==t?n:qn(n,t)},Tn.curry=function e(t,n,i){var r=Nr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Tn.curryRight=function e(t,n,i){var r=Nr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Tn.debounce=_o,Tn.defaults=ps,Tn.defaultsDeep=fs,Tn.defer=wo,Tn.delay=ko,Tn.difference=Ta,Tn.differenceBy=Da,Tn.differenceWith=La,Tn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Ui(e,(t=n||void 0===t?1:is(t))<0?0:t,i):[]},Tn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Ui(e,0,(t=i-(t=n||void 0===t?1:is(t)))<0?0:t):[]},Tn.dropRightWhile=function(e,t){return e&&e.length?tr(e,Xr(t,3),!0,!0):[]},Tn.dropWhile=function(e,t){return e&&e.length?tr(e,Xr(t,3),!0):[]},Tn.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&sa(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=is(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:is(i))<0&&(i+=r),i=n>i?0:rs(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Tn.filter=function(e,t){return(Fo(e)?dt:ri)(e,Xr(t,3))},Tn.flatMap=function(e,t){return ai(ho(e,t),1)},Tn.flatMapDeep=function(e,t){return ai(ho(e,t),1/0)},Tn.flatMapDepth=function(e,t,n){return n=void 0===n?1:is(n),ai(ho(e,t),n)},Tn.flatten=Fa,Tn.flattenDeep=function(e){return(null==e?0:e.length)?ai(e,1/0):[]},Tn.flattenDepth=function(e,t){return(null==e?0:e.length)?ai(e,t=void 0===t?1:is(t)):[]},Tn.flip=function(e){return Nr(e,512)},Tn.flow=Ws,Tn.flowRight=Us,Tn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Tn.functions=function(e){return null==e?[]:di(e,_s(e))},Tn.functionsIn=function(e){return null==e?[]:di(e,ws(e))},Tn.groupBy=lo,Tn.initial=function(e){return(null==e?0:e.length)?Ui(e,0,-1):[]},Tn.intersection=Ba,Tn.intersectionBy=Oa,Tn.intersectionWith=ja,Tn.invert=bs,Tn.invertBy=vs,Tn.invokeMap=co,Tn.iteratee=Vs,Tn.keyBy=uo,Tn.keys=_s,Tn.keysIn=ws,Tn.map=ho,Tn.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Vn(n,t(e,i,r),e)})),n},Tn.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Vn(n,i,t(e,i,r))})),n},Tn.matches=function(e){return Ti(Xn(e,1))},Tn.matchesProperty=function(e,t){return Di(e,Xn(t,1))},Tn.memoize=xo,Tn.merge=ks,Tn.mergeWith=xs,Tn.method=Gs,Tn.methodOf=Ks,Tn.mixin=Xs,Tn.negate=Ao,Tn.nthArg=function(e){return e=is(e),Ri((function(t){return Mi(t,e)}))},Tn.omit=As,Tn.omitBy=function(e,t){return Ss(e,Ao(Xr(t)))},Tn.once=function(e){return bo(2,e)},Tn.orderBy=function(e,t,n,i){return null==e?[]:(Fo(t)||(t=null==t?[]:[t]),Fo(n=i?void 0:n)||(n=null==n?[]:[n]),$i(e,t,n))},Tn.over=Js,Tn.overArgs=Co,Tn.overEvery=Zs,Tn.overSome=el,Tn.partial=So,Tn.partialRight=Eo,Tn.partition=po,Tn.pick=Cs,Tn.pickBy=Ss,Tn.property=tl,Tn.propertyOf=function(e){return function(t){return null==e?void 0:ui(e,t)}},Tn.pull=Na,Tn.pullAll=Pa,Tn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,Xr(n,2)):e},Tn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,void 0,n):e},Tn.pullAt=Ha,Tn.range=nl,Tn.rangeRight=il,Tn.rearg=To,Tn.reject=function(e,t){return(Fo(e)?dt:ri)(e,Ao(Xr(t,3)))},Tn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=Xr(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return Bi(e,r),n},Tn.rest=function(e,t){if("function"!=typeof e)throw new ve(a);return Ri(e,t=void 0===t?t:is(t))},Tn.reverse=Ya,Tn.sampleSize=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:is(t),(Fo(e)?Pn:Pi)(e,t)},Tn.set=function(e,t,n){return null==e?e:Hi(e,t,n)},Tn.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Hi(e,t,n,i)},Tn.shuffle=function(e){return(Fo(e)?Hn:Wi)(e)},Tn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&sa(e,t,n)?(t=0,n=i):(t=null==t?0:is(t),n=void 0===n?i:is(n)),Ui(e,t,n)):[]},Tn.sortBy=fo,Tn.sortedUniq=function(e){return e&&e.length?Ki(e):[]},Tn.sortedUniqBy=function(e,t){return e&&e.length?Ki(e,Xr(t,2)):[]},Tn.split=function(e,t,n){return n&&"number"!=typeof n&&sa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Go(t))&&!(t=Qi(t))&&Nt(e)?cr(qt(e),0,n):e.split(t,n):[]},Tn.spread=function(e,t){if("function"!=typeof e)throw new ve(a);return t=null==t?0:on(is(t),0),Ri((function(n){var i=n[t],r=cr(n,0,t);return i&&ft(r,i),at(e,this,r)}))},Tn.tail=function(e){var t=null==e?0:e.length;return t?Ui(e,1,t):[]},Tn.take=function(e,t,n){return e&&e.length?Ui(e,0,(t=n||void 0===t?1:is(t))<0?0:t):[]},Tn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Ui(e,(t=i-(t=n||void 0===t?1:is(t)))<0?0:t,i):[]},Tn.takeRightWhile=function(e,t){return e&&e.length?tr(e,Xr(t,3),!1,!0):[]},Tn.takeWhile=function(e,t){return e&&e.length?tr(e,Xr(t,3)):[]},Tn.tap=function(e,t){return t(e),e},Tn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(a);return zo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},Tn.thru=to,Tn.toArray=ts,Tn.toPairs=Es,Tn.toPairsIn=Ts,Tn.toPath=function(e){return Fo(e)?pt(e,Ca):Qo(e)?[e]:br(Aa(ss(e)))},Tn.toPlainObject=os,Tn.transform=function(e,t,n){var i=Fo(e),r=i||jo(e)||Jo(e);if(t=Xr(t,4),null==n){var a=e&&e.constructor;n=r?i?new a:[]:zo(e)&&Po(a)?Dn(Ue(e)):{}}return(r?st:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},Tn.unary=function(e){return go(e,1)},Tn.union=za,Tn.unionBy=Wa,Tn.unionWith=Ua,Tn.uniq=function(e){return e&&e.length?Ji(e):[]},Tn.uniqBy=function(e,t){return e&&e.length?Ji(e,Xr(t,2)):[]},Tn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Ji(e,void 0,t):[]},Tn.unset=function(e,t){return null==e||Zi(e,t)},Tn.unzip=qa,Tn.unzipWith=Va,Tn.update=function(e,t,n){return null==e?e:er(e,t,or(n))},Tn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:er(e,t,or(n),i)},Tn.values=Ds,Tn.valuesIn=function(e){return null==e?[]:Mt(e,ws(e))},Tn.without=Ga,Tn.words=Ps,Tn.wrap=function(e,t){return So(or(t),e)},Tn.xor=Ka,Tn.xorBy=Xa,Tn.xorWith=Qa,Tn.zip=Ja,Tn.zipObject=function(e,t){return rr(e||[],t||[],zn)},Tn.zipObjectDeep=function(e,t){return rr(e||[],t||[],Hi)},Tn.zipWith=Za,Tn.entries=Es,Tn.entriesIn=Ts,Tn.extend=cs,Tn.extendWith=ds,Xs(Tn,Tn),Tn.add=ol,Tn.attempt=Hs,Tn.camelCase=Ls,Tn.capitalize=Ms,Tn.ceil=sl,Tn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Kn(as(e),t,n)},Tn.clone=function(e){return Xn(e,4)},Tn.cloneDeep=function(e){return Xn(e,5)},Tn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},Tn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},Tn.conformsTo=function(e,t){return null==t||Qn(e,t,_s(t))},Tn.deburr=$s,Tn.defaultTo=function(e,t){return null==e||e!=e?t:e},Tn.divide=ll,Tn.endsWith=function(e,t,n){e=ss(e),t=Qi(t);var i=e.length,r=n=void 0===n?i:Kn(is(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},Tn.eq=Do,Tn.escape=function(e){return(e=ss(e))&&N.test(e)?e.replace(j,jt):e},Tn.escapeRegExp=function(e){return(e=ss(e))&&V.test(e)?e.replace(q,"\\$&"):e},Tn.every=function(e,t,n){var i=Fo(e)?ct:ni;return n&&sa(e,t,n)&&(t=void 0),i(e,Xr(t,3))},Tn.find=ro,Tn.findIndex=Ma,Tn.findKey=function(e,t){return yt(e,Xr(t,3),li)},Tn.findLast=ao,Tn.findLastIndex=$a,Tn.findLastKey=function(e,t){return yt(e,Xr(t,3),ci)},Tn.floor=cl,Tn.forEach=oo,Tn.forEachRight=so,Tn.forIn=function(e,t){return null==e?e:oi(e,Xr(t,3),ws)},Tn.forInRight=function(e,t){return null==e?e:si(e,Xr(t,3),ws)},Tn.forOwn=function(e,t){return e&&li(e,Xr(t,3))},Tn.forOwnRight=function(e,t){return e&&ci(e,Xr(t,3))},Tn.get=ms,Tn.gt=Lo,Tn.gte=Mo,Tn.has=function(e,t){return null!=e&&ia(e,t,mi)},Tn.hasIn=gs,Tn.head=Ia,Tn.identity=qs,Tn.includes=function(e,t,n,i){e=Bo(e)?e:Ds(e),n=n&&!i?is(n):0;var r=e.length;return n<0&&(n=on(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&wt(e,t,n)>-1},Tn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),wt(e,t,r)},Tn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=sn(t,n)&&e<on(t,n)}(e=as(e),t,n)},Tn.invoke=ys,Tn.isArguments=$o,Tn.isArray=Fo,Tn.isArrayBuffer=Io,Tn.isArrayLike=Bo,Tn.isArrayLikeObject=Oo,Tn.isBoolean=function(e){return!0===e||!1===e||Wo(e)&&pi(e)==d},Tn.isBuffer=jo,Tn.isDate=Ro,Tn.isElement=function(e){return Wo(e)&&1===e.nodeType&&!Vo(e)},Tn.isEmpty=function(e){if(null==e)return!0;if(Bo(e)&&(Fo(e)||"string"==typeof e||"function"==typeof e.splice||jo(e)||Jo(e)||$o(e)))return!e.length;var t=na(e);if(t==m||t==y)return!e.size;if(ua(e))return!Ai(e).length;for(var n in e)if(Ae.call(e,n))return!1;return!0},Tn.isEqual=function(e,t){return _i(e,t)},Tn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},Tn.isError=No,Tn.isFinite=function(e){return"number"==typeof e&&nn(e)},Tn.isFunction=Po,Tn.isInteger=Ho,Tn.isLength=Yo,Tn.isMap=Uo,Tn.isMatch=function(e,t){return e===t||wi(e,t,Jr(t))},Tn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,wi(e,t,Jr(t),n)},Tn.isNaN=function(e){return qo(e)&&e!=+e},Tn.isNative=function(e){if(da(e))throw new he("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(e)},Tn.isNil=function(e){return null==e},Tn.isNull=function(e){return null===e},Tn.isNumber=qo,Tn.isObject=zo,Tn.isObjectLike=Wo,Tn.isPlainObject=Vo,Tn.isRegExp=Go,Tn.isSafeInteger=function(e){return Ho(e)&&e>=-9007199254740991&&e<=9007199254740991},Tn.isSet=Ko,Tn.isString=Xo,Tn.isSymbol=Qo,Tn.isTypedArray=Jo,Tn.isUndefined=function(e){return void 0===e},Tn.isWeakMap=function(e){return Wo(e)&&na(e)==k},Tn.isWeakSet=function(e){return Wo(e)&&"[object WeakSet]"==pi(e)},Tn.join=function(e,t){return null==e?"":rn.call(e,t)},Tn.kebabCase=Fs,Tn.last=Ra,Tn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=is(n))<0?on(i+r,0):sn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):_t(e,xt,r,!0)},Tn.lowerCase=Is,Tn.lowerFirst=Bs,Tn.lt=Zo,Tn.lte=es,Tn.max=function(e){return e&&e.length?ii(e,qs,fi):void 0},Tn.maxBy=function(e,t){return e&&e.length?ii(e,Xr(t,2),fi):void 0},Tn.mean=function(e){return At(e,qs)},Tn.meanBy=function(e,t){return At(e,Xr(t,2))},Tn.min=function(e){return e&&e.length?ii(e,qs,Si):void 0},Tn.minBy=function(e,t){return e&&e.length?ii(e,Xr(t,2),Si):void 0},Tn.stubArray=rl,Tn.stubFalse=al,Tn.stubObject=function(){return{}},Tn.stubString=function(){return""},Tn.stubTrue=function(){return!0},Tn.multiply=ul,Tn.nth=function(e,t){return e&&e.length?Mi(e,is(t)):void 0},Tn.noConflict=function(){return Ve._===this&&(Ve._=De),this},Tn.noop=Qs,Tn.now=mo,Tn.pad=function(e,t,n){e=ss(e);var i=(t=is(t))?Ut(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return $r(Zt(r),n)+e+$r(Jt(r),n)},Tn.padEnd=function(e,t,n){e=ss(e);var i=(t=is(t))?Ut(e):0;return t&&i<t?e+$r(t-i,n):e},Tn.padStart=function(e,t,n){e=ss(e);var i=(t=is(t))?Ut(e):0;return t&&i<t?$r(t-i,n)+e:e},Tn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ss(e).replace(K,""),t||0)},Tn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&sa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return sn(e+r*(t-e+ze("1e-"+((r+"").length-1))),t)}return Oi(e,t)},Tn.reduce=function(e,t,n){var i=Fo(e)?mt:Et,r=arguments.length<3;return i(e,Xr(t,4),n,r,ei)},Tn.reduceRight=function(e,t,n){var i=Fo(e)?gt:Et,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},Tn.repeat=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:is(t),ji(ss(e),t)},Tn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Tn.result=function(e,t,n){var i=-1,r=(t=sr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var a=null==e?void 0:e[Ca(t[i])];void 0===a&&(i=r,a=n),e=Po(a)?a.call(e):a}return e},Tn.round=hl,Tn.runInContext=e,Tn.sample=function(e){return(Fo(e)?Nn:Ni)(e)},Tn.size=function(e){if(null==e)return 0;if(Bo(e))return Xo(e)?Ut(e):e.length;var t=na(e);return t==m||t==y?e.size:Ai(e).length},Tn.snakeCase=Os,Tn.some=function(e,t,n){var i=Fo(e)?bt:qi;return n&&sa(e,t,n)&&(t=void 0),i(e,Xr(t,3))},Tn.sortedIndex=function(e,t){return Vi(e,t)},Tn.sortedIndexBy=function(e,t,n){return Gi(e,t,Xr(n,2))},Tn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Vi(e,t);if(i<n&&Do(e[i],t))return i}return-1},Tn.sortedLastIndex=function(e,t){return Vi(e,t,!0)},Tn.sortedLastIndexBy=function(e,t,n){return Gi(e,t,Xr(n,2),!0)},Tn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Vi(e,t,!0)-1;if(Do(e[n],t))return n}return-1},Tn.startCase=js,Tn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Kn(is(n),0,e.length),t=Qi(t),e.slice(n,n+t.length)==t},Tn.subtract=pl,Tn.sum=function(e){return e&&e.length?Tt(e,qs):0},Tn.sumBy=function(e,t){return e&&e.length?Tt(e,Xr(t,2)):0},Tn.template=function(e,t,n){var i=Tn.templateSettings;n&&sa(e,t,n)&&(t=void 0),e=ss(e),t=ds({},t,i,Pr);var r,a,o=ds({},t.imports,i.imports,Pr),s=_s(o),l=Mt(o,s),c=0,d=t.interpolate||de,u="__p += '",h=ge((t.escape||de).source+"|"+d.source+"|"+(d===Y?ne:de).source+"|"+(t.evaluate||de).source+"|$","g"),p="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(h,(function(t,n,i,o,s,l){return i||(i=o),u+=e.slice(c,l).replace(ue,Rt),n&&(r=!0,u+="' +\n__e("+n+") +\n'"),s&&(a=!0,u+="';\n"+s+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),u+="';\n";var f=Ae.call(t,"variable")&&t.variable;f||(u="with (obj) {\n"+u+"\n}\n"),u=(a?u.replace(F,""):u).replace(I,"$1").replace(B,"$1;"),u="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var m=Hs((function(){return pe(s,p+"return "+u).apply(void 0,l)}));if(m.source=u,No(m))throw m;return m},Tn.times=function(e,t){if((e=is(e))<1||e>9007199254740991)return[];var n=4294967295,i=sn(e,4294967295);e-=4294967295;for(var r=Dt(i,t=Xr(t));++n<e;)t(n);return r},Tn.toFinite=ns,Tn.toInteger=is,Tn.toLength=rs,Tn.toLower=function(e){return ss(e).toLowerCase()},Tn.toNumber=as,Tn.toSafeInteger=function(e){return e?Kn(is(e),-9007199254740991,9007199254740991):0===e?e:0},Tn.toString=ss,Tn.toUpper=function(e){return ss(e).toUpperCase()},Tn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Qi(t)))return e;var i=qt(e),r=qt(t);return cr(i,Ft(i,r),It(i,r)+1).join("")},Tn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Qi(t)))return e;var i=qt(e);return cr(i,0,It(i,qt(t))+1).join("")},Tn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Qi(t)))return e;var i=qt(e);return cr(i,Ft(i,qt(t))).join("")},Tn.truncate=function(e,t){var n=30,i="...";if(zo(t)){var r="separator"in t?t.separator:r;n="length"in t?is(t.length):n,i="omission"in t?Qi(t.omission):i}var a=(e=ss(e)).length;if(Nt(e)){var o=qt(e);a=o.length}if(n>=a)return e;var s=n-Ut(i);if(s<1)return i;var l=o?cr(o,0,s).join(""):e.slice(0,s);if(void 0===r)return l+i;if(o&&(s+=l.length-s),Go(r)){if(e.slice(s).search(r)){var c,d=l;for(r.global||(r=ge(r.source,ss(ie.exec(r))+"g")),r.lastIndex=0;c=r.exec(d);)var u=c.index;l=l.slice(0,void 0===u?s:u)}}else if(e.indexOf(Qi(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i},Tn.unescape=function(e){return(e=ss(e))&&R.test(e)?e.replace(O,Vt):e},Tn.uniqueId=function(e){var t=++Ce;return ss(e)+t},Tn.upperCase=Rs,Tn.upperFirst=Ns,Tn.each=oo,Tn.eachRight=so,Tn.first=Ia,Xs(Tn,(dl={},li(Tn,(function(e,t){Ae.call(Tn.prototype,t)||(dl[t]=e)})),dl),{chain:!1}),Tn.VERSION="4.17.20",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Tn[e].placeholder=Tn})),st(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=void 0===n?1:on(is(n),0);var i=this.__filtered__&&!t?new $n(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(qs)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Ri((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return vi(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Ao(Xr(e)))},$n.prototype.slice=function(e,t){e=is(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=is(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(4294967295)},li($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Tn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);r&&(Tn.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,s=t instanceof $n,l=o[0],c=s||Fo(t),d=function(e){var t=r.apply(Tn,ft([e],o));return i&&u?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var u=this.__chain__,h=!!this.__actions__.length,p=a&&!u,f=s&&!h;if(!a&&c){t=f?t:new $n(this);var m=e.apply(t,o);return m.__actions__.push({func:to,args:[d],thisArg:void 0}),new Mn(m,u)}return p&&f?e.apply(this,o):(m=this.thru(d),p?i?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Tn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Fo(r)?r:[],e)}return this[n]((function(n){return t.apply(Fo(n)?n:[],e)}))}})),li($n.prototype,(function(e,t){var n=Tn[t];if(n){var i=n.name+"";Ae.call(yn,i)||(yn[i]=[]),yn[i].push({name:t,func:n})}})),yn[Tr(void 0,2).name]=[{name:"wrapper",func:void 0}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=br(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=br(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=br(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Fo(e),i=t<0,r=n?e.length:0,a=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=sn(t,e+o);break;case"takeRight":e=on(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,d=this.__iteratees__,u=d.length,h=0,p=sn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return nr(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[c+=t];++m<u;){var b=d[m],v=b.iteratee,y=b.type,_=v(g);if(2==y)g=_;else if(!_){if(1==y)continue e;break e}}f[h++]=g}return f},Tn.prototype.at=no,Tn.prototype.chain=function(){return eo(this)},Tn.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},Tn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Tn.prototype.plant=function(e){for(var t,n=this;n instanceof Ln;){var i=Ea(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},Tn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ya],thisArg:void 0}),new Mn(t,this.__chain__)}return this.thru(Ya)},Tn.prototype.toJSON=Tn.prototype.valueOf=Tn.prototype.value=function(){return nr(this.__wrapped__,this.__actions__)},Tn.prototype.first=Tn.prototype.head,Je&&(Tn.prototype[Je]=function(){return this}),Tn}();Ve._=Gt,void 0===(r=function(){return Gt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(13),n(39)(e))},function(e,t,n){!function(){let t=n(10);const i={canvasElement:null,element:null,flgEdit:!1,currentVariant:null,btn_test_save:document.getElementById("btn_test_save"),btn_toggle_save:document.getElementById("optimize_toggle_variant_save"),new_variant:document.getElementById("new_variant"),select_variant:document.getElementById("select_variant"),pageVariants:document.getElementById("pageVariants"),variantList:document.getElementById("variant_lists"),init:function(){this.btn_test_save.addEventListener("click",e=>i.saveTest(e)),this.btn_toggle_save.addEventListener("click",e=>this.saveToggle(e)),t.subscribe("onBlockLoaded",e=>{const t=n(9),{optimization_test:i}=t.site.activePage.pageSettings;"true"===i.enable&&setTimeout(()=>this.collectionOfOptions(e),3e3)}),t.subscribe("onChangedStatus",e=>{const{site:t}=n(9);e.checked?(t.activePage.blocks.map(e=>this.collectionOfOptions(e)),this.toolbarVariants()):(t.activePage.currentVariant="#",this.pageVariants.innerHTML=""),this.showBlockOnVariant()}),t.subscribe("onChangeViewVariant",()=>{const e=n(9),{blocks:t}=e.site.activePage;t.forEach(e=>e.heightAdjustment())}),t.subscribe("removeVariantFromCanvas",()=>{i.reloadVariants()})},showCreateModal:function(e=!1,r){const a=n(9);if(e&&!r.target.classList.contains("current")){r.target.parentNode.querySelectorAll("[data-variant]").forEach(e=>e.classList.remove("current")),r.target.classList.add("current");const{element:e}=this;return i.showSelectedVariant(e,r.target.textContent).then(()=>t.publish("onChangeViewVariant")),!1}i.flgEdit=e,i.canvasElement=this,$("#optimize_create_block").modal("show"),$("#select_variant").empty(),e&&(i.currentVariant=r.currentTarget.getAttribute("data-variant"));const{variants:o}=a.site.activePage;o.map(t=>{const n=document.createElement("option");n.value=t,n.textContent="#"===t?"Create New":t,e&&i.currentVariant==t&&(n.selected=!0),select_variant.appendChild(n)}),$(select_variant).selectpicker("refresh"),new_variant.value="#ABCDEFGHIJKLMNOPQRSTUVWXYZ"[o.length]},saveTest:function(e){e.preventDefault();const{parentBlock:t,element:r}=i.canvasElement,{styleeditor:a}=n(28),o=n(9);if(i.flgEdit){const e=r.parentNode.querySelector(`${r.tagName.toLowerCase()}[data-variant-name="${i.currentVariant}"][data-selector='${r.getAttribute("data-selector")}']`);e&&e.setAttribute("data-variant-name",this.select_variant.value)}else{const e=r.cloneNode(!0);let n=this.new_variant.value;"#"!==this.select_variant.value&&(n=this.select_variant.value),this.addVariant(n),r.getAttribute("data-variant-name")||r.setAttribute("data-variant-name","#");let i=r.getAttribute("data-id").split("_");i=i[0],r.parentNode.querySelectorAll(`${r.tagName.toLowerCase()}[data-variant-name][data-selector='${r.getAttribute("data-selector")}'][data-id^="${i}"]`).forEach(e=>e.setAttribute("data-variant-show",!1)),e.setAttribute("data-variant-name",n),e.setAttribute("data-id",`${e.getAttribute("data-id")}_${n}`),e.setAttribute("data-variant-show",!0),e.removeAttribute("data-vshow"),e.removeAttribute("data-vhide"),e.removeAttribute("data-vhide-default"),r.after(e),t.addStyleToVariant()}this.updateShowAttr(o.site),a.setupCanvasElements(t),o.site.activePage.heightAdjustment(),$("#optimize_create_block").modal("hide"),this.flgEdit=!1,o.site.setPendingChanges(!0)},addVariant:e=>{const t=n(9);t.site.activePage.variants.includes(e)||(t.site.activePage.variants.push(e),i.toolbarVariants())},toolbarVariants:function(){const e=n(9),{pageSettings:t,variants:i,currentVariant:r}=e.site.activePage;t.optimization_test.enable&&(pageVariants.children.length&&[...pageVariants.children].forEach(e=>pageVariants.removeChild(e)),i.sort().map(e=>{const t=document.createElement("button");e===r&&t.classList.add("active"),t.setAttribute("data-variant",e),t.innerText=e,pageVariants.append(t),t.addEventListener("click",this.changeVariant.bind(this))}))},changeVariant:function(e){e.preventDefault();const{site:t}=n(9);if(e.currentTarget.classList.contains("active"))return!1;pageVariants.children.length&&[...pageVariants.children].forEach(e=>e.classList.remove("active")),e.currentTarget.classList.add("active"),t.activePage.currentVariant=e.currentTarget.textContent,this.showBlockOnVariant()},showBlockOnVariant:function(){const e=n(9),{blocks:t}=e.site.activePage;t.map(e=>e.variantView())},collectionOfOptions:function({frameDocument:e}){const t=e.querySelectorAll("[data-variant-name]");t.length&&([...t].map(e=>this.addVariant(e.getAttribute("data-variant-name"))),this.showBlockOnVariant())},parseVariants:function(e){const t=e.getAttribute("data-selector"),n=e.tagName;let i=e.getAttribute("data-id").split("_");return i=i[0],[...e.parentNode.querySelectorAll(`${n.toLowerCase()}[data-selector='${t}'][data-variant-name][data-id^="${i}"]`)].map(e=>({active:!("none"==getComputedStyle(e).display),name:e.getAttribute("data-variant-name")})).sort((e,t)=>e.name.localeCompare(t.name))},showSelectedVariant:async function(e,t){const n=e.getAttribute("data-selector"),i=e.tagName;let r=e.getAttribute("data-id").split("_");r=r[0],e.parentNode.querySelectorAll(`${i}[data-selector='${n}'][data-variant-name][data-id^="${r}"]`).forEach(e=>e.setAttribute("data-variant-show",!1)),e.parentNode.querySelector(`${i}[data-selector='${n}'][data-variant-name="${t}"][data-id^="${r}"]`).setAttribute("data-variant-show",!0)},updateShowAttr:function(e){const{blocks:t}=e.activePage;t.map(e=>e.updateAttrShow())},toggleVisible:function(){$("#optimize_toggle_variant").modal("show"),i.element=this.element;const e=n(9);let{variants:t}=e.site.activePage,r=this.element.getAttribute("data-id").split("_");r=r[0];const a=this.element.parentNode.querySelector(`${this.element.tagName.toLowerCase()}[data-selector='${this.element.getAttribute("data-selector")}'][data-id="${r}"]`).getAttribute("data-vhide")||[],o=[...this.element.parentNode.querySelectorAll(`${this.element.tagName.toLowerCase()}[data-selector='${this.element.getAttribute("data-selector")}'][data-variant-name="#"]`)].map(e=>e.getAttribute("data-variant-name"));i.variantList.innerHTML="",t=t.filter(e=>!o.includes(e)),t.includes("#")||t.push("#"),t=t.sort(),t.forEach((e,t)=>{const n=document.createElement("div");n.innerHTML=`<label class="checkbox" for="checkbox${t}">\n            <input type="checkbox" value="${e}" id="checkbox${t}" data-toggle="checkbox" class="custom-checkbox" ${a.includes(e)?'checked="checked"':""}>\n            <span class="icons">\n              <span class="icon-unchecked"></span>\n              <span class="icon-checked"></span>\n            </span>\n            ${e}\n          </label>`,i.variantList.appendChild(n)})},saveToggle:function(e){const t=n(9),i=this.element.getAttribute("data-variant-name");let r=this.element.getAttribute("data-id").split("_");r=r[0],null===i?this.element.setAttribute("data-variant-name","#"):"#"!==i&&(this.element=this.element.parentNode.querySelector(`${this.element.tagName.toLowerCase()}[data-selector='${this.element.getAttribute("data-selector")}'][data-variant-name="#"][data-id=${r}]`));const a=[];this.variantList.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.checked&&a.push(e.value)}),a.includes("#")?this.element.setAttribute("data-vhide-default",!0):this.element.removeAttribute("data-vhide-default"),this.element.setAttribute("data-vhide",a.join()),$("#optimize_toggle_variant").modal("hide"),this.element=null,this.updateShowAttr(t.site),t.site.setPendingChanges(!0)},reloadVariants:function(){const e=n(9);e.site.activePage.variants=[];const{blocks:t}=e.site.activePage;t.map(e=>this.collectionOfOptions(e)),e.site.activePage.currentVariant="#",this.showBlockOnVariant(),e.site.setPendingChanges(!0)}};[i.btn_test_save,i.btn_toggle_save].every(e=>e)&&i.init(),e.exports.variant=i}()},function(e,t,n){!function(){const t=n(10),{default:i}=n(226),r=n(0),a=n(235),o={style:{months:"M, d, h, m, s",days:"d, h, m, s",days2:"d, h, m",hours:"h, m, s",minuts:"m, s"},type:{counter:[{root:"div",value:null,repeat:!0,transform:"pad(0) -> split -> delay",children:[{view:"flip"}]}],bilboard:[{root:"div",layout:"horizontal fill",repeat:!0,transform:"upper -> split -> delay(random, 100, 150)",children:[{view:"flip",transform:"ascii -> arrive -> round -> char(a-zA-Z)"}]}],timercountdown:[{repeat:!0,layout:"horizontal fit",transform:"",children:[{layout:"group",root:"div",children:[{key:"value",repeat:!0,transform:"pad(00) -> split -> delay",root:"div",children:[{view:"flip"}]}]}]}],timer:[{repeat:!0,layout:"horizontal fit",transform:"",children:[{layout:"group",root:"div",children:[{key:"value",repeat:!0,transform:"pad(00) -> split -> delay",root:"div",children:[{view:"flip"}]}]}]}],clock:[{layout:"horizontal fit",children:[{key:"hours",transform:"pad(00)",view:"flip"},{key:"sep",view:"text"},{key:"minutes",transform:"pad(00)",view:"flip"},{key:"sep",view:"text"},{key:"seconds",transform:"pad(00)",view:"flip"}]}]}};t.subscribe("onComponentDrop",(e,t)=>{if("countdown"===(t=t.get(0)).getAttribute("data-component")){const{frameDocument:n}=e,i=n.createElement("link");i.rel="stylesheet",i.href="/skin/pagebuilder/assets/css/flip.css",n.head.appendChild(i),[{attr:"data-value",value:r().format("YYYY-MM-DD HH-mm-ss")},{attr:"data-delay",value:"1000"},{attr:"data-textcolor",value:"#595d63"},{attr:"data-labelcolor",value:"#3c3e3c"},{attr:"data-style",value:"days"},{attr:"data-type",value:"timer"},{attr:"data-labels",value:"show"}].map(({attr:e,value:n})=>t.setAttribute(e,n)),s.initCountdown(e)}}),t.subscribe("onBlockLoaded",(function(e){const{frameDocument:t}=e;null!==t.querySelector('[data-component="countdown"]')&&s.initCountdown(e)}));const s={initCountdown:async function({frameDocument:e}){const t=e.querySelector('[data-component="countdown"]'),n=a.cloneDeep(o);t.innerHTML=null;const s=t.getAttribute("data-id"),l=t.getAttribute("data-style")||"months",c=t.getAttribute("data-type")||"counter",d=t.getAttribute("data-value"),u=t.getAttribute("data-labels")||"hide",h=t.getAttribute("data-delay")||1e3,p=t.getAttribute("data-direction")||"down",f=t.getAttribute("data-textcolor")||"#edebeb",m=t.getAttribute("data-panelcolor")||"#1d1c1c",g=t.getAttribute("data-labelcolor")||"#000";let b=e.querySelector(`style[data-id="${s}"]`);null===b&&(b=e.createElement("style")),b.type="text/css",b.setAttribute("data-id",s),b.innerHTML=`[data-id="${s}"] .tick-text-inline,[data-id="${s}"] .tick-label{color:${f}!important;}[data-id="${s}"] .tick-flip-panel{color:${f}!important;background-color:${m}!important}[data-id="${s}"] .tick-text{color: ${g}}`,t.after(b),n.type.timercountdown[0].transform=n.type.timer[0].transform=`preset(${n.style[l]}) -> delay`,"show"===u&&-1!==["timercountdown","timer"].indexOf(c)&&(n.type[c][0].children[0].children=[{key:"value",repeat:!0,transform:"pad(00) -> split -> delay",root:"div",children:[{view:"flip"}]},{view:"text",key:"label"}]);const v=i.DOM.create({view:{children:n.type[c]},didInit:function(e){if("counter"==c&&(i.helper.duration(1,"seconds"),e.value=d,"down"==p&&(e.value=d,i.helper.interval((function(){e.value--}),parseInt(1e3))),"up"==p&&i.helper.interval((function(){e.value++}),parseInt(h))),"bilboard"==c){var t=d.split(","),a=0;i.helper.interval((function(){e.value=t[a],a=a<t.length-1?a+1:0}),parseInt(h))}if("timercountdown"==c){const[t,a,o]=d.split(":");i.count.down(new Date(r().add({hour:t,minute:a,second:o}).valueOf()),{format:n.style[l].split(",").map(e=>e.trim())}).onupdate=function(t){e.value=t}}if("timer"==c){i.count.down(new Date(r(d).valueOf()),{format:n.style[l].split(",").map(e=>e.trim())}).onupdate=function(t){e.value=t}}"clock"==c&&i.helper.interval((function(){var t=i.helper.date();e.value={sep:".",hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds()}}))}});t.appendChild(v.root)},updateCountDown(e){this.initCountdown(e).then(()=>setTimeout(()=>e.heightAdjustment(),1e3))}};e.exports.component=s}()},function(e,t){e.exports={parseMediaType:e=>/(?:youtube(?:-nocookie)?\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/.test(e.toString())?"youtube":/(?:player\.)?vimeo\.com\/(?:video\/)?([0-9]*)/.test(e.toString())?"vimeo":"mp4",serializeArray:e=>{const t={},n=e.querySelectorAll("input, textarea, select");for(let e=0;e<n.length;e++){const i=n[e];if(i.name&&!i.disabled&&"file"!==i.type&&"reset"!==i.type&&"submit"!==i.type&&"button"!==i.type)if("select-multiple"===i.type)for(let e=0;e<i.options.length;e++)i.options[e].selected&&(t.hasOwnProperty(i.name)||(t[i.name]=[]),t[i.name].push(i.options[e].value));else"checkbox"==i.type&&i.checked?t.hasOwnProperty(i.name)?(t[i.name]=[t[i.name]],t[i.name].push(i.value)):t[i.name]=i.value:("checkbox"!==i.type||i.checked)&&(t[i.name]=i.value)}return t},formatToCamelCase:e=>{const t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}}},function(e,t,n){!function(){"use strict";var e=n(9),i=n(11).appUI,r=n(15);let a=n(10);var o={ulTemplates:document.querySelectorAll('[data-sidesecond="templates"] .sideSecondInner ul'),buttonSaveTemplate:document.getElementById("saveTemplate"),buttonSave:document.getElementById("savePage"),modalDeleteTemplate:document.getElementById("delTemplateModal"),init:function(){$(this.buttonSaveTemplate).on("click",this.saveTemplate),$("body").on("siteDataLoaded",(function(){1===e.site.is_admin&&$(o.modalDeleteTemplate).on("show.bs.modal",o.prepTemplateDeleteModal)})),$(".templ[data-template-id]").on("click",(function(e){o.clickTemplate(e)})),$("#savePage ul").length&&$("#savePage a").on("click",this.saveAsTemplate),$("#selectCategory").on("change",()=>e.site.setPendingChanges(!0))},saveAsTemplate:t=>{t.preventDefault(),t.stopPropagation(),console.log(e.site.data.id),$.ajax({method:"POST",url:i.dataUrls.saveAsTemplate,data:{site_id:e.site.data.id},dataType:"json"}).done(e=>{console.log("success"===e.status,e.status,e),"success"===e.status?($("#successModal .modal-body").html($(e.responseHTML)),$("#successModal").modal("show")):($("#errorModal .modal-body").html($(e.responseHTML)),$("#errorModal").modal("show"))})},clickTemplate:function(e){swal({title:"Are you sure?",text:"All data will be overwritten!",icon:"warning",buttons:{cancel:!0,confirm:"Confirm"},dangerMode:!0}).then(t=>{t&&$.ajax({url:i.dataUrls.uploadTemplate,type:"POST",dataType:"json",data:{templateid:$(e.currentTarget).data("template-id"),currentid:$('[name="siteID"]').prop("value")}}).done((function(e){1===e.responseCode?window.location.reload():swal("Error","Reload page and try again.","error"),$("body").trigger("siteDataLoaded"),a.publish("siteDataLoaded")}))}),console.log(e)},makeDraggable:function(){$(this.ulTemplates).find("li").each((function(){$(this).draggable({helper:function(){return $('<div style="height: 100px; width: 300px; background: #F9FAFA; box-shadow: 5px 5px 1px rgba(0,0,0,0.1); text-align: center; line-height: 100px; font-size: 28px; color: #16A085"><span class="fui-list"></span></div>')},revert:"invalid",appendTo:"body",connectToSortable:"#pageList > ul:visible",start:function(){e.site.activePage.transparentOverlay("on")},stop:function(){e.site.activePage.transparentOverlay("off")}}),$(this).find("a").each((function(){$(this).unbind("click").bind("click",(function(e){e.preventDefault()}))}))}))},saveTemplate:function(t){t.preventDefault(),$(o.buttonSaveTemplate).addClass("disabled"),$(o.buttonSave).find(".bLabel").text($(o.buttonSave).attr("data-loading")),$(o.buttonSave).addClass("disabled"),$("#errorModal .modal-body > *, #successModal .modal-body > *").each((function(){$(this).remove()})),$('.tick[data-state="initialised"]').each((function(){$(this).remove()})),e.site.prepForSave(!0);var s={};s.pages=e.site.sitePagesReadyForServer,s.siteData=e.site.data,s.fullPage=r.custom_base64_encode("<html>"+$(e.site.skeleton).contents().find("html").html()+"</html>"),e.site.pagesToDelete.length>0&&(s.toDelete=e.site.pagesToDelete),s.templateID=e.builderUI.templateID;let l=$("#selectCategory");l.length&&(s.categoryID=l.val()),$.ajax({url:i.dataUrls.tsave,type:"POST",dataType:"json",data:s}).done((function(t){if($(o.buttonSaveTemplate).removeClass("disabled"),$(o.buttonSave).removeClass("disabled"),$(o.buttonSave).find(".bLabel").text($(o.buttonSave).attr("data-label")),0===t.responseCode)$("#errorModal .modal-body").append($(t.responseHTML)),$("#errorModal").modal("show");else if(1===t.responseCode){$("#successModal .modal-body").append($(t.responseHTML)),$("#successModal").modal("show"),e.builderUI.templateID=t.templateID;let r=e.site.activePage.name,o=n(15);r=o.getParameterByName("p"),$.getJSON(i.dataUrls.siteData,(function(t){e.site.customFonts=t.fonts,t.language&&(window.language=t.language),void 0!==t.site&&(e.site.data=t.site),void 0!==t.pages&&(e.site.pages=t.pages),e.site.is_admin=t.is_admin,$("#pageList").size()>0&&($("#pageList, #pages").empty(),e.builderUI.populateCanvas(),e.site.sitePages.forEach((function(e){e.name==r&&e.selectPage()}))),$("body").trigger("siteDataLoaded"),a.publish("siteDataLoaded")})),e.site.setPendingChanges(!1)}}))},save:function(){$(o.buttonSaveTemplate).addClass("disabled"),$(o.buttonSave).find(".bLabel").text($(o.buttonSave).attr("data-loading")),$(o.buttonSave).addClass("disabled"),$("#errorModal .modal-body > *, #successModal .modal-body > *").each((function(){$(this).remove()})),e.site.prepForSave(!0);var t={};t.pages=e.site.sitePagesReadyForServer,t.siteData=e.site.data,t.fullPage=r.custom_base64_encode("<html>"+$(e.site.skeleton).contents().find("html").html()+"</html>"),e.site.pagesToDelete.length>0&&(t.toDelete=e.site.pagesToDelete),t.templateID=e.builderUI.templateID;let n=$("#selectCategory");return n.length&&(t.categoryID=n.val()),$.ajax({url:i.dataUrls.tsave,type:"POST",dataType:"json",data:t})},addDelLinks:function(){$(this.ulTemplates).find("li").each((function(){var e=$('<a href="#delTemplateModal" data-toggle="modal" data-pageid="'+$(this).attr("data-pageid")+'" class="btn btn-danger btn-sm">DEL</a>');$(this).append(e)}))},prepTemplateDeleteModal:function(e){var t=$(e.relatedTarget).attr("data-pageid");$("#delTemplateModal").find("#templateDelButton").attr("href",$("#delTemplateModal").find("#templateDelButton").attr("href")+"/"+t)}};o.init(),t.templates=o}()},function(e,t,n){!function(){"use strict";const t=n(9),i={protectedPageCheckbox:document.getElementById("protected_page"),dripfeedCheckbox:document.getElementById("drip_feed"),membershipLists:document.querySelectorAll('.membership-lists input[type="checkbox"]'),selectPageSettingsPrimaryMembership:document.getElementById("ss-primary-membership"),init:function(){$(this.protectedPageCheckbox).on("switchChange.bootstrapSwitch",(function(e,t){$(e.target.closest(".optionPane")).find('[data-protected="true"]').fadeToggle("fast")})),$(this.dripfeedCheckbox).on("switchChange.bootstrapSwitch",(function(e,t){$(e.target.closest(".optionPane")).find('[data-drip-feed="true"]').fadeToggle("fast")})),this.membershipLists.forEach(e=>{e.addEventListener("change",e=>{this.updateSelectPrimaryMembership()})}),this.applyHandler=this.applyHandler.bind(this),this.updateSelectPrimaryMembership=this.updateSelectPrimaryMembership.bind(this)},checkedLists:function(){const e=[];return this.membershipLists.forEach(t=>{t.checked&&e.push(t.value)}),e},setProtection:function(){t.site.activePage.pageSettings.protected="1";const{memberships:e}=t.site.activePage.pageSettings;t.site.activePage.pageSettings.memberships=e.concat(this.diffArray(this.checkedLists(),e)),i.selectPageSettingsPrimaryMembership.value&&(t.site.activePage.pageSettings.primary_membership=i.selectPageSettingsPrimaryMembership.value)},applyHandler:function(e){e.preventDefault(),t.site.sitePages.forEach(e=>{e.pageSettings.protected="1";const{memberships:t}=e.pageSettings;e.pageSettings.memberships=t.concat(this.diffArray(this.checkedLists(),t)),this.selectPageSettingsPrimaryMembership.value&&(e.pageSettings.primary_membership=this.selectPageSettingsPrimaryMembership.value)}),t.site.updatePageStatus("changed"),this.clearChecked(),this.applyBtn.disabled=!0,console.log(t.site.sitePages,t.site.pages),$(this.alertMessage).stop(!0,!0).fadeIn("fast",()=>{setTimeout(()=>{$(this.alertMessage).stop(!0,!0).fadeOut("fast")},2e3)})},updateSelectPrimaryMembership:function(e){const t=[];this.membershipLists.forEach(e=>{e.checked&&t.push({name:e.previousSibling.textContent.trim(),value:e.value})}),this.selectPageSettingsPrimaryMembership.querySelectorAll("option").forEach(e=>{this.selectPageSettingsPrimaryMembership.removeChild(e)}),t.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.name,this.selectPageSettingsPrimaryMembership.appendChild(t)}),$(this.selectPageSettingsPrimaryMembership).selectpicker("refresh")},clearChecked:function(){this.membershipLists.forEach(e=>e.checked=!1)},diffArray:function(e,t){return e.filter(e=>!t.includes(e))}};i.init(),e.exports.protectedObj=i}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(19),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(20),n(22),n(24),n(276),n(278),n(280),n(282),n(284),n(286),n(288),n(290),n(292),n(294),n(296),n(298),n(300),n(47),n(302),n(304),n(306),n(308),n(310),n(312),window.storage=n(314),n(11),n(12),n(15),n(38),n(28),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(237),n(239),n(331),n(333),n(334),n(335),n(240),$(document).ready((function(){"use strict";$().dndPageScroll(),$(".tagsinput").tagsinput()}));try{n(336)}catch(e){console.log(e)}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(14),r=n.n(i),a=n(227),o=n.n(a),s={attributes:{id:"id"},insert:"head",singleton:!1};r()(o.a,s);t.default=o.a.locals||{}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){n(6)(n(277))},function(e,t){e.exports='/* Chosen v1.1.0 | (c) 2011-2013 by Harvest | MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md */\n!function(){var a,AbstractChosen,Chosen,SelectParser,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),children:0,disabled:a.disabled}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\\&\\<\\>\\"\\\'\\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},c=/&(?!\\w+;)|[\\<\\>\\"\\\'\\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},SelectParser}(),SelectParser.select_to_array=function(a){var b,c,d,e,f;for(c=new SelectParser,f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},AbstractChosen.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(){var a=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return a.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){var b,c,d,e,f;for(b="",f=this.results_data,d=0,e=f.length;e>d;d++)c=f[d],b+=c.group?this.result_add_group(c):this.result_add_option(c),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(c.text));return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match?this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,this.outerHTML(c)):"":""},AbstractChosen.prototype.result_add_group=function(a){var b;return a.search_match||a.group_match?a.active_options>0?(b=document.createElement("li"),b.className="group-result",b.innerHTML=a.search_text,this.outerHTML(b)):"":""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(this.no_results_clear(),e=0,g=this.get_search_text(),a=g.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,"\\\\$&"),d=this.search_contains?"":"^",c=new RegExp(d+a,"i"),j=new RegExp(a,"i"),m=this.results_data,k=0,l=m.length;l>k;k++)b=m[k],b.search_match=!1,f=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(f=this.results_data[b.group_array_index],0===f.active_options&&f.search_match&&(e+=1),f.active_options+=1),(!b.group||this.group_search)&&(b.search_text=b.group?b.label:b.html,b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(e+=1),b.search_match?(g.length&&(h=b.search_text.search(j),i=b.search_text.substr(0,h+g.length)+"</em>"+b.search_text.substr(h+g.length),b.search_text=i.substr(0,h)+"<em>"+i.substr(h)),null!=f&&(f.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>e&&g.length?(this.update_results_content(""),this.no_results(g)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\\[|\\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(){var a=this;return setTimeout(function(){return a.results_search()},50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},AbstractChosen.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},AbstractChosen.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},AbstractChosen.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},AbstractChosen.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),a=jQuery,a.fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(){var c,d;c=a(this),d=c.data("chosen"),"destroy"===b&&d?d.destroy():d||c.data("chosen",new Chosen(this,b))}):this}}),Chosen=function(c){function Chosen(){return b=Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,c),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html(\'<ul class="chosen-choices"><li class="search-field"><input type="text" value="\'+this.default_text+\'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>\'):this.container.html(\'<a class="chosen-single chosen-default" tabindex="-1"><span>\'+this.default_text+\'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>\'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(){var a;return this.form_field.tabIndex?(a=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for=\'"+this.form_field.id+"\']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+b.html+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(c.text),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(a)},Chosen.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after(\'<abbr class="search-choice-close"></abbr>\'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},Chosen.prototype.no_results=function(b){var c;return c=a(\'<li class="no-results">\'+this.results_none_found+\' "<span></span>"</li>\'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},Chosen}(AbstractChosen)}.call(this);'},function(e,t,n){n(6)(n(279))},function(e,t){e.exports="/*\n * jQuery Zoomer v1.1\n *\n * By HubSpot  >('_')<\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Example usage:\n\n$('iframe').zoomer({ width: 200, zoom: 0.5 });\n\n *\n */\n \nfunction supportsTransitions() {\n\n    var b = document.body || document.documentElement,\n        s = b.style,\n        p = 'transition';\n\n    if (typeof s[p] == 'string') { return true; }\n\n    // Tests for vendor specific prop\n    var v = ['Moz', 'webkit', 'Webkit', 'Khtml', 'O', 'ms'];\n    p = p.charAt(0).toUpperCase() + p.substr(1);\n\n    for (var i=0; i<v.length; i++) {\n        if (typeof s[v[i] + p] == 'string') { return true; }\n    }\n\n    return false;\n    \n}\n\n(function($){\n\n    var methods,\n        pluginName = 'zoomer',\n        defaults = {\n            width: 'auto',\n            height: 'auto',\n            zoom: 0.4,\n            tranformOrigin: '0 0',\n            //loading\n            loadingType: 'message', // other type: 'spinner'\n            loadingMessage: 'Generating preview...',\n            spinnerURL: 'http://oi46.tinypic.com/6y375z.jpg', // requires loadingType: 'spinner'\n            //hover\n            message: 'Open Page',\n            ieMessageButtonClass: 'btn btn-secondary', // used in IE only\n            messageURL: false,\n            onComplete: function() {}\n        },\n        visible = {\n            visibility: 'visible'\n        },\n        invisible = {\n            visibility: 'hidden'\n        },\n        unselectable = {\n            '-webkit-user-select': 'none',\n            '-khtml-user-select':  'none',\n            '-moz-user-select':    'none',\n            '-o-user-select':      'none',\n            'user-select': 'none',\n            'overflow': 'hidden'\n        },\n        absolute = {\n            top: 0,\n            position: 'absolute'\n        },\n        relative = {\n            position: 'relative'\n        },\n        isMSIE = navigator.userAgent.match(/MSIE/),\n        MSIEVersion = navigator.userAgent.match(/MSIE (\\d\\.\\d+)/) ? parseInt(RegExp.$1, 10) : null\n    ;\n\n    methods = {\n\n        init: function(opts) {\n            return this.each(function(){\n                var $el = $(this),\n                    options = $.extend({}, defaults, opts)\n                ;\n\n                options.src = $el.attr('src');\n\n                $el.data(pluginName, options);\n\n                $el[pluginName]('zoomer');\n            });\n        },\n\n        zoomer: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            $el\n                .css(invisible)\n                .css(unselectable)\n            ;\n\n            if (options.zoom === 'auto') {\n                if (options.width === 'auto' && options.height === 'auto') {\n                    $.error('jQuery.zoomer: You must set either zoom or height and width.');\n                    return;\n                }\n                options.zoom = options.width / $(window).width();\n            }\n\n            if (options.width === 'auto') {\n                options.width = $(window).height() * options.zoom;\n            }\n\n            if (options.height === 'auto') {\n                options.height = $(window).height() * options.zoom;\n            }\n\n            if (options.loadingType === 'spinner') {\n                options.loadingMessage = '<img style=\"padding: ' + parseInt((options.height - 17) / 2, 10) + 'px 0\" src=\"' + options.spinnerURL + '\" />';\n            }\n\n            //fix bug in older version of chrome:\n            //http://stackoverflow.com/questions/5159713/\n            if (navigator.userAgent.indexOf('Chrome/10.0.648') > -1) {\n                options.zoom = Math.sqrt(1 / options.zoom);\n            }\n\n            options.externalSrc = true;\n\n            try {\n                if ($el.get(0).contentWindow.document) {\n                    options.externalSrc = false;\n                }\n            } catch (e) {}\n\n            $el[pluginName]('setUpWrapper');\n\n            $el[pluginName]('zoom');\n\n            return $el;\n        },\n\n        setUpWrapper: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            if (!$el.parents('.zoomer-wrapper').length) {\n                $el\n                    .wrap(\n                        $('<div/>')\n                            .addClass('zoomer-wrapper')\n                            .css(unselectable)\n                            .css(relative)\n                    )\n                    .wrap(\n                        $('<div/>')\n                            .addClass('zoomer-small')\n                            .css(invisible)\n                            .css(unselectable)\n                    )\n                ;\n            }\n\n            options.zoomerWrapper = $el.parents('.zoomer-wrapper');\n\n            options.zoomerSmall = $el.parents('.zoomer-small');\n\n            options.zoomerCover = $('<div/>')\n                .addClass('zoomer-cover')\n                .css(unselectable)\n                .css(absolute)\n                .css({\n                    textAlign: 'center',\n                    fontSize: '15px'\n                })\n            ;\n\n            options.zoomerLink = $('<a/>')\n                .attr('target', '_blank')\n                .html(options.message)\n                .css({\n                    height: options.height,\n                    width: options.width,\n                    color: '#444',\n                    display: 'block',\n                    lineHeight: (parseInt(options.height, 10) - parseInt((options.height - 80) / 10, 10)) + 'px',\n                    textDecoration: 'none'\n                })\n                .css('background', '-moz-radial-gradient(center center, circle farthest-corner, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.4) 100%) repeat scroll 0 0 transparent')\n                .css('background-image', '-webkit-gradient(radial, center center, 0, center center, ' + parseInt(options.width, 10) + ', from(rgba(255, 255, 255, 0.95)), to(rgba(255, 255, 255, 0.4)))')\n                .mousedown(function(){\n                    $(this).css('box-shadow', 'inset 0px 2px 8px rgba(100, 100, 100, 0.4)');\n                })\n                .bind('mouseout mouseup', function(){\n                    $(this).css('box-shadow', 'none');\n                })\n                .hide()\n            ;\n\n            if ( supportsTransitions() == false ) {\n                options.zoomerLink.css({\n                    backgroundColor: 'rgba(255, 255, 255, 0.5)'\n                });\n            }\n\n            if (options.click) {\n                options.zoomerLink\n                    .attr('href', options.messageURL || options.src || '#')\n                    .unbind('click').bind('click', options.click)\n                ;\n            } else {\n                options.zoomerLink.attr('href', options.messageURL || options.src);\n            }\n\n            options.zoomerCover\n                .append(options.zoomerLink)\n                .hover(function(){\n                    options.zoomerLink.show();\n                    $(this).css('box-shadow', 'inset 2px 2px ' + (parseInt(options.width, 10) * 2) + 'px rgba(255, 255, 255, 0.2)');\n                }, function(){\n                    options.zoomerLink.hide();\n                    $(this).css('box-shadow', 'none');\n                })\n                .mousedown(function(){\n                    $(this).css('box-shadow', 'inset 2px 2px ' + (parseInt(options.width, 10) * 2) + 'px rgba(200, 200, 200, 0.8)');\n                })\n                .bind('mouseout mouseup', function(){\n                    $(this).css('box-shadow', 'none');\n                })\n            ;\n\n            options.zoomerLoader = $('<div/>')\n                .addClass('zoomer-loader')\n                .css(invisible)\n                .css(unselectable)\n                .css(absolute)\n                .css({\n                    textAlign: 'center',\n                    fontSize: '15px',\n                    lineHeight: (parseInt(options.height, 10) - parseInt((options.height - 80) / 10, 10)) + 'px',\n                    background: '#fff'\n                })\n                .html(options.loadingMessage)\n            ;\n\n            options.zoomerWrapper\n                .append(options.zoomerCover)\n                .append(options.zoomerLoader)\n            ;\n\n            if ( supportsTransitions() == false ) { options.zoomerLoader.css(invisible); }\n\n            return $el[pluginName]('updateWrapper')[pluginName]('fadeOut');\n        },\n\n        updateWrapper: function() {\n            var $el = $(this), options = $el.data(pluginName);\n            \n            $.each([options.zoomerWrapper.get(0), options.zoomerCover.get(0), options.zoomerLoader.get(0), options.zoomerSmall.get(0)], function(){\n                $(this).css({\n                    height: options.height,\n                    width: options.width\n                });\n            });\n\n            return $el;\n        },\n\n        fadeIn: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            if ( supportsTransitions() == false ) { return $el; }\n\n            $el.css(invisible);\n\n            options.zoomerSmall\n                .stop()\n                .css('opacity', 0)\n                .css(visible)\n                .animate({ 'opacity': 1 }, 150, function(){\n                    $el\n                        .css(visible)\n                        .css('opacity', 0)\n                        .animate({ 'opacity': 1 }, 500)\n                    ;\n                })\n            ;\n\n            options.zoomerLoader\n                .show()\n                .animate({ 'opacity': 0 }, 300, function(){\n                    $(this).hide();\n                })\n            ;\n\n            return $el;\n        },\n\n        fadeOut: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            if ( supportsTransitions() == false ) { return $el; }\n\n            options.zoomerSmall\n                .stop()\n                .animate({ 'opacity': 0 }, 300, function(){\n                    $(this).css('visibility', 'hidden');\n                })\n            ;\n\n            options.zoomerLoader\n                .css('opacity', 0)\n                .css(visible)\n                .show()\n                .animate({ opacity: 1 }, 100)\n            ;\n\n            return $el;\n        },\n\n        zoom: function() {\n        \n            var $el = $(this), options = $el.data(pluginName);\n\n            if ( supportsTransitions() == false ) {//mostly IE handholding\n            \t            \n                //setTimeout(function(){\n                    $el\n                        .css({\n                            zoom: options.zoom,\n                            height: parseInt((options.height / options.zoom) *  (1 / (MSIEVersion >= 9 ? 1 : options.zoom)), 10),\n                            width: parseInt((options.width / options.zoom) * (1 / (MSIEVersion >= 9 ? 1 : options.zoom)), 10)\n                        })\n                        .css(visible)\n                    ;\n                    //options.zoomerLink.remove();\n\n                    /*options.zoomerCover\n                        .unbind('hover mouseover mouseout')\n                        .addClass(options.ieMessageButtonClass)\n                        .html(options.message)\n                        .css({\n                            width: 94,\n                            height: 14,\n                            fontSize: 12,\n                            padding: '6px 18px 6px 18px',\n                            top: parseInt(options.height - (12 + (2 * 6) + 2 + 10), 10),\n                            left: parseInt((options.width - (94 + (2 * 18))) / 2, 10)\n                        })\n                        .show()*/\n               \t\toptions.zoomerCover\n               \t\t    .unbind('hover mouseover mouseout')\n               \t\t    .addClass(options.ieMessageButtonClass)\n               \t\t    .html(options.message)\n               \t\t    .css({\n               \t\t        width: '100%',\n               \t\t        height: '100%',\n               \t\t        fontSize: 12,\n               \t\t        padding: '6px 18px 6px 18px',\n               \t\t        top: '0px',\n               \t\t        left: '0px'\n               \t\t    })\n               \t\t    .show()\n                    ;\n\n                    if (!options.click) {\n                        options.click = function() {\n                            location.href = options.messageURL || options.src;\n                        };\n                    }\n\n                    //options.zoomerCover.unbind('click').bind('click', options.click);\n\n                    options.onComplete($el);\n                //}, 1000);\n\n                return $el;\n            }\n\n            if (options.externalSrc) {\n                $el\n                    .css({\n                        height: options.height / options.zoom,\n                        width: options.width / options.zoom,\n                                'transform-origin': options.tranformOrigin,\n                        '-webkit-transform-origin': options.tranformOrigin,\n                           '-moz-transform-origin': options.tranformOrigin,\n                             '-o-transform-origin': options.tranformOrigin,\n                                'transform': 'scale(' + options.zoom + ')',\n                        '-webkit-transform': 'scale(' + options.zoom + ')',\n                           '-moz-transform': 'scale(' + options.zoom + ')',\n                             '-o-transform': 'scale(' + options.zoom + ')'\n                    })\n                    .css(visible)\n                ;\n\n                $el[pluginName]('fadeIn');\n\n                options.onComplete($el);\n\n                return $el;\n            }\n\n            $el\n                .css({\n                    height: options.height / options.zoom,\n                    width: options.width / options.zoom\n                })\n                .load(function(){\n                    $el.contents().find('html').css({\n                                'transform-origin': options.tranformOrigin,\n                        '-webkit-transform-origin': options.tranformOrigin,\n                           '-moz-transform-origin': options.tranformOrigin,\n                             '-o-transform-origin': options.tranformOrigin,\n                                'transform': 'scale(' + options.zoom + ')',\n                        '-webkit-transform': 'scale(' + options.zoom + ')',\n                           '-moz-transform': 'scale(' + options.zoom + ')',\n                             '-o-transform': 'scale(' + options.zoom + ')'\n                    });\n\n                    $el[pluginName]('fadeIn');\n\n                    options.onComplete($el);\n                })\n            ;\n\n            return $el;\n        },\n\n        src: function(src) {\n            var $el = $(this),\n                options = $el.data(pluginName)\n            ;\n\n            options.src = src;\n\n            $el[pluginName]('fadeOut').attr('src', src);\n\n            return $el;\n        },\n\n        refresh: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            return $el[pluginName]('src', options.src);\n        },\n\n        zoomedBodyHeight: function() {\n            var $el = $(this), options = $el.data(pluginName);\n\n            if (options.externalSrc) {\n                return $.error('jQuery.zoomer: cannot access bodyHeight of an external iFrame');\n            }\n\n            return options.zoom * $($el.get(0).contentWindow.document).height();\n        }\n    };\n\n    $.fn[pluginName] = function(options) {\n        if (methods[options]) {\n            return methods[options].apply(this, Array.prototype.slice.call(arguments, 1));\n        } else if (typeof options === 'object' || ! options) {\n            return methods.init.apply(this, arguments);\n        } else {\n            $.error('jQuery.' + pluginName + ': Method ' +  options + ' does not exist');\n        }\n    };\n\n})(jQuery);"},function(e,t,n){n(6)(n(281))},function(e,t){e.exports='// Spectrum Colorpicker v1.4.1\n// https://github.com/bgrins/spectrum\n// Author: Brian Grinstead\n// License: MIT\n\n(function (window, $, undefined) {\n    "use strict";\n\n    var defaultOpts = {\n\n        // Callbacks\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n\n        // Options\n        color: false,\n        flat: false,\n        showInput: false,\n        allowEmpty: false,\n        showButtons: true,\n        clickoutFiresChange: false,\n        showInitial: false,\n        showPalette: false,\n        showPaletteOnly: false,\n        togglePaletteOnly: false,\n        showSelectionPalette: true,\n        localStorageKey: false,\n        appendTo: "body",\n        maxSelectionSize: 7,\n        cancelText: "cancel",\n        chooseText: "choose",\n        togglePaletteMoreText: "more",\n        togglePaletteLessText: "less",\n        clearText: "Clear Color Selection",\n        noColorSelectedText: "No Color Selected",\n        preferredFormat: false,\n        className: "", // Deprecated - use containerClassName and replacerClassName instead.\n        containerClassName: "",\n        replacerClassName: "",\n        showAlpha: false,\n        theme: "sp-light",\n        palette: [["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]],\n        selectionPalette: [],\n        disabled: false\n    },\n    spectrums = [],\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\n    rgbaSupport = (function() {\n        function contains( str, substr ) {\n            return !!~(\'\' + str).indexOf(substr);\n        }\n\n        var elem = document.createElement(\'div\');\n        var style = elem.style;\n        style.cssText = \'background-color:rgba(0,0,0,.5)\';\n        return contains(style.backgroundColor, \'rgba\') || contains(style.backgroundColor, \'hsla\');\n    })(),\n    inputTypeColorSupport = (function() {\n        var colorInput = $("<input type=\'color\' value=\'!\' />")[0];\n        return colorInput.type === "color" && colorInput.value !== "!";\n    })(),\n    replaceInput = [\n        "<div class=\'sp-replacer\'>",\n            "<div class=\'sp-preview\'><div class=\'sp-preview-inner\'></div></div>",\n            "<div class=\'sp-dd\'>&#9660;</div>",\n        "</div>"\n    ].join(\'\'),\n    markup = (function () {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = "";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += "<div class=\'sp-" + i + "\'></div>";\n            }\n        }\n\n        return [\n            "<div class=\'sp-container sp-hidden\'>",\n                "<div class=\'sp-palette-container\'>",\n                    "<div class=\'sp-palette sp-thumb sp-cf\'></div>",\n                    "<div class=\'sp-palette-button-container sp-cf\'>",\n                        "<button type=\'button\' class=\'sp-palette-toggle\'></button>",\n                    "</div>",\n                "</div>",\n                "<div class=\'sp-picker-container\'>",\n                    "<div class=\'sp-top sp-cf\'>",\n                        "<div class=\'sp-fill\'></div>",\n                        "<div class=\'sp-top-inner\'>",\n                            "<div class=\'sp-color\'>",\n                                "<div class=\'sp-sat\'>",\n                                    "<div class=\'sp-val\'>",\n                                        "<div class=\'sp-dragger\'></div>",\n                                    "</div>",\n                                "</div>",\n                            "</div>",\n                            "<div class=\'sp-clear sp-clear-display\'>",\n                            "</div>",\n                            "<div class=\'sp-hue\'>",\n                                "<div class=\'sp-slider\'></div>",\n                                gradientFix,\n                            "</div>",\n                        "</div>",\n                        "<div class=\'sp-alpha\'><div class=\'sp-alpha-inner\'><div class=\'sp-alpha-handle\'></div></div></div>",\n                    "</div>",\n                    "<div class=\'sp-input-container sp-cf\'>",\n                        "<input class=\'sp-input\' type=\'text\' spellcheck=\'false\'  />",\n                    "</div>",\n                    "<div class=\'sp-initial sp-thumb sp-cf\'></div>",\n                    "<div class=\'sp-button-container sp-cf\'>",\n                        "<a class=\'sp-cancel\' href=\'#\'></a>",\n                        "<button type=\'button\' class=\'sp-choose\'></button>",\n                    "</div>",\n                "</div>",\n            "</div>"\n        ].join("");\n    })();\n\n    function paletteTemplate (p, color, className, opts) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var current = p[i];\n            if(current) {\n                var tiny = tinycolor(current);\n                var c = tiny.toHsl().l < 0.5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";\n                c += (tinycolor.equals(color, current)) ? " sp-thumb-active" : "";\n                var formattedString = tiny.toString(opts.preferredFormat || "rgb");\n                var swatchStyle = rgbaSupport ? ("background-color:" + tiny.toRgbString()) : "filter:" + tiny.toFilter();\n                html.push(\'<span title="\' + formattedString + \'" data-color="\' + tiny.toRgbString() + \'" class="\' + c + \'"><span class="sp-thumb-inner" style="\' + swatchStyle + \';" /></span>\');\n            } else {\n                var cls = \'sp-clear-display\';\n                html.push($(\'<div />\')\n                    .append($(\'<span data-color="" style="background-color:transparent;" class="\' + cls + \'"></span>\')\n                        .attr(\'title\', opts.noColorSelectedText)\n                    )\n                    .html()\n                );\n            }\n        }\n        return "<div class=\'sp-cf " + className + "\'>" + html.join(\'\') + "</div>";\n    }\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({}, defaultOpts, o);\n        opts.callbacks = {\n            \'move\': bind(opts.move, callbackContext),\n            \'change\': bind(opts.change, callbackContext),\n            \'show\': bind(opts.show, callbackContext),\n            \'hide\': bind(opts.hide, callbackContext),\n            \'beforeShow\': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showSelectionPalette = opts.showSelectionPalette,\n            localStorageKey = opts.localStorageKey,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            alphaWidth = 0,\n            alphaSlideHelperWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            currentAlpha = 1,\n            palette = [],\n            paletteArray = [],\n            paletteLookup = {},\n            selectionPalette = opts.selectionPalette.slice(0),\n            maxSelectionSize = opts.maxSelectionSize,\n            draggingClass = "sp-dragging",\n            shiftMovementDirection = null;\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            disabled = false,\n            container = $(markup, doc).addClass(theme),\n            pickerContainer = container.find(".sp-picker-container"),\n            dragger = container.find(".sp-color"),\n            dragHelper = container.find(".sp-dragger"),\n            slider = container.find(".sp-hue"),\n            slideHelper = container.find(".sp-slider"),\n            alphaSliderInner = container.find(".sp-alpha-inner"),\n            alphaSlider = container.find(".sp-alpha"),\n            alphaSlideHelper = container.find(".sp-alpha-handle"),\n            textInput = container.find(".sp-input"),\n            paletteContainer = container.find(".sp-palette"),\n            initialColorContainer = container.find(".sp-initial"),\n            cancelButton = container.find(".sp-cancel"),\n            clearButton = container.find(".sp-clear"),\n            chooseButton = container.find(".sp-choose"),\n            toggleButton = container.find(".sp-palette-toggle"),\n            isInput = boundElement.is("input"),\n            isInputTypeColor = isInput && inputTypeColorSupport && boundElement.attr("type") === "color",\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(".sp-preview-inner"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            preferredFormat = opts.preferredFormat,\n            currentPreferredFormat = preferredFormat,\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange,\n            isEmpty = !initialColor,\n            allowEmpty = opts.allowEmpty && !isInputTypeColor;\n\n        function applyOptions() {\n\n            if (opts.showPaletteOnly) {\n                opts.showPalette = true;\n            }\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n\n            if (opts.palette) {\n                palette = opts.palette.slice(0);\n                paletteArray = $.isArray(palette[0]) ? palette : [palette];\n                paletteLookup = {};\n                for (var i = 0; i < paletteArray.length; i++) {\n                    for (var j = 0; j < paletteArray[i].length; j++) {\n                        var rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                        paletteLookup[rgb] = true;\n                    }\n                }\n            }\n\n            container.toggleClass("sp-flat", flat);\n            container.toggleClass("sp-input-disabled", !opts.showInput);\n            container.toggleClass("sp-alpha-enabled", opts.showAlpha);\n            container.toggleClass("sp-clear-enabled", allowEmpty);\n            container.toggleClass("sp-buttons-disabled", !opts.showButtons);\n            container.toggleClass("sp-palette-buttons-disabled", !opts.togglePaletteOnly);\n            container.toggleClass("sp-palette-disabled", !opts.showPalette);\n            container.toggleClass("sp-palette-only", opts.showPaletteOnly);\n            container.toggleClass("sp-initial-disabled", !opts.showInitial);\n            container.addClass(opts.className).addClass(opts.containerClassName);\n\n            reflow();\n        }\n\n        function initialize() {\n\n            if (IE) {\n                container.find("*:not(input)").attr("unselectable", "on");\n            }\n\n            applyOptions();\n\n            if (shouldReplace) {\n                boundElement.after(replacer).hide();\n            }\n\n            if (!allowEmpty) {\n                clearButton.hide();\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n\n                var appendTo = opts.appendTo === "parent" ? boundElement.parent() : $(opts.appendTo);\n                if (appendTo.length !== 1) {\n                    appendTo = $("body");\n                }\n\n                appendTo.append(container);\n            }\n\n            updateSelectionPaletteFromStorage();\n\n            offsetElement.bind("click.spectrum touchstart.spectrum", function (e) {\n                if (!disabled) {\n                    toggle();\n                }\n\n                e.stopPropagation();\n\n                if (!$(e.target).is("input")) {\n                    e.preventDefault();\n                }\n            });\n\n            if(boundElement.is(":disabled") || (opts.disabled === true)) {\n                disable();\n            }\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.bind("paste", function () {\n                setTimeout(setFromTextInput, 1);\n            });\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\n\n            cancelButton.text(opts.cancelText);\n            cancelButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                hide("cancel");\n            });\n\n            clearButton.attr("title", opts.clearText);\n            clearButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                isEmpty = true;\n                move();\n\n                if(flat) {\n                    //for the flat style, this is a change event\n                    updateOriginalInput(true);\n                }\n            });\n\n            chooseButton.text(opts.chooseText);\n            chooseButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                if (isValid()) {\n                    updateOriginalInput(true);\n                    hide();\n                }\n            });\n\n            toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n            toggleButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                opts.showPaletteOnly = !opts.showPaletteOnly;\n\n                // To make sure the Picker area is drawn on the right, next to the\n                // Palette area (and not below the palette), first move the Palette\n                // to the left to make space for the picker, plus 5px extra.\n                // The \'applyOptions\' function puts the whole container back into place\n                // and takes care of the button-text and the sp-palette-only CSS class.\n                if (!opts.showPaletteOnly && !flat) {\n                    container.css(\'left\', \'-=\' + (pickerContainer.outerWidth(true) + 5));\n                }\n                applyOptions();\n            });\n\n            draggable(alphaSlider, function (dragX, dragY, e) {\n                currentAlpha = (dragX / alphaWidth);\n                isEmpty = false;\n                if (e.shiftKey) {\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\n                }\n\n                move();\n            }, dragStart, dragStop);\n\n            draggable(slider, function (dragX, dragY) {\n                currentHue = parseFloat(dragY / slideHeight);\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function (dragX, dragY, e) {\n\n                // shift+drag should snap the movement to either the x or y axis.\n                if (!e.shiftKey) {\n                    shiftMovementDirection = null;\n                }\n                else if (!shiftMovementDirection) {\n                    var oldDragX = currentSaturation * dragWidth;\n                    var oldDragY = dragHeight - (currentValue * dragHeight);\n                    var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\n\n                    shiftMovementDirection = furtherFromX ? "x" : "y";\n                }\n\n                var setSaturation = !shiftMovementDirection || shiftMovementDirection === "x";\n                var setValue = !shiftMovementDirection || shiftMovementDirection === "y";\n\n                if (setSaturation) {\n                    currentSaturation = parseFloat(dragX / dragWidth);\n                }\n                if (setValue) {\n                    currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                }\n\n                isEmpty = false;\n                if (!opts.showAlpha) {\n                    currentAlpha = 1;\n                }\n\n                move();\n\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n\n                // In case color was black - update the preview UI and set the format\n                // since the set function will not run (default color is black).\n                updateUI();\n                currentPreferredFormat = preferredFormat || tinycolor(initialColor).format;\n\n                addColorToSelectionPalette(initialColor);\n            }\n            else {\n                updateUI();\n            }\n\n            if (flat) {\n                show();\n            }\n\n            function paletteElementClick(e) {\n                if (e.data && e.data.ignore) {\n                    set($(e.target).closest(".sp-thumb-el").data("color"));\n                    move();\n                }\n                else {\n                    set($(e.target).closest(".sp-thumb-el").data("color"));\n                    move();\n                    updateOriginalInput(true);\n                    hide();\n                }\n\n                return false;\n            }\n\n            var paletteEvent = IE ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";\n            paletteContainer.delegate(".sp-thumb-el", paletteEvent, paletteElementClick);\n            initialColorContainer.delegate(".sp-thumb-el:nth-child(1)", paletteEvent, { ignore: true }, paletteElementClick);\n        }\n\n        function updateSelectionPaletteFromStorage() {\n\n            if (localStorageKey && window.localStorage) {\n\n                // Migrate old palettes over to new format.  May want to remove this eventually.\n                try {\n                    var oldPalette = window.localStorage[localStorageKey].split(",#");\n                    if (oldPalette.length > 1) {\n                        delete window.localStorage[localStorageKey];\n                        $.each(oldPalette, function(i, c) {\n                             addColorToSelectionPalette(c);\n                        });\n                    }\n                }\n                catch(e) { }\n\n                try {\n                    selectionPalette = window.localStorage[localStorageKey].split(";");\n                }\n                catch (e) { }\n            }\n        }\n\n        function addColorToSelectionPalette(color) {\n            if (showSelectionPalette) {\n                var rgb = tinycolor(color).toRgbString();\n                if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\n                    selectionPalette.push(rgb);\n                    while(selectionPalette.length > maxSelectionSize) {\n                        selectionPalette.shift();\n                    }\n                }\n\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        window.localStorage[localStorageKey] = selectionPalette.join(";");\n                    }\n                    catch(e) { }\n                }\n            }\n        }\n\n        function getUniqueSelectionPalette() {\n            var unique = [];\n            if (opts.showPalette) {\n                for (var i = 0; i < selectionPalette.length; i++) {\n                    var rgb = tinycolor(selectionPalette[i]).toRgbString();\n\n                    if (!paletteLookup[rgb]) {\n                        unique.push(selectionPalette[i]);\n                    }\n                }\n            }\n\n            return unique.reverse().slice(0, opts.maxSelectionSize);\n        }\n\n        function drawPalette() {\n\n            var currentColor = get();\n\n            var html = $.map(paletteArray, function (palette, i) {\n                return paletteTemplate(palette, currentColor, "sp-palette-row sp-palette-row-" + i, opts);\n            });\n\n            updateSelectionPaletteFromStorage();\n\n            if (selectionPalette) {\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, "sp-palette-row sp-palette-row-selection", opts));\n            }\n\n            paletteContainer.html(html.join(""));\n        }\n\n        function drawInitial() {\n            if (opts.showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                initialColorContainer.html(paletteTemplate([initial, current], current, "sp-palette-row-initial", opts));\n            }\n        }\n\n        function dragStart() {\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                reflow();\n            }\n            container.addClass(draggingClass);\n            shiftMovementDirection = null;\n            boundElement.trigger(\'dragstart.spectrum\', [ get() ]);\n        }\n\n        function dragStop() {\n            container.removeClass(draggingClass);\n            boundElement.trigger(\'dragstop.spectrum\', [ get() ]);\n        }\n\n        function setFromTextInput() {\n\n            var value = textInput.val();\n\n            if ((value === null || value === "") && allowEmpty) {\n                set(null);\n                updateOriginalInput(true);\n            }\n            else {\n                var tiny = tinycolor(value);\n                if (tiny.isValid()) {\n                    set(tiny);\n                    updateOriginalInput(true);\n                }\n                else {\n                    textInput.addClass("sp-validation-error");\n                }\n            }\n        }\n\n        function toggle() {\n            if (visible) {\n                hide();\n            }\n            else {\n                show();\n            }\n        }\n\n        function show() {\n            var event = $.Event(\'beforeShow.spectrum\');\n\n            if (visible) {\n                reflow();\n                return;\n            }\n\n            boundElement.trigger(event, [ get() ]);\n\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                return;\n            }\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind("click.spectrum", hide);\n            $(window).bind("resize.spectrum", resize);\n            replacer.addClass("sp-active");\n            container.removeClass("sp-hidden");\n\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n\n            drawInitial();\n            callbacks.show(colorOnShow);\n            boundElement.trigger(\'show.spectrum\', [ colorOnShow ]);\n        }\n\n        function hide(e) {\n\n            // Return on right click\n            if (e && e.type == "click" && e.button == 2) { return; }\n\n            // Return if hiding is unnecessary\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind("click.spectrum", hide);\n            $(window).unbind("resize.spectrum", resize);\n\n            replacer.removeClass("sp-active");\n            container.addClass("sp-hidden");\n\n            var colorHasChanged = !tinycolor.equals(get(), colorOnShow);\n\n            if (colorHasChanged) {\n                if (clickoutFiresChange && e !== "cancel") {\n                    updateOriginalInput(true);\n                }\n                else {\n                    revert();\n                }\n            }\n\n            callbacks.hide(get());\n            boundElement.trigger(\'hide.spectrum\', [ get() ]);\n        }\n\n        function revert() {\n            set(colorOnShow, true);\n        }\n\n        function set(color, ignoreFormatChange) {\n            if (tinycolor.equals(color, get())) {\n                // Update UI just in case a validation error needs\n                // to be cleared.\n                updateUI();\n                return;\n            }\n\n            var newColor, newHsv;\n            if (!color && allowEmpty) {\n                isEmpty = true;\n            } else {\n                isEmpty = false;\n                newColor = tinycolor(color);\n                newHsv = newColor.toHsv();\n\n                currentHue = (newHsv.h % 360) / 360;\n                currentSaturation = newHsv.s;\n                currentValue = newHsv.v;\n                currentAlpha = newHsv.a;\n            }\n            updateUI();\n\n            if (newColor && newColor.isValid() && !ignoreFormatChange) {\n                currentPreferredFormat = preferredFormat || newColor.getFormat();\n            }\n        }\n\n        function get(opts) {\n            opts = opts || { };\n\n            if (allowEmpty && isEmpty) {\n                return null;\n            }\n\n            return tinycolor.fromRatio({\n                h: currentHue,\n                s: currentSaturation,\n                v: currentValue,\n                a: Math.round(currentAlpha * 100) / 100\n            }, { format: opts.format || currentPreferredFormat });\n        }\n\n        function isValid() {\n            return !textInput.hasClass("sp-validation-error");\n        }\n\n        function move() {\n            updateUI();\n\n            callbacks.move(get());\n            boundElement.trigger(\'move.spectrum\', [ get() ]);\n        }\n\n        function updateUI() {\n\n            textInput.removeClass("sp-validation-error");\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\n            dragger.css("background-color", flatColor.toHexString());\n\n            // Get a format that alpha will be included in (hex and names ignore alpha)\n            var format = currentPreferredFormat;\n            if (currentAlpha < 1 && !(currentAlpha === 0 && format === "name")) {\n                if (format === "hex" || format === "hex3" || format === "hex6" || format === "name") {\n                    format = "rgb";\n                }\n            }\n\n            var realColor = get({ format: format }),\n                displayColor = \'\';\n\n             //reset background info for preview element\n            previewElement.removeClass("sp-clear-display");\n            previewElement.css(\'background-color\', \'transparent\');\n\n            if (!realColor && allowEmpty) {\n                // Update the replaced elements background with icon indicating no color selection\n                previewElement.addClass("sp-clear-display");\n            }\n            else {\n                var realHex = realColor.toHexString(),\n                    realRgb = realColor.toRgbString();\n\n                // Update the replaced elements background color (with actual selected color)\n                if (rgbaSupport || realColor.alpha === 1) {\n                    previewElement.css("background-color", realRgb);\n                }\n                else {\n                    previewElement.css("background-color", "transparent");\n                    previewElement.css("filter", realColor.toFilter());\n                }\n\n                if (opts.showAlpha) {\n                    var rgb = realColor.toRgb();\n                    rgb.a = 0;\n                    var realAlpha = tinycolor(rgb).toRgbString();\n                    var gradient = "linear-gradient(left, " + realAlpha + ", " + realHex + ")";\n\n                    if (IE) {\n                        alphaSliderInner.css("filter", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                    }\n                    else {\n                        alphaSliderInner.css("background", "-webkit-" + gradient);\n                        alphaSliderInner.css("background", "-moz-" + gradient);\n                        alphaSliderInner.css("background", "-ms-" + gradient);\n                        // Use current syntax gradient on unprefixed property.\n                        alphaSliderInner.css("background",\n                            "linear-gradient(to right, " + realAlpha + ", " + realHex + ")");\n                    }\n                }\n\n                displayColor = realColor.toString(format);\n            }\n\n            // Update the text entry input as it changes happen\n            if (opts.showInput) {\n                textInput.val(displayColor);\n            }\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var s = currentSaturation;\n            var v = currentValue;\n\n            if(allowEmpty && isEmpty) {\n                //if selected color is empty, hide the helpers\n                alphaSlideHelper.hide();\n                slideHelper.hide();\n                dragHelper.hide();\n            }\n            else {\n                //make sure helpers are visible\n                alphaSlideHelper.show();\n                slideHelper.show();\n                dragHelper.show();\n\n                // Where to show the little circle in that displays your current selected color\n                var dragX = s * dragWidth;\n                var dragY = dragHeight - (v * dragHeight);\n                dragX = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n                );\n                dragY = Math.max(\n                    -dragHelperHeight,\n                    Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n                );\n                dragHelper.css({\n                    "top": dragY + "px",\n                    "left": dragX + "px"\n                });\n\n                var alphaX = currentAlpha * alphaWidth;\n                alphaSlideHelper.css({\n                    "left": (alphaX - (alphaSlideHelperWidth / 2)) + "px"\n                });\n\n                // Where to show the bar that displays your current selected hue\n                var slideY = (currentHue) * slideHeight;\n                slideHelper.css({\n                    "top": (slideY - slideHelperHeight) + "px"\n                });\n            }\n        }\n\n        function updateOriginalInput(fireCallback) {\n            var color = get(),\n                displayColor = \'\',\n                hasChanged = !tinycolor.equals(color, colorOnShow);\n\n            if (color) {\n                displayColor = color.toString(currentPreferredFormat);\n                // Update the selection palette with the current color\n                addColorToSelectionPalette(color);\n            }\n\n            if (isInput) {\n                boundElement.val(displayColor);\n            }\n\n            colorOnShow = color;\n\n            if (fireCallback && hasChanged) {\n                callbacks.change(color);\n                boundElement.trigger(\'change\', [ color ]);\n            }\n        }\n\n        function reflow() {\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHeight = slideHelper.height();\n            alphaWidth = alphaSlider.width();\n            alphaSlideHelperWidth = alphaSlideHelper.width();\n\n            if (!flat) {\n                container.css("position", "absolute");\n                container.offset(getOffset(container, offsetElement));\n            }\n\n            updateHelperLocations();\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            boundElement.trigger(\'reflow.spectrum\');\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind("click.spectrum touchstart.spectrum");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        function option(optionName, optionValue) {\n            if (optionName === undefined) {\n                return $.extend({}, opts);\n            }\n            if (optionValue === undefined) {\n                return opts[optionName];\n            }\n\n            opts[optionName] = optionValue;\n            applyOptions();\n        }\n\n        function enable() {\n            disabled = false;\n            boundElement.attr("disabled", false);\n            offsetElement.removeClass("sp-disabled");\n        }\n\n        function disable() {\n            hide();\n            disabled = true;\n            boundElement.attr("disabled", true);\n            offsetElement.addClass("sp-disabled");\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            toggle: toggle,\n            reflow: reflow,\n            option: option,\n            enable: enable,\n            disable: disable,\n            set: function (c) {\n                set(c);\n                updateOriginalInput();\n            },\n            get: get,\n            destroy: destroy,\n            container: container\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return spect;\n    }\n\n    /**\n    * checkOffset - get the offset below/above and left/right element depending on screen position\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n    */\n    function getOffset(picker, input) {\n        var extraY = 0;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputHeight = input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\n\n        return offset;\n    }\n\n    /**\n    * noop - do nothing\n    */\n    function noop() {\n\n    }\n\n    /**\n    * stopPropagation - makes the code only doing this a little easier to read in line\n    */\n    function stopPropagation(e) {\n        e.stopPropagation();\n    }\n\n    /**\n    * Create a function bound to a given object\n    * Thanks to underscore.js\n    */\n    function bind(func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function () {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        };\n    }\n\n    /**\n    * Lightweight drag helper.  Handles containment within the element, so that\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n    */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function () { };\n        onstart = onstart || function () { };\n        onstop = onstop || function () { };\n        var doc = element.ownerDocument || document;\n        var dragging = false;\n        var offset = {};\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var hasTouch = (\'ontouchstart\' in window);\n\n        var duringDragEvents = {};\n        duringDragEvents["selectstart"] = prevent;\n        duringDragEvents["dragstart"] = prevent;\n        duringDragEvents["touchmove mousemove"] = move;\n        duringDragEvents["touchend mouseup"] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && document.documentMode < 9 && !e.button) {\n                    return stop();\n                }\n\n                var touches = e.originalEvent.touches;\n                var pageX = touches ? touches[0].pageX : e.pageX;\n                var pageY = touches ? touches[0].pageY : e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY, e]);\n            }\n        }\n\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n            var touches = e.originalEvent.touches;\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n                    $(doc.body).addClass("sp-dragging");\n\n                    if (!hasTouch) {\n                        move(e);\n                    }\n\n                    prevent(e);\n                }\n            }\n        }\n\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                $(doc.body).removeClass("sp-dragging");\n                onstop.apply(element, arguments);\n            }\n            dragging = false;\n        }\n\n        $(element).bind("touchstart mousedown", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var throttler = function () {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n    /**\n    * Define a jQuery plugin\n    */\n    var dataID = "spectrum.id";\n    $.fn.spectrum = function (opts, extra) {\n\n        if (typeof opts == "string") {\n\n            var returnValue = this;\n            var args = Array.prototype.slice.call( arguments, 1 );\n\n            this.each(function () {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n                    var method = spect[opts];\n                    if (!method) {\n                        throw new Error( "Spectrum: no such method: \'" + opts + "\'" );\n                    }\n\n                    if (opts == "get") {\n                        returnValue = spect.get();\n                    }\n                    else if (opts == "container") {\n                        returnValue = spect.container;\n                    }\n                    else if (opts == "option") {\n                        returnValue = spect.option.apply(spect, args);\n                    }\n                    else if (opts == "destroy") {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                    else {\n                        method.apply(spect, args);\n                    }\n                }\n            });\n\n            return returnValue;\n        }\n\n        // Initializing a new instance of spectrum\n        return this.spectrum("destroy").each(function () {\n            var options = $.extend({}, opts, $(this).data());\n            var spect = spectrum(this, options);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = {};\n    $.fn.spectrum.draggable = draggable;\n    $.fn.spectrum.defaults = defaultOpts;\n\n    $.spectrum = { };\n    $.spectrum.localization = { };\n    $.spectrum.palettes = { };\n\n    $.fn.spectrum.processNativeColorInputs = function () {\n        if (!inputTypeColorSupport) {\n            $("input[type=color]").spectrum({\n                preferredFormat: "hex6"\n            });\n        }\n    };\n\n    // TinyColor v1.0.0\n    // https://github.com/bgrins/TinyColor\n    // Brian Grinstead, MIT License\n\n    (function() {\n\n    var trimLeft = /^[\\s,#]+/,\n        trimRight = /\\s+$/,\n        tinyCounter = 0,\n        math = Math,\n        mathRound = math.round,\n        mathMin = math.min,\n        mathMax = math.max,\n        mathRandom = math.random;\n\n    var tinycolor = function tinycolor (color, opts) {\n\n        color = (color) ? color : \'\';\n        opts = opts || { };\n\n        // If input is already a tinycolor, return itself\n        if (color instanceof tinycolor) {\n           return color;\n        }\n        // If we are called as a function, call using new instead\n        if (!(this instanceof tinycolor)) {\n            return new tinycolor(color, opts);\n        }\n\n        var rgb = inputToRGB(color);\n        this._r = rgb.r,\n        this._g = rgb.g,\n        this._b = rgb.b,\n        this._a = rgb.a,\n        this._roundA = mathRound(100*this._a) / 100,\n        this._format = opts.format || rgb.format;\n        this._gradientType = opts.gradientType;\n\n        // Don\'t let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this._r < 1) { this._r = mathRound(this._r); }\n        if (this._g < 1) { this._g = mathRound(this._g); }\n        if (this._b < 1) { this._b = mathRound(this._b); }\n\n        this._ok = rgb.ok;\n        this._tc_id = tinyCounter++;\n    };\n\n    tinycolor.prototype = {\n        isDark: function() {\n            return this.getBrightness() < 128;\n        },\n        isLight: function() {\n            return !this.isDark();\n        },\n        isValid: function() {\n            return this._ok;\n        },\n        getFormat: function() {\n            return this._format;\n        },\n        getAlpha: function() {\n            return this._a;\n        },\n        getBrightness: function() {\n            var rgb = this.toRgb();\n            return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n        },\n        setAlpha: function(value) {\n            this._a = boundAlpha(value);\n            this._roundA = mathRound(100*this._a) / 100;\n            return this;\n        },\n        toHsv: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n        },\n        toHsvString: function() {\n            var hsv = rgbToHsv(this._r, this._g, this._b);\n            var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n            return (this._a == 1) ?\n              "hsv("  + h + ", " + s + "%, " + v + "%)" :\n              "hsva(" + h + ", " + s + "%, " + v + "%, "+ this._roundA + ")";\n        },\n        toHsl: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n        },\n        toHslString: function() {\n            var hsl = rgbToHsl(this._r, this._g, this._b);\n            var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n            return (this._a == 1) ?\n              "hsl("  + h + ", " + s + "%, " + l + "%)" :\n              "hsla(" + h + ", " + s + "%, " + l + "%, "+ this._roundA + ")";\n        },\n        toHex: function(allow3Char) {\n            return rgbToHex(this._r, this._g, this._b, allow3Char);\n        },\n        toHexString: function(allow3Char) {\n            return \'#\' + this.toHex(allow3Char);\n        },\n        toHex8: function() {\n            return rgbaToHex(this._r, this._g, this._b, this._a);\n        },\n        toHex8String: function() {\n            return \'#\' + this.toHex8();\n        },\n        toRgb: function() {\n            return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n        },\n        toRgbString: function() {\n            return (this._a == 1) ?\n              "rgb("  + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ")" :\n              "rgba(" + mathRound(this._r) + ", " + mathRound(this._g) + ", " + mathRound(this._b) + ", " + this._roundA + ")";\n        },\n        toPercentageRgb: function() {\n            return { r: mathRound(bound01(this._r, 255) * 100) + "%", g: mathRound(bound01(this._g, 255) * 100) + "%", b: mathRound(bound01(this._b, 255) * 100) + "%", a: this._a };\n        },\n        toPercentageRgbString: function() {\n            return (this._a == 1) ?\n              "rgb("  + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%)" :\n              "rgba(" + mathRound(bound01(this._r, 255) * 100) + "%, " + mathRound(bound01(this._g, 255) * 100) + "%, " + mathRound(bound01(this._b, 255) * 100) + "%, " + this._roundA + ")";\n        },\n        toName: function() {\n            if (this._a === 0) {\n                return "transparent";\n            }\n\n            if (this._a < 1) {\n                return false;\n            }\n\n            return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n        },\n        toFilter: function(secondColor) {\n            var hex8String = \'#\' + rgbaToHex(this._r, this._g, this._b, this._a);\n            var secondHex8String = hex8String;\n            var gradientType = this._gradientType ? "GradientType = 1, " : "";\n\n            if (secondColor) {\n                var s = tinycolor(secondColor);\n                secondHex8String = s.toHex8String();\n            }\n\n            return "progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")";\n        },\n        toString: function(format) {\n            var formatSet = !!format;\n            format = format || this._format;\n\n            var formattedString = false;\n            var hasAlpha = this._a < 1 && this._a >= 0;\n            var needsAlphaFormat = !formatSet && hasAlpha && (format === "hex" || format === "hex6" || format === "hex3" || format === "name");\n\n            if (needsAlphaFormat) {\n                // Special case for "transparent", all other non-alpha formats\n                // will return rgba when there is transparency.\n                if (format === "name" && this._a === 0) {\n                    return this.toName();\n                }\n                return this.toRgbString();\n            }\n            if (format === "rgb") {\n                formattedString = this.toRgbString();\n            }\n            if (format === "prgb") {\n                formattedString = this.toPercentageRgbString();\n            }\n            if (format === "hex" || format === "hex6") {\n                formattedString = this.toHexString();\n            }\n            if (format === "hex3") {\n                formattedString = this.toHexString(true);\n            }\n            if (format === "hex8") {\n                formattedString = this.toHex8String();\n            }\n            if (format === "name") {\n                formattedString = this.toName();\n            }\n            if (format === "hsl") {\n                formattedString = this.toHslString();\n            }\n            if (format === "hsv") {\n                formattedString = this.toHsvString();\n            }\n\n            return formattedString || this.toHexString();\n        },\n\n        _applyModification: function(fn, args) {\n            var color = fn.apply(null, [this].concat([].slice.call(args)));\n            this._r = color._r;\n            this._g = color._g;\n            this._b = color._b;\n            this.setAlpha(color._a);\n            return this;\n        },\n        lighten: function() {\n            return this._applyModification(lighten, arguments);\n        },\n        brighten: function() {\n            return this._applyModification(brighten, arguments);\n        },\n        darken: function() {\n            return this._applyModification(darken, arguments);\n        },\n        desaturate: function() {\n            return this._applyModification(desaturate, arguments);\n        },\n        saturate: function() {\n            return this._applyModification(saturate, arguments);\n        },\n        greyscale: function() {\n            return this._applyModification(greyscale, arguments);\n        },\n        spin: function() {\n            return this._applyModification(spin, arguments);\n        },\n\n        _applyCombination: function(fn, args) {\n            return fn.apply(null, [this].concat([].slice.call(args)));\n        },\n        analogous: function() {\n            return this._applyCombination(analogous, arguments);\n        },\n        complement: function() {\n            return this._applyCombination(complement, arguments);\n        },\n        monochromatic: function() {\n            return this._applyCombination(monochromatic, arguments);\n        },\n        splitcomplement: function() {\n            return this._applyCombination(splitcomplement, arguments);\n        },\n        triad: function() {\n            return this._applyCombination(triad, arguments);\n        },\n        tetrad: function() {\n            return this._applyCombination(tetrad, arguments);\n        }\n    };\n\n    // If input is an object, force 1 into "1.0" to handle ratios properly\n    // String input requires "1.0" as input, so 1 will be treated as 1\n    tinycolor.fromRatio = function(color, opts) {\n        if (typeof color == "object") {\n            var newColor = {};\n            for (var i in color) {\n                if (color.hasOwnProperty(i)) {\n                    if (i === "a") {\n                        newColor[i] = color[i];\n                    }\n                    else {\n                        newColor[i] = convertToPercentage(color[i]);\n                    }\n                }\n            }\n            color = newColor;\n        }\n\n        return tinycolor(color, opts);\n    };\n\n    // Given a string or object, convert that input to RGB\n    // Possible string inputs:\n    //\n    //     "red"\n    //     "#f00" or "f00"\n    //     "#ff0000" or "ff0000"\n    //     "#ff000000" or "ff000000"\n    //     "rgb 255 0 0" or "rgb (255, 0, 0)"\n    //     "rgb 1.0 0 0" or "rgb (1, 0, 0)"\n    //     "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"\n    //     "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"\n    //     "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"\n    //     "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"\n    //     "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"\n    //\n    function inputToRGB(color) {\n\n        var rgb = { r: 0, g: 0, b: 0 };\n        var a = 1;\n        var ok = false;\n        var format = false;\n\n        if (typeof color == "string") {\n            color = stringInputToObject(color);\n        }\n\n        if (typeof color == "object") {\n            if (color.hasOwnProperty("r") && color.hasOwnProperty("g") && color.hasOwnProperty("b")) {\n                rgb = rgbToRgb(color.r, color.g, color.b);\n                ok = true;\n                format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";\n            }\n            else if (color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("v")) {\n                color.s = convertToPercentage(color.s);\n                color.v = convertToPercentage(color.v);\n                rgb = hsvToRgb(color.h, color.s, color.v);\n                ok = true;\n                format = "hsv";\n            }\n            else if (color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("l")) {\n                color.s = convertToPercentage(color.s);\n                color.l = convertToPercentage(color.l);\n                rgb = hslToRgb(color.h, color.s, color.l);\n                ok = true;\n                format = "hsl";\n            }\n\n            if (color.hasOwnProperty("a")) {\n                a = color.a;\n            }\n        }\n\n        a = boundAlpha(a);\n\n        return {\n            ok: ok,\n            format: color.format || format,\n            r: mathMin(255, mathMax(rgb.r, 0)),\n            g: mathMin(255, mathMax(rgb.g, 0)),\n            b: mathMin(255, mathMax(rgb.b, 0)),\n            a: a\n        };\n    }\n\n\n    // Conversion Functions\n    // --------------------\n\n    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n    // `rgbToRgb`\n    // Handle bounds / percentage checking to conform to CSS color spec\n    // <http://www.w3.org/TR/css3-color/>\n    // *Assumes:* r, g, b in [0, 255] or [0, 1]\n    // *Returns:* { r, g, b } in [0, 255]\n    function rgbToRgb(r, g, b){\n        return {\n            r: bound01(r, 255) * 255,\n            g: bound01(g, 255) * 255,\n            b: bound01(b, 255) * 255\n        };\n    }\n\n    // `rgbToHsl`\n    // Converts an RGB color value to HSL.\n    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n    // *Returns:* { h, s, l } in [0,1]\n    function rgbToHsl(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, l = (max + min) / 2;\n\n        if(max == min) {\n            h = s = 0; // achromatic\n        }\n        else {\n            var d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n\n            h /= 6;\n        }\n\n        return { h: h, s: s, l: l };\n    }\n\n    // `hslToRgb`\n    // Converts an HSL color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n    function hslToRgb(h, s, l) {\n        var r, g, b;\n\n        h = bound01(h, 360);\n        s = bound01(s, 100);\n        l = bound01(l, 100);\n\n        function hue2rgb(p, q, t) {\n            if(t < 0) t += 1;\n            if(t > 1) t -= 1;\n            if(t < 1/6) return p + (q - p) * 6 * t;\n            if(t < 1/2) return q;\n            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n            return p;\n        }\n\n        if(s === 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHsv`\n    // Converts an RGB color value to HSV\n    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n    // *Returns:* { h, s, v } in [0,1]\n    function rgbToHsv(r, g, b) {\n\n        r = bound01(r, 255);\n        g = bound01(g, 255);\n        b = bound01(b, 255);\n\n        var max = mathMax(r, g, b), min = mathMin(r, g, b);\n        var h, s, v = max;\n\n        var d = max - min;\n        s = max === 0 ? 0 : d / max;\n\n        if(max == min) {\n            h = 0; // achromatic\n        }\n        else {\n            switch(max) {\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n        return { h: h, s: s, v: v };\n    }\n\n    // `hsvToRgb`\n    // Converts an HSV color value to RGB.\n    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n    // *Returns:* { r, g, b } in the set [0, 255]\n     function hsvToRgb(h, s, v) {\n\n        h = bound01(h, 360) * 6;\n        s = bound01(s, 100);\n        v = bound01(v, 100);\n\n        var i = math.floor(h),\n            f = h - i,\n            p = v * (1 - s),\n            q = v * (1 - f * s),\n            t = v * (1 - (1 - f) * s),\n            mod = i % 6,\n            r = [v, q, p, p, t, v][mod],\n            g = [t, v, v, q, p, p][mod],\n            b = [p, p, t, v, v, q][mod];\n\n        return { r: r * 255, g: g * 255, b: b * 255 };\n    }\n\n    // `rgbToHex`\n    // Converts an RGB color to hex\n    // Assumes r, g, and b are contained in the set [0, 255]\n    // Returns a 3 or 6 character hex\n    function rgbToHex(r, g, b, allow3Char) {\n\n        var hex = [\n            pad2(mathRound(r).toString(16)),\n            pad2(mathRound(g).toString(16)),\n            pad2(mathRound(b).toString(16))\n        ];\n\n        // Return a 3 character hex if possible\n        if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n            return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n        }\n\n        return hex.join("");\n    }\n        // `rgbaToHex`\n        // Converts an RGBA color plus alpha transparency to hex\n        // Assumes r, g, b and a are contained in the set [0, 255]\n        // Returns an 8 character hex\n        function rgbaToHex(r, g, b, a) {\n\n            var hex = [\n                pad2(convertDecimalToHex(a)),\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            return hex.join("");\n        }\n\n    // `equals`\n    // Can be called with any tinycolor input\n    tinycolor.equals = function (color1, color2) {\n        if (!color1 || !color2) { return false; }\n        return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n    };\n    tinycolor.random = function() {\n        return tinycolor.fromRatio({\n            r: mathRandom(),\n            g: mathRandom(),\n            b: mathRandom()\n        });\n    };\n\n\n    // Modification Functions\n    // ----------------------\n    // Thanks to less.js for some of the basics here\n    // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n    function desaturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function saturate(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return tinycolor(hsl);\n    }\n\n    function greyscale(color) {\n        return tinycolor(color).desaturate(100);\n    }\n\n    function lighten (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    function brighten(color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var rgb = tinycolor(color).toRgb();\n        rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n        rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n        rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n        return tinycolor(rgb);\n    }\n\n    function darken (color, amount) {\n        amount = (amount === 0) ? 0 : (amount || 10);\n        var hsl = tinycolor(color).toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return tinycolor(hsl);\n    }\n\n    // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n    // Values outside of this range will be wrapped into this range.\n    function spin(color, amount) {\n        var hsl = tinycolor(color).toHsl();\n        var hue = (mathRound(hsl.h) + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return tinycolor(hsl);\n    }\n\n    // Combination Functions\n    // ---------------------\n    // Thanks to jQuery xColor for some of the ideas behind these\n    // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n    function complement(color) {\n        var hsl = tinycolor(color).toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return tinycolor(hsl);\n    }\n\n    function triad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function tetrad(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n            tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n        ];\n    }\n\n    function splitcomplement(color) {\n        var hsl = tinycolor(color).toHsl();\n        var h = hsl.h;\n        return [\n            tinycolor(color),\n            tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n            tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n        ];\n    }\n\n    function analogous(color, results, slices) {\n        results = results || 6;\n        slices = slices || 30;\n\n        var hsl = tinycolor(color).toHsl();\n        var part = 360 / slices;\n        var ret = [tinycolor(color)];\n\n        for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(tinycolor(hsl));\n        }\n        return ret;\n    }\n\n    function monochromatic(color, results) {\n        results = results || 6;\n        var hsv = tinycolor(color).toHsv();\n        var h = hsv.h, s = hsv.s, v = hsv.v;\n        var ret = [];\n        var modification = 1 / results;\n\n        while (results--) {\n            ret.push(tinycolor({ h: h, s: s, v: v}));\n            v = (v + modification) % 1;\n        }\n\n        return ret;\n    }\n\n    // Utility Functions\n    // ---------------------\n\n    tinycolor.mix = function(color1, color2, amount) {\n        amount = (amount === 0) ? 0 : (amount || 50);\n\n        var rgb1 = tinycolor(color1).toRgb();\n        var rgb2 = tinycolor(color2).toRgb();\n\n        var p = amount / 100;\n        var w = p * 2 - 1;\n        var a = rgb2.a - rgb1.a;\n\n        var w1;\n\n        if (w * a == -1) {\n            w1 = w;\n        } else {\n            w1 = (w + a) / (1 + w * a);\n        }\n\n        w1 = (w1 + 1) / 2;\n\n        var w2 = 1 - w1;\n\n        var rgba = {\n            r: rgb2.r * w1 + rgb1.r * w2,\n            g: rgb2.g * w1 + rgb1.g * w2,\n            b: rgb2.b * w1 + rgb1.b * w2,\n            a: rgb2.a * p  + rgb1.a * (1 - p)\n        };\n\n        return tinycolor(rgba);\n    };\n\n\n    // Readability Functions\n    // ---------------------\n    // <http://www.w3.org/TR/AERT#color-contrast>\n\n    // `readability`\n    // Analyze the 2 colors and returns an object with the following properties:\n    //    `brightness`: difference in brightness between the two colors\n    //    `color`: difference in color/hue between the two colors\n    tinycolor.readability = function(color1, color2) {\n        var c1 = tinycolor(color1);\n        var c2 = tinycolor(color2);\n        var rgb1 = c1.toRgb();\n        var rgb2 = c2.toRgb();\n        var brightnessA = c1.getBrightness();\n        var brightnessB = c2.getBrightness();\n        var colorDiff = (\n            Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) +\n            Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) +\n            Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b)\n        );\n\n        return {\n            brightness: Math.abs(brightnessA - brightnessB),\n            color: colorDiff\n        };\n    };\n\n    // `readable`\n    // http://www.w3.org/TR/AERT#color-contrast\n    // Ensure that foreground and background color combinations provide sufficient contrast.\n    // *Example*\n    //    tinycolor.isReadable("#000", "#111") => false\n    tinycolor.isReadable = function(color1, color2) {\n        var readability = tinycolor.readability(color1, color2);\n        return readability.brightness > 125 && readability.color > 500;\n    };\n\n    // `mostReadable`\n    // Given a base color and a list of possible foreground or background\n    // colors for that base, returns the most readable color.\n    // *Example*\n    //    tinycolor.mostReadable("#123", ["#fff", "#000"]) => "#000"\n    tinycolor.mostReadable = function(baseColor, colorList) {\n        var bestColor = null;\n        var bestScore = 0;\n        var bestIsReadable = false;\n        for (var i=0; i < colorList.length; i++) {\n\n            // We normalize both around the "acceptable" breaking point,\n            // but rank brightness constrast higher than hue.\n\n            var readability = tinycolor.readability(baseColor, colorList[i]);\n            var readable = readability.brightness > 125 && readability.color > 500;\n            var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n            if ((readable && ! bestIsReadable) ||\n                (readable && bestIsReadable && score > bestScore) ||\n                ((! readable) && (! bestIsReadable) && score > bestScore)) {\n                bestIsReadable = readable;\n                bestScore = score;\n                bestColor = tinycolor(colorList[i]);\n            }\n        }\n        return bestColor;\n    };\n\n\n    // Big List of Colors\n    // ------------------\n    // <http://www.w3.org/TR/css3-color/#svg-color>\n    var names = tinycolor.names = {\n        aliceblue: "f0f8ff",\n        antiquewhite: "faebd7",\n        aqua: "0ff",\n        aquamarine: "7fffd4",\n        azure: "f0ffff",\n        beige: "f5f5dc",\n        bisque: "ffe4c4",\n        black: "000",\n        blanchedalmond: "ffebcd",\n        blue: "00f",\n        blueviolet: "8a2be2",\n        brown: "a52a2a",\n        burlywood: "deb887",\n        burntsienna: "ea7e5d",\n        cadetblue: "5f9ea0",\n        chartreuse: "7fff00",\n        chocolate: "d2691e",\n        coral: "ff7f50",\n        cornflowerblue: "6495ed",\n        cornsilk: "fff8dc",\n        crimson: "dc143c",\n        cyan: "0ff",\n        darkblue: "00008b",\n        darkcyan: "008b8b",\n        darkgoldenrod: "b8860b",\n        darkgray: "a9a9a9",\n        darkgreen: "006400",\n        darkgrey: "a9a9a9",\n        darkkhaki: "bdb76b",\n        darkmagenta: "8b008b",\n        darkolivegreen: "556b2f",\n        darkorange: "ff8c00",\n        darkorchid: "9932cc",\n        darkred: "8b0000",\n        darksalmon: "e9967a",\n        darkseagreen: "8fbc8f",\n        darkslateblue: "483d8b",\n        darkslategray: "2f4f4f",\n        darkslategrey: "2f4f4f",\n        darkturquoise: "00ced1",\n        darkviolet: "9400d3",\n        deeppink: "ff1493",\n        deepskyblue: "00bfff",\n        dimgray: "696969",\n        dimgrey: "696969",\n        dodgerblue: "1e90ff",\n        firebrick: "b22222",\n        floralwhite: "fffaf0",\n        forestgreen: "228b22",\n        fuchsia: "f0f",\n        gainsboro: "dcdcdc",\n        ghostwhite: "f8f8ff",\n        gold: "ffd700",\n        goldenrod: "daa520",\n        gray: "808080",\n        green: "008000",\n        greenyellow: "adff2f",\n        grey: "808080",\n        honeydew: "f0fff0",\n        hotpink: "ff69b4",\n        indianred: "cd5c5c",\n        indigo: "4b0082",\n        ivory: "fffff0",\n        khaki: "f0e68c",\n        lavender: "e6e6fa",\n        lavenderblush: "fff0f5",\n        lawngreen: "7cfc00",\n        lemonchiffon: "fffacd",\n        lightblue: "add8e6",\n        lightcoral: "f08080",\n        lightcyan: "e0ffff",\n        lightgoldenrodyellow: "fafad2",\n        lightgray: "d3d3d3",\n        lightgreen: "90ee90",\n        lightgrey: "d3d3d3",\n        lightpink: "ffb6c1",\n        lightsalmon: "ffa07a",\n        lightseagreen: "20b2aa",\n        lightskyblue: "87cefa",\n        lightslategray: "789",\n        lightslategrey: "789",\n        lightsteelblue: "b0c4de",\n        lightyellow: "ffffe0",\n        lime: "0f0",\n        limegreen: "32cd32",\n        linen: "faf0e6",\n        magenta: "f0f",\n        maroon: "800000",\n        mediumaquamarine: "66cdaa",\n        mediumblue: "0000cd",\n        mediumorchid: "ba55d3",\n        mediumpurple: "9370db",\n        mediumseagreen: "3cb371",\n        mediumslateblue: "7b68ee",\n        mediumspringgreen: "00fa9a",\n        mediumturquoise: "48d1cc",\n        mediumvioletred: "c71585",\n        midnightblue: "191970",\n        mintcream: "f5fffa",\n        mistyrose: "ffe4e1",\n        moccasin: "ffe4b5",\n        navajowhite: "ffdead",\n        navy: "000080",\n        oldlace: "fdf5e6",\n        olive: "808000",\n        olivedrab: "6b8e23",\n        orange: "ffa500",\n        orangered: "ff4500",\n        orchid: "da70d6",\n        palegoldenrod: "eee8aa",\n        palegreen: "98fb98",\n        paleturquoise: "afeeee",\n        palevioletred: "db7093",\n        papayawhip: "ffefd5",\n        peachpuff: "ffdab9",\n        peru: "cd853f",\n        pink: "ffc0cb",\n        plum: "dda0dd",\n        powderblue: "b0e0e6",\n        purple: "800080",\n        red: "f00",\n        rosybrown: "bc8f8f",\n        royalblue: "4169e1",\n        saddlebrown: "8b4513",\n        salmon: "fa8072",\n        sandybrown: "f4a460",\n        seagreen: "2e8b57",\n        seashell: "fff5ee",\n        sienna: "a0522d",\n        silver: "c0c0c0",\n        skyblue: "87ceeb",\n        slateblue: "6a5acd",\n        slategray: "708090",\n        slategrey: "708090",\n        snow: "fffafa",\n        springgreen: "00ff7f",\n        steelblue: "4682b4",\n        tan: "d2b48c",\n        teal: "008080",\n        thistle: "d8bfd8",\n        tomato: "ff6347",\n        turquoise: "40e0d0",\n        violet: "ee82ee",\n        wheat: "f5deb3",\n        white: "fff",\n        whitesmoke: "f5f5f5",\n        yellow: "ff0",\n        yellowgreen: "9acd32"\n    };\n\n    // Make it easy to access colors via `hexNames[hex]`\n    var hexNames = tinycolor.hexNames = flip(names);\n\n\n    // Utilities\n    // ---------\n\n    // `{ \'name1\': \'val1\' }` becomes `{ \'val1\': \'name1\' }`\n    function flip(o) {\n        var flipped = { };\n        for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n                flipped[o[i]] = i;\n            }\n        }\n        return flipped;\n    }\n\n    // Return a valid alpha value [0,1] with all invalid values being set to 1\n    function boundAlpha(a) {\n        a = parseFloat(a);\n\n        if (isNaN(a) || a < 0 || a > 1) {\n            a = 1;\n        }\n\n        return a;\n    }\n\n    // Take input from [0, n] and return it as [0, 1]\n    function bound01(n, max) {\n        if (isOnePointZero(n)) { n = "100%"; }\n\n        var processPercent = isPercentage(n);\n        n = mathMin(max, mathMax(0, parseFloat(n)));\n\n        // Automatically convert percentage into number\n        if (processPercent) {\n            n = parseInt(n * max, 10) / 100;\n        }\n\n        // Handle floating point rounding errors\n        if ((math.abs(n - max) < 0.000001)) {\n            return 1;\n        }\n\n        // Convert into [0, 1] range if it isn\'t already\n        return (n % max) / parseFloat(max);\n    }\n\n    // Force a number between 0 and 1\n    function clamp01(val) {\n        return mathMin(1, mathMax(0, val));\n    }\n\n    // Parse a base-16 hex value into a base-10 integer\n    function parseIntFromHex(val) {\n        return parseInt(val, 16);\n    }\n\n    // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n    // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n    function isOnePointZero(n) {\n        return typeof n == "string" && n.indexOf(\'.\') != -1 && parseFloat(n) === 1;\n    }\n\n    // Check to see if string passed in is a percentage\n    function isPercentage(n) {\n        return typeof n === "string" && n.indexOf(\'%\') != -1;\n    }\n\n    // Force a hex value to have 2 characters\n    function pad2(c) {\n        return c.length == 1 ? \'0\' + c : \'\' + c;\n    }\n\n    // Replace a decimal with it\'s percentage value\n    function convertToPercentage(n) {\n        if (n <= 1) {\n            n = (n * 100) + "%";\n        }\n\n        return n;\n    }\n\n    // Converts a decimal to a hex value\n    function convertDecimalToHex(d) {\n        return Math.round(parseFloat(d) * 255).toString(16);\n    }\n    // Converts a hex value to a decimal\n    function convertHexToDecimal(h) {\n        return (parseIntFromHex(h) / 255);\n    }\n\n    var matchers = (function() {\n\n        // <http://www.w3.org/TR/css3-values/#integers>\n        var CSS_INTEGER = "[-\\\\+]?\\\\d+%?";\n\n        // <http://www.w3.org/TR/css3-values/#number-value>\n        var CSS_NUMBER = "[-\\\\+]?\\\\d*\\\\.\\\\d+%?";\n\n        // Allow positive/negative integer/number.  Don\'t capture the either/or, just the entire outcome.\n        var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";\n\n        // Actual matching.\n        // Parentheses and commas are optional, but not required.\n        // Whitespace can take the place of commas or opening paren\n        var PERMISSIVE_MATCH3 = "[\\\\s|\\\\(]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")\\\\s*\\\\)?";\n        var PERMISSIVE_MATCH4 = "[\\\\s|\\\\(]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")\\\\s*\\\\)?";\n\n        return {\n            rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),\n            rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),\n            hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),\n            hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),\n            hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),\n            hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n            hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n            hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n        };\n    })();\n\n    // `stringInputToObject`\n    // Permissive string parsing.  Take in a number of formats, and output an object\n    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n    function stringInputToObject(color) {\n\n        color = color.replace(trimLeft,\'\').replace(trimRight, \'\').toLowerCase();\n        var named = false;\n        if (names[color]) {\n            color = names[color];\n            named = true;\n        }\n        else if (color == \'transparent\') {\n            return { r: 0, g: 0, b: 0, a: 0, format: "name" };\n        }\n\n        // Try to match string input using regular expressions.\n        // Keep most of the number bounding out of this function - don\'t worry about [0,1] or [0,100] or [0,360]\n        // Just return an object and let the conversion functions handle that.\n        // This way the result will be the same whether the tinycolor is initialized with string or object.\n        var match;\n        if ((match = matchers.rgb.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3] };\n        }\n        if ((match = matchers.rgba.exec(color))) {\n            return { r: match[1], g: match[2], b: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsl.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3] };\n        }\n        if ((match = matchers.hsla.exec(color))) {\n            return { h: match[1], s: match[2], l: match[3], a: match[4] };\n        }\n        if ((match = matchers.hsv.exec(color))) {\n            return { h: match[1], s: match[2], v: match[3] };\n        }\n        if ((match = matchers.hex8.exec(color))) {\n            return {\n                a: convertHexToDecimal(match[1]),\n                r: parseIntFromHex(match[2]),\n                g: parseIntFromHex(match[3]),\n                b: parseIntFromHex(match[4]),\n                format: named ? "name" : "hex8"\n            };\n        }\n        if ((match = matchers.hex6.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1]),\n                g: parseIntFromHex(match[2]),\n                b: parseIntFromHex(match[3]),\n                format: named ? "name" : "hex"\n            };\n        }\n        if ((match = matchers.hex3.exec(color))) {\n            return {\n                r: parseIntFromHex(match[1] + \'\' + match[1]),\n                g: parseIntFromHex(match[2] + \'\' + match[2]),\n                b: parseIntFromHex(match[3] + \'\' + match[3]),\n                format: named ? "name" : "hex"\n            };\n        }\n\n        return false;\n    }\n\n    window.tinycolor = tinycolor;\n    })();\n\n\n    $(function () {\n        if ($.fn.spectrum.load) {\n            $.fn.spectrum.processNativeColorInputs();\n        }\n    });\n\n})(window, jQuery);\n'},function(e,t,n){n(6)(n(283))},function(e,t){e.exports="(function($){\n\t// Add support scrolling of page durign drag and drop (DnD)\n\t// when not supported by the browser. Smart enough to detect\n\t// scroll support on the fly.\n\t// Adds invisible scroll areas top and bottom the viewport.\n\t// When a dragged element enters either area, will scroll if\n\t// the browser isn't scrolling automatically.\n\t$.fn.dndPageScroll = function(options) {\n\t\toptions || (options = {});\n\t\tvar defaults = {\n\t\t\ttopId: 'top_scroll_page',\n\t\t\tbottomId: 'bottom_scroll_page',\n\t\t\tdelay: 50,\n\t\t\theight: 50\n\t\t};\n\t\tvar options = $.extend(defaults, options);\n\t\t\n\t\tvar top_el = $('#'+options.topId);\n\t\tif (!top_el.length)\n\t\t\ttop_el = $('<div id=\"top_scroll_page\">&nbsp;</div>').appendTo('body');\n\t\t\n\t\tvar bottom_el = $('#'+options.bottomId);\n\t\tif (!bottom_el.length)\n\t\t\tbottom_el = $('<div id=\"bottom_scroll_page\">&nbsp;</div>').appendTo('body');\n\t\t\t\n\t\tvar both_el = $('#top_scroll_page, #bottom_scroll_page');\n\t\tboth_el.hide();\n\t\tboth_el.css({\n\t\t\t//backgroundColor: '#FFE698', \n\t\t\tposition:'fixed', left: 0, right: 0,\n\t\t\theight: options.height, zIndex: 999\n\t\t});\n\t\ttop_el.css({top:0});\n\t\tbottom_el.css({bottom:0});\n\t\t\t\n\t\t// When DnD occurs over a scroll area - scroll the page!\n\t\tvar lastTop;\n\t\tvar lastBottom;\n\t\tboth_el.on('dragenter', function(e) {\n\t\t\tvar direction = ($(this).attr('id')==options.topId)?'up':'down';\n\t\t\t//console.log('dragenter '+direction);\n\t\t\treturn true;\n\t\t});\n\t\tboth_el.on('dragover', function(e) {\n\t\t\t// Wait a little while before doing stuff here again\n\t\t\tif ($('html,body').is(':animated')) return true;\n\t\t\t\n\t\t\tvar scrollTop = $(window).scrollTop();\n\t\t\tvar direction = ($(this).attr('id')==options.topId)?-1:1;\n\t\t\tvar last = (direction==-1)?lastTop:lastBottom;\n\t\t\tvar current = (direction==-1)?scrollTop:$(document).height()-(scrollTop+$(window).height());\n\t\t\t//console.log('dragover '+direction+' last='+last+' current='+current);\n\t\t\t\n\t\t\tif (last != undefined && last == current && current > 0) {\n\t\t\t\tvar newScrollTop = scrollTop+direction*50;\n\t\t\t\t//console.log('scrolling '+newScrollTop);\n\t\t\t\t$('html,body').animate(\n\t\t\t\t\t{scrollTop: newScrollTop},\n\t\t\t\t\toptions.delay,\n\t\t\t\t\t'linear'\n\t\t\t\t);\n\t\t\t}\n\t\t\t\n\t\t\tif (direction == -1) lastTop = current; else lastBottom = current;\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\t// Function to hide the scroll areas. Reset everything.\n\t\tvar _hide = function(e) {\n\t\t\tboth_el.hide();\n\t\t\ttimestamp = undefined;\n\t\t\tscrolltop = 0;\n\t\t\tscrollbottom = 0;\n\t\t\treturn true;\n\t\t};\n\t\t\n\t\t// When a DND drag event starts, show the scroll areas\n\t\t$(document).on('dragstart', function(e) {\n\t\t\tboth_el.show();\n\t\t\treturn true;\n\t\t});\n\t\t// When DND ends, hide it.\n\t\t$(document).on('dragend', _hide);\n\t\t// In IE dragend does not always get triggered.\n\t\t// Workaround by hiding areas when the mouse enters one.\n\t\tboth_el.on('mouseover', _hide);\n\t\t\n\t};\n})(jQuery);"},function(e,t,n){n(6)(n(285))},function(e,t){e.exports="/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = function( root, jQuery ) {\n            if ( jQuery === undefined ) {\n                // require('jQuery') returns a factory that requires window to\n                // build a jQuery instance, we normalize how we use modules\n                // that require this pattern but the window provided is a noop\n                // if it's defined (how jquery works)\n                if ( typeof window !== 'undefined' ) {\n                    jQuery = require('jquery');\n                }\n                else {\n                    jQuery = require('jquery')(root);\n                }\n            }\n            return factory(jQuery);\n        };\n    } else {\n        // Browser globals\n        factory(window.jQuery);\n    }\n}(function ($) {\n\n  /*jslint browser: true, debug: true, vars: true, devel: true, expr: true, jQuery: true */\n\n  // EDITABLE CLASS DEFINITION\n  // =========================\n\n  \n\n  var FE = function (element, options) {\n    this.id = ++$.FE.ID;\n\n    this.opts = $.extend(true, {}, $.extend({}, FE.DEFAULTS, typeof options == 'object' && options));\n    var opts_string = JSON.stringify(this.opts);\n\n    $.FE.OPTS_MAPPING[opts_string] = $.FE.OPTS_MAPPING[opts_string] || this.id;\n    this.sid = $.FE.OPTS_MAPPING[opts_string];\n    $.FE.SHARED[this.sid] = $.FE.SHARED[this.sid] || {};\n    this.shared = $.FE.SHARED[this.sid];\n    this.shared.count = (this.shared.count || 0) + 1;\n\n    this.$oel = $(element);\n    this.$oel.data('froala.editor', this);\n\n    this.o_doc = element.ownerDocument;\n    this.o_win = 'defaultView' in this.o_doc ? this.o_doc.defaultView : this.o_doc.parentWindow;\n    var c_scroll = $(this.o_win).scrollTop();\n\n    this.$oel.on('froala.doInit', $.proxy(function () {\n      this.$oel.off('froala.doInit');\n      this.doc = this.$el.get(0).ownerDocument;\n      this.win = 'defaultView' in this.doc ? this.doc.defaultView : this.doc.parentWindow;\n      this.$doc = $(this.doc);\n      this.$win = $(this.win);\n\n      if (!this.opts.pluginsEnabled) this.opts.pluginsEnabled = Object.keys($.FE.PLUGINS);\n\n      if (this.opts.initOnClick) {\n        this.load($.FE.MODULES);\n\n        // https://github.com/froala/wysiwyg-editor/issues/1207.\n        this.$el.on('touchstart.init', function () {\n          $(this).data('touched', true);\n        });\n\n        this.$el.on('touchmove.init', function () {\n          $(this).removeData('touched');\n        })\n\n        this.$el.on('mousedown.init touchend.init dragenter.init focus.init', $.proxy(function (e) {\n          if (e.type == 'touchend' && !this.$el.data('touched')) {\n            return true;\n          }\n\n          if (e.which === 1 || !e.which) {\n            this.$el.off('mousedown.init touchstart.init touchmove.init touchend.init dragenter.init focus.init');\n\n            this.load($.FE.MODULES);\n            this.load($.FE.PLUGINS);\n\n            var target = e.originalEvent && e.originalEvent.originalTarget;\n\n            if (target && target.tagName == 'IMG') $(target).trigger('mousedown');\n\n            if (typeof this.ul == 'undefined') this.destroy();\n\n            if (e.type == 'touchend' && this.image && e.originalEvent && e.originalEvent.target && $(e.originalEvent.target).is('img')) {\n              setTimeout($.proxy(function () {\n                this.image.edit($(e.originalEvent.target));\n              }, this), 100);\n            }\n\n            this.ready = true;\n            this.events.trigger('initialized');\n          }\n        }, this));\n\n        this.events.trigger('initializationDelayed');\n      }\n      else {\n        this.load($.FE.MODULES);\n        this.load($.FE.PLUGINS);\n\n        $(this.o_win).scrollTop(c_scroll);\n\n        if (typeof this.ul == 'undefined') this.destroy();\n\n        this.ready = true;\n        this.events.trigger('initialized');\n      }\n    }, this));\n\n    this._init();\n  };\n\n  FE.DEFAULTS = {\n    initOnClick: false,\n    pluginsEnabled: null\n  };\n\n  FE.MODULES = {};\n\n  FE.PLUGINS = {};\n\n  FE.VERSION = '2.8.1';\n\n  FE.INSTANCES = [];\n\n  FE.OPTS_MAPPING = {};\n\n  FE.SHARED = {};\n\n  FE.ID = 0;\n\n  FE.prototype._init = function () {\n\n    // Get the tag name of the original element.\n    var tag_name = this.$oel.prop('tagName');\n\n    if (this.$oel.closest('label').length >= 1) {\n      console.warn('Note! It is not recommended to initialize the Froala Editor within a label tag.');\n    }\n\n    // Initialize on anything else.\n    var initOnDefault = $.proxy(function () {\n      if (tag_name != 'TEXTAREA') {\n        this._original_html = (this._original_html || this.$oel.html());\n      }\n\n      this.$box = this.$box || this.$oel;\n\n      // Turn on iframe if fullPage is on.\n      if (this.opts.fullPage) this.opts.iframe = true;\n\n      if (!this.opts.iframe) {\n        this.$el = $('<div></div>');\n        this.el = this.$el.get(0);\n        this.$wp = $('<div></div>').append(this.$el);\n        this.$box.html(this.$wp);\n        this.$oel.trigger('froala.doInit');\n      }\n      else {\n        this.$iframe = $('<iframe src=\"about:blank\" frameBorder=\"0\">');\n        this.$wp = $('<div></div>');\n        this.$box.html(this.$wp);\n        this.$wp.append(this.$iframe);\n        this.$iframe.get(0).contentWindow.document.open();\n        this.$iframe.get(0).contentWindow.document.write('<!DOCTYPE html>');\n        this.$iframe.get(0).contentWindow.document.write('<html><head></head><body></body></html>');\n        this.$iframe.get(0).contentWindow.document.close();\n\n        this.$el = this.$iframe.contents().find('body');\n        this.el = this.$el.get(0);\n        this.$head = this.$iframe.contents().find('head');\n        this.$html = this.$iframe.contents().find('html');\n        this.iframe_document = this.$iframe.get(0).contentWindow.document;\n\n        this.$oel.trigger('froala.doInit');\n      }\n    }, this);\n\n    // Initialize on a TEXTAREA.\n    var initOnTextarea = $.proxy(function () {\n      this.$box = $('<div>');\n      this.$oel.before(this.$box).hide();\n\n      this._original_html = this.$oel.val();\n\n      // Before submit textarea do a sync.\n      this.$oel.parents('form').on('submit.' + this.id, $.proxy(function () {\n        this.events.trigger('form.submit');\n      }, this));\n\n      this.$oel.parents('form').on('reset.' + this.id, $.proxy(function () {\n        this.events.trigger('form.reset');\n      }, this));\n\n      initOnDefault();\n    }, this);\n\n    // Initialize on a Link.\n    var initOnA = $.proxy(function () {\n      this.$el = this.$oel;\n      this.el = this.$el.get(0);\n      this.$el.attr('contenteditable', true).css('outline', 'none').css('display', 'inline-block');\n      this.opts.multiLine = false;\n      this.opts.toolbarInline = false;\n\n      this.$oel.trigger('froala.doInit');\n    }, this)\n\n    // Initialize on an Image.\n    var initOnImg = $.proxy(function () {\n      this.$el = this.$oel;\n      this.el = this.$el.get(0);\n      this.opts.toolbarInline = false;\n\n      this.$oel.trigger('froala.doInit');\n    }, this)\n\n    var editInPopup = $.proxy(function () {\n      this.$el = this.$oel;\n      this.el = this.$el.get(0);\n      this.opts.toolbarInline = false;\n\n      this.$oel.on('click.popup', function (e) {\n        e.preventDefault();\n      })\n      this.$oel.trigger('froala.doInit');\n    }, this)\n\n    // Check on what element it was initialized.\n    if (this.opts.editInPopup) editInPopup();\n    else if (tag_name == 'TEXTAREA') initOnTextarea();\n    else if (tag_name == 'A') initOnA();\n    else if (tag_name == 'IMG') initOnImg();\n    else if (tag_name == 'BUTTON' || tag_name == 'INPUT') {\n      this.opts.editInPopup = true;\n      this.opts.toolbarInline = false;\n      editInPopup();\n    }\n    else {\n      initOnDefault();\n    }\n  }\n\n  FE.prototype.load = function (module_list) {\n\n    // Bind modules to the current instance and tear them up.\n    for (var m_name in module_list) {\n      if (module_list.hasOwnProperty(m_name)) {\n        if (this[m_name]) continue;\n\n        // Do not include plugin.\n        if ($.FE.PLUGINS[m_name] && this.opts.pluginsEnabled.indexOf(m_name) < 0) continue;\n\n        this[m_name] = new module_list[m_name](this);\n\n        if (this[m_name]._init) {\n          this[m_name]._init();\n\n          if (this.opts.initOnClick && m_name == 'core') {\n\n            return false;\n          }\n        }\n      }\n    }\n  }\n\n  // Do destroy.\n  FE.prototype.destroy = function () {\n    this.shared.count--;\n\n    this.events.$off();\n\n    // HTML.\n    var html = this.html.get();\n\n    // Focus main frame.\n    if (this.opts.iframe) {\n      this.events.disableBlur()\n      this.win.focus();\n      this.events.enableBlur()\n    }\n\n    this.events.trigger('destroy', [], true);\n    this.events.trigger('shared.destroy', undefined, true);\n\n    // Remove shared.\n    if (this.shared.count === 0) {\n      for (var k in this.shared) {\n        if (this.shared.hasOwnProperty(k)) {\n          this.shared[k] == null;\n          $.FE.SHARED[this.sid][k] = null;\n        }\n      }\n\n      delete $.FE.SHARED[this.sid];\n    }\n\n    this.$oel.parents('form').off('.' + this.id);\n    this.$oel.off('click.popup');\n    this.$oel.removeData('froala.editor');\n\n    this.$oel.off('froalaEditor');\n\n    // Destroy editor basic elements.\n    this.core.destroy(html);\n\n    $.FE.INSTANCES.splice($.FE.INSTANCES.indexOf(this), 1);\n  }\n\n  // FROALA EDITOR PLUGIN DEFINITION\n  // ==========================\n  $.fn.froalaEditor = function (option) {\n    var arg_list = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      arg_list.push(arguments[i]);\n    }\n\n    if (typeof option == 'string') {\n      var returns = [];\n\n      this.each(function () {\n        var $this = $(this);\n        var editor = $this.data('froala.editor');\n\n        if (!editor) {\n\n          return console.warn('Editor should be initialized before calling the ' + option + ' method.');\n        }\n\n        var context;\n        var nm;\n\n        // Might do a module call.\n        if (option.indexOf('.') > 0 && editor[option.split('.')[0]]) {\n          if (editor[option.split('.')[0]]) {\n            context = editor[option.split('.')[0]];\n          }\n          nm = option.split('.')[1];\n        }\n        else {\n          context = editor;\n          nm = option.split('.')[0]\n        }\n\n        if (context[nm]) {\n          var returned_value = context[nm].apply(editor, arg_list.slice(1));\n\n          if (returned_value === undefined) {\n            returns.push(this);\n          }\n          else if (returns.length === 0) {\n            returns.push(returned_value);\n          }\n        }\n        else {\n\n          return $.error('Method ' + option + ' does not exist in Froala Editor.');\n        }\n      });\n\n      return (returns.length == 1) ? returns[0] : returns;\n    }\n    else if (typeof option === 'object' || !option) {\n\n      return this.each(function () {\n        var editor = $(this).data('froala.editor');\n\n        if (!editor) {\n          var that = this;\n          new FE(that, option);\n        }\n      });\n    }\n  }\n\n  $.fn.froalaEditor.Constructor = FE;\n  $.FroalaEditor = FE;\n  $.FE = FE;\n\n\n  $.FE.XS = 0;\n  $.FE.SM = 1;\n  $.FE.MD = 2;\n  $.FE.LG = 3;\n\n  // Chars to allow.\n  var x = 'a-z\\\\u0080-\\\\u009f\\\\u00a1-\\\\uffff0-9-_\\.';\n\n  // Common regex to avoid double chars.\n  $.FE.LinkRegExCommon = '[' + x + ']{1,}';\n\n  // PORT:something_else.php\n  $.FE.LinkRegExEnd = '((:[0-9]{1,5})|)(((\\\\/|\\\\?|#)[a-z\\\\u00a1-\\\\uffff0-9@?\\\\|!^=%&amp;\\/~+#-\\\\\\'*-_{}]*)|())';\n\n  // Common TLD\n  $.FE.LinkRegExTLD = '((' + $.FE.LinkRegExCommon + ')(\\\\.(com|net|org|edu|mil|gov|co|biz|info|me|dev)))';\n\n  // Starts with HTTP.\n  $.FE.LinkRegExHTTP = '((ftp|http|https):\\\\/\\\\/' + $.FE.LinkRegExCommon + ')';\n\n  // Authenticate with HTTP.\n  $.FE.LinkRegExAuth = '((ftp|http|https):\\\\/\\\\/[\\\\u0021-\\\\uffff]{1,}@' + $.FE.LinkRegExCommon + ')';\n\n  // Starts with WWWW.\n  $.FE.LinkRegExWWW = '(www\\\\.' + $.FE.LinkRegExCommon + '\\\\.[a-z0-9-]{2,24})';\n\n  // Join.\n  $.FE.LinkRegEx =  '(' + $.FE.LinkRegExTLD + '|' + $.FE.LinkRegExHTTP + '|' + $.FE.LinkRegExWWW + '|' + $.FE.LinkRegExAuth + ')' + $.FE.LinkRegExEnd;\n\n  // Link protocols.\n  $.FE.LinkProtocols = ['mailto', 'tel', 'sms', 'notes', 'data'];\n\n  // https://davidcel.is/posts/stop-validating-email-addresses-with-regex/\n  $.FE.MAIL_REGEX = /.+@.+\\..+/i;\n\n  $.FE.MODULES.helpers = function (editor) {\n    /**\n     * Get the IE version.\n     */\n    function _ieVersion () {\n\n      /*global navigator */\n      var rv = -1;\n      var ua;\n      var re;\n\n      if (navigator.appName == 'Microsoft Internet Explorer') {\n        ua = navigator.userAgent;\n        re = new RegExp('MSIE ([0-9]{1,}[\\\\.0-9]{0,})');\n\n        if (re.exec(ua) !== null)\n          rv = parseFloat(RegExp.$1);\n      }\n      else if (navigator.appName == 'Netscape') {\n        ua = navigator.userAgent;\n        re = new RegExp('Trident/.*rv:([0-9]{1,}[\\\\.0-9]{0,})');\n\n        if (re.exec(ua) !== null)\n          rv = parseFloat(RegExp.$1);\n      }\n\n      return rv;\n    }\n\n    /**\n     * Determine the browser.\n     */\n    function _browser () {\n      var browser = {};\n      var ie_version = _ieVersion();\n\n      if (ie_version > 0) {\n        browser.msie = true;\n      }\n      else {\n        var ua = navigator.userAgent.toLowerCase();\n\n        var match =\n            /(edge)[ \\/]([\\w.]+)/.exec(ua) ||\n            /(chrome)[ \\/]([\\w.]+)/.exec(ua) ||\n            /(webkit)[ \\/]([\\w.]+)/.exec(ua) ||\n            /(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(ua) ||\n            /(msie) ([\\w.]+)/.exec(ua) ||\n            ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\n            [];\n\n        var matched = {\n          browser: match[1] || '',\n          version: match[2] || '0'\n        };\n\n        if (match[1]) browser[matched.browser] = true;\n\n        // Chrome is Webkit, but Webkit is also Safari.\n        if (browser.chrome) {\n          browser.webkit = true;\n        }\n        else if (browser.webkit) {\n          browser.safari = true;\n        }\n      }\n\n      if (browser.msie) browser.version = ie_version;\n\n      return browser;\n    }\n\n    function isIOS () {\n\n      return /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && !isWindowsPhone();\n    }\n\n    function isAndroid () {\n\n      return /(Android)/g.test(navigator.userAgent) && !isWindowsPhone();\n    }\n\n    function isBlackberry () {\n\n      return /(Blackberry)/g.test(navigator.userAgent);\n    }\n\n    function isWindowsPhone () {\n\n      return /(Windows Phone)/gi.test(navigator.userAgent);\n    }\n\n    function isMobile () {\n\n      return isAndroid() || isIOS() || isBlackberry();\n    }\n\n    function requestAnimationFrame () {\n\n      return window.requestAnimationFrame ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame    ||\n\n          function (callback) {\n            window.setTimeout(callback, 1000 / 60);\n          };\n    }\n\n    function getPX (val) {\n\n      return parseInt(val, 10) || 0;\n    }\n\n    function screenSize () {\n      var $test = $('<div class=\"fr-visibility-helper\"></div>').appendTo('body:first');\n\n      try {\n        var size = getPX($test.css('margin-left'));\n        $test.remove();\n\n        return size;\n      }\n      catch (ex) {\n        return $.FE.LG;\n      }\n    }\n\n    function isTouch () {\n\n      return ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch;\n    }\n\n    function isURL (url) {\n      // Check if it starts with http.\n      if (!/^(https?:|ftps?:|)\\/\\//i.test(url)) return false;\n\n      url = String(url)\n          .replace(/</g, '%3C')\n          .replace(/>/g, '%3E')\n          .replace(/\"/g, '%22')\n          .replace(/ /g, '%20');\n\n      var test_reg = new RegExp('^' + $.FE.LinkRegExHTTP + $.FE.LinkRegExEnd + '$', 'gi');\n\n      return test_reg.test(url);\n    }\n\n    function isEmail (url) {\n      if (/^(https?:|ftps?:|)\\/\\//i.test(url)) {\n        return false;\n      }\n\n      return $.FE.MAIL_REGEX.test(url);\n    }\n\n    // Sanitize URL.\n    function sanitizeURL (url) {\n      var local_path = /^([A-Za-z]:(\\\\){1,2}|[A-Za-z]:((\\\\){1,2}[^\\\\]+)+)(\\\\)?$/i;\n\n      if (/^(https?:|ftps?:|)\\/\\//i.test(url)) {\n        return url;\n      }\n      else if (local_path.test(url)) {\n        return url;\n      }\n      else if (new RegExp('^(' + $.FE.LinkProtocols.join('|') + '):\\\\/\\\\/', 'i').test(url)) {\n        return url;\n      }\n      else {\n        url = encodeURIComponent(url)\n            .replace(/%23/g, '#')\n            .replace(/%2F/g, '/')\n            .replace(/%25/g, '%')\n            .replace(/mailto%3A/gi, 'mailto:')\n            .replace(/file%3A/gi, 'file:')\n            .replace(/sms%3A/gi, 'sms:')\n            .replace(/tel%3A/gi, 'tel:')\n            .replace(/notes%3A/gi, 'notes:')\n            .replace(/data%3Aimage/gi, 'data:image')\n            .replace(/blob%3A/gi, 'blob:')\n            .replace(/webkit-fake-url%3A/gi, 'webkit-fake-url:')\n            .replace(/%3F/g, '?')\n            .replace(/%3D/g, '=')\n            .replace(/%26/g, '&')\n            .replace(/&amp;/g, '&')\n            .replace(/%2C/g, ',')\n            .replace(/%3B/g, ';')\n            .replace(/%2B/g, '+')\n            .replace(/%40/g, '@')\n            .replace(/%5B/g, '[')\n            .replace(/%5D/g, ']')\n            .replace(/%7B/g, '{')\n            .replace(/%7D/g, '}');\n      }\n\n      return url;\n    }\n\n    function isArray (obj) {\n\n      return obj && !(obj.propertyIsEnumerable('length')) &&\n\n          typeof obj === 'object' && typeof obj.length === 'number';\n    }\n\n    /*\n     * Transform RGB color to hex value.\n     */\n    function RGBToHex (rgb) {\n      function hex(x) {\n\n        return ('0' + parseInt(x, 10).toString(16)).slice(-2);\n      }\n\n      try {\n\n        if (!rgb || rgb === 'transparent') return '';\n\n        if (/^#[0-9A-F]{6}$/i.test(rgb)) return rgb;\n\n        rgb = rgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\n\n        return ('#' + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3])).toUpperCase();\n      }\n      catch (ex) {\n\n        return null;\n      }\n    }\n\n    function HEXtoRGB (hex) {\n\n      // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n      var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\n      hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n\n      var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n      return result ? 'rgb(' + parseInt(result[1], 16) + ', ' + parseInt(result[2], 16) + ', ' + parseInt(result[3], 16) + ')' : '';\n    }\n\n    /*\n     * Get block alignment.\n     */\n    var default_alignment;\n\n    function getAlignment ($block) {\n      var alignment = ($block.css('text-align') || '').replace(/-(.*)-/g, '');\n\n      // Detect rtl.\n      if (['left', 'right', 'justify', 'center'].indexOf(alignment) < 0) {\n        if (!default_alignment) {\n          var $div = $('<div dir=\"' + (editor.opts.direction == 'rtl' ? 'rtl' : 'auto') + '\" style=\"text-align: ' + editor.$el.css('text-align') + '; position: fixed; left: -3000px;\"><span id=\"s1\">.</span><span id=\"s2\">.</span></div>');\n          $('body:first').append($div);\n\n          var l1 = $div.find('#s1').get(0).getBoundingClientRect().left;\n          var l2 = $div.find('#s2').get(0).getBoundingClientRect().left;\n\n          $div.remove();\n\n          default_alignment = l1 < l2 ? 'left' : 'right';\n        }\n\n        alignment = default_alignment;\n      }\n\n      return alignment;\n    }\n\n    /**\n     * Check if is mac.\n     */\n    var is_mac = null;\n\n    function isMac () {\n      if (is_mac == null) {\n        is_mac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n      }\n\n      return is_mac;\n    }\n\n    // https://github.com/lazd/scopedQuerySelectorShim/blob/master/src/scopedQuerySelectorShim.js\n    function _scopeShim () {\n      // Overrides\n      function overrideNodeMethod(prototype, methodName) {\n\n        // Store the old method for use later\n        var oldMethod = prototype[methodName];\n\n        // Override the method\n        prototype[methodName] = function (query) {\n          var nodeList;\n          var gaveId = false;\n          var gaveContainer = false;\n\n          if (query && query.match(scopeRE)) {\n\n            // Remove :scope\n            query = query.replace(scopeRE, '');\n\n            if (!this.parentNode) {\n\n              // Add to temporary container\n              container.appendChild(this);\n              gaveContainer = true;\n            }\n\n            var parentNode = this.parentNode;\n\n            if (!this.id) {\n\n              // Give temporary ID\n              this.id = 'rootedQuerySelector_id_' + (new Date()).getTime();\n              gaveId = true;\n            }\n\n            // Find elements against parent node\n            nodeList = oldMethod.call(parentNode, '#' + this.id + ' ' + query);\n\n            // Reset the ID\n            if (gaveId) {\n              this.id = '';\n            }\n\n            // Remove from temporary container\n            if (gaveContainer) {\n              container.removeChild(this);\n            }\n\n            return nodeList;\n          }\n          else {\n\n            // No immediate child selector used\n\n            return oldMethod.call(this, query);\n          }\n        };\n      }\n\n      // A temporary element to query against for elements not currently in the DOM\n      // We'll also use this element to test for :scope support\n      var container = editor.o_doc.createElement('div');\n\n      // Check if the browser supports :scope\n      try {\n\n        // Browser supports :scope, do nothing\n        container.querySelectorAll(':scope *');\n      }\n      catch (e) {\n\n        // Match usage of scope\n        var scopeRE = /^\\s*:scope/gi;\n\n        // Browser doesn't support :scope, add polyfill\n        overrideNodeMethod(Element.prototype, 'querySelector');\n        overrideNodeMethod(Element.prototype, 'querySelectorAll');\n        overrideNodeMethod(HTMLElement.prototype, 'querySelector');\n        overrideNodeMethod(HTMLElement.prototype, 'querySelectorAll');\n      }\n    }\n\n    function scrollTop () {\n\n      // Firefox, Chrome, Opera, Safari\n      if (editor.o_win.pageYOffset) return editor.o_win.pageYOffset;\n\n      // Internet Explorer 6 - standards mode\n      if (editor.o_doc.documentElement && editor.o_doc.documentElement.scrollTop)\n        return editor.o_doc.documentElement.scrollTop;\n\n      // Internet Explorer 6, 7 and 8\n      if (editor.o_doc.body.scrollTop) return editor.o_doc.body.scrollTop;\n\n      return 0;\n    }\n\n    function scrollLeft () {\n\n      // Firefox, Chrome, Opera, Safari\n      if (editor.o_win.pageXOffset) return editor.o_win.pageXOffset;\n\n      // Internet Explorer 6 - standards mode\n      if (editor.o_doc.documentElement && editor.o_doc.documentElement.scrollLeft)\n        return editor.o_doc.documentElement.scrollLeft;\n\n      // Internet Explorer 6, 7 and 8\n      if (editor.o_doc.body.scrollLeft) return editor.o_doc.body.scrollLeft;\n\n      return 0;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    function _closestShim () {\n      if (!Element.prototype.matches) {\n        Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n      }\n\n      if (!Element.prototype.closest) {\n        Element.prototype.closest = function (s) {\n          var el = this;\n          var ancestor = this;\n\n          if (!ancestor) return null;\n\n          if (!document.documentElement.contains(el)) return null;\n\n          do {\n            if (ancestor.matches(s)) return ancestor;\n\n            ancestor = ancestor.parentElement;\n          } while (ancestor !== null);\n\n          return null;\n        }\n      }\n    }\n\n    // https://stackoverflow.com/a/7557433/1806855\n    function isInViewPort (el) {\n      var rect = el.getBoundingClientRect();\n\n      return (\n          (rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)) || // Top is higher than 0 and bottom is smaller than the window height.\n          (rect.top <= 0 && rect.bottom >= (window.innerHeight || document.documentElement.clientHeight)) // Top is smaller than 0 and bottom is higher than window height.\n        );\n    }\n\n    /**\n     * Tear up.\n     */\n    function _init () {\n      editor.browser = _browser();\n      _scopeShim();\n      _closestShim();\n    }\n\n    return {\n      _init: _init,\n      isIOS: isIOS,\n      isMac: isMac,\n      isAndroid: isAndroid,\n      isBlackberry: isBlackberry,\n      isWindowsPhone: isWindowsPhone,\n      isMobile: isMobile,\n      isEmail: isEmail,\n      requestAnimationFrame: requestAnimationFrame,\n      getPX: getPX,\n      screenSize: screenSize,\n      isTouch: isTouch,\n      sanitizeURL: sanitizeURL,\n      isArray: isArray,\n      RGBToHex: RGBToHex,\n      HEXtoRGB: HEXtoRGB,\n      isURL: isURL,\n      getAlignment: getAlignment,\n      scrollTop: scrollTop,\n      scrollLeft: scrollLeft,\n      isInViewPort: isInViewPort\n    }\n  }\n\n\n  $.FE.MODULES.events = function (editor) {\n    var _events = {};\n    var _do_blur;\n\n    function _assignEvent($el, evs, handler) {\n      $on($el, evs, handler);\n    }\n\n    function _forPaste () {\n      _assignEvent(editor.$el, 'cut copy paste beforepaste', function (e) {\n        trigger(e.type, [e]);\n      });\n    }\n\n    function _forElement() {\n      _assignEvent(editor.$el, 'click mouseup mousedown touchstart touchend dragenter dragover dragleave dragend drop dragstart', function (e) {\n        trigger(e.type, [e]);\n      });\n\n      on('mousedown', function () {\n        for (var i = 0; i < $.FE.INSTANCES.length; i++) {\n          if ($.FE.INSTANCES[i] != editor && $.FE.INSTANCES[i].popups && $.FE.INSTANCES[i].popups.areVisible()) {\n            $.FE.INSTANCES[i].$el.find('.fr-marker').remove();\n          }\n        }\n      })\n    }\n\n    function _forKeys () {\n\n      // Map events.\n      _assignEvent(editor.$el, 'keydown keypress keyup input', function (e) {\n        trigger(e.type, [e]);\n      });\n    }\n\n    function _forWindow () {\n      _assignEvent(editor.$win, editor._mousedown, function (e) {\n        trigger('window.mousedown', [e]);\n        enableBlur();\n      });\n\n      _assignEvent(editor.$win, editor._mouseup, function (e) {\n        trigger('window.mouseup', [e]);\n      });\n\n      _assignEvent(editor.$win, 'cut copy keydown keyup touchmove touchend', function (e) {\n        trigger('window.' + e.type, [e]);\n      });\n    }\n\n    function _forDocument() {\n      _assignEvent(editor.$doc, 'dragend drop', function (e) {\n        trigger('document.' + e.type, [e]);\n      })\n    }\n\n    function focus (do_focus) {\n      var info;\n\n      if (typeof do_focus == 'undefined') do_focus = true;\n\n      if (!editor.$wp) return false;\n\n      // Focus the editor window.\n      if (editor.helpers.isIOS()) {\n        editor.$win.get(0).focus();\n      }\n\n      // If there is focus, stop.\n      if (editor.core.hasFocus()) {\n        return false;\n      }\n\n      // If there is no focus, then force focus.\n      if (!editor.core.hasFocus() && do_focus) {\n        var st = editor.$win.scrollTop();\n\n        // Hack to prevent scrolling.\n        if (editor.browser.msie && editor.$box) editor.$box.css('position', 'fixed');\n\n        // hack to prevent scrolling.\n        if (editor.browser.msie && editor.$wp) editor.$wp.css('overflow', 'visible');\n\n        disableBlur();\n        editor.$el.focus();\n        editor.events.trigger('focus');\n        enableBlur();\n\n        // Revert position.\n        if (editor.browser.msie && editor.$box) editor.$box.css('position', '');\n\n        // Revert scroll.\n        if (editor.browser.msie && editor.$wp) editor.$wp.css('overflow', 'auto');\n\n        if (st != editor.$win.scrollTop()) {\n          editor.$win.scrollTop(st);\n        }\n\n        info = editor.selection.info(editor.el);\n\n        // If selection is at start, we should make sure we're in the first block tag.\n        if (!info.atStart) {\n          return false;\n        }\n      }\n\n      // Don't go further if we haven't focused or there are markers.\n      if (!editor.core.hasFocus() || editor.$el.find('.fr-marker').length > 0) {\n\n        return false;\n      }\n\n      info = editor.selection.info(editor.el);\n\n      if (info.atStart && editor.selection.isCollapsed()) {\n        if (editor.html.defaultTag() != null) {\n          var marker = editor.markers.insert();\n\n          if (marker && !editor.node.blockParent(marker)) {\n            $(marker).remove();\n\n            var element = editor.$el.find(editor.html.blockTagsQuery()).get(0);\n\n            if (element) {\n              $(element).prepend($.FE.MARKERS);\n              editor.selection.restore();\n            }\n          }\n          else if (marker) {\n            $(marker).remove();\n          }\n        }\n      }\n    }\n\n    var focused = false;\n\n    function _forFocus () {\n      _assignEvent(editor.$el, 'focus', function (e) {\n        if (blurActive()) {\n          focus(false);\n\n          if (focused === false) {\n            trigger(e.type, [e]);\n          }\n        }\n      });\n\n      _assignEvent(editor.$el, 'blur', function (e) {\n        if (blurActive() /* && document.activeElement != this */) {\n          if (focused === true) {\n            trigger(e.type, [e]);\n            enableBlur();\n          }\n        }\n      });\n\n      on('focus', function () {\n        focused = true;\n      });\n\n      on('blur', function () {\n        focused = false;\n      });\n    }\n\n    function _forMouse () {\n      if (editor.helpers.isMobile()) {\n        editor._mousedown = 'touchstart';\n        editor._mouseup = 'touchend';\n        editor._move = 'touchmove';\n        editor._mousemove = 'touchmove';\n      }\n      else {\n        editor._mousedown = 'mousedown';\n        editor._mouseup = 'mouseup';\n        editor._move = '';\n        editor._mousemove = 'mousemove';\n      }\n    }\n\n    function _buttonMouseDown (e) {\n      var $btn = $(e.currentTarget);\n\n      if (editor.edit.isDisabled() || editor.node.hasClass($btn.get(0), 'fr-disabled')) {\n        e.preventDefault();\n\n        return false;\n      }\n\n      // Not click button.\n      if (e.type === 'mousedown' && e.which !== 1) return true;\n\n      // Scroll in list.\n      if (!editor.helpers.isMobile()) {\n        e.preventDefault();\n      }\n\n      if ((editor.helpers.isAndroid() || editor.helpers.isWindowsPhone()) && $btn.parents('.fr-dropdown-menu').length === 0) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      // Simulate click.\n      $btn.addClass('fr-selected');\n\n      editor.events.trigger('commands.mousedown', [$btn]);\n    }\n\n    function _buttonMouseUp (e, handler) {\n      var $btn = $(e.currentTarget);\n\n      if (editor.edit.isDisabled() || editor.node.hasClass($btn.get(0), 'fr-disabled')) {\n        e.preventDefault();\n\n        return false;\n      }\n\n      if (e.type === 'mouseup' && e.which !== 1) return true;\n\n      if (!editor.node.hasClass($btn.get(0), 'fr-selected')) return true;\n\n      if (e.type != 'touchmove') {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n        e.preventDefault();\n\n        // Simulate click.\n        if (!editor.node.hasClass($btn.get(0), 'fr-selected')) {\n          editor.button.getButtons('.fr-selected', true).removeClass('fr-selected');\n\n          return false;\n        }\n        editor.button.getButtons('.fr-selected', true).removeClass('fr-selected');\n\n        if ($btn.data('dragging') || $btn.attr('disabled')) {\n          $btn.removeData('dragging');\n\n          return false;\n        }\n\n        var timeout = $btn.data('timeout');\n\n        if (timeout) {\n          clearTimeout(timeout);\n          $btn.removeData('timeout');\n        }\n\n        handler.apply(editor, [e]);\n      }\n      else {\n        if (!$btn.data('timeout')) {\n          $btn.data('timeout', setTimeout(function () {\n            $btn.data('dragging', true);\n          }, 100));\n        }\n      }\n    }\n\n    function enableBlur () {\n      _do_blur = true;\n    }\n\n    function disableBlur () {\n      _do_blur = false;\n    }\n\n    function blurActive () {\n      return _do_blur;\n    }\n\n    /**\n     * Bind click on an element.\n     */\n    function bindClick ($element, selector, handler) {\n      $on($element, editor._mousedown, selector, function (e) {\n        if (!editor.edit.isDisabled()) _buttonMouseDown(e);\n      }, true);\n\n      $on($element, editor._mouseup + ' ' + editor._move, selector, function (e) {\n        if (!editor.edit.isDisabled()) _buttonMouseUp(e, handler);\n      }, true);\n\n      $on($element, 'mousedown click mouseup', selector, function (e) {\n        if (!editor.edit.isDisabled()) e.stopPropagation();\n      }, true);\n\n      on('window.mouseup', function () {\n        if (!editor.edit.isDisabled()) {\n          $element.find(selector).removeClass('fr-selected');\n          enableBlur();\n        }\n      });\n    }\n\n    /**\n     * Add event.\n     */\n    function on (name, callback, first) {\n      var names = name.split(' ');\n\n      if (names.length > 1) {\n        for (var i = 0; i < names.length; i++) {\n          on(names[i], callback, first);\n        }\n\n        return true;\n      }\n\n      if (typeof first == 'undefined') first = false;\n\n      var callbacks;\n\n      if (name.indexOf('shared.') !== 0) {\n        callbacks = (_events[name] = _events[name] || []);\n      }\n      else {\n        callbacks = (editor.shared._events[name] = editor.shared._events[name] || []);\n      }\n\n      if (first) {\n        callbacks.unshift(callback);\n      }\n      else {\n        callbacks.push(callback);\n      }\n    }\n\n    var $_events = [];\n\n    function $on ($el, evs, selector, callback, shared) {\n      if (typeof selector == 'function') {\n        shared = callback;\n        callback = selector;\n        selector = false;\n      }\n\n      var ary = (!shared ? $_events : editor.shared.$_events);\n      var id = (!shared ? editor.id : editor.sid);\n\n      if (!selector) {\n        $el.on(evs.split(' ').join('.ed' + id + ' ') + '.ed' + id, callback);\n      }\n      else {\n        $el.on(evs.split(' ').join('.ed' + id + ' ') + '.ed' + id, selector, callback);\n      }\n\n      ary.push([$el, evs.split(' ').join('.ed' + id + ' ') + '.ed' + id]);\n    }\n\n    function _$off (evs) {\n      for (var i = 0; i < evs.length; i++) {\n        evs[i][0].off(evs[i][1]);\n      }\n    }\n\n    function $off () {\n      _$off($_events);\n      $_events = [];\n\n      if (editor.shared.count === 0) {\n        _$off(editor.shared.$_events);\n        editor.shared.$_events = [];\n      }\n    }\n\n    /**\n     * Trigger an event.\n     */\n    function trigger (name, args, force) {\n      if (!editor.edit.isDisabled() || force) {\n        var callbacks;\n\n        if (name.indexOf('shared.') !== 0) {\n          callbacks = _events[name];\n        }\n        else {\n          if (editor.shared.count > 0) return false;\n          callbacks = editor.shared._events[name];\n        }\n\n        var val;\n\n        if (callbacks) {\n          for (var i = 0; i < callbacks.length; i++) {\n            val = callbacks[i].apply(editor, args);\n\n            if (val === false) return false;\n          }\n        }\n\n        // Trigger event outside.\n        val = editor.$oel.triggerHandler('froalaEditor.' + name, $.merge([editor], (args || [])));\n\n        if (val === false) return false;\n\n        return val;\n      }\n    }\n\n    function chainTrigger (name, param, force) {\n      if (!editor.edit.isDisabled() || force) {\n        var callbacks;\n\n        if (name.indexOf('shared.') !== 0) {\n          callbacks = _events[name];\n        }\n        else {\n          if (editor.shared.count > 0) return false;\n          callbacks = editor.shared._events[name];\n        }\n\n        var resp;\n\n        if (callbacks) {\n          for (var i = 0; i < callbacks.length; i++) {\n\n            // Get the callback response.\n            resp = callbacks[i].apply(editor, [param]);\n\n            // If callback response is defined then assign it to param.\n            if (typeof resp !== 'undefined') param = resp;\n          }\n        }\n\n        // Trigger event outside.\n        resp = editor.$oel.triggerHandler('froalaEditor.' + name, $.merge([editor], [param]));\n\n        // If callback response is defined then assign it to param.\n        if (typeof resp !== 'undefined') param = resp;\n\n        return param;\n      }\n    }\n\n    /**\n     * Destroy\n     */\n    function _destroy () {\n\n      // Clear the events list.\n      for (var k in _events) {\n        if (_events.hasOwnProperty(k)) {\n          delete _events[k];\n        }\n      }\n    }\n\n    function _sharedDestroy () {\n      for (var k in editor.shared._events) {\n        if (editor.shared._events.hasOwnProperty(k)) {\n          delete editor.shared._events[k];\n        }\n      }\n    }\n\n    /**\n     * Tear up.\n     */\n    function _init () {\n      editor.shared.$_events = editor.shared.$_events || [];\n      editor.shared._events = {};\n\n      _forMouse();\n\n      _forElement();\n      _forWindow();\n      _forDocument();\n      _forKeys();\n\n      _forFocus();\n      enableBlur();\n\n      _forPaste();\n\n      on('destroy', _destroy);\n      on('shared.destroy', _sharedDestroy);\n    }\n\n    return {\n      _init: _init,\n      on: on,\n      trigger: trigger,\n      bindClick: bindClick,\n      disableBlur: disableBlur,\n      enableBlur: enableBlur,\n      blurActive: blurActive,\n      focus: focus,\n      chainTrigger: chainTrigger,\n      $on: $on,\n      $off: $off\n    }\n  };\n\n\n  $.FE.MODULES.node = function (editor) {\n    function getContents(node) {\n      if (!node || node.tagName == 'IFRAME') return [];\n\n      return Array.prototype.slice.call(node.childNodes || []);\n    }\n\n    /**\n     * Determine if the node is a block tag.\n     */\n    function isBlock (node) {\n      if (!node) return false;\n\n      if (node.nodeType != Node.ELEMENT_NODE) return false;\n\n      return $.FE.BLOCK_TAGS.indexOf(node.tagName.toLowerCase()) >= 0;\n    }\n\n    /**\n     * Determine if the node is a link tag.\n     */\n    function isLink (node) {\n      if (!node) return false;\n\n      if (node.nodeType != Node.ELEMENT_NODE) return false;\n\n      return node.tagName.toLowerCase() == 'a';\n    }\n\n    /**\n     * Check if a DOM element is empty.\n     */\n    function isEmpty (el, ignore_markers) {\n      if (!el) return true;\n\n      if (el.querySelector('table')) return false;\n\n      // Get element contents.\n      var contents = getContents(el);\n\n      // Check if there is a block tag.\n      if (contents.length == 1 && isBlock(contents[0])) {\n        contents = getContents(contents[0]);\n      }\n\n      var has_br = false;\n\n      for (var i = 0; i < contents.length; i++) {\n        var node = contents[i];\n\n        if (ignore_markers && editor.node.hasClass(node, 'fr-marker')) continue;\n\n        if (node.nodeType == Node.TEXT_NODE && node.textContent.length === 0) continue;\n\n        if (node.tagName != 'BR' && (node.textContent || '').replace(/\\u200B/gi, '').replace(/\\n/g, '').length > 0) return false;\n\n        if (has_br) {\n          return false;\n        }\n        else if (node.tagName == 'BR') {\n          has_br = true;\n        }\n      }\n\n      // Look for void nodes.\n      if (el.querySelectorAll($.FE.VOID_ELEMENTS.join(',')).length - el.querySelectorAll('br').length) return false;\n\n      // Look for empty allowed tags.\n      if (el.querySelector(editor.opts.htmlAllowedEmptyTags.join(':not(.fr-marker),') + ':not(.fr-marker)')) return false;\n\n      // Look for block tags.\n      if (el.querySelectorAll($.FE.BLOCK_TAGS.join(',')).length > 1) return false;\n\n      // Look for do not wrap tags.\n      if (el.querySelector(editor.opts.htmlDoNotWrapTags.join(':not(.fr-marker),') + ':not(.fr-marker)')) return false;\n\n\n      return true;\n    }\n\n    /**\n     * Get the block parent.\n     */\n    function blockParent (node) {\n      while (node && node.parentNode !== editor.el && !(node.parentNode && editor.node.hasClass(node.parentNode, 'fr-inner'))) {\n        node = node.parentNode;\n\n        if (isBlock(node)) {\n          return node;\n        }\n      }\n\n      return null;\n    }\n\n    /**\n     * Get deepest parent till the element.\n     */\n    function deepestParent (node, until, simple_enter) {\n      if (typeof until == 'undefined') until = [];\n\n      if (typeof simple_enter == 'undefined') simple_enter = true;\n      until.push(editor.el);\n\n      if (until.indexOf(node.parentNode) >= 0 || (node.parentNode && editor.node.hasClass(node.parentNode, 'fr-inner')) || (node.parentNode && $.FE.SIMPLE_ENTER_TAGS.indexOf(node.parentNode.tagName) >= 0 && simple_enter)) {\n        return null;\n      }\n\n      // 1. Before until.\n      // 2. Parent node doesn't has class fr-inner.\n      // 3. Parent node is not a simple enter tag or quote.\n      // 4. Parent node is not a block tag\n      while (until.indexOf(node.parentNode) < 0 && node.parentNode && !editor.node.hasClass(node.parentNode, 'fr-inner') && ($.FE.SIMPLE_ENTER_TAGS.indexOf(node.parentNode.tagName) < 0 || !simple_enter) && (!(isBlock(node) && isBlock(node.parentNode)) || !simple_enter)) {\n        node = node.parentNode;\n      }\n\n      return node;\n    }\n\n    function rawAttributes (node) {\n      var attrs = {};\n\n      var atts = node.attributes;\n\n      if (atts) {\n        for (var i = 0; i < atts.length; i++) {\n          var att = atts[i];\n          attrs[att.nodeName] = att.value;\n        }\n      }\n\n      return attrs;\n    }\n\n    /**\n     * Get attributes for a node as a string.\n     */\n    function attributes (node) {\n      var str = '';\n      var atts = rawAttributes(node);\n\n      var keys = Object.keys(atts).sort();\n\n      for (var i = 0; i < keys.length; i++) {\n        var nodeName = keys[i];\n        var value = atts[nodeName];\n\n        // Double quote + no single quote. (\")\n        if (value.indexOf('\\'') < 0 && value.indexOf('\"') >= 0) {\n          str += ' ' + nodeName + '=\\'' + value + '\\'';\n        }\n\n        // Double quote + single quote. (\"')\n        else if (value.indexOf('\"') >= 0 && value.indexOf('\\'') >= 0) {\n          value = value.replace(/\"/g, '&quot;');\n          str += ' ' + nodeName + '=\"' + value + '\"';\n        }\n\n        // Single quote or no quote at all.\n        else {\n          str += ' ' + nodeName + '=\"' + value + '\"';\n        }\n      }\n\n      return str;\n    }\n\n    function clearAttributes (node) {\n      var atts = node.attributes;\n\n      for (var i = atts.length - 1; i >= 0; i--) {\n        var att = atts[i];\n        node.removeAttribute(att.nodeName);\n      }\n    }\n\n    /**\n     * Open string for a node.\n     */\n    function openTagString (node) {\n      return '<' + node.tagName.toLowerCase() + attributes(node) + '>';\n    }\n\n    /**\n     * Close string for a node.\n     */\n    function closeTagString (node) {\n      return '</' + node.tagName.toLowerCase() + '>';\n    }\n\n    /**\n     * Determine if the node has any left sibling.\n     */\n    function isFirstSibling (node, ignore_markers) {\n      if (typeof ignore_markers == 'undefined') ignore_markers = true;\n      var sibling = node.previousSibling;\n\n      while (sibling && ignore_markers && editor.node.hasClass(sibling, 'fr-marker')) {\n        sibling = sibling.previousSibling;\n      }\n\n      if (!sibling) return true;\n\n      if (sibling.nodeType == Node.TEXT_NODE && sibling.textContent === '') return isFirstSibling(sibling);\n\n      return false;\n    }\n\n    /**\n     * Determine if the node has any right sibling.\n     */\n    function isLastSibling (node, ignore_markers) {\n      if (typeof ignore_markers == 'undefined') ignore_markers = true;\n      var sibling = node.nextSibling;\n\n      while (sibling && ignore_markers && editor.node.hasClass(sibling, 'fr-marker')) {\n        sibling = sibling.nextSibling;\n      }\n\n      if (!sibling) return true;\n\n      if (sibling.nodeType == Node.TEXT_NODE && sibling.textContent === '') return isLastSibling(sibling);\n\n      return false;\n    }\n\n    function isVoid(node) {\n      return node && node.nodeType == Node.ELEMENT_NODE && $.FE.VOID_ELEMENTS.indexOf((node.tagName || '').toLowerCase()) >= 0\n    }\n\n    /**\n     * Check if the node is a list.\n     */\n    function isList (node) {\n      if (!node) return false;\n\n      return ['UL', 'OL'].indexOf(node.tagName) >= 0;\n    }\n\n    /**\n     * Check if the node is the editable element.\n     */\n    function isElement (node) {\n      return node === editor.el;\n    }\n\n    /**\n     * Check if the node is the editable element.\n     */\n    function isDeletable (node) {\n      return node && node.nodeType == Node.ELEMENT_NODE && node.getAttribute('class') && (node.getAttribute('class') || '').indexOf('fr-deletable') >= 0;\n    }\n\n    /**\n     * Check if the node has focus.\n     */\n    function hasFocus (node) {\n      return node === editor.doc.activeElement && (!editor.doc.hasFocus || editor.doc.hasFocus()) && !!(isElement(node) || node.type || node.href || ~node.tabIndex);\n    }\n\n    function isEditable (node) {\n      return (!node.getAttribute || node.getAttribute('contenteditable') != 'false')\n                && ['STYLE', 'SCRIPT'].indexOf(node.tagName) < 0;\n    }\n\n    function hasClass (el, cls) {\n      if (el instanceof $) el = el.get(0);\n\n      return (el && el.classList && el.classList.contains(cls));\n    }\n\n    function filter (callback) {\n      if (editor.browser.msie) {\n\n        return callback;\n      }\n      else {\n\n        return {\n          acceptNode: callback\n        }\n      }\n    }\n\n    return {\n      isBlock: isBlock,\n      isEmpty: isEmpty,\n      blockParent: blockParent,\n      deepestParent: deepestParent,\n      rawAttributes: rawAttributes,\n      attributes: attributes,\n      clearAttributes: clearAttributes,\n      openTagString: openTagString,\n      closeTagString: closeTagString,\n      isFirstSibling: isFirstSibling,\n      isLastSibling: isLastSibling,\n      isList: isList,\n      isLink: isLink,\n      isElement: isElement,\n      contents: getContents,\n      isVoid: isVoid,\n      hasFocus: hasFocus,\n      isEditable: isEditable,\n      isDeletable: isDeletable,\n      hasClass: hasClass,\n      filter: filter\n    }\n  };\n\n\n  $.FE.INVISIBLE_SPACE = '&#8203;';\n  $.FE.START_MARKER = '<span class=\"fr-marker\" data-id=\"0\" data-type=\"true\" style=\"display: none; line-height: 0;\">' + $.FE.INVISIBLE_SPACE + '</span>';\n  $.FE.END_MARKER = '<span class=\"fr-marker\" data-id=\"0\" data-type=\"false\" style=\"display: none; line-height: 0;\">'  + $.FE.INVISIBLE_SPACE + '</span>';\n  $.FE.MARKERS = $.FE.START_MARKER + $.FE.END_MARKER;\n\n  $.FE.MODULES.markers = function (editor) {\n    /**\n     * Build marker element.\n     */\n    function _build (marker, id) {\n      return $('<span class=\"fr-marker\" data-id=\"' + id + '\" data-type=\"' + marker + '\" style=\"display: ' + (editor.browser.safari ? 'none' : 'inline-block') + '; line-height: 0;\">' + $.FE.INVISIBLE_SPACE + '</span>', editor.doc)[0];\n    }\n\n    /**\n     * Place marker.\n     */\n    function place (range, marker, id) {\n      var mk;\n      var contents;\n      var sibling;\n\n      try {\n        var boundary = range.cloneRange();\n        boundary.collapse(marker);\n\n        boundary.insertNode(_build(marker, id));\n\n        if (marker === true) {\n          mk = editor.$el.find('span.fr-marker[data-type=\"true\"][data-id=\"' + id + '\"]').get(0);\n          sibling = mk.nextSibling;\n\n          // Clean empty spaces.\n          while (sibling && sibling.nodeType === Node.TEXT_NODE && sibling.textContent.length === 0) {\n            $(sibling).remove();\n            sibling = mk.nextSibling;\n          }\n        }\n\n        if (marker === true && !range.collapsed) {\n\n          // Move markers outside of something like this:\n          // <p><strong>fooM</strong>bar</p>\n          while (!editor.node.isElement(mk.parentNode) && !sibling) {\n            $(mk.parentNode).after(mk);\n            sibling = mk.nextSibling;\n          }\n\n          if (sibling && sibling.nodeType === Node.ELEMENT_NODE && editor.node.isBlock(sibling) && sibling.tagName !== 'HR') {\n\n            // Place the marker deep inside the block tags.\n            contents = [sibling];\n\n            do {\n              sibling = contents[0];\n              contents = editor.node.contents(sibling);\n            } while (contents[0] && editor.node.isBlock(contents[0]));\n\n            $(sibling).prepend($(mk));\n          }\n        }\n\n        if (marker === false && !range.collapsed) {\n          mk = editor.$el.find('span.fr-marker[data-type=\"false\"][data-id=\"' + id + '\"]').get(0);\n          sibling = mk.previousSibling;\n\n          if (sibling && sibling.nodeType === Node.ELEMENT_NODE && editor.node.isBlock(sibling) && sibling.tagName !== 'HR') {\n\n            // Place the marker deep inside the block tags.\n            contents = [sibling];\n\n            do {\n              sibling = contents[contents.length - 1];\n              contents = editor.node.contents(sibling);\n            } while (contents[contents.length - 1] && editor.node.isBlock(contents[contents.length - 1]));\n\n            $(sibling).append($(mk));\n          }\n\n          // https://github.com/froala/wysiwyg-editor/issues/705\n          if (mk.parentNode && ['TD', 'TH'].indexOf(mk.parentNode.tagName) >= 0) {\n            if (mk.parentNode.previousSibling && !mk.previousSibling) {\n              $(mk.parentNode.previousSibling).append(mk);\n            }\n          }\n        }\n\n        var dom_marker = editor.$el.find('span.fr-marker[data-type=\"' + marker + '\"][data-id=\"' + id + '\"]').get(0);\n\n        // If image is at the top of the editor in an empty P\n        // and floated to right, the text will be pushed down\n        // when trying to insert an image.\n        if (dom_marker) dom_marker.style.display = 'none';\n\n        return dom_marker;\n      }\n      catch (ex) {\n        return null;\n      }\n    }\n\n    /**\n     * Insert a single marker.\n     */\n    function insert () {\n      if (!editor.$wp) return null;\n\n      try {\n        var range = editor.selection.ranges(0);\n        var containter = range.commonAncestorContainer;\n\n        // Check if selection is inside editor.\n        if (containter != editor.el && editor.$el.find(containter).length === 0) return null;\n\n        var boundary = range.cloneRange();\n        var original_range = range.cloneRange();\n        boundary.collapse(true);\n\n        var mk = $('<span class=\"fr-marker\" style=\"display: none; line-height: 0;\">' + $.FE.INVISIBLE_SPACE + '</span>', editor.doc)[0];\n\n        boundary.insertNode(mk);\n\n        mk = editor.$el.find('span.fr-marker').get(0);\n\n        if (mk) {\n          var sibling = mk.nextSibling;\n\n          while (sibling && sibling.nodeType === Node.TEXT_NODE && sibling.textContent.length === 0) {\n            $(sibling).remove();\n            sibling = editor.$el.find('span.fr-marker').get(0).nextSibling;\n          }\n\n          // Keep original selection.\n          editor.selection.clear();\n          editor.selection.get().addRange(original_range);\n\n          return mk;\n        }\n        else {\n          return null;\n        }\n      }\n      catch (ex) {\n        console.warn ('MARKER', ex)\n      }\n    }\n\n    /**\n     * Split HTML at the marker position.\n     */\n    function split () {\n      if (!editor.selection.isCollapsed()) {\n        editor.selection.remove();\n      }\n\n      var marker = editor.$el.find('.fr-marker').get(0);\n\n      if (marker == null) marker = insert();\n\n      if (marker == null) return null;\n\n      var deep_parent = editor.node.deepestParent(marker);\n\n      if (!deep_parent) {\n        deep_parent = editor.node.blockParent(marker);\n\n        if (deep_parent && deep_parent.tagName != 'LI') {\n          deep_parent = null;\n        }\n      }\n\n      if (deep_parent) {\n        if (editor.node.isBlock(deep_parent) && editor.node.isEmpty(deep_parent)) {\n\n          // https://github.com/froala/wysiwyg-editor/issues/1730.\n          // https://github.com/froala/wysiwyg-editor/issues/1970.\n          if (deep_parent.tagName == 'LI' && (deep_parent.parentNode.firstElementChild == deep_parent && !editor.node.isEmpty(deep_parent.parentNode))) {\n            $(deep_parent).append('<span class=\"fr-marker\"></span>');\n          }\n          else {\n            $(deep_parent).replaceWith('<span class=\"fr-marker\"></span>');\n          }\n        }\n        else if (editor.cursor.isAtStart(marker, deep_parent)) {\n          $(deep_parent).before('<span class=\"fr-marker\"></span>');\n          $(marker).remove();\n        }\n        else if (editor.cursor.isAtEnd(marker, deep_parent)) {\n          $(deep_parent).after('<span class=\"fr-marker\"></span>');\n          $(marker).remove();\n        }\n        else {\n          var node = marker;\n          var close_str = '';\n          var open_str = '';\n\n          do {\n            node = node.parentNode;\n            close_str = close_str + editor.node.closeTagString(node);\n            open_str = editor.node.openTagString(node) + open_str;\n          } while (node != deep_parent);\n\n          $(marker).replaceWith('<span id=\"fr-break\"></span>');\n          var h = editor.node.openTagString(deep_parent) + $(deep_parent).html() + editor.node.closeTagString(deep_parent);\n          h = h.replace(/<span id=\"fr-break\"><\\/span>/g, close_str + '<span class=\"fr-marker\"></span>' + open_str);\n\n          $(deep_parent).replaceWith(h);\n        }\n      }\n\n      return editor.$el.find('.fr-marker').get(0)\n    }\n\n    /**\n     * Insert marker at point from event.\n     *\n     * http://stackoverflow.com/questions/11191136/set-a-selection-range-from-a-to-b-in-absolute-position\n     * https://developer.mozilla.org/en-US/docs/Web/API/this.document.caretPositionFromPoint\n     */\n    function insertAtPoint (e) {\n      var x = e.clientX;\n      var y = e.clientY;\n\n      // Clear markers.\n      remove();\n\n      var start;\n      var range = null;\n\n      // Default.\n      if (typeof editor.doc.caretPositionFromPoint != 'undefined') {\n        start = editor.doc.caretPositionFromPoint(x, y);\n        range = editor.doc.createRange();\n\n        range.setStart(start.offsetNode, start.offset);\n        range.setEnd(start.offsetNode, start.offset);\n      }\n\n      // Webkit.\n      else if (typeof editor.doc.caretRangeFromPoint != 'undefined') {\n        start = editor.doc.caretRangeFromPoint(x, y);\n        range = editor.doc.createRange();\n\n        range.setStart(start.startContainer, start.startOffset);\n        range.setEnd(start.startContainer, start.startOffset);\n      }\n\n      // Set ranges.\n      if (range !== null && typeof editor.win.getSelection != 'undefined') {\n        var sel = editor.win.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n\n      // MSIE.\n      else if (typeof editor.doc.body.createTextRange != 'undefined') {\n        try {\n          range = editor.doc.body.createTextRange();\n          range.moveToPoint(x, y);\n          var end_range = range.duplicate();\n          end_range.moveToPoint(x, y);\n          range.setEndPoint('EndToEnd', end_range);\n          range.select();\n        }\n        catch (ex) {\n          return false;\n        }\n      }\n\n      insert();\n    }\n\n    /**\n     * Remove markers.\n     */\n    function remove () {\n      editor.$el.find('.fr-marker').remove();\n    }\n\n    return {\n      place: place,\n      insert: insert,\n      split: split,\n      insertAtPoint: insertAtPoint,\n      remove: remove\n    }\n  };\n\n\n  $.FE.MODULES.selection = function (editor) {\n    /**\n     * Get selection text.\n     */\n    function text() {\n      var text = '';\n\n      if (editor.win.getSelection) {\n        text = editor.win.getSelection();\n      }\n      else if (editor.doc.getSelection) {\n        text = editor.doc.getSelection();\n      }\n      else if (editor.doc.selection) {\n        text = editor.doc.selection.createRange().text;\n      }\n\n      return text.toString();\n    }\n\n    /**\n     * Get the selection object.\n     */\n    function get() {\n      var selection = '';\n\n      if (editor.win.getSelection) {\n        selection = editor.win.getSelection();\n      }\n      else if (editor.doc.getSelection) {\n        selection = editor.doc.getSelection();\n      }\n      else {\n        selection = editor.doc.selection.createRange();\n      }\n\n      return selection;\n    }\n\n    /**\n     * Get the selection ranges or a single range at a specified index.\n     */\n    function ranges(index) {\n      var sel = get();\n      var ranges = [];\n\n      // Get ranges.\n      if (sel && sel.getRangeAt && sel.rangeCount) {\n        ranges = [];\n\n        for (var i = 0; i < sel.rangeCount; i++) {\n          ranges.push(sel.getRangeAt(i));\n        }\n      }\n      else {\n        if (editor.doc.createRange) {\n          ranges = [editor.doc.createRange()];\n        }\n        else {\n          ranges = [];\n        }\n      }\n\n      return (typeof index != 'undefined' ? ranges[index] : ranges);\n    }\n\n    /**\n     * Clear selection.\n     */\n    function clear() {\n      var sel = get();\n\n      try {\n        if (sel.removeAllRanges) {\n          sel.removeAllRanges();\n        }\n        else if (sel.empty) { // IE?\n          sel.empty();\n        }\n        else if (sel.clear) {\n          sel.clear();\n        }\n      }\n      catch (ex) {}\n    }\n\n    /**\n     * Selection element.\n     */\n    function element() {\n      var sel = get();\n\n      try {\n        if (sel.rangeCount) {\n          var range = ranges(0);\n          var node = range.startContainer;\n          var child;\n\n          // https://github.com/froala/wysiwyg-editor/issues/1399.\n          if (node.nodeType == Node.TEXT_NODE && range.startOffset == (node.textContent || '').length && node.nextSibling) {\n            node = node.nextSibling;\n          }\n\n          // Get parrent if node type is not DOM.\n          if (node.nodeType == Node.ELEMENT_NODE) {\n            var node_found = false;\n\n            // Search for node deeper.\n            if (node.childNodes.length > 0 && node.childNodes[range.startOffset]) {\n              child = node.childNodes[range.startOffset];\n\n              while (child && child.nodeType == Node.TEXT_NODE && child.textContent.length === 0) {\n                child = child.nextSibling;\n              }\n\n              if (child && child.textContent.replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '')) {\n                node = child;\n                node_found = true;\n              }\n\n              // Look back maybe me missed something.\n              if (!node_found && node.childNodes.length > 1 && range.startOffset > 0 && node.childNodes[range.startOffset - 1]) {\n                child = node.childNodes[range.startOffset - 1];\n\n                while (child && child.nodeType == Node.TEXT_NODE && child.textContent.length === 0) {\n                  child = child.nextSibling;\n                }\n\n                if (child && child.textContent.replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '')) {\n                  node = child;\n                  node_found = true;\n                }\n              }\n            }\n\n            // Selection starts just at the end of the node.\n            else if (!range.collapsed && node.nextSibling && node.nextSibling.nodeType == Node.ELEMENT_NODE) {\n              child = node.nextSibling;\n\n              if (child && child.textContent.replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '')) {\n                node = child;\n                node_found = true;\n              }\n            }\n\n            if (!node_found && node.childNodes.length > 0 && $(node.childNodes[0]).text().replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '') && ['BR', 'IMG', 'HR'].indexOf(node.childNodes[0].tagName) < 0) {\n              node = node.childNodes[0];\n            }\n          }\n\n          while (node.nodeType != Node.ELEMENT_NODE && node.parentNode) {\n            node = node.parentNode;\n          }\n\n          // Make sure the node is in editor.\n          var p = node;\n\n          while (p && p.tagName != 'HTML') {\n            if (p == editor.el) {\n              return node;\n            }\n\n            p = $(p).parent()[0];\n          }\n        }\n      }\n      catch (ex) {\n\n      }\n\n      return editor.el;\n    }\n\n    /**\n     * Selection element.\n     */\n    function endElement() {\n      var sel = get();\n\n      try {\n        if (sel.rangeCount) {\n          var range = ranges(0);\n          var node = range.endContainer;\n          var child;\n\n          // Get parrent if node type is not DOM.\n          if (node.nodeType == Node.ELEMENT_NODE) {\n            var node_found = false;\n\n            // Search for node deeper.\n            if (node.childNodes.length > 0 && node.childNodes[range.endOffset] && $(node.childNodes[range.endOffset]).text() === text()) {\n              node = node.childNodes[range.endOffset];\n              node_found = true;\n            }\n\n            // Selection starts just at the end of the node.\n            else if (!range.collapsed && node.previousSibling && node.previousSibling.nodeType == Node.ELEMENT_NODE) {\n              child = node.previousSibling;\n\n              if (child && child.textContent.replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '')) {\n                node = child;\n                node_found = true;\n              }\n            }\n\n            // Browser sees selection at the beginning of the next node.\n            else if (!range.collapsed && node.childNodes.length > 0 && node.childNodes[range.endOffset]) {\n              child = node.childNodes[range.endOffset].previousSibling;\n\n              if (child.nodeType == Node.ELEMENT_NODE) {\n\n                if (child && child.textContent.replace(/\\u200B/g, '') === text().replace(/\\u200B/g, '')) {\n                  node = child;\n                  node_found = true;\n                }\n              }\n            }\n\n            if (!node_found && node.childNodes.length > 0 && $(node.childNodes[node.childNodes.length - 1]).text() === text() && ['BR', 'IMG', 'HR'].indexOf(node.childNodes[node.childNodes.length - 1].tagName) < 0) {\n              node = node.childNodes[node.childNodes.length - 1];\n            }\n          }\n\n          if (node.nodeType == Node.TEXT_NODE && range.endOffset === 0 && node.previousSibling && node.previousSibling.nodeType == Node.ELEMENT_NODE) {\n            node = node.previousSibling;\n          }\n\n          while (node.nodeType != Node.ELEMENT_NODE && node.parentNode) {\n            node = node.parentNode;\n          }\n\n          // Make sure the node is in editor.\n          var p = node;\n\n          while (p && p.tagName != 'HTML') {\n\n            if (p == editor.el) {\n              return node;\n            }\n\n            p = $(p).parent()[0];\n          }\n        }\n      }\n      catch (ex) {}\n\n      return editor.el;\n    }\n\n    /**\n     * Get the ELEMENTS node where the selection starts.\n     * By default TEXT node might be selected.\n     */\n    function rangeElement(rangeContainer, offset) {\n      var node = rangeContainer;\n\n      if (node.nodeType == Node.ELEMENT_NODE) {\n\n        // Search for node deeper.\n        if (node.childNodes.length > 0 && node.childNodes[offset]) {\n          node = node.childNodes[offset];\n        }\n      }\n\n      if (node.nodeType == Node.TEXT_NODE) {\n        node = node.parentNode;\n      }\n\n      return node;\n    }\n\n    /**\n     * Search for the current selected blocks.\n     */\n    function blocks() {\n      var blks = [];\n      var i;\n\n      var sel = get();\n\n      // Selection must be inside editor.\n      if (inEditor() && sel.rangeCount) {\n\n        // Loop through ranges.\n        var rngs = ranges();\n\n        for (i = 0; i < rngs.length; i++) {\n          var range = rngs[i];\n          var block_parent;\n\n          // Get start node and end node for range.\n          var start_node = rangeElement(range.startContainer, range.startOffset);\n          var end_node = rangeElement(range.endContainer, range.endOffset);\n\n          // Add the start node.\n          if ((editor.node.isBlock(start_node) || editor.node.hasClass(start_node, 'fr-inner')) && blks.indexOf(start_node) < 0) blks.push(start_node);\n\n          // Check for the parent node of the start node.\n          block_parent = editor.node.blockParent(start_node);\n\n          if (block_parent && blks.indexOf(block_parent) < 0) {\n            blks.push(block_parent);\n          }\n\n          // Do not add nodes where we've been once.\n          var was_into = [];\n\n          // Loop until we reach end.\n          var next_node = start_node;\n\n          while (next_node !== end_node && next_node !== editor.el) {\n\n            // Get deeper into the current node.\n            if (was_into.indexOf(next_node) < 0 && next_node.children && next_node.children.length) {\n              was_into.push(next_node);\n              next_node = next_node.children[0];\n            }\n\n            // Get next sibling.\n            else if (next_node.nextSibling) {\n              next_node = next_node.nextSibling;\n            }\n\n            // Get parent node.\n            else if (next_node.parentNode) {\n              next_node = next_node.parentNode;\n              was_into.push(next_node);\n            }\n\n            // Add node to the list.\n            if (editor.node.isBlock(next_node) && was_into.indexOf(next_node) < 0 && blks.indexOf(next_node) < 0) {\n              if (next_node !== end_node || range.endOffset > 0) {\n                blks.push(next_node);\n              }\n            }\n          }\n\n          // Add the end node.\n          if (editor.node.isBlock(end_node) && blks.indexOf(end_node) < 0 && range.endOffset > 0) blks.push(end_node);\n\n          // Check for the parent node of the end node.\n          block_parent = editor.node.blockParent(end_node);\n\n          if (block_parent && blks.indexOf(block_parent) < 0) {\n            blks.push(block_parent);\n          }\n        }\n      }\n\n      // Remove blocks that we don't need.\n      for (i = blks.length - 1; i > 0; i--) {\n        // Nodes that contain another node. Don't do it for LI, but remove them if there is a single child and has format.\n        if ($(blks[i]).find(blks).length) blks.splice(i, 1);\n      }\n\n      return blks;\n    }\n\n    /**\n     * Save selection.\n     */\n    function save() {\n      if (editor.$wp) {\n        editor.markers.remove();\n\n        var rgs = ranges();\n        var new_ranges = [];\n        var range;\n        var i;\n\n        for (i = 0; i < rgs.length; i++) {\n\n          // 2nd condition is for https://github.com/froala/wysiwyg-editor/issues/1750.\n          if (rgs[i].startContainer !== editor.doc || editor.browser.msie) {\n            range = rgs[i];\n\n            var collapsed = range.collapsed;\n            var start_m = editor.markers.place(range, true, i); // Start.\n            var end_m = editor.markers.place(range, false, i); // End.\n\n            // Put selection at the end when there is no marker.\n            if ((typeof start_m == 'undefined' || !start_m) && collapsed) {\n              $('.fr-marker').remove();\n              editor.selection.setAtEnd(editor.el);\n            }\n\n            // https://github.com/froala/wysiwyg-editor/issues/1398.\n            editor.el.normalize();\n\n            if (editor.browser.safari && !collapsed) {\n              range = editor.doc.createRange();\n              range.setStartAfter(start_m);\n              range.setEndBefore(end_m);\n              new_ranges.push(range);\n            }\n          }\n        }\n\n        if (editor.browser.safari && new_ranges.length) {\n          editor.selection.clear();\n\n          for (i = 0; i < new_ranges.length; i++) {\n            editor.selection.get().addRange(new_ranges[i]);\n          }\n        }\n      }\n    }\n\n    /**\n     * Restore selection.\n     */\n    function restore() {\n      var i;\n\n      // Get markers.\n      var markers = editor.el.querySelectorAll('.fr-marker[data-type=\"true\"]');\n\n      if (!editor.$wp) {\n        editor.markers.remove();\n\n        return false;\n      }\n\n      // No markers.\n      if (markers.length === 0) {\n\n        return false;\n      }\n\n      if (editor.browser.msie || editor.browser.edge) {\n        for (i = 0; i < markers.length; i++) {\n          markers[i].style.display = 'inline-block';\n        }\n      }\n\n      // Focus.\n      if (!editor.core.hasFocus() && !editor.browser.msie && !editor.browser.webkit) {\n        editor.$el.focus();\n      }\n\n      clear();\n      var sel = get();\n\n      // Add ranges.\n      for (i = 0; i < markers.length; i++) {\n        var id = $(markers[i]).data('id');\n        var start_marker = markers[i];\n        var range = editor.doc.createRange();\n        var end_marker = editor.$el.find('.fr-marker[data-type=\"false\"][data-id=\"' + id + '\"]');\n\n        if (editor.browser.msie || editor.browser.edge) end_marker.css('display', 'inline-block');\n\n        var ghost = null;\n\n        // Make sure there is an start marker.\n        if (end_marker.length > 0) {\n          end_marker = end_marker[0];\n\n          try {\n            var tmp;\n\n            // If we have markers one next to each other inside text, then we should normalize text by joining it.\n            var special_case = false;\n\n            // Clear empty text nodes.\n            var s_node = start_marker.nextSibling;\n\n            while (s_node && s_node.nodeType == Node.TEXT_NODE && s_node.textContent.length === 0) {\n              tmp = s_node;\n              s_node = s_node.nextSibling;\n              $(tmp).remove();\n            }\n\n            var e_node = end_marker.nextSibling;\n\n            while (e_node && e_node.nodeType == Node.TEXT_NODE && e_node.textContent.length === 0) {\n              tmp = e_node;\n              e_node = e_node.nextSibling;\n              $(tmp).remove();\n            }\n\n            if (start_marker.nextSibling == end_marker || end_marker.nextSibling == start_marker) {\n\n              // Decide which is first and which is last between markers.\n              var first_node = (start_marker.nextSibling == end_marker) ? start_marker : end_marker;\n              var last_node = (first_node == start_marker) ? end_marker : start_marker;\n\n              // Previous node.\n              var prev_node = first_node.previousSibling;\n\n              while (prev_node && prev_node.nodeType == Node.TEXT_NODE && prev_node.length === 0) {\n                tmp = prev_node;\n                prev_node = prev_node.previousSibling;\n                $(tmp).remove();\n              }\n\n              // Normalize text before.\n              if (prev_node && prev_node.nodeType == Node.TEXT_NODE) {\n\n                while (prev_node && prev_node.previousSibling && prev_node.previousSibling.nodeType == Node.TEXT_NODE) {\n                  prev_node.previousSibling.textContent = prev_node.previousSibling.textContent + prev_node.textContent;\n                  prev_node = prev_node.previousSibling;\n                  $(prev_node.nextSibling).remove();\n                }\n              }\n\n              // Next node.\n              var next_node = last_node.nextSibling;\n\n              while (next_node && next_node.nodeType == Node.TEXT_NODE && next_node.length === 0) {\n                tmp = next_node;\n                next_node = next_node.nextSibling;\n                $(tmp).remove();\n              }\n\n              // Normalize text after.\n              if (next_node && next_node.nodeType == Node.TEXT_NODE) {\n\n                while (next_node && next_node.nextSibling && next_node.nextSibling.nodeType == Node.TEXT_NODE) {\n                  next_node.nextSibling.textContent = next_node.textContent + next_node.nextSibling.textContent;\n                  next_node = next_node.nextSibling;\n                  $(next_node.previousSibling).remove();\n                }\n              }\n\n              if (prev_node && (editor.node.isVoid(prev_node) || editor.node.isBlock(prev_node))) prev_node = null;\n\n              if (next_node && (editor.node.isVoid(next_node) || editor.node.isBlock(next_node))) next_node = null;\n\n              // Previous node and next node are both text.\n              if (prev_node && next_node && prev_node.nodeType == Node.TEXT_NODE && next_node.nodeType == Node.TEXT_NODE) {\n\n                // Remove markers.\n                $(start_marker).remove();\n                $(end_marker).remove();\n\n                // Save cursor position.\n                var len = prev_node.textContent.length;\n                prev_node.textContent = prev_node.textContent + next_node.textContent;\n                $(next_node).remove();\n\n                // Normalize spaces.\n                if (!editor.opts.htmlUntouched) editor.spaces.normalize(prev_node);\n\n                // Restore position.\n                range.setStart(prev_node, len);\n                range.setEnd(prev_node, len);\n\n                special_case = true;\n              }\n              else if (!prev_node && next_node && next_node.nodeType == Node.TEXT_NODE) {\n\n                // Remove markers.\n                $(start_marker).remove();\n                $(end_marker).remove();\n\n                // Normalize spaces.\n                if (!editor.opts.htmlUntouched) editor.spaces.normalize(next_node);\n\n                ghost = $(editor.doc.createTextNode('\\u200B'));\n                $(next_node).before(ghost);\n\n                // Restore position.\n                range.setStart(next_node, 0);\n                range.setEnd(next_node, 0);\n                special_case = true;\n              }\n              else if (!next_node && prev_node && prev_node.nodeType == Node.TEXT_NODE) {\n\n                // Remove markers.\n                $(start_marker).remove();\n                $(end_marker).remove();\n\n                // Normalize spaces.\n                if (!editor.opts.htmlUntouched) editor.spaces.normalize(prev_node);\n\n                ghost = $(editor.doc.createTextNode('\\u200B'));\n                $(prev_node).after(ghost);\n\n                // Restore position.\n                range.setStart(prev_node, prev_node.textContent.length);\n                range.setEnd(prev_node, prev_node.textContent.length);\n\n                special_case = true;\n              }\n            }\n\n            if (!special_case) {\n              var x;\n              var y;\n\n              // DO NOT TOUCH THIS OR IT WILL BREAK!!!\n              if ((editor.browser.chrome || editor.browser.edge) && start_marker.nextSibling == end_marker) {\n                x = _normalizedMarker(end_marker, range, true) || range.setStartAfter(end_marker);\n                y = _normalizedMarker(start_marker, range, false) || range.setEndBefore(start_marker);\n              }\n              else {\n                if (start_marker.previousSibling == end_marker) {\n                  start_marker = end_marker;\n                  end_marker = start_marker.nextSibling;\n                }\n\n                // https://github.com/froala/wysiwyg-editor/issues/759\n                if (!(end_marker.nextSibling && end_marker.nextSibling.tagName === 'BR') &&\n                  !(!end_marker.nextSibling && editor.node.isBlock(start_marker.previousSibling)) &&\n                  !(start_marker.previousSibling && start_marker.previousSibling.tagName == 'BR')) {\n                  start_marker.style.display = 'inline';\n                  end_marker.style.display = 'inline';\n                  ghost = $(editor.doc.createTextNode('\\u200B'));\n                }\n\n                // https://github.com/froala/wysiwyg-editor/issues/1120 . TODO Check again the below statement on which !editor.opts.enter == $.FE.ENTER_BR is returing false always.\n                // var p_node = start_marker.previousSibling;\n                // if (p_node && p_node.style && editor.win.getComputedStyle(p_node).display == 'block' && !editor.opts.enter == $.FE.ENTER_BR) {\n                //   range.setEndAfter(p_node);\n                //   range.setStartAfter(p_node);\n                // }\n                // else {\n                //   x = _normalizedMarker(start_marker, range, true) || ($(start_marker).before(ghost) && range.setStartBefore(start_marker));\n                //   y = _normalizedMarker(end_marker, range, false) || ($(end_marker).after(ghost) && range.setEndAfter(end_marker));\n                // }\n                x = _normalizedMarker(start_marker, range, true) || ($(start_marker).before(ghost) && range.setStartBefore(start_marker));\n                y = _normalizedMarker(end_marker, range, false) || ($(end_marker).after(ghost) && range.setEndAfter(end_marker));\n              }\n\n              if (typeof x == 'function') x();\n\n              if (typeof y == 'function') y();\n            }\n          }\n          catch (ex) {\n            console.warn('RESTORE RANGE', ex);\n          }\n        }\n\n        if (ghost) {\n          ghost.remove();\n        }\n\n        try {\n          sel.addRange(range);\n        }\n        catch (ex) {\n          console.warn('ADD RANGE', ex);\n        }\n      }\n\n      // Remove used markers.\n      editor.markers.remove();\n    }\n\n    /**\n     * Normalize marker when restoring selection.\n     */\n    function _normalizedMarker(marker, range, start) {\n      var len;\n      var prev_node = marker.previousSibling;\n      var next_node = marker.nextSibling;\n\n      // Prev and next node are both text nodes.\n      if (prev_node && next_node && prev_node.nodeType == Node.TEXT_NODE && next_node.nodeType == Node.TEXT_NODE) {\n        len = prev_node.textContent.length;\n\n        if (start) {\n          next_node.textContent = prev_node.textContent + next_node.textContent;\n          $(prev_node).remove();\n          $(marker).remove();\n\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(next_node);\n\n          return function () {\n            range.setStart(next_node, len);\n          }\n        }\n        else {\n          prev_node.textContent = prev_node.textContent + next_node.textContent;\n          $(next_node).remove();\n          $(marker).remove();\n\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(prev_node);\n\n          return function () {\n            range.setEnd(prev_node, len);\n          }\n        }\n      }\n\n      // Prev node is text node.\n      else if (prev_node && !next_node && prev_node.nodeType == Node.TEXT_NODE) {\n        len = prev_node.textContent.length;\n\n        if (start) {\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(prev_node);\n\n          return function () {\n            range.setStart(prev_node, len);\n          }\n        }\n        else {\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(prev_node);\n\n          return function () {\n            range.setEnd(prev_node, len);\n          }\n        }\n      }\n\n      // Next node is text node.\n      else if (next_node && !prev_node && next_node.nodeType == Node.TEXT_NODE) {\n\n        if (start) {\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(next_node);\n\n          return function () {\n            range.setStart(next_node, 0);\n          }\n        }\n        else {\n          if (!editor.opts.htmlUntouched) editor.spaces.normalize(next_node);\n\n          return function () {\n            range.setEnd(next_node, 0);\n          }\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * Determine if we can do delete.\n     */\n    function _canDelete() {\n\n      // Check if there are markers inside conteneditable=\"false\".\n      var markers = editor.$el.find('.fr-marker');\n\n      for (var i = 0; i < markers.length; i++) {\n        if ($(markers[i]).parentsUntil('.fr-element, [contenteditable=\"true\"]', '[contenteditable=\"false\"]').length) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    /**\n     * Check if selection is collapsed.\n     */\n    function isCollapsed() {\n      var rgs = ranges();\n\n      for (var i = 0; i < rgs.length; i++) {\n        if (!rgs[i].collapsed) return false;\n      }\n\n      return true;\n    }\n\n    // From: http://www.coderexception.com/0B1B33z1NyQxUQSJ/contenteditable-div-how-can-i-determine-if-the-cursor-is-at-the-start-or-end-of-the-content\n    function info(el) {\n      var atStart = false;\n      var atEnd = false;\n      var selRange;\n      var testRange;\n\n      if (editor.win.getSelection) {\n        var sel = editor.win.getSelection();\n\n        if (sel.rangeCount) {\n          selRange = sel.getRangeAt(0);\n          testRange = selRange.cloneRange();\n\n          testRange.selectNodeContents(el);\n          testRange.setEnd(selRange.startContainer, selRange.startOffset);\n          atStart = (testRange.toString() === '');\n\n          testRange.selectNodeContents(el);\n          testRange.setStart(selRange.endContainer, selRange.endOffset);\n          atEnd = (testRange.toString() === '');\n        }\n      }\n      else if (editor.doc.selection && editor.doc.selection.type != 'Control') {\n        selRange = editor.doc.selection.createRange();\n        testRange = selRange.duplicate();\n\n        testRange.moveToElementText(el);\n        testRange.setEndPoint('EndToStart', selRange);\n        atStart = (testRange.text === '');\n\n        testRange.moveToElementText(el);\n        testRange.setEndPoint('StartToEnd', selRange);\n        atEnd = (testRange.text === '');\n      }\n\n      return {\n        atStart: atStart,\n        atEnd: atEnd\n      };\n    }\n\n    /**\n     * Check if everything is selected inside the editor.\n     */\n    function isFull() {\n      if (isCollapsed()) return false;\n\n      editor.selection.save()\n\n      // https://github.com/froala/wysiwyg-editor/issues/710\n      var els = editor.el.querySelectorAll('td, th, img, br');\n      var i;\n\n      for (i = 0; i < els.length; i++) {\n        if (els[i].nextSibling) {\n          els[i].innerHTML = '<span class=\"fr-mk\">' + $.FE.INVISIBLE_SPACE + '</span>' + els[i].innerHTML;\n        }\n      }\n\n      var full = false;\n      var inf = info(editor.el);\n\n      if (inf.atStart && inf.atEnd) full = true;\n\n      // https://github.com/froala/wysiwyg-editor/issues/710\n      els = editor.el.querySelectorAll('.fr-mk');\n\n      for (i = 0; i < els.length; i++) {\n        els[i].parentNode.removeChild(els[i]);\n      }\n\n      editor.selection.restore()\n\n      return full;\n    }\n\n    /**\n     * Remove HTML from inner nodes when we deal with keepFormatOnDelete option.\n     */\n    function _emptyInnerNodes(node, first) {\n      if (typeof first == 'undefined') first = true;\n\n      // Remove invisible spaces.\n      var h = $(node).html();\n\n      if (h && h.replace(/\\u200b/g, '').length != h.length) $(node).html(h.replace(/\\u200b/g, ''));\n\n      // Loop contents.\n      var contents = editor.node.contents(node);\n\n      for (var j = 0; j < contents.length; j++) {\n\n        // Remove text nodes.\n        if (contents[j].nodeType != Node.ELEMENT_NODE) {\n          $(contents[j]).remove();\n        }\n\n        // Empty inner nodes further.\n        else {\n\n          // j == 0 determines if the node is the first one and we should keep format.\n          _emptyInnerNodes(contents[j], j === 0);\n\n          // There are inner nodes, ignore the current one.\n          if (j === 0) first = false;\n        }\n      }\n\n      // First node is a text node, so replace it with a span.\n      if (node.nodeType == Node.TEXT_NODE) {\n        $(node).replaceWith('<span data-first=\"true\" data-text=\"true\"></span>');\n      }\n\n      // Add the first node marker so that we add selection in it later on.\n      else if (first) {\n        $(node).attr('data-first', true);\n      }\n    }\n\n    /**\n     * TODO: check again this function because it will always return true because fr-inner tag does not exist.\n     */\n    function _filterFrInner() {\n      return $(this).find('fr-inner').length === 0;\n    }\n\n    /**\n     * Process deleting nodes.\n     */\n    function _processNodeDelete($node, should_delete) {\n      var contents = editor.node.contents($node.get(0));\n\n      // Node is TD or TH.\n      if (['TD', 'TH'].indexOf($node.get(0).tagName) >= 0 && $node.find('.fr-marker').length == 1 && editor.node.hasClass(contents[0], 'fr-marker')) {\n        $node.attr('data-del-cell', true);\n      }\n\n      for (var i = 0; i < contents.length; i++) {\n        var node = contents[i];\n\n        // We found a marker.\n        if (editor.node.hasClass(node, 'fr-marker')) {\n          should_delete = (should_delete + 1) % 2;\n        }\n        else if (should_delete) {\n\n          // Check if we have a marker inside it.\n          if ($(node).find('.fr-marker').length > 0) {\n            should_delete = _processNodeDelete($(node), should_delete);\n          }\n          else {\n\n            // TD, TH or inner, then go further.\n            if (['TD', 'TH'].indexOf(node.tagName) < 0 && !editor.node.hasClass(node, 'fr-inner')) {\n\n              if (!editor.opts.keepFormatOnDelete || editor.$el.find('[data-first]').length > 0 || editor.node.isVoid(node)) {\n                $(node).remove();\n              }\n              else {\n                _emptyInnerNodes(node);\n              }\n            }\n            else if (editor.node.hasClass(node, 'fr-inner')) {\n              if ($(node).find('.fr-inner').length === 0) {\n                $(node).html('<br>');\n              }\n              else {\n                $(node).find('.fr-inner').filter(_filterFrInner).html('<br>');\n              }\n            }\n            else {\n              $(node).empty();\n              $(node).attr('data-del-cell', true);\n            }\n          }\n        }\n        else {\n          if ($(node).find('.fr-marker').length > 0) {\n            should_delete = _processNodeDelete($(node), should_delete);\n          }\n        }\n      }\n\n      return should_delete;\n    }\n\n    /**\n     * Determine if selection is inside the editor.\n     */\n    function inEditor() {\n      try {\n        if (!editor.$wp) return false;\n\n        var range = ranges(0);\n        var container = range.commonAncestorContainer;\n\n        while (container && !editor.node.isElement(container)) {\n          container = container.parentNode;\n        }\n\n        if (editor.node.isElement(container)) return true;\n\n        return false;\n      }\n      catch (ex) {\n        return false;\n      }\n    }\n\n    /**\n     * Remove the current selection html.\n     */\n    function remove() {\n      if (isCollapsed()) return true;\n\n      var i;\n\n      save();\n\n      // Get the previous sibling normalized.\n      var _prevSibling = function (node) {\n        var prev_node = node.previousSibling;\n\n        while (prev_node && prev_node.nodeType == Node.TEXT_NODE && prev_node.textContent.length === 0) {\n          var tmp = prev_node;\n          prev_node = prev_node.previousSibling;\n          $(tmp).remove();\n        }\n\n        return prev_node;\n      }\n\n      // Get the next sibling normalized.\n      var _nextSibling = function (node) {\n        var next_node = node.nextSibling;\n\n        while (next_node && next_node.nodeType == Node.TEXT_NODE && next_node.textContent.length === 0) {\n          var tmp = next_node;\n          next_node = next_node.nextSibling;\n          $(tmp).remove();\n        }\n\n        return next_node;\n      }\n\n      // Normalize start markers.\n      var start_markers = editor.$el.find('.fr-marker[data-type=\"true\"]');\n\n      for (i = 0; i < start_markers.length; i++) {\n        var sm = start_markers[i];\n\n        while (!_prevSibling(sm) && !editor.node.isBlock(sm.parentNode) && !editor.$el.is(sm.parentNode) && !editor.node.hasClass(sm.parentNode, 'fr-inner')) {\n          $(sm.parentNode).before(sm);\n        }\n      }\n\n      // Normalize end markers.\n      var end_markers = editor.$el.find('.fr-marker[data-type=\"false\"]');\n\n      for (i = 0; i < end_markers.length; i++) {\n        var em = end_markers[i];\n\n        while (!_nextSibling(em) && !editor.node.isBlock(em.parentNode) && !editor.$el.is(em.parentNode) && !editor.node.hasClass(em.parentNode, 'fr-inner')) {\n          $(em.parentNode).after(em);\n        }\n\n        // Last node is empty and has a BR in it.\n        if (em.parentNode && editor.node.isBlock(em.parentNode) && editor.node.isEmpty(em.parentNode) && !editor.$el.is(em.parentNode) && !editor.node.hasClass(em.parentNode, 'fr-inner') && editor.opts.keepFormatOnDelete) {\n          $(em.parentNode).after(em);\n        }\n      }\n\n      // Check if selection can be deleted.\n      if (_canDelete()) {\n        _processNodeDelete(editor.$el, 0);\n\n        // Look for selection marker.\n        var $first_node = editor.$el.find('[data-first=\"true\"]');\n\n        if ($first_node.length) {\n\n          // Remove markers.\n          editor.$el.find('.fr-marker').remove();\n\n          // Add markers in the node that we marked as the first one.\n          $first_node\n            .append($.FE.INVISIBLE_SPACE + $.FE.MARKERS)\n            .removeAttr('data-first');\n\n          // Remove span with data-text if there is one.\n          if ($first_node.attr('data-text')) {\n            $first_node.replaceWith($first_node.html());\n          }\n        }\n        else {\n          // Remove tables.\n          editor.$el.find('table').filter(function () {\n            var ok = $(this).find('[data-del-cell]').length > 0 && $(this).find('[data-del-cell]').length == $(this).find('td, th').length;\n\n            return ok;\n          }).remove();\n          editor.$el.find('[data-del-cell]').removeAttr('data-del-cell');\n\n          // Merge contents between markers.\n          start_markers = editor.$el.find('.fr-marker[data-type=\"true\"]');\n\n          for (i = 0; i < start_markers.length; i++) {\n\n            // Get start marker.\n            var start_marker = start_markers[i];\n\n            // Get the next node after start marker.\n            var next_node = start_marker.nextSibling;\n\n            // Get the end node.\n            var end_marker = editor.$el.find('.fr-marker[data-type=\"false\"][data-id=\"' + $(start_marker).data('id') + '\"]').get(0);\n\n            if (end_marker) {\n\n              // Markers are not next to other.\n              if (start_marker && !(next_node && next_node == end_marker)) {\n\n                // Get the parents of the nodes.\n                var start_parent = editor.node.blockParent(start_marker);\n                var end_parent = editor.node.blockParent(end_marker);\n\n                // https://github.com/froala/wysiwyg-editor/issues/1233\n                var list_start = false;\n                var list_end = false;\n\n                if (start_parent && ['UL', 'OL'].indexOf(start_parent.tagName) >= 0) {\n                  start_parent = null;\n                  list_start = true;\n                }\n\n                if (end_parent && ['UL', 'OL'].indexOf(end_parent.tagName) >= 0) {\n                  end_parent = null;\n                  list_end = true;\n                }\n\n                // Move end marker next to start marker.\n                $(start_marker).after(end_marker);\n\n                // The block parent of the start marker is the element itself. We're not in the same parent or moving marker is not enough.\n                if (start_parent != end_parent) {\n                  if (start_parent == null && !list_start) {\n                    var deep_parent = editor.node.deepestParent(start_marker);\n\n                    // There is a parent for the marker. Move the end html to it.\n                    if (deep_parent) {\n                      $(deep_parent).after($(end_parent).html());\n                      $(end_parent).remove();\n                    }\n\n                    // There is no parent for the marker.\n                    else if ($(end_parent).parentsUntil(editor.$el, 'table').length === 0) {\n                      $(start_marker).next().after($(end_parent).html());\n                      $(end_parent).remove();\n                    }\n                  }\n\n                  // End marker is inside element. We don't merge in table.\n                  else if (end_parent == null && !list_end && $(start_parent).parentsUntil(editor.$el, 'table').length === 0) {\n\n                    // Get the node that has a next sibling.\n                    next_node = start_parent;\n\n                    while (!next_node.nextSibling && next_node.parentNode != editor.el) {\n                      next_node = next_node.parentNode;\n                    }\n                    next_node = next_node.nextSibling;\n\n                    // Join HTML inside the start node.\n                    while (next_node && next_node.tagName != 'BR') {\n                      var tmp_node = next_node.nextSibling;\n                      $(start_parent).append(next_node);\n                      next_node = tmp_node;\n                    }\n\n                    if (next_node && next_node.tagName == 'BR') {\n                      $(next_node).remove();\n                    }\n                  }\n\n                  // Join end block with start block.\n                  else if (start_parent && end_parent && $(start_parent).parentsUntil(editor.$el, 'table').length === 0 && $(end_parent).parentsUntil(editor.$el, 'table').length === 0 && $(start_parent).find(end_parent).length === 0 && $(end_parent).find(start_parent).length === 0) {\n                    $(start_parent).append($(end_parent).html());\n                    $(end_parent).remove();\n                  }\n                }\n              }\n            }\n\n            else {\n              end_marker = $(start_marker).clone().attr('data-type', false);\n              $(start_marker).after(end_marker);\n            }\n          }\n        }\n      }\n\n      if (!editor.opts.keepFormatOnDelete) {\n        editor.html.fillEmptyBlocks();\n      }\n\n      editor.html.cleanEmptyTags(true);\n\n      if (!editor.opts.htmlUntouched) {\n        editor.clean.lists();\n        editor.spaces.normalize();\n      }\n\n      // https://github.com/froala/wysiwyg-editor/issues/1379 &&\n\n      var last_marker = editor.$el.find('.fr-marker:last').get(0);\n      var first_marker = editor.$el.find('.fr-marker:first').get(0);\n\n      // https://github.com/froala-labs/froala-editor-js-2/issues/491\n      if ((typeof last_marker !== 'undefined' && typeof first_marker !== 'undefined') && !last_marker.nextSibling && first_marker.previousSibling && first_marker.previousSibling.tagName == 'BR' && editor.node.isElement(last_marker.parentNode) && editor.node.isElement(first_marker.parentNode)) {\n\n        editor.$el.append('<br>');\n      }\n\n      restore();\n    }\n\n    function setAtStart(node, deep) {\n      if (!node || node.getElementsByClassName('fr-marker').length > 0) return false;\n\n      var child = node.firstChild;\n\n      while (child && (editor.node.isBlock(child) || (deep && !editor.node.isVoid(child) && child.nodeType == Node.ELEMENT_NODE))) {\n        node = child;\n        child = child.firstChild;\n      }\n\n      node.innerHTML = $.FE.MARKERS + node.innerHTML;\n    }\n\n    function setAtEnd(node, deep) {\n      if (!node || node.getElementsByClassName('fr-marker').length > 0) return false;\n\n      var child = node.lastChild;\n\n      while (child && (editor.node.isBlock(child) || (deep && !editor.node.isVoid(child) && child.nodeType == Node.ELEMENT_NODE))) {\n        node = child;\n        child = child.lastChild;\n      }\n\n      var span = editor.doc.createElement('SPAN');\n      span.setAttribute('id', 'fr-sel-markers');\n      span.innerHTML = $.FE.MARKERS;\n      node.appendChild(span);\n      var nd = node.querySelector('#fr-sel-markers');\n      nd.outerHTML = nd.innerHTML;\n    }\n\n    function setBefore(node, use_current_node) {\n      if (typeof use_current_node == 'undefined') use_current_node = true;\n\n      // Check if there is any previous sibling by skipping the empty text ones.\n      var prev_node = node.previousSibling;\n\n      while (prev_node && prev_node.nodeType == Node.TEXT_NODE && prev_node.textContent.length === 0) {\n        prev_node = prev_node.previousSibling;\n      }\n\n      // There is a previous node.\n      if (prev_node) {\n\n        // Previous node is block so set the focus at the end of it.\n        if (editor.node.isBlock(prev_node)) {\n          setAtEnd(prev_node);\n        }\n\n        // Previous node is BR, so place markers before it.\n        else if (prev_node.tagName == 'BR') {\n          $(prev_node).before($.FE.MARKERS);\n        }\n\n        // Just place marker.\n        else {\n          $(prev_node).after($.FE.MARKERS);\n        }\n\n        return true;\n      }\n\n      // Use current node.\n      else if (use_current_node) {\n\n        // Current node is block, set selection at start.\n        if (editor.node.isBlock(node)) {\n          setAtStart(node);\n        }\n\n        // Just place markers.\n        else {\n          $(node).before($.FE.MARKERS);\n        }\n\n        return true;\n      }\n      else {\n\n        return false;\n      }\n    }\n\n    function setAfter(node, use_current_node) {\n      if (typeof use_current_node == 'undefined') use_current_node = true;\n\n      // Check if there is any previous sibling by skipping the empty text ones.\n      var next_node = node.nextSibling;\n\n      while (next_node && next_node.nodeType == Node.TEXT_NODE && next_node.textContent.length === 0) {\n        next_node = next_node.nextSibling;\n      }\n\n      // There is a next node.\n      if (next_node) {\n\n        // Next node is block so set the focus at the end of it.\n        if (editor.node.isBlock(next_node)) {\n          setAtStart(next_node);\n        }\n\n        // Just place marker.\n        else {\n          $(next_node).before($.FE.MARKERS);\n        }\n\n        return true;\n      }\n\n      // Use current node.\n      else if (use_current_node) {\n\n        // Current node is block, set selection at end.\n        if (editor.node.isBlock(node)) {\n          setAtEnd(node);\n        }\n\n        // Just place markers.\n        else {\n          $(node).after($.FE.MARKERS);\n        }\n\n        return true;\n      }\n      else {\n\n        return false;\n      }\n    }\n\n    return {\n      text: text,\n      get: get,\n      ranges: ranges,\n      clear: clear,\n      element: element,\n      endElement: endElement,\n      save: save,\n      restore: restore,\n      isCollapsed: isCollapsed,\n      isFull: isFull,\n      inEditor: inEditor,\n      remove: remove,\n      blocks: blocks,\n      info: info,\n      setAtEnd: setAtEnd,\n      setAtStart: setAtStart,\n      setBefore: setBefore,\n      setAfter: setAfter,\n      rangeElement: rangeElement\n    }\n  };\n\n\n  \n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n\n    // Tags that describe head from HEAD http://www.w3schools.com/html/html_head.asp.\n    htmlAllowedTags: ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'blockquote', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'pre', 'progress', 'queue', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'style', 'section', 'select', 'small', 'source', 'span', 'strike', 'strong', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr'],\n    htmlRemoveTags: ['script', 'style'],\n    htmlAllowedAttrs: ['accept', 'accept-charset', 'accesskey', 'action', 'align', 'allowfullscreen', 'allowtransparency', 'alt', 'async', 'autocomplete', 'autofocus', 'autoplay', 'autosave', 'background', 'bgcolor', 'border', 'charset', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'color', 'cols', 'colspan', 'content', 'contenteditable', 'contextmenu', 'controls', 'coords', 'data', 'data-.*', 'datetime', 'default', 'defer', 'dir', 'dirname', 'disabled', 'download', 'draggable', 'dropzone', 'enctype', 'for', 'form', 'formaction', 'frameborder', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'http-equiv', 'icon', 'id', 'ismap', 'itemprop', 'keytype', 'kind', 'label', 'lang', 'language', 'list', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'mozallowfullscreen', 'multiple', 'muted', 'name', 'novalidate', 'open', 'optimum', 'pattern', 'ping', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'reversed', 'rows', 'rowspan', 'sandbox', 'scope', 'scoped', 'scrolling', 'seamless', 'selected', 'shape', 'size', 'sizes', 'span', 'src', 'srcdoc', 'srclang', 'srcset', 'start', 'step', 'summary', 'spellcheck', 'style', 'tabindex', 'target', 'title', 'type', 'translate', 'usemap', 'value', 'valign', 'webkitallowfullscreen', 'width', 'wrap'],\n    htmlAllowedStyleProps: ['.*'],\n    htmlAllowComments: true,\n    htmlUntouched: false,\n    fullPage: false // Will also turn iframe on.\n  });\n\n  $.FE.HTML5Map = {\n    B: 'STRONG',\n    I: 'EM',\n    STRIKE: 'S'\n  },\n\n  $.FE.MODULES.clean = function (editor) {\n    var allowedTagsRE;\n    var removeTagsRE;\n    var allowedAttrsRE;\n    var allowedStylePropsRE;\n\n    function _removeInvisible (node) {\n      if (node.nodeType == Node.ELEMENT_NODE && node.getAttribute('class') && node.getAttribute('class').indexOf('fr-marker') >= 0) return false;\n\n      // Get node contents.\n      var contents = editor.node.contents(node);\n      var markers = [];\n      var i;\n\n      // Loop through contents.\n      for (i = 0; i < contents.length; i++) {\n\n        // If node is not void.\n        if (contents[i].nodeType == Node.ELEMENT_NODE && !editor.node.isVoid(contents[i])) {\n\n          // There are invisible spaces.\n          if (contents[i].textContent.replace(/\\u200b/g, '').length != contents[i].textContent.length) {\n\n            // Do remove invisible spaces.\n            _removeInvisible(contents[i]);\n          }\n        }\n\n        // If node is text node, replace invisible spaces.\n        else if (contents[i].nodeType == Node.TEXT_NODE) {\n          contents[i].textContent = contents[i].textContent.replace(/\\u200b/g, '');\n\n          // .replace(/&/g, '&amp;');\n        }\n      }\n\n      // Reasess contents after cleaning invisible spaces.\n      if (node.nodeType == Node.ELEMENT_NODE && !editor.node.isVoid(node)) {\n        node.normalize();\n        contents = editor.node.contents(node);\n        markers = node.querySelectorAll('.fr-marker');\n\n        // All we have left are markers.\n        if (contents.length - markers.length === 0) {\n\n          // Make sure contents are all markers.\n          for (i = 0; i < contents.length; i++) {\n            if (contents[i].nodeType == Node.ELEMENT_NODE && (contents[i].getAttribute('class') || '').indexOf('fr-marker') < 0) {\n\n              return false;\n            }\n          }\n\n          for (i = 0; i < markers.length; i++) {\n            node.parentNode.insertBefore(markers[i].cloneNode(true), node);\n          }\n          node.parentNode.removeChild(node);\n\n          return false;\n        }\n      }\n    }\n\n    function _toHTML (el,is_pre) {\n      if (el.nodeType == Node.COMMENT_NODE) return '\x3c!--' + el.nodeValue + '--\x3e';\n\n      if (el.nodeType == Node.TEXT_NODE) {\n\n        if (is_pre) {\n\n          return el.textContent.replace(/\\&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        }\n\n        return el.textContent.replace(/\\&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\u00A0/g, '&nbsp;').replace(/\\u0009/g, '');\n      }\n\n      if (el.nodeType != Node.ELEMENT_NODE) return el.outerHTML;\n\n      if (el.nodeType == Node.ELEMENT_NODE && ['STYLE', 'SCRIPT','NOSCRIPT'].indexOf(el.tagName) >= 0) return el.outerHTML;\n\n      if (el.nodeType == Node.ELEMENT_NODE && el.tagName == 'svg') {\n        var temp = document.createElement('div');\n        var node_clone = el.cloneNode(true);\n        temp.appendChild(node_clone);\n\n        return temp.innerHTML;\n      }\n\n      if (el.tagName == 'IFRAME') {\n        return el.outerHTML.replace(/\\&lt;/g, '<').replace(/\\&gt;/g, '>');\n      }\n\n      var contents = el.childNodes;\n\n      if (contents.length === 0) return el.outerHTML;\n\n      var str = '';\n\n      for (var i = 0; i < contents.length; i++) {\n\n        if (el.tagName == 'PRE') is_pre = true;\n\n        str += _toHTML(contents[i], is_pre);\n      }\n\n\n      return editor.node.openTagString(el) + str + editor.node.closeTagString(el);\n    }\n\n    var scripts = [];\n\n    function _encode (dirty_html) {\n\n      // Replace script tag with comments.\n      scripts = [];\n\n      dirty_html = dirty_html.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, function (str) {\n        scripts.push(str);\n\n        return '[FROALA.EDITOR.SCRIPT ' + (scripts.length - 1) + ']';\n\n      });\n\n      dirty_html = dirty_html.replace(/<noscript\\b[^<]*(?:(?!<\\/noscript>)<[^<]*)*<\\/noscript>/gi, function (str) {\n        scripts.push(str);\n\n        return '[FROALA.EDITOR.NOSCRIPT ' + (scripts.length - 1) + ']';\n      });\n\n      dirty_html = dirty_html.replace(/<img((?:[\\w\\W]*?)) src=\"/g, '<img$1 data-fr-src=\"');\n\n      return dirty_html;\n    }\n\n    function _decode (dirty_html) {\n\n      // Replace script comments with the original script.\n      dirty_html = dirty_html.replace(/\\[FROALA\\.EDITOR\\.SCRIPT ([\\d]*)\\]/gi, function (str, a1) {\n        if (editor.opts.htmlRemoveTags.indexOf('script') >= 0) {\n          return '';\n        }\n        else {\n          return scripts[parseInt(a1, 10)];\n        }\n      });\n\n      dirty_html = dirty_html.replace(/\\[FROALA\\.EDITOR\\.NOSCRIPT ([\\d]*)\\]/gi, function (str, a1) {\n        if (editor.opts.htmlRemoveTags.indexOf('noscript') >= 0) {\n          return '';\n        }\n        else {\n          return scripts[parseInt(a1, 10)].replace(/\\&lt;/g, '<').replace(/\\&gt;/g, '>');\n        }\n      });\n\n      dirty_html = dirty_html.replace(/<img((?:[\\w\\W]*?)) data-fr-src=\"/g, '<img$1 src=\"');\n\n      return dirty_html;\n    }\n\n    /*\n     * Clean style attribute.\n     */\n    function _cleanStyle (style) {\n      var cleaned_style = style.replace(/;;/gi, ';');\n      cleaned_style = cleaned_style.replace(/^;/gi, '');\n\n      if (cleaned_style.charAt(cleaned_style.length) != ';') {\n        cleaned_style += ';';\n      }\n\n      return cleaned_style;\n    }\n\n    function _cleanAttrs (attrs) {\n      var nm;\n\n      for (nm in attrs) {\n\n        if (attrs.hasOwnProperty(nm)) {\n\n          // Check if attr is allowed.\n          var is_attr_allowed = nm.match(allowedAttrsRE);\n\n          // Check for allowed style properties.\n          var allowed_style_props_matches = null;\n\n          // There are allowed style props.\n          if (nm == 'style' && editor.opts.htmlAllowedStyleProps.length) {\n            allowed_style_props_matches = attrs[nm].match(allowedStylePropsRE);\n          }\n\n          // Attribute is allowed and there are style matches.\n          if (is_attr_allowed && allowed_style_props_matches) {\n\n            // Override attr value with only the allowed properties.\n            attrs[nm] = _cleanStyle(allowed_style_props_matches.join(';'));\n          }\n          else if (!is_attr_allowed || (nm == 'style' && !allowed_style_props_matches)) {\n            delete attrs[nm];\n          }\n        }\n      }\n\n      var str = '';\n      var keys = Object.keys(attrs).sort();\n\n      for (var i = 0; i < keys.length; i++) {\n        nm = keys[i];\n\n        // Make sure we don't break any HTML.\n        if (attrs[nm].indexOf('\"') < 0) {\n          str += ' ' + nm + '=\"' + attrs[nm] + '\"';\n        }\n        else {\n          str += ' ' + nm + '=\\'' + attrs[nm] + '\\'';\n        }\n      }\n\n      return str;\n    }\n\n    function _rebuild (body_html, head_html, original_html) {\n      if (editor.opts.fullPage) {\n\n        // Get DOCTYPE.\n        var doctype = editor.html.extractDoctype(original_html);\n\n        // Get HTML attributes.\n        var html_attrs = _cleanAttrs(editor.html.extractNodeAttrs(original_html, 'html'));\n\n        // Get HEAD data.\n        head_html = head_html == null ? editor.html.extractNode(original_html, 'head') || '<title></title>' : head_html;\n        var head_attrs = _cleanAttrs(editor.html.extractNodeAttrs(original_html, 'head'));\n\n        // Get BODY attributes.\n        var body_attrs = _cleanAttrs(editor.html.extractNodeAttrs(original_html, 'body'));\n\n        return doctype + '<html' + html_attrs + '><head' + head_attrs + '>' + head_html + '</head><body' + body_attrs + '>' + body_html + '</body></html>';\n      }\n\n      return body_html;\n    }\n\n    function _process (html, func) {\n      var i;\n\n      var doc  = document.implementation.createHTMLDocument('Froala DOC');\n      var el = doc.createElement('DIV');\n      $(el).append(html);\n\n      var new_html = '';\n\n      if (el) {\n        var els = editor.node.contents(el);\n\n        for (i = 0; i < els.length; i++) {\n          func(els[i]);\n        }\n\n        els = editor.node.contents(el);\n\n        for (i = 0; i < els.length; i++) {\n          new_html += _toHTML(els[i]);\n        }\n      }\n\n      return new_html;\n    }\n\n    function exec (html, func, parse_head) {\n      html = _encode(html);\n      var b_html = html;\n      var h_html = null;\n\n      if (editor.opts.fullPage) {\n\n        // Get BODY data.\n        b_html = (editor.html.extractNode(html, 'body') || (html.indexOf('<body') >= 0 ? '' : html));\n\n        if (parse_head) {\n          h_html = (editor.html.extractNode(html, 'head') || '');\n        }\n      }\n\n      b_html = _process(b_html, func);\n\n      if (h_html) h_html = _process(h_html, func);\n\n      var new_html = _rebuild(b_html, h_html, html);\n\n      return _decode(new_html);\n    }\n\n    function invisibleSpaces (dirty_html) {\n      if (dirty_html.replace(/\\u200b/g, '').length == dirty_html.length) return dirty_html;\n\n      return editor.clean.exec(dirty_html, _removeInvisible);\n    }\n\n    function toHTML5 () {\n      var els = editor.el.querySelectorAll(Object.keys($.FE.HTML5Map).join(','));\n\n      if (els.length) {\n        var sel_saved = false;\n\n        if (!editor.el.querySelector('.fr-marker')) {\n          editor.selection.save();\n          sel_saved = true;\n        }\n\n        for (var i = 0; i < els.length; i++) {\n          if (editor.node.attributes(els[i]) === '') {\n            $(els[i]).replaceWith('<' + $.FE.HTML5Map[els[i].tagName] + '>' + els[i].innerHTML + '</' + $.FE.HTML5Map[els[i].tagName] + '>');\n          }\n        }\n\n        if (sel_saved) {\n          editor.selection.restore();\n        }\n      }\n    }\n\n    // Fixes paths coming as HTML entities which are later on converted to their coresponding chars.\n    function _convertHref (href) {\n      var div = editor.doc.createElement('DIV');\n      div.innerText = href;\n\n      return div.textContent;\n    }\n\n    function _node (node) {\n\n      // Skip when we're dealing with markers.\n      if (node.tagName == 'SPAN' && (node.getAttribute('class') || '').indexOf('fr-marker') >= 0) return false;\n\n      if (node.tagName == 'PRE') _cleanPre(node);\n\n      if (node.nodeType == Node.ELEMENT_NODE) {\n        if (node.getAttribute('data-fr-src') && node.getAttribute('data-fr-src').indexOf('blob:') !== 0) node.setAttribute('data-fr-src', editor.helpers.sanitizeURL(_convertHref(node.getAttribute('data-fr-src'))));\n\n        if (node.getAttribute('href')) node.setAttribute('href', editor.helpers.sanitizeURL(_convertHref(node.getAttribute('href'))));\n\n        if (node.getAttribute('src')) node.setAttribute('src', editor.helpers.sanitizeURL(_convertHref(node.getAttribute('src'))));\n\n        if (['TABLE', 'TBODY', 'TFOOT', 'TR'].indexOf(node.tagName) >= 0) {\n          node.innerHTML = node.innerHTML.trim();\n        }\n      }\n\n      // Remove local images if option they are not allowed.\n      if (!editor.opts.pasteAllowLocalImages && node.nodeType == Node.ELEMENT_NODE && node.tagName == 'IMG' && node.getAttribute('data-fr-src') && node.getAttribute('data-fr-src').indexOf('file://') === 0) {\n        node.parentNode.removeChild(node);\n\n        return false;\n      }\n\n      if (node.nodeType == Node.ELEMENT_NODE && $.FE.HTML5Map[node.tagName] && editor.node.attributes(node) === '') {\n        var tg = $.FE.HTML5Map[node.tagName];\n        var new_node = '<' + tg + '>' + node.innerHTML + '</' + tg + '>';\n        node.insertAdjacentHTML('beforebegin', new_node);\n        node = node.previousSibling;\n        node.parentNode.removeChild(node.nextSibling);\n      }\n\n      if (!editor.opts.htmlAllowComments && node.nodeType == Node.COMMENT_NODE) {\n\n        // Do not remove FROALA.EDITOR comments.\n        if (node.data.indexOf('[FROALA.EDITOR') !== 0) {\n          node.parentNode.removeChild(node);\n        }\n      }\n\n      // Remove completely tags in denied tags.\n      else if (node.tagName && node.tagName.match(removeTagsRE)) {\n        node.parentNode.removeChild(node);\n      }\n\n      // Unwrap tags not in allowed tags.\n      else if (node.tagName && !node.tagName.match(allowedTagsRE)) {\n\n        // https://github.com/froala/wysiwyg-editor/issues/1711 . If svg is not allowed then remove it because it is a leaf node.\n        if (node.tagName === 'svg') {\n          node.parentNode.removeChild(node);\n        }\n\n        // Ignore path tag nodes that are inside a svg tag node.\n        else if (!(editor.browser.safari && node.tagName == 'path' && node.parentNode && node.parentNode.tagName == 'svg')) {\n          node.outerHTML = node.innerHTML;\n        }\n\n      }\n\n      // Check denied attributes.\n      else {\n        var attrs = node.attributes;\n\n        if (attrs) {\n\n          for (var i = attrs.length - 1; i >= 0; i--) {\n            var attr = attrs[i];\n\n            // Check if attr is allowed.\n            var is_attr_allowed = attr.nodeName.match(allowedAttrsRE);\n\n            // Check for allowed style properties.\n            var allowed_style_props_matches = null;\n\n            // There are allowed style props.\n            if (attr.nodeName == 'style' && editor.opts.htmlAllowedStyleProps.length) {\n              allowed_style_props_matches = attr.value.match(allowedStylePropsRE);\n            }\n\n            // Attribute is allowed and there are style matches.\n            if (is_attr_allowed && allowed_style_props_matches) {\n\n              // Override attr value with only the allowed properties.\n              attr.value = _cleanStyle(allowed_style_props_matches.join(';'));\n            }\n            else if (!is_attr_allowed || (attr.nodeName == 'style' && !allowed_style_props_matches)) {\n              node.removeAttribute(attr.nodeName);\n            }\n          }\n        }\n      }\n    }\n\n    function _run (node) {\n      var contents = editor.node.contents(node);\n\n      for (var i = 0; i < contents.length; i++) {\n        if (contents[i].nodeType != Node.TEXT_NODE) {\n          _run(contents[i]);\n        }\n      }\n\n      _node(node);\n    }\n\n    /**\n     * Clean pre.\n     */\n    function _cleanPre (pre) {\n      var content = pre.innerHTML;\n\n      if (content.indexOf('\\n') >= 0) {\n        pre.innerHTML = content.replace(/\\n/g, '<br>');\n      }\n    }\n\n    /**\n     * Clean the html input.\n     */\n    function html (dirty_html, denied_tags, denied_attrs, full_page) {\n      if (typeof denied_tags == 'undefined') denied_tags = [];\n\n      if (typeof denied_attrs == 'undefined') denied_attrs = [];\n\n      if (typeof full_page == 'undefined') full_page = false;\n\n      // Empty spaces after BR always collapse.\n      // dirty_html = dirty_html.replace(/<br> */g, '<br>');\n\n      // Build the allowed tags array.\n      var allowed_tags = $.merge([], editor.opts.htmlAllowedTags);\n      var i;\n\n      for (i = 0; i < denied_tags.length; i++) {\n        if (allowed_tags.indexOf(denied_tags[i]) >= 0) {\n          allowed_tags.splice(allowed_tags.indexOf(denied_tags[i]), 1);\n        }\n      }\n\n      // Build the allowed attrs array.\n      var allowed_attrs = $.merge([], editor.opts.htmlAllowedAttrs);\n\n      for (i = 0; i < denied_attrs.length; i++) {\n        if (allowed_attrs.indexOf(denied_attrs[i]) >= 0) {\n          allowed_attrs.splice(allowed_attrs.indexOf(denied_attrs[i]), 1);\n        }\n      }\n\n      // We should allow data-fr.\n      allowed_attrs.push('data-fr-.*');\n      allowed_attrs.push('fr-.*');\n\n      // Generate cleaning RegEx.\n      allowedTagsRE = new RegExp('^' + allowed_tags.join('$|^') + '$', 'gi');\n      allowedAttrsRE = new RegExp('^' + allowed_attrs.join('$|^') + '$', 'gi');\n      removeTagsRE = new RegExp('^' + editor.opts.htmlRemoveTags.join('$|^') + '$', 'gi');\n\n      if (editor.opts.htmlAllowedStyleProps.length) {\n        allowedStylePropsRE = new RegExp('((^|;|\\\\s)' + editor.opts.htmlAllowedStyleProps.join(':.+?(?=;|$))|((^|;|\\\\s)') + ':.+?(?=(;)|$))', 'gi');\n      }\n      else {\n        allowedStylePropsRE = null;\n      }\n\n      dirty_html = exec(dirty_html, _run, true);\n\n      return dirty_html;\n    }\n\n    function _tablesWrapTHEAD () {\n      var trs = editor.el.querySelectorAll('tr');\n\n      // Make sure the TH lives inside thead.\n      for (var i = 0; i < trs.length; i++) {\n\n        // Search for th inside tr.\n        var children = trs[i].children;\n        var ok = true;\n\n        for (var j = 0; j < children.length; j++) {\n          if (children[j].tagName != 'TH') {\n            ok = false;\n            break;\n          }\n        }\n\n        // If there is something else than TH.\n        if (ok === false || children.length === 0) continue;\n\n        var tr = trs[i];\n\n        while (tr && tr.tagName != 'TABLE' && tr.tagName != 'THEAD') {\n          tr = tr.parentNode;\n        }\n\n        var thead = tr;\n\n        if (thead.tagName != 'THEAD') {\n          thead = editor.doc.createElement('THEAD');\n          tr.insertBefore(thead, tr.firstChild);\n        }\n\n        thead.appendChild(trs[i]);\n      }\n    }\n\n    /**\n     * Clean tables.\n     */\n    function tables () {\n      _tablesWrapTHEAD();\n    }\n\n    function _listsWrapMissplacedLI () {\n\n      // Find missplaced list items.\n      var lis = [];\n      var filterListItem = function (li) {\n\n        return !editor.node.isList(li.parentNode);\n      };\n\n      do {\n        if (lis.length) {\n          var li = lis[0];\n          var ul = editor.doc.createElement('ul');\n          li.parentNode.insertBefore(ul, li);\n\n          do {\n            var tmp = li;\n            li = li.nextSibling;\n            ul.appendChild(tmp);\n          } while (li && li.tagName == 'LI');\n        }\n\n        lis = [];\n        var li_sel = editor.el.querySelectorAll('li');\n\n        for (var i = 0; i < li_sel.length; i++) {\n          if (filterListItem(li_sel[i])) lis.push(li_sel[i]);\n        }\n      } while (lis.length > 0);\n    }\n\n    function _listsJoinSiblings () {\n\n      // Join lists.\n      var sibling_lists = editor.el.querySelectorAll('ol + ol, ul + ul');\n\n      for (var k = 0; k < sibling_lists.length; k++) {\n        var list = sibling_lists[k];\n\n        if (editor.node.isList(list.previousSibling) && editor.node.openTagString(list) == editor.node.openTagString(list.previousSibling)) {\n          var childs = editor.node.contents(list);\n\n          for (var i = 0; i < childs.length; i++) {\n            list.previousSibling.appendChild(childs[i]);\n          }\n          list.parentNode.removeChild(list);\n        }\n      }\n    }\n\n    function _listsRemoveEmpty () {\n\n      var i;\n\n      // Remove empty lists.\n      var do_remove;\n\n      var removeEmptyList = function (lst) {\n        if (!lst.querySelector('LI')) {\n          do_remove = true;\n          lst.parentNode.removeChild(lst);\n        }\n      };\n\n      do {\n        do_remove = false;\n\n        // Remove empty li.\n        var empty_lis = editor.el.querySelectorAll('li:empty');\n\n        for (i = 0; i < empty_lis.length; i++) {\n          empty_lis[i].parentNode.removeChild(empty_lis[i]);\n        }\n\n        // Remove empty ul and ol.\n        var remaining_lists = editor.el.querySelectorAll('ul, ol');\n\n        for (i = 0; i < remaining_lists.length; i++) {\n          removeEmptyList(remaining_lists[i]);\n        }\n      } while (do_remove === true);\n    }\n\n    function _listsWrapLists () {\n\n      // Do not allow list directly inside another list.\n      var direct_lists = editor.el.querySelectorAll('ul > ul, ol > ol, ul > ol, ol > ul');\n\n      for (var i = 0; i < direct_lists.length; i++) {\n        var list = direct_lists[i];\n        var prev_li = list.previousSibling;\n\n        if (prev_li) {\n          if (prev_li.tagName == 'LI') {\n            prev_li.appendChild(list);\n          }\n          else {\n            $(list).wrap('<li></li>');\n          }\n        }\n      }\n    }\n\n    function _listsNoTagAfterNested () {\n\n      // Check if nested lists don't have HTML after them.\n      var nested_lists = editor.el.querySelectorAll('li > ul, li > ol');\n\n      for (var i = 0; i < nested_lists.length; i++) {\n        var lst = nested_lists[i];\n\n        if (lst.nextSibling) {\n          var node = lst.nextSibling;\n          var $new_li = $('<li>');\n          $(lst.parentNode).after($new_li);\n\n          do {\n            var tmp = node;\n            node = node.nextSibling;\n            $new_li.append(tmp);\n          } while (node);\n        }\n      }\n    }\n\n    function _listsTypeInNested () {\n\n      // Make sure we can type in nested list.\n      var nested_lists = editor.el.querySelectorAll('li > ul, li > ol');\n\n      for (var i = 0; i < nested_lists.length; i++) {\n        var lst = nested_lists[i];\n\n        // List is the first in the LI.\n        if (editor.node.isFirstSibling(lst)) {\n          $(lst).before('<br/>');\n        }\n\n        // Make sure we don't leave BR before list.\n        else if (lst.previousSibling && lst.previousSibling.tagName == 'BR') {\n          var prev_node = lst.previousSibling.previousSibling;\n\n          // Skip markers.\n          while (prev_node && editor.node.hasClass(prev_node, 'fr-marker')) {\n            prev_node = prev_node.previousSibling;\n          }\n\n          // Remove BR only if there is something else than BR.\n          if (prev_node && prev_node.tagName != 'BR') {\n            $(lst.previousSibling).remove();\n          }\n        }\n      }\n    }\n\n    function _listsRemoveEmptyLI () {\n\n      // Remove empty li.\n      var empty_lis = editor.el.querySelectorAll('li:empty');\n\n      for (var i = 0; i < empty_lis.length; i++) {\n        $(empty_lis[i]).remove();\n      }\n    }\n\n    function _listsFindMissplacedText () {\n      var lists = editor.el.querySelectorAll('ul, ol');\n\n      for (var i = 0; i < lists.length; i++) {\n        var contents = editor.node.contents(lists[i]);\n        var $li = null;\n\n        for (var j = contents.length - 1; j >= 0; j--) {\n\n          if (contents[j].tagName != 'LI') {\n            if (!$li) {\n              $li = $('<li>');\n              $li.insertBefore(contents[j]);\n            }\n\n            $li.prepend(contents[j]);\n          }\n          else {\n            $li = null;\n          }\n        }\n      }\n    }\n\n    /**\n     * Clean lists.\n     */\n    function lists () {\n      _listsWrapMissplacedLI();\n\n      _listsJoinSiblings();\n\n      _listsFindMissplacedText();\n\n      _listsRemoveEmpty();\n\n      _listsWrapLists();\n\n      _listsNoTagAfterNested();\n\n      _listsTypeInNested();\n\n      _listsRemoveEmptyLI();\n    }\n\n    /**\n     * Initialize\n     */\n    function _init () {\n\n      // If fullPage is on allow head and title.\n      if (editor.opts.fullPage) {\n        $.merge(editor.opts.htmlAllowedTags, ['head', 'title', 'style', 'link', 'base', 'body', 'html', 'meta']);\n      }\n    }\n\n    return {\n      _init: _init,\n      html: html,\n      toHTML5: toHTML5,\n      tables: tables,\n      lists: lists,\n      invisibleSpaces: invisibleSpaces,\n      exec: exec\n    }\n  };\n\n\n  $.FE.MODULES.spaces = function (editor) {\n\n    function _normalizeNode (node, browser_way) {\n      var p_node = node.previousSibling;\n      var n_node = node.nextSibling;\n      var txt = node.textContent;\n      var parent_node = node.parentNode;\n\n      if (editor.html.isPreformatted(parent_node)) return;\n\n      if (browser_way) {\n        txt = txt.replace(/[\\f\\n\\r\\t\\v ]{2,}/g, ' ');\n\n        // No node after.\n        if ((!n_node || n_node.tagName === 'BR' || editor.node.isBlock(n_node)) && (editor.node.isBlock(parent_node) || (editor.node.isLink(parent_node) && !parent_node.nextSibling) || editor.node.isElement(parent_node))) {\n          txt = txt.replace(/[\\f\\n\\r\\t\\v ]{1,}$/g, '');\n        }\n\n        if ((!p_node || p_node.tagName === 'BR' || editor.node.isBlock(p_node)) && (editor.node.isBlock(parent_node) || (editor.node.isLink(parent_node)  && !parent_node.previousSibling) || editor.node.isElement(parent_node))) {\n          txt = txt.replace(/^[\\f\\n\\r\\t\\v ]{1,}/g, '');\n        }\n\n        // https://github.com/froala/wysiwyg-editor/issues/1767 .\n        if (txt === ' ' && ((p_node && editor.node.isVoid(p_node)) || (n_node && editor.node.isVoid(n_node)))) {\n          txt = '';\n        }\n      }\n\n      // Collapse spaces when we have nested blocks.\n      if (((!p_node && editor.node.isBlock(n_node)) || (!n_node && editor.node.isBlock(p_node))) && editor.node.isBlock(parent_node)) {\n        txt = txt.replace(/^[\\f\\n\\r\\t\\v ]{1,}/g, '');\n      }\n\n      // Convert all non breaking to breaking spaces.\n      if (!browser_way) {\n        txt = txt.replace(new RegExp($.FE.UNICODE_NBSP, 'g'), ' ');\n      }\n\n      var new_text = '';\n\n      for (var t = 0; t < txt.length; t++) {\n        if (txt.charCodeAt(t) == 32 && (t === 0 || new_text.charCodeAt(t - 1) == 32)) {\n          new_text += $.FE.UNICODE_NBSP;\n        }\n        else {\n          new_text += txt[t];\n        }\n      }\n\n      // Ending spaces should be NBSP or spaces before block tags.\n      // 1. No node after. (and the parent node is block tag.)\n      // 2. Next block is block tag.\n      // 3. Next element has display block.\n      if (!n_node || (n_node && editor.node.isBlock(n_node)) || (n_node && n_node.nodeType == Node.ELEMENT_NODE && editor.win.getComputedStyle(n_node) && editor.win.getComputedStyle(n_node).display == 'block')) {\n        new_text = new_text.replace(/ $/, $.FE.UNICODE_NBSP);\n      }\n\n      // Previous sibling is not void or block.\n      if (p_node && !editor.node.isVoid(p_node) && !editor.node.isBlock(p_node)) {\n        new_text = new_text.replace(/^\\u00A0([^ $])/, ' $1');\n\n        // https://github.com/froala/wysiwyg-editor/issues/1355.\n        if (new_text.length === 1 && new_text.charCodeAt(0) === 160 && n_node && !editor.node.isVoid(n_node) && !editor.node.isBlock(n_node)) {\n          new_text = ' ';\n        }\n      }\n\n      // Convert middle nbsp to spaces.\n      if (!browser_way) {\n        new_text = new_text.replace(/([^ \\u00A0])\\u00A0([^ \\u00A0])/g, '$1 $2');\n      }\n\n      if (node.textContent != new_text) {\n        node.textContent = new_text;\n      }\n    }\n\n    function normalize (el, browser_way) {\n      if (typeof el == 'undefined' || !el) el = editor.el;\n\n      if (typeof browser_way == 'undefined') browser_way = false;\n\n      // Ignore contenteditable.\n      if (el.getAttribute && el.getAttribute('contenteditable') == 'false') return;\n\n      if (el.nodeType == Node.TEXT_NODE) {\n        _normalizeNode(el, browser_way)\n      }\n      else if (el.nodeType == Node.ELEMENT_NODE) {\n        var walker = editor.doc.createTreeWalker(el, NodeFilter.SHOW_TEXT, editor.node.filter(function (node) {\n\n          // Store the current parent node.\n          var temp_node = node.parentNode;\n\n          // Loop through the nodes to see if it is PRE tag, go to the highest parent until editable element.\n          while (temp_node && temp_node !== editor.el) {\n\n            if (temp_node.tagName == 'STYLE' || temp_node.tagName == 'IFRAME') {\n              return false;\n            }\n\n            if (temp_node.tagName !== 'PRE') {\n\n              // Check next parent.\n              temp_node = temp_node.parentNode;\n            }\n            else {\n\n              // If inside a PRE tag return false and move to next element.\n              return false;\n            }\n          }\n\n          // If not PRE tag start matching for chars that need to be removed from all other html tags.\n          return node.textContent.match(/([ \\u00A0\\f\\n\\r\\t\\v]{2,})|(^[ \\u00A0\\f\\n\\r\\t\\v]{1,})|([ \\u00A0\\f\\n\\r\\t\\v]{1,}$)/g) != null && !editor.node.hasClass(node.parentNode, 'fr-marker');\n        }), false);\n\n        while (walker.nextNode()) {\n          _normalizeNode(walker.currentNode, browser_way);\n        }\n      }\n    }\n\n    function normalizeAroundCursor () {\n      var nodes = [];\n      var markers = editor.el.querySelectorAll('.fr-marker');\n\n      // Get the deep parent node of each marker.\n      for (var i = 0; i < markers.length; i++) {\n        var node = null;\n        var p_node = editor.node.blockParent(markers[i]);\n\n        if (p_node) {\n          node = p_node;\n        }\n        else {\n          node = markers[i];\n        }\n\n        var next_node = node.nextSibling;\n        var prev_node = node.previousSibling;\n\n        while (next_node && next_node.tagName == 'BR') next_node = next_node.nextSibling;\n\n        while (prev_node && prev_node.tagName == 'BR') prev_node = prev_node.previousSibling;\n\n        // Push current node, prev and next one.\n        if (node && nodes.indexOf(node) < 0) nodes.push(node);\n\n        if (prev_node && nodes.indexOf(prev_node) < 0) nodes.push(prev_node);\n\n        if (next_node && nodes.indexOf(next_node) < 0) nodes.push(next_node);\n      }\n\n      for (var j = 0; j < nodes.length; j++) {\n        normalize(nodes[j]);\n      }\n    }\n\n    return {\n      normalize: normalize,\n      normalizeAroundCursor: normalizeAroundCursor\n    }\n  };\n\n\n  $.FE.UNICODE_NBSP = String.fromCharCode(160);\n\n  // Void Elements http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n  $.FE.VOID_ELEMENTS = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'menuitem', 'meta', 'param', 'source', 'track', 'wbr'];\n\n  $.FE.BLOCK_TAGS = ['address', 'article', 'aside', 'audio', 'blockquote', 'canvas', 'details', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul', 'video'];\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    htmlAllowedEmptyTags: ['textarea', 'a', 'iframe', 'object', 'video', 'style', 'script', '.fa', '.fr-emoticon', '.fr-inner', 'path', 'line'],\n    htmlDoNotWrapTags: ['script', 'style'],\n    htmlSimpleAmpersand: false,\n    htmlIgnoreCSSProperties: [],\n    htmlExecuteScripts: true\n  });\n\n  $.FE.MODULES.html = function (editor) {\n    /**\n     * Determine the default block tag.\n     */\n    function defaultTag () {\n      if (editor.opts.enter == $.FE.ENTER_P) return 'p';\n\n      if (editor.opts.enter == $.FE.ENTER_DIV) return 'div';\n\n      if (editor.opts.enter == $.FE.ENTER_BR) return null;\n    }\n\n    /**\n     * Tells if the node keeps text formating.\n     */\n    function isPreformatted (node, look_up) {\n      // Stop condition.\n      if (!node || node === editor.el) return false;\n\n      // Check only first level.\n      if (!look_up) {\n        // Is preformatted.\n        return ['PRE', 'SCRIPT', 'STYLE'].indexOf(node.tagName) != -1;\n      }\n      else {\n        if (['PRE', 'SCRIPT', 'STYLE'].indexOf(node.tagName) != -1) {\n          return true;\n        }\n        else {\n          return isPreformatted(node.parentNode, look_up);\n        }\n      }\n    }\n\n    /**\n     * Get the empty blocs.\n     */\n    function emptyBlocks (around_markers) {\n\n      var empty_blocks = [];\n      var i;\n\n      // Block tag elements.\n      var els = [];\n\n      if (around_markers) {\n        var markers = editor.el.querySelectorAll('.fr-marker');\n\n        for (i = 0; i < markers.length; i++) {\n          var p_node = editor.node.blockParent(markers[i]) || markers[i];\n\n          if (p_node) {\n            var next_node = p_node.nextSibling;\n            var prev_node = p_node.previousSibling;\n\n            // Push current node, prev and next one.\n            if (p_node && els.indexOf(p_node) < 0 && editor.node.isBlock(p_node)) els.push(p_node);\n\n            if (prev_node && editor.node.isBlock(prev_node) && els.indexOf(prev_node) < 0) els.push(prev_node);\n\n            if (next_node && editor.node.isBlock(next_node) && els.indexOf(next_node) < 0) els.push(next_node);\n          }\n        }\n      }\n      else {\n        els = editor.el.querySelectorAll(blockTagsQuery());\n      }\n\n      var qr = blockTagsQuery();\n      qr += ',' + $.FE.VOID_ELEMENTS.join(',');\n      qr += ', .fr-inner',\n      qr += ',' + editor.opts.htmlAllowedEmptyTags.join(':not(.fr-marker),') + ':not(.fr-marker)';\n\n      // Check if there are empty block tags with markers.\n      for (i = els.length - 1; i >= 0; i--) {\n\n        // If the block tag has text content, ignore it.\n        if (els[i].textContent && els[i].textContent.replace(/\\u200B|\\n/g, '').length > 0) continue;\n\n        if (els[i].querySelectorAll(qr).length > 0) continue;\n\n        // We're checking text from here on.\n        var contents = editor.node.contents(els[i]);\n\n        var found = false;\n\n        for (var j = 0; j < contents.length; j++) {\n          if (contents[j].nodeType == Node.COMMENT_NODE) continue;\n\n          // Text node that is not empty.\n          if (contents[j].textContent && contents[j].textContent.replace(/\\u200B|\\n/g, '').length > 0) {\n            found = true;\n\n            break;\n          }\n        }\n\n        // Make sure we don't add TABLE and TD at the same time for instance.\n        if (!found) empty_blocks.push(els[i]);\n      }\n\n      return empty_blocks;\n    }\n\n    /**\n     * Create jQuery query for empty block tags.\n     */\n    function emptyBlockTagsQuery () {\n\n      return $.FE.BLOCK_TAGS.join(':empty, ') + ':empty';\n    }\n\n    /**\n     * Create jQuery query for selecting block tags.\n     */\n    function blockTagsQuery () {\n\n      return $.FE.BLOCK_TAGS.join(', ');\n    }\n\n    /**\n     * Remove empty elements that are not VOID elements.\n     */\n    function cleanEmptyTags (remove_blocks) {\n      var els = $.merge([], $.FE.VOID_ELEMENTS);\n      els = $.merge(els, editor.opts.htmlAllowedEmptyTags);\n\n      if (typeof remove_blocks == 'undefined') {\n        els = $.merge(els, $.FE.BLOCK_TAGS);\n      }\n      else {\n        els = $.merge(els, $.FE.NO_DELETE_TAGS);\n      }\n\n      var elms;\n      var ok;\n\n      elms = editor.el.querySelectorAll('*:empty:not(' + els.join('):not(') + '):not(.fr-marker)');\n\n      do {\n        ok = false;\n\n        // Remove those elements that have no attributes.\n        for (var i = 0; i < elms.length; i++) {\n          if (elms[i].attributes.length === 0 || typeof elms[i].getAttribute('href') !== 'undefined') {\n            elms[i].parentNode.removeChild(elms[i]);\n            ok = true;\n          }\n        }\n\n        elms = editor.el.querySelectorAll('*:empty:not(' + els.join('):not(') + '):not(.fr-marker)');\n      } while (elms.length && ok);\n    }\n\n    /**\n     * Wrap the content inside the element passed as argument.\n     */\n    function _wrapElement(el, temp) {\n      var default_tag = defaultTag();\n\n      if (temp) default_tag = 'div';\n\n      if (default_tag) {\n\n        // Rewrite the entire content.\n        var main_doc = editor.doc.createDocumentFragment();\n\n        // Anchor.\n        var anchor = null;\n\n        // If we found anything inside the current anchor.\n        var found = false;\n\n        var node = el.firstChild;\n\n        var changed = false;\n\n        // Loop through contents.\n        while (node) {\n          var next_node = node.nextSibling;\n\n          // Current node is a block node.\n          // Or it is a do not wrap node and not a fr-marker.\n          if (node.nodeType == Node.ELEMENT_NODE && (editor.node.isBlock(node) || (editor.opts.htmlDoNotWrapTags.indexOf(node.tagName.toLowerCase()) >= 0 && !editor.node.hasClass(node, 'fr-marker')))) {\n            anchor = null;\n            main_doc.appendChild(node.cloneNode(true));\n          }\n\n          // Other node types than element and text.\n          else if (node.nodeType != Node.ELEMENT_NODE && node.nodeType != Node.TEXT_NODE) {\n            anchor = null;\n            main_doc.appendChild(node.cloneNode(true));\n          }\n\n          // Current node is BR.\n          else if (node.tagName == 'BR') {\n\n            // There is no anchor.\n            if (anchor == null) {\n              anchor = editor.doc.createElement(default_tag);\n              changed = true;\n\n              if (temp) {\n                anchor.setAttribute('class', 'fr-temp-div');\n                anchor.setAttribute('data-empty', true);\n              }\n\n              anchor.appendChild(node.cloneNode(true));\n\n              main_doc.appendChild(anchor);\n            }\n\n            // There is anchor. Just remove BR.\n            else {\n\n              // There is nothing else except markers and BR inside the new formed tag.\n              if (found === false) {\n                anchor.appendChild(editor.doc.createElement('br'));\n\n                if (temp) {\n                  anchor.setAttribute('class', 'fr-temp-div');\n                  anchor.setAttribute('data-empty', true);\n                }\n              }\n            }\n\n            anchor = null;\n          }\n\n          // Text node or other node type.\n          else {\n            var txt = node.textContent;\n\n            // Node is not text node.\n            // Node is text node and it doesn't contain only spaces and NL.\n            // There are empty spaces but no new lines.\n            if (node.nodeType !== Node.TEXT_NODE || (txt.replace(/\\n/g, '').replace(/(^ *)|( *$)/g, '').length > 0 || (txt.length && txt.indexOf('\\n') < 0))) {\n\n              // No anchor.\n              if (anchor == null) {\n                anchor = editor.doc.createElement(default_tag);\n                changed = true;\n\n                if (temp) anchor.setAttribute('class', 'fr-temp-div');\n                main_doc.appendChild(anchor);\n\n                found = false;\n              }\n\n              // Add node to anchor.\n              anchor.appendChild(node.cloneNode(true));\n\n              // Check if maybe we have a non empty node.\n              if (!found && (!editor.node.hasClass(node, 'fr-marker') && !(node.nodeType == Node.TEXT_NODE && txt.replace(/ /g, '').length === 0))) {\n                found = true;\n              }\n            }\n\n            // Else skip the node because it's empty.\n          }\n\n          node = next_node;\n        }\n\n        if (changed) {\n          el.innerHTML = '';\n          el.appendChild(main_doc);\n        }\n      }\n    }\n\n    function _wrapElements (els, temp) {\n      for (var i = els.length - 1; i >= 0; i--) {\n        _wrapElement(els[i], temp);\n      }\n    }\n\n    /**\n     * Wrap the direct content inside the default block tag.\n     */\n    function _wrap (temp, tables, blockquote, inner, li) {\n      if (!editor.$wp) return false;\n\n      if (typeof temp == 'undefined') temp = false;\n\n      if (typeof tables == 'undefined') tables = false;\n\n      if (typeof blockquote == 'undefined') blockquote = false;\n\n      if (typeof inner == 'undefined') inner = false;\n\n      if (typeof li == 'undefined') li = false;\n\n      // Wrap element.\n      var wp_st = editor.$wp.scrollTop();\n\n      _wrapElement(editor.el, temp);\n\n      if (inner) {\n        _wrapElements(editor.el.querySelectorAll('.fr-inner'), temp);\n      }\n\n      // Wrap table contents.\n      if (tables) {\n        _wrapElements(editor.el.querySelectorAll('td, th'), temp);\n      }\n\n      // Wrap table contents.\n      if (blockquote) {\n        _wrapElements(editor.el.querySelectorAll('blockquote'), temp);\n      }\n\n      if (li) {\n        _wrapElements(editor.el.querySelectorAll('li'), temp);\n      }\n\n      if (wp_st != editor.$wp.scrollTop()) {\n        editor.$wp.scrollTop(wp_st);\n      }\n    }\n\n    /**\n     * Unwrap temporary divs.\n     */\n    function unwrap () {\n      editor.$el.find('div.fr-temp-div').each(function () {\n        if (this.previousSibling && this.previousSibling.nodeType === Node.TEXT_NODE) {\n          $(this).before('<br>');\n        }\n\n        if ($(this).attr('data-empty') || !this.nextSibling || (editor.node.isBlock(this.nextSibling) && !$(this.nextSibling).hasClass('fr-temp-div'))) {\n          $(this).replaceWith($(this).html());\n        }\n        else {\n          $(this).replaceWith($(this).html() + '<br>');\n        }\n      });\n\n      // Remove temp class from other blocks.\n      editor.$el.find('.fr-temp-div').removeClass('fr-temp-div').filter(function () {\n\n        return $(this).attr('class') === '';\n      }).removeAttr('class');\n    }\n\n    /**\n     * Add BR inside empty elements.\n     */\n    function fillEmptyBlocks (around_markers) {\n      var blocks = emptyBlocks(around_markers);\n\n      for (var i = 0; i < blocks.length; i++) {\n        var block = blocks[i];\n\n        if (block.getAttribute('contenteditable') !== 'false' &&\n            !block.querySelector(editor.opts.htmlAllowedEmptyTags.join(':not(.fr-marker),') + ':not(.fr-marker)') &&\n            !editor.node.isVoid(block)) {\n          if (block.tagName != 'TABLE' && block.tagName != 'TBODY' && block.tagName != 'TR' && block.tagName != 'UL' && block.tagName != 'OL') block.appendChild(editor.doc.createElement('br'));\n        }\n      }\n\n      // Fix for https://github.com/froala/wysiwyg-editor/issues/1166#issuecomment-204549406.\n      if (editor.browser.msie && editor.opts.enter == $.FE.ENTER_BR) {\n        var contents = editor.node.contents(editor.el);\n\n        if (contents.length && contents[contents.length - 1].nodeType == Node.TEXT_NODE) {\n          editor.$el.append('<br>');\n        }\n      }\n    }\n\n    /**\n     * Get the blocks inside the editable area.\n     */\n    function blocks () {\n\n      return editor.$el.get(0).querySelectorAll(blockTagsQuery());\n    }\n\n    /**\n     * Clean the blank spaces between the block tags.\n     */\n    function cleanBlankSpaces (el) {\n      if (typeof el == 'undefined') el = editor.el;\n\n      if (el && ['SCRIPT', 'STYLE', 'PRE'].indexOf(el.tagName) >= 0) return false;\n\n      var walker = editor.doc.createTreeWalker(el, NodeFilter.SHOW_TEXT, editor.node.filter(function (node) {\n\n          return node.textContent.match(/([ \\n]{2,})|(^[ \\n]{1,})|([ \\n]{1,}$)/g) != null;\n        }), false);\n\n      while (walker.nextNode()) {\n\n        var node = walker.currentNode;\n\n        if (isPreformatted(node.parentNode, true)) continue;\n\n        var is_block_or_element = editor.node.isBlock(node.parentNode) || editor.node.isElement(node.parentNode);\n\n        // Remove middle spaces.\n        // Replace new lines with spaces.\n        // Replace begin/end spaces.\n        var txt = node.textContent\n          .replace(/(?!^)( ){2,}(?!$)/g, ' ')\n          .replace(/\\n/g, ' ')\n          .replace(/^[ ]{2,}/g, ' ')\n          .replace(/[ ]{2,}$/g, ' ');\n\n        if (is_block_or_element) {\n          var p_node = node.previousSibling;\n          var n_node = node.nextSibling;\n\n          if (p_node && n_node && txt == ' ') {\n            if (editor.node.isBlock(p_node) && editor.node.isBlock(n_node)) {\n              txt = '';\n            }\n            else {\n              txt = ' ';\n            }\n          }\n          else {\n\n            // No previous siblings.\n            if (!p_node) txt = txt.replace(/^ */,'');\n\n            // No next siblings.\n            if (!n_node) txt = txt.replace(/ *$/,'');\n          }\n        }\n\n        node.textContent = txt;\n      }\n    }\n\n    /**\n     * Extract a specific match for a RegEx.\n     */\n    function _extractMatch (html, re, id) {\n      var reg_exp = new RegExp(re, 'gi');\n      var matches = reg_exp.exec(html);\n\n      if (matches) {\n\n        return matches[id];\n      }\n\n      return null;\n    }\n\n    /**\n     * Create new doctype.\n     */\n    function _newDoctype (string, doc) {\n      var matches = string.match(/<!DOCTYPE ?([^ ]*) ?([^ ]*) ?\"?([^\"]*)\"? ?\"?([^\"]*)\"?>/i);\n\n      if (matches) {\n\n        return doc.implementation.createDocumentType(\n          matches[1],\n          matches[3],\n          matches[4]\n        )\n      }\n      else {\n\n        return doc.implementation.createDocumentType('html');\n      }\n    }\n\n    /**\n     * Get string doctype of a document.\n     */\n    function getDoctype (doc) {\n      var node = doc.doctype;\n      var doctype = '<!DOCTYPE html>';\n\n      if (node) {\n        doctype = '<!DOCTYPE '\n                  + node.name\n                  + (node.publicId ? ' PUBLIC \"' + node.publicId + '\"' : '')\n                  + (!node.publicId && node.systemId ? ' SYSTEM' : '')\n                  + (node.systemId ? ' \"' + node.systemId + '\"' : '')\n                  + '>';\n      }\n\n      return doctype;\n    }\n\n    function _processBR (br) {\n      var parent_node = br.parentNode;\n\n      if (parent_node && (editor.node.isBlock(parent_node) || editor.node.isElement(parent_node)) && ['TD', 'TH'].indexOf(parent_node.tagName) < 0) {\n        var prev_node = br.previousSibling;\n        var next_node = br.nextSibling;\n\n        // Ignore non characters.\n        while (prev_node && ((prev_node.nodeType == Node.TEXT_NODE && prev_node.textContent.replace(/\\n|\\r/g, '').length === 0) || editor.node.hasClass(prev_node, 'fr-tmp'))) {\n          prev_node = prev_node.previousSibling;\n        }\n\n        if (next_node) return false;\n\n        // Previous node.\n        // Previous node is not BR.\n        // Previoues node is not block tag.\n        // No next node.\n        // Parent node has text.\n        // Previous node has text.\n        if (prev_node && parent_node && prev_node.tagName != 'BR' && !editor.node.isBlock(prev_node) && !next_node && parent_node.textContent.replace(/\\u200B/g, '').length > 0 && prev_node.textContent.length > 0 && !editor.node.hasClass(prev_node, 'fr-marker')) {\n          // Fix for https://github.com/froala/wysiwyg-editor/issues/1166#issuecomment-204549406.\n          if (!(editor.el == parent_node && !next_node && editor.opts.enter == $.FE.ENTER_BR && editor.browser.msie)) {\n            br.parentNode.removeChild(br);\n          }\n        }\n      }\n\n      // Regular node.\n      else if (parent_node && !(editor.node.isBlock(parent_node) || editor.node.isElement(parent_node))) {\n\n        // Check if we have something else than BR.\n        if (!br.previousSibling && !br.nextSibling && editor.node.isDeletable(br.parentNode)) {\n          _processBR(br.parentNode);\n        }\n      }\n    }\n\n    function cleanBRs () {\n      var brs = editor.el.getElementsByTagName('br');\n\n      for (var i = 0; i < brs.length; i++) {\n        _processBR(brs[i]);\n      }\n    }\n\n    /**\n     * Normalize.\n     */\n    function _normalize () {\n      if (!editor.opts.htmlUntouched) {\n\n        // Remove empty tags.\n        cleanEmptyTags();\n\n        // Wrap possible text.\n        _wrap();\n\n        // Clean blank spaces.\n        cleanBlankSpaces();\n\n        // Normalize spaces.\n        editor.spaces.normalize(null, true);\n\n        // Add BR tag where it is necessary.\n        editor.html.fillEmptyBlocks();\n\n        // Clean lists.\n        editor.clean.lists();\n\n        // Clean tables.\n        editor.clean.tables();\n\n        // Convert to HTML5.\n        editor.clean.toHTML5();\n\n        // Remove unecessary brs.\n        editor.html.cleanBRs();\n      }\n\n      // Restore selection.\n      editor.selection.restore();\n\n      // Check if editor is empty and add placeholder.\n      checkIfEmpty();\n\n      // Refresh placeholder.\n      editor.placeholder.refresh();\n    }\n\n    function checkIfEmpty () {\n      if (editor.node.isEmpty(editor.el)) {\n        if (defaultTag() != null) {\n\n          // There is no block tag inside the editor.\n          if (!editor.el.querySelector(blockTagsQuery()) &&\n                !editor.el.querySelector(editor.opts.htmlDoNotWrapTags.join(':not(.fr-marker),') + ':not(.fr-marker)')) {\n            if (editor.core.hasFocus()) {\n              editor.$el.html('<' + defaultTag() + '>' + $.FE.MARKERS + '<br/></' + defaultTag() + '>');\n              editor.selection.restore();\n            }\n            else {\n              editor.$el.html('<' + defaultTag() + '>' + '<br/></' + defaultTag() + '>');\n            }\n          }\n        }\n        else {\n\n          // There is nothing in the editor.\n          if (!editor.el.querySelector('*:not(.fr-marker):not(br)')) {\n            if (editor.core.hasFocus()) {\n              editor.$el.html($.FE.MARKERS + '<br/>');\n              editor.selection.restore();\n            }\n            else {\n              editor.$el.html('<br/>');\n            }\n          }\n        }\n      }\n    }\n\n    function extractNode (html, tag) {\n\n      return _extractMatch(html, '<' + tag + '[^>]*?>([\\\\w\\\\W]*)<\\/' + tag + '>', 1);\n    }\n\n    function extractNodeAttrs (html, tag) {\n      var $dv = $('<div ' + (_extractMatch(html, '<' + tag + '([^>]*?)>', 1) || '') + '>');\n\n      return editor.node.rawAttributes($dv.get(0));\n    }\n\n    function extractDoctype (html) {\n\n      return (_extractMatch(html, '<!DOCTYPE([^>]*?)>', 0) || '<!DOCTYPE html>').replace(/\\n/g, ' ').replace(/ {2,}/g, ' ');\n    }\n\n    /*\n     * Set html to node.\n     */\n    function _setHtml($node, html) {\n\n      if (editor.opts.htmlExecuteScripts) {\n        $node.html(html);\n      }\n      else {\n        $node.get(0).innerHTML = html;\n      }\n    }\n\n    /**\n     * Set HTML.\n     */\n    function set (html) {\n      var clean_html = editor.clean.html((html || '').trim(), [], [], editor.opts.fullPage);\n\n      if (!editor.opts.fullPage) {\n        _setHtml(editor.$el, clean_html);\n      }\n      else {\n\n        // Get BODY data.\n        var body_html = (extractNode(clean_html, 'body') || (clean_html.indexOf('<body') >= 0 ? '' : clean_html));\n        var body_attrs = extractNodeAttrs(clean_html, 'body');\n\n        // Get HEAD data.\n        var head_html = extractNode(clean_html, 'head') || '<title></title>';\n        var head_attrs = extractNodeAttrs(clean_html, 'head');\n\n        // Get HTML that might be in <head> other than meta tags.\n        // https://github.com/froala/wysiwyg-editor/issues/1208\n        var head_bad_html = $('<div>')\n                              .append(head_html)\n                              .contents().each(function () {\n                                if (this.nodeType == Node.COMMENT_NODE || ['BASE', 'LINK', 'META', 'NOSCRIPT', 'SCRIPT', 'STYLE', 'TEMPLATE', 'TITLE'].indexOf(this.tagName) >= 0) {\n                                  this.parentNode.removeChild(this);\n                                }\n                              }).end().html().trim();\n\n        // Filter and keep only meta tags in <head>.\n        // https://html.spec.whatwg.org/multipage/dom.html#metadata-content-2\n        head_html = $('<div>')\n                              .append(head_html)\n                              .contents().map(function () {\n                                if (this.nodeType == Node.COMMENT_NODE) {\n\n                                  return '\x3c!--' + this.nodeValue + '--\x3e';\n                                }\n                                else if (['BASE', 'LINK', 'META', 'NOSCRIPT', 'SCRIPT', 'STYLE', 'TEMPLATE', 'TITLE'].indexOf(this.tagName) >= 0) {\n                                  return this.outerHTML;\n                                }\n                                else {\n\n                                  return '';\n                                }\n                              }).toArray().join('');\n\n        // Get DOCTYPE.\n        var doctype = extractDoctype(clean_html);\n\n        // Get HTML attributes.\n        var html_attrs = extractNodeAttrs(clean_html, 'html');\n\n        _setHtml(editor.$el, head_bad_html + '\\n' + body_html);\n        editor.node.clearAttributes(editor.el);\n        editor.$el.attr(body_attrs);\n        editor.$el.addClass('fr-view');\n        editor.$el.attr('spellcheck', editor.opts.spellcheck);\n        editor.$el.attr('dir', editor.opts.direction);\n\n        _setHtml(editor.$head, head_html);\n        editor.node.clearAttributes(editor.$head.get(0));\n        editor.$head.attr(head_attrs);\n\n        editor.node.clearAttributes(editor.$html.get(0));\n\n        editor.$html.attr(html_attrs);\n\n        editor.iframe_document.doctype.parentNode.replaceChild(\n          _newDoctype(doctype, editor.iframe_document),\n          editor.iframe_document.doctype\n        );\n      }\n\n      // Make sure the content is editable.\n      var disabled = editor.edit.isDisabled();\n      editor.edit.on();\n\n      editor.core.injectStyle(editor.opts.iframeDefaultStyle + editor.opts.iframeStyle);\n\n      _normalize();\n\n      if (!editor.opts.useClasses) {\n\n        // Restore orignal attributes if present.\n        editor.$el.find('[fr-original-class]').each (function () {\n          this.setAttribute('class', this.getAttribute('fr-original-class'));\n          this.removeAttribute('fr-original-class');\n        });\n\n        editor.$el.find('[fr-original-style]').each (function () {\n          this.setAttribute('style', this.getAttribute('fr-original-style'));\n          this.removeAttribute('fr-original-style');\n        });\n      }\n\n      if (disabled) editor.edit.off();\n\n      editor.events.trigger('html.set');\n    }\n\n    function _specifity (selector) {\n      var idRegex = /(#[^\\s\\+>~\\.\\[:]+)/g;\n      var attributeRegex = /(\\[[^\\]]+\\])/g;\n      var classRegex = /(\\.[^\\s\\+>~\\.\\[:]+)/g;\n      var pseudoElementRegex = /(::[^\\s\\+>~\\.\\[:]+|:first-line|:first-letter|:before|:after)/gi;\n      var pseudoClassWithBracketsRegex = /(:[\\w-]+\\([^\\)]*\\))/gi;\n\n      // A regex for other pseudo classes, which don't have brackets\n      var pseudoClassRegex = /(:[^\\s\\+>~\\.\\[:]+)/g;\n      var elementRegex = /([^\\s\\+>~\\.\\[:]+)/g;\n\n      // Remove the negation psuedo-class (:not) but leave its argument because specificity is calculated on its argument\n      (function () {\n        var regex = /:not\\(([^\\)]*)\\)/g;\n\n        if (regex.test(selector)) {\n          selector = selector.replace(regex, '     $1 ');\n        }\n      }());\n\n      var s = (selector.match(idRegex) || []).length * 100 +\n              (selector.match(attributeRegex) || []).length * 10 +\n              (selector.match(classRegex) || []).length * 10 +\n              (selector.match(pseudoClassWithBracketsRegex) || []).length * 10 +\n              (selector.match(pseudoClassRegex) || []).length * 10 +\n              (selector.match(pseudoElementRegex) || []).length;\n\n      // Remove universal selector and separator characters\n      selector = selector.replace(/[\\*\\s\\+>~]/g, ' ');\n\n      // Remove any stray dots or hashes which aren't attached to words\n      // These may be present if the user is live-editing this selector\n      selector = selector.replace(/[#\\.]/g, ' ');\n\n      s += (selector.match(elementRegex) || []).length;\n\n      return s;\n    }\n\n    /**\n     * Do processing on the final html.\n     */\n    function _processOnGet (el) {\n      editor.events.trigger('html.processGet', [el]);\n\n      // Remove class attribute when empty.\n      if (el && el.getAttribute && el.getAttribute('class') === '') {\n        el.removeAttribute('class');\n      }\n\n      if (el && el.getAttribute && el.getAttribute('style') === '') {\n        el.removeAttribute('style');\n      }\n\n      // Look at inner nodes that have no class set.\n      if (el && el.nodeType == Node.ELEMENT_NODE) {\n        var els = el.querySelectorAll('[class=\"\"],[style=\"\"]');\n        var i;\n\n        for (i = 0; i < els.length; i++) {\n          var _el = els[i];\n\n          if (_el.getAttribute('class') === '') {\n            _el.removeAttribute('class');\n          }\n\n          if (_el.getAttribute('style') === '') {\n            _el.removeAttribute('style');\n          }\n        }\n\n        if (el.tagName === 'BR') {\n          _processBR(el);\n        }\n        else {\n          var brs = el.querySelectorAll('br');\n\n          for (i = 0; i < brs.length; i++) {\n            _processBR(brs[i]);\n          }\n        }\n      }\n    }\n\n    /**\n     * Sort elements by spec.\n     */\n    function _sortElementsBySpec (a, b) {\n      return a[3] - b[3];\n    }\n\n    /**\n     * Get HTML.\n     */\n    function get (keep_markers, keep_classes) {\n      if (!editor.$wp) {\n\n        return editor.$oel.clone()\n                .removeClass('fr-view')\n                .removeAttr('contenteditable')\n                .get(0).outerHTML;\n      }\n\n      var html = '';\n\n      editor.events.trigger('html.beforeGet');\n\n      // Convert STYLE from CSS files to inline style.\n      var updated_elms = [];\n      var elms_info = {};\n      var i;\n      var j;\n      var elems_specs = [];\n\n      // Sync inputs when getting the HTML.\n      var inputs = editor.el.querySelectorAll('input, textarea');\n\n      for (i = 0; i < inputs.length; i++) {\n        inputs[i].setAttribute('value', inputs[i].value);\n      }\n\n      if (!editor.opts.useClasses && !keep_classes) {\n        var ignoreRegEx = new RegExp('^' + editor.opts.htmlIgnoreCSSProperties.join('$|^') + '$', 'gi')\n\n        for (i = 0; i < editor.doc.styleSheets.length; i++) {\n          var rules;\n          var head_style = 0;\n\n          try {\n            rules = editor.doc.styleSheets[i].cssRules;\n\n            if (editor.doc.styleSheets[i].ownerNode && editor.doc.styleSheets[i].ownerNode.nodeType == 'STYLE') {\n              head_style = 1;\n            }\n          }\n          catch (ex) {\n          }\n\n          if (rules) {\n            for (var idx = 0, len = rules.length; idx < len; idx++) {\n              if (rules[idx].selectorText) {\n                if (rules[idx].style.cssText.length > 0) {\n                  var selector = rules[idx].selectorText.replace(/body |\\.fr-view /g, '').replace(/::/g, ':');\n                  var elms;\n\n                  try {\n                    elms = editor.el.querySelectorAll(selector);\n                  }\n                  catch (ex) {\n                    elms = [];\n                  }\n\n                  for (j = 0; j < elms.length; j++) {\n\n                    // Save original style.\n                    if (!elms[j].getAttribute('fr-original-style') && elms[j].getAttribute('style')) {\n                      elms[j].setAttribute('fr-original-style', elms[j].getAttribute('style'));\n                      updated_elms.push(elms[j]);\n                    }\n                    else if (!elms[j].getAttribute('fr-original-style')) {\n                      elms[j].setAttribute('fr-original-style', '');\n                      updated_elms.push(elms[j]);\n                    }\n\n                    if (!elms_info[elms[j]]) {\n                      elms_info[elms[j]] = {};\n                    }\n\n                    // Compute specification.\n                    var spec = head_style * 1000 + _specifity(rules[idx].selectorText);\n\n                    // Get CSS text of the rule.\n                    var css_text = rules[idx].style.cssText.split(';');\n\n                    // Get each rule.\n                    for (var k = 0; k < css_text.length; k++) {\n\n                      // Rule.\n                      var rule = css_text[k].trim().split(':')[0];\n\n                      if (!rule) continue;\n\n                      // Ignore the CSS rules we don't need.\n                      if (rule.match(ignoreRegEx)) continue;\n\n                      if (!elms_info[elms[j]][rule]) {\n                        elms_info[elms[j]][rule] = 0;\n\n                        if ((elms[j].getAttribute('fr-original-style') || '').indexOf(rule + ':') >= 0) {\n                          elms_info[elms[j]][rule] = 10000;\n                        }\n                      }\n\n                      // Current spec is higher than the existing one.\n                      if (spec >= elms_info[elms[j]][rule]) {\n                        elms_info[elms[j]][rule] = spec;\n\n                        if (css_text[k].trim().length) {\n\n                          var info = css_text[k].trim().split(':');\n                          info.splice(0, 1);\n\n                          // Add elements with css values and spec. This will be sorted later.\n                          elems_specs.push([elms[j], rule.trim(), info.join(':').trim(), spec])\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        // Sort elements by spec.\n        elems_specs.sort(_sortElementsBySpec);\n\n        // Add style to elements in the order of specification.\n        for (i = 0; i < elems_specs.length; i++) {\n          var specs_elem = elems_specs[i];\n          specs_elem[0].style[specs_elem[1]] = specs_elem[2];\n        }\n\n        // Save original class.\n        for (i = 0; i < updated_elms.length; i++) {\n          if (updated_elms[i].getAttribute('class')) {\n            updated_elms[i].setAttribute('fr-original-class', updated_elms[i].getAttribute('class'));\n            updated_elms[i].removeAttribute('class');\n          }\n\n          // Make sure that we have the inline style first.\n          if ((updated_elms[i].getAttribute('fr-original-style') || '').trim().length > 0) {\n            var original_rules = updated_elms[i].getAttribute('fr-original-style').split(';');\n\n            for (j = 0; j < original_rules.length; j++) {\n              if (original_rules[j].indexOf(':') > 0) {\n                var splits = original_rules[j].split(':');\n                var original_rule = splits[0];\n                splits.splice(0, 1);\n\n                updated_elms[i].style[original_rule.trim()] = splits.join(':').trim();\n              }\n            }\n          }\n        }\n      }\n\n      // If editor is not empty.\n      if (!editor.node.isEmpty(editor.el)) {\n        if (typeof keep_markers == 'undefined') keep_markers = false;\n\n        if (!editor.opts.fullPage) {\n          html = editor.$el.html();\n        }\n        else {\n          html = getDoctype(editor.iframe_document);\n          editor.$el.removeClass('fr-view');\n          var heightMin = editor.opts.heightMin;\n          editor.opts.heightMin = null;\n          editor.size.refresh();\n          html += '<html' + editor.node.attributes(editor.$html.get(0)) + '>' + editor.$html.html() + '</html>';\n          editor.opts.heightMin = heightMin;\n          editor.size.refresh();\n          editor.$el.addClass('fr-view');\n        }\n      }\n      else if (editor.opts.fullPage) {\n        html = getDoctype(editor.iframe_document);\n        html += '<html' + editor.node.attributes(editor.$html.get(0)) + '>' + editor.$html.find('head').get(0).outerHTML + '<body></body></html>';\n      }\n\n      // Remove unwanted attributes.\n      if (!editor.opts.useClasses && !keep_classes) {\n        for (i = 0; i < updated_elms.length; i++) {\n          if (updated_elms[i].getAttribute('fr-original-class')) {\n            updated_elms[i].setAttribute('class', updated_elms[i].getAttribute('fr-original-class'));\n            updated_elms[i].removeAttribute('fr-original-class');\n          }\n\n          if (updated_elms[i].getAttribute('fr-original-style') != null && typeof updated_elms[i].getAttribute('fr-original-style') != 'undefined') {\n            if (updated_elms[i].getAttribute('fr-original-style').length !== 0) {\n              updated_elms[i].setAttribute('style', updated_elms[i].getAttribute('fr-original-style'));\n            }\n            else {\n              updated_elms[i].removeAttribute('style');\n            }\n\n            updated_elms[i].removeAttribute('fr-original-style');\n          }\n          else {\n            updated_elms[i].removeAttribute('style');\n          }\n        }\n      }\n\n      // Clean helpers.\n      if (editor.opts.fullPage) {\n        html = html.replace(/<style data-fr-style=\"true\">(?:[\\w\\W]*?)<\\/style>/g, '');\n        html = html.replace(/<link([^>]*)data-fr-style=\"true\"([^>]*)>/g, '');\n        html = html.replace(/<style(?:[\\w\\W]*?)class=\"firebugResetStyles\"(?:[\\w\\W]*?)>(?:[\\w\\W]*?)<\\/style>/g, '');\n        html = html.replace(/<body((?:[\\w\\W]*?)) spellcheck=\"true\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1$2>$3</body>');\n        html = html.replace(/<body((?:[\\w\\W]*?)) contenteditable=\"(true|false)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1$3>$4</body>');\n\n        html = html.replace(/<body((?:[\\w\\W]*?)) dir=\"([\\w]*)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1$3>$4</body>');\n        html = html.replace(/<body((?:[\\w\\W]*?))class=\"([\\w\\W]*?)(fr-rtl|fr-ltr)([\\w\\W]*?)\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1class=\"$2$4\"$5>$6</body>');\n        html = html.replace(/<body((?:[\\w\\W]*?)) class=\"\"((?:[\\w\\W]*?))>((?:[\\w\\W]*?))<\\/body>/g, '<body$1$2>$3</body>');\n      }\n\n      // Ampersand fix.\n      if (editor.opts.htmlSimpleAmpersand) {\n        html = html.replace(/\\&amp;/gi, '&');\n      }\n\n      editor.events.trigger('html.afterGet');\n\n      // Remove markers.\n      if (!keep_markers) {\n        html = html.replace(/<span[^>]*? class\\s*=\\s*[\"']?fr-marker[\"']?[^>]+>\\u200b<\\/span>/gi, '');\n      }\n\n      html = editor.clean.invisibleSpaces(html);\n\n      html = editor.clean.exec(html, _processOnGet);\n\n      var new_html = editor.events.chainTrigger('html.get', html);\n\n      if (typeof new_html == 'string') {\n        html = new_html;\n      }\n\n      // Deal with pre.\n      html = html.replace(/<pre(?:[\\w\\W]*?)>(?:[\\w\\W]*?)<\\/pre>/g, function (str) {\n\n        return str.replace(/<br>/g, '\\n');\n      });\n\n      return html;\n    }\n\n    /**\n     * Get selected HTML.\n     */\n    function getSelected () {\n      var wrapSelection = function (container, node) {\n        while (node && (node.nodeType == Node.TEXT_NODE || !editor.node.isBlock(node)) && !editor.node.isElement(node) && !editor.node.hasClass(node, 'fr-inner')) {\n          if (node && node.nodeType != Node.TEXT_NODE) {\n            $(container).wrapInner(editor.node.openTagString(node) + editor.node.closeTagString(node));\n          }\n\n          node = node.parentNode;\n        }\n\n        if (node && container.innerHTML == node.innerHTML) {\n          container.innerHTML = node.outerHTML;\n        }\n      }\n\n      var selectionParent = function () {\n        var parent = null;\n        var sel;\n\n        if (editor.win.getSelection) {\n          sel = editor.win.getSelection();\n\n          if (sel && sel.rangeCount) {\n            parent = sel.getRangeAt(0).commonAncestorContainer;\n\n            if (parent.nodeType != Node.ELEMENT_NODE) {\n              parent = parent.parentNode;\n            }\n          }\n        }\n        else if ((sel = editor.doc.selection) && sel.type != 'Control') {\n          parent = sel.createRange().parentElement();\n        }\n\n        if (parent != null && ($.inArray(editor.el, $(parent).parents()) >= 0 || parent == editor.el)) {\n\n          return parent;\n        }\n        else {\n\n          return null;\n        }\n      }\n\n      var html = '';\n\n      if (typeof editor.win.getSelection != 'undefined') {\n\n        // Multiple ranges hack.\n        if (editor.browser.mozilla) {\n          editor.selection.save();\n\n          if (editor.$el.find('.fr-marker[data-type=\"false\"]').length > 1) {\n            editor.$el.find('.fr-marker[data-type=\"false\"][data-id=\"0\"]').remove();\n            editor.$el.find('.fr-marker[data-type=\"false\"]:last').attr('data-id', '0');\n            editor.$el.find('.fr-marker').not('[data-id=\"0\"]').remove();\n          }\n          editor.selection.restore();\n        }\n\n        var ranges = editor.selection.ranges();\n\n        for (var i = 0; i < ranges.length; i++) {\n          var container = document.createElement('div');\n          container.appendChild(ranges[i].cloneContents());\n\n          wrapSelection(container, selectionParent());\n\n          // Fix for https://github.com/froala/wysiwyg-editor/issues/1010.\n          if ($(container).find('.fr-element').length > 0) {\n            container = editor.el;\n          }\n\n          html += container.innerHTML;\n        }\n      }\n\n      else if (typeof editor.doc.selection != 'undefined') {\n        if (editor.doc.selection.type == 'Text') {\n          html = editor.doc.selection.createRange().htmlText;\n        }\n      }\n\n      return html;\n    }\n\n    function _hasBlockTags (html) {\n      var tmp = editor.doc.createElement('div');\n      tmp.innerHTML = html;\n\n      return tmp.querySelector(blockTagsQuery()) !== null;\n    }\n\n    function _setCursorAtEnd (html) {\n      var tmp = editor.doc.createElement('div');\n      tmp.innerHTML = html;\n\n      editor.selection.setAtEnd(tmp);\n\n      return tmp.innerHTML;\n    }\n\n    function escapeEntities (str) {\n\n      return str.replace(/</gi, '&lt;')\n                .replace(/>/gi, '&gt;')\n                .replace(/\"/gi, '&quot;')\n                .replace(/'/gi, '&#39;')\n    }\n\n    function _unwrapForLists (html) {\n      if (!editor.html.defaultTag()) return html;\n\n      var tmp = editor.doc.createElement('div');\n      tmp.innerHTML = html;\n\n      // https://github.com/froala/wysiwyg-editor/issues/1553. Unwrap default tags from lists.\n      var default_tag_els = tmp.querySelectorAll(':scope > ' + editor.html.defaultTag());\n\n      for (var i = default_tag_els.length - 1; i >= 0; i--) {\n        var el = default_tag_els[i];\n\n        if (!editor.node.isBlock(el.previousSibling)) {\n\n          // Check previous sibling in order to add br.\n          if (el.previousSibling && !editor.node.isEmpty(el)) {\n            $('<br>').insertAfter(el.previousSibling);\n          }\n\n          // Unwrap.\n          el.outerHTML = el.innerHTML;\n        }\n      }\n\n      return tmp.innerHTML;\n    }\n\n    /**\n     * Insert HTML.\n     */\n    function insert (dirty_html, clean, do_split) {\n\n      // There is no selection.\n      if (!editor.selection.isCollapsed()) {\n        editor.selection.remove();\n      }\n\n      var clean_html;\n\n      if (!clean) {\n        clean_html = editor.clean.html(dirty_html);\n      }\n      else {\n        clean_html = dirty_html;\n      }\n\n      if (dirty_html.indexOf('class=\"fr-marker\"') < 0) {\n        clean_html = _setCursorAtEnd(clean_html);\n      }\n\n      // Editor is empty and there are block tags in the pasted HTML.\n      if (editor.node.isEmpty(editor.el) && !editor.opts.keepFormatOnDelete && _hasBlockTags(clean_html)) {\n        editor.el.innerHTML = clean_html;\n      }\n      else {\n\n        // Insert a marker.\n        var marker = editor.markers.insert();\n\n        if (!marker) {\n          editor.el.innerHTML = editor.el.innerHTML + clean_html;\n        }\n        else {\n\n          // Do not insert html inside emoticon.\n          if (editor.node.isLastSibling(marker) && $(marker).parent().hasClass('fr-deletable')) {\n\n            $(marker).insertAfter($(marker).parent());\n          }\n\n          // Check if HTML contains block tags and if so then break the current HTML.\n          var deep_parent;\n          var block_parent = editor.node.blockParent(marker);\n\n          if ((_hasBlockTags(clean_html) || do_split) && (deep_parent = editor.node.deepestParent(marker) || (block_parent && block_parent.tagName == 'LI'))) {\n            if (block_parent && block_parent.tagName == 'LI') {\n              clean_html = _unwrapForLists(clean_html);\n            }\n\n            marker = editor.markers.split();\n\n            if (!marker) return false;\n            marker.outerHTML = clean_html;\n          }\n          else {\n            marker.outerHTML = clean_html;\n          }\n        }\n      }\n\n      _normalize();\n      editor.keys.positionCaret();\n\n      editor.events.trigger('html.inserted');\n    }\n\n    /**\n     * Clean those tags that have an invisible space inside.\n     */\n    function cleanWhiteTags (ignore_selection) {\n      var current_el = null;\n\n      if (typeof ignore_selection == 'undefined') {\n        current_el = editor.selection.element();\n      }\n\n      if (editor.opts.keepFormatOnDelete) return false;\n\n      var current_white = current_el ? (current_el.textContent.match(/\\u200B/g) || []).length - current_el.querySelectorAll('.fr-marker').length : 0;\n      var total_white = (editor.el.textContent.match(/\\u200B/g) || []).length - editor.el.querySelectorAll('.fr-marker').length ;\n\n      if (total_white == current_white) return false;\n\n      var possible_elements;\n      var removed;\n\n      do {\n        removed = false;\n        possible_elements = editor.el.querySelectorAll('*:not(.fr-marker)');\n\n        for (var i = 0; i < possible_elements.length; i++) {\n          var el = possible_elements[i];\n\n          if (current_el == el) continue;\n\n          var text = el.textContent;\n\n          if (el.children.length === 0 && text.length === 1 && text.charCodeAt(0) == 8203 && el.tagName !== 'TD') {\n            $(el).remove();\n            removed = true;\n          }\n        }\n      } while (removed);\n    }\n\n    /**\n     * Initialization.\n     */\n    function _init () {\n      if (editor.$wp) {\n        var cleanTags = function () {\n          cleanWhiteTags();\n\n          if (editor.placeholder) {\n            setTimeout(editor.placeholder.refresh, 0);\n          }\n        }\n\n        editor.events.on('mouseup', cleanTags);\n        editor.events.on('keydown', cleanTags);\n        editor.events.on('contentChanged', checkIfEmpty);\n      }\n    }\n\n    return {\n      defaultTag: defaultTag,\n      isPreformatted: isPreformatted,\n      emptyBlocks: emptyBlocks,\n      emptyBlockTagsQuery: emptyBlockTagsQuery,\n      blockTagsQuery: blockTagsQuery,\n      fillEmptyBlocks: fillEmptyBlocks,\n      cleanEmptyTags: cleanEmptyTags,\n      cleanWhiteTags: cleanWhiteTags,\n      cleanBlankSpaces: cleanBlankSpaces,\n      blocks: blocks,\n      getDoctype: getDoctype,\n      set: set,\n      get: get,\n      getSelected: getSelected,\n      insert: insert,\n      wrap: _wrap,\n      unwrap: unwrap,\n      escapeEntities: escapeEntities,\n      checkIfEmpty: checkIfEmpty,\n      extractNode: extractNode,\n      extractNodeAttrs: extractNodeAttrs,\n      extractDoctype: extractDoctype,\n      cleanBRs: cleanBRs,\n      _init: _init\n    }\n  }\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    height: null,\n    heightMax: null,\n    heightMin: null,\n    width: null\n  });\n\n  $.FE.MODULES.size = function (editor) {\n    function syncIframe () {\n      refresh();\n\n      if (editor.opts.height) {\n        editor.$el.css('minHeight', editor.opts.height - editor.helpers.getPX(editor.$el.css('padding-top')) - editor.helpers.getPX(editor.$el.css('padding-bottom')));\n      }\n\n      editor.$iframe.height(editor.$el.outerHeight(true));\n    }\n\n    function refresh () {\n      if (editor.opts.heightMin) {\n        editor.$el.css('minHeight', editor.opts.heightMin);\n      }\n      else {\n        editor.$el.css('minHeight', '');\n      }\n\n      if (editor.opts.heightMax) {\n        editor.$wp.css('maxHeight', editor.opts.heightMax);\n        editor.$wp.css('overflow', 'auto');\n      }\n      else {\n        editor.$wp.css('maxHeight', '');\n        editor.$wp.css('overflow', '');\n      }\n\n      // Set height.\n      if (editor.opts.height) {\n        editor.$wp.height(editor.opts.height);\n        editor.$wp.css('overflow', 'auto');\n        editor.$el.css('minHeight', editor.opts.height - editor.helpers.getPX(editor.$el.css('padding-top')) - editor.helpers.getPX(editor.$el.css('padding-bottom')));\n      }\n      else {\n        editor.$wp.css('height', '');\n\n        if (!editor.opts.heightMin) editor.$el.css('minHeight', '');\n\n        if (!editor.opts.heightMax) editor.$wp.css('overflow', '');\n      }\n\n      if (editor.opts.width) editor.$box.width(editor.opts.width);\n    }\n\n    function _init () {\n      if (!editor.$wp) return false;\n\n      refresh();\n\n      // Sync iframe height.\n      if (editor.$iframe) {\n        editor.events.on('keyup keydown', function () {\n          setTimeout(syncIframe, 0)\n        }, true);\n\n        editor.events.on('commands.after html.set init initialized paste.after', syncIframe);\n      }\n    }\n\n    return {\n      _init: _init,\n      syncIframe: syncIframe,\n      refresh: refresh\n    }\n  };\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    language: null\n  });\n\n  $.FE.LANGUAGE = {};\n\n  $.FE.MODULES.language = function (editor) {\n    var lang;\n\n    /**\n     * Translate.\n     */\n    function translate (str) {\n      if (lang && lang.translation[str] && lang.translation[str].length) {\n        return lang.translation[str];\n      }\n      else {\n        return str;\n      }\n    }\n\n    /* Initialize */\n    function _init () {\n\n      // Load lang.\n      if ($.FE.LANGUAGE) {\n        lang = $.FE.LANGUAGE[editor.opts.language];\n      }\n\n      // Set direction.\n      if (lang && lang.direction) {\n        editor.opts.direction = lang.direction;\n      }\n    }\n\n    return {\n      _init: _init,\n      translate: translate\n    }\n  };\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    placeholderText: 'Type something'\n  });\n\n  $.FE.MODULES.placeholder = function (editor) {\n    /* Show placeholder. */\n    function show () {\n      if (!editor.$placeholder) _add();\n\n      var margin_offset = editor.opts.iframe ? editor.$iframe.prev().outerHeight(true) : editor.$el.prev().outerHeight(true);\n\n      // Determine the placeholder position based on the first element inside editor.\n      var margin_top = 0;\n      var margin_left = 0;\n      var margin_right = 0;\n      var padding_top = 0;\n      var padding_left = 0;\n      var padding_right = 0;\n      var contents = editor.node.contents(editor.el);\n\n      var alignment = $(editor.selection.element()).css('text-align');\n\n      if (contents.length && contents[0].nodeType == Node.ELEMENT_NODE) {\n\n        var $first_node = $(contents[0]);\n\n        if ((!editor.opts.toolbarInline || editor.$el.prev().length > 0) && editor.ready) {\n          margin_top = editor.helpers.getPX($first_node.css('margin-top'));\n          padding_top = editor.helpers.getPX($first_node.css('padding-top'));\n          margin_left = editor.helpers.getPX($first_node.css('margin-left'));\n          margin_right = editor.helpers.getPX($first_node.css('margin-right'));\n          padding_left = editor.helpers.getPX($first_node.css('padding-left'));\n          padding_right = editor.helpers.getPX($first_node.css('padding-right'));\n        }\n\n        editor.$placeholder.css('font-size', $first_node.css('font-size'));\n        editor.$placeholder.css('line-height', $first_node.css('line-height'));\n      }\n      else {\n        editor.$placeholder.css('font-size', editor.$el.css('font-size'));\n        editor.$placeholder.css('line-height', editor.$el.css('line-height'));\n      }\n\n      editor.$wp.addClass('show-placeholder');\n      editor.$placeholder\n        .css({\n            marginTop: Math.max(editor.helpers.getPX(editor.$el.css('margin-top')), margin_top) + (margin_offset ? margin_offset : 0),\n            paddingTop: Math.max(editor.helpers.getPX(editor.$el.css('padding-top')), padding_top),\n            paddingLeft: Math.max(editor.helpers.getPX(editor.$el.css('padding-left')), padding_left),\n            marginLeft: Math.max(editor.helpers.getPX(editor.$el.css('margin-left')), margin_left),\n            paddingRight: Math.max(editor.helpers.getPX(editor.$el.css('padding-right')), padding_right),\n            marginRight: Math.max(editor.helpers.getPX(editor.$el.css('margin-right')), margin_right),\n            textAlign: alignment\n          })\n        .text(editor.language.translate(editor.opts.placeholderText || editor.$oel.attr('placeholder') || ''));\n\n      editor.$placeholder.html(editor.$placeholder.text().replace(/\\n/g, '<br>'));\n    }\n\n    /* Hide placeholder. */\n    function hide () {\n      editor.$wp.removeClass('show-placeholder');\n    }\n\n    /* Check if placeholder is visible */\n    function isVisible () {\n      return !editor.$wp ? true : editor.node.hasClass(editor.$wp.get(0), 'show-placeholder');\n    }\n\n    /* Refresh placeholder. */\n    function refresh () {\n      if (!editor.$wp) return false;\n\n      if (editor.core.isEmpty()) {\n        show();\n      }\n      else {\n        hide();\n      }\n    }\n\n    function _add () {\n      editor.$placeholder = $('<span class=\"fr-placeholder\"></span>');\n      editor.$wp.append(editor.$placeholder);\n    }\n\n    /* Initialize. */\n    function _init () {\n      if (!editor.$wp) return false;\n\n      editor.events.on('init input keydown keyup contentChanged initialized', refresh);\n    }\n\n    return {\n      _init: _init,\n      show: show,\n      hide: hide,\n      refresh: refresh,\n      isVisible: isVisible\n    }\n  };\n\n\n  $.FE.MODULES.edit = function (editor) {\n    /**\n     * Disable editing design.\n     */\n    function disableDesign () {\n      if (editor.browser.mozilla) {\n        try {\n          editor.doc.execCommand('enableObjectResizing', false, 'false');\n          editor.doc.execCommand('enableInlineTableEditing', false, 'false');\n        }\n        catch (ex) {\n\n        }\n      }\n\n      if (editor.browser.msie) {\n        try {\n          editor.doc.body.addEventListener('mscontrolselect', function (e) {\n            e.preventDefault();\n\n            return false;\n          });\n        }\n        catch (ex) {\n\n        }\n      }\n    }\n\n    var disabled = false;\n\n    /**\n     * Add contneteditable attribute.\n     */\n    function on () {\n      if (editor.$wp) {\n        editor.$el.attr('contenteditable', true);\n        editor.$el.removeClass('fr-disabled').attr('aria-disabled', false);\n\n        if (editor.$tb) editor.$tb.removeClass('fr-disabled').removeAttr('aria-disabled');\n        disableDesign();\n      }\n      else if (editor.$el.is('a')) {\n        editor.$el.attr('contenteditable', true);\n      }\n\n      disabled = false;\n    }\n\n    /**\n     * Remove contenteditable attribute.\n     */\n    function off () {\n      editor.events.disableBlur();\n\n      if (editor.$wp) {\n        editor.$el.attr('contenteditable', false);\n        editor.$el.addClass('fr-disabled').attr('aria-disabled', true);\n\n        if (editor.$tb) editor.$tb.addClass('fr-disabled').attr('aria-disabled', true);\n      }\n      else if (editor.$el.is('a')) {\n        editor.$el.attr('contenteditable', false);\n      }\n\n      editor.events.enableBlur();\n\n      disabled = true;\n    }\n\n    function isDisabled () {\n      return disabled;\n    }\n\n    function _init () {\n      // When there are multiple editor instances and shared toolbar make sure we can edit.\n      editor.events.on('focus', function () {\n        if (isDisabled()) editor.edit.off();\n        else editor.edit.on();\n      });\n    }\n\n    return {\n      _init: _init,\n      on: on,\n      off: off,\n      disableDesign: disableDesign,\n      isDisabled: isDisabled\n    }\n  };\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    editorClass: null,\n    typingTimer: 500,\n    iframe: false,\n    requestWithCORS: true,\n    requestWithCredentials: false,\n    requestHeaders: {},\n    useClasses: true,\n    spellcheck: true,\n    iframeDefaultStyle: 'html{margin:0px;height:auto;}body{height:auto;padding:10px;background:transparent;color:#000000;position:relative;z-index: 2;-webkit-user-select:auto;margin:0px;overflow:hidden;min-height:20px;}body:after{content:\"\";display:block;clear:both;}body::-moz-selection{background:#b5d6fd;color:#000;}body::selection{background:#b5d6fd;color:#000;}',\n    iframeStyle: '',\n    iframeStyleFiles: [],\n    direction: 'auto',\n    zIndex: 1,\n    tabIndex: null,\n    disableRightClick: false,\n    scrollableContainer: 'body',\n    keepFormatOnDelete: false,\n    theme: null\n  })\n\n  $.FE.MODULES.core = function (editor) {\n    function injectStyle(style) {\n      if (editor.opts.iframe) {\n        editor.$head.find('style[data-fr-style], link[data-fr-style]').remove();\n        editor.$head.append('<style data-fr-style=\"true\">' + style + '</style>');\n\n        for (var i = 0; i < editor.opts.iframeStyleFiles.length; i++) {\n          var $link = $('<link data-fr-style=\"true\" rel=\"stylesheet\" href=\"' + editor.opts.iframeStyleFiles[i] + '\">');\n\n          // Listen to the load event in order to sync iframe.\n          $link.get(0).addEventListener('load', editor.size.syncIframe);\n\n          // Append to the head.\n          editor.$head.append($link);\n        }\n      }\n    }\n\n    function _initElementStyle() {\n      if (!editor.opts.iframe) {\n        editor.$el.addClass('fr-element fr-view');\n      }\n    }\n\n    /**\n     * Init the editor style.\n     */\n\n    function _initStyle() {\n      editor.$box.addClass('fr-box' + (editor.opts.editorClass ? ' ' + editor.opts.editorClass : ''));\n      editor.$box.attr('role', 'application');\n      editor.$wp.addClass('fr-wrapper');\n\n      _initElementStyle();\n\n      if (editor.opts.iframe) {\n        editor.$iframe.addClass('fr-iframe');\n        editor.$el.addClass('fr-view');\n\n        for (var i = 0; i < editor.o_doc.styleSheets.length; i++) {\n          var rules;\n\n          try {\n            rules = editor.o_doc.styleSheets[i].cssRules;\n          }\n          catch (ex) {\n\n          }\n\n          if (rules) {\n            for (var idx = 0, len = rules.length; idx < len; idx++) {\n              if (rules[idx].selectorText && (rules[idx].selectorText.indexOf('.fr-view') === 0 || rules[idx].selectorText.indexOf('.fr-element') === 0)) {\n                if (rules[idx].style.cssText.length > 0) {\n                  if (rules[idx].selectorText.indexOf('.fr-view') === 0) {\n                    editor.opts.iframeStyle += rules[idx].selectorText.replace(/\\.fr-view/g, 'body') + '{' + rules[idx].style.cssText + '}';\n                  }\n                  else {\n                    editor.opts.iframeStyle += rules[idx].selectorText.replace(/\\.fr-element/g, 'body') + '{' + rules[idx].style.cssText + '}';\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n\n      if (editor.opts.direction != 'auto') {\n        editor.$box.removeClass('fr-ltr fr-rtl').addClass('fr-' + editor.opts.direction);\n      }\n      editor.$el.attr('dir', editor.opts.direction);\n      editor.$wp.attr('dir', editor.opts.direction);\n\n      if (editor.opts.zIndex > 1) {\n        editor.$box.css('z-index', editor.opts.zIndex);\n      }\n\n      if (editor.opts.theme) {\n        editor.$box.addClass(editor.opts.theme + '-theme');\n      }\n\n      // Set tabIndex option.\n      editor.opts.tabIndex = editor.opts.tabIndex || editor.$oel.attr('tabIndex');\n\n      if (editor.opts.tabIndex) {\n        editor.$el.attr('tabIndex', editor.opts.tabIndex);\n      }\n    }\n\n    /**\n     * Determine if the editor is empty.\n     */\n\n    function isEmpty() {\n      return editor.node.isEmpty(editor.el);\n    }\n\n    /**\n     * Check if the browser allows drag and init it.\n     */\n\n    function _initDrag() {\n\n      // Drag and drop support.\n      editor.drag_support = {\n        filereader: typeof FileReader != 'undefined',\n        formdata: !!editor.win.FormData,\n        progress: 'upload' in new XMLHttpRequest()\n      };\n    }\n\n    /**\n     * Return an XHR object.\n     */\n\n    function getXHR(url, method) {\n      var xhr = new XMLHttpRequest();\n\n      // Make it async.\n      xhr.open(method, url, true);\n\n      // Set with credentials.\n      if (editor.opts.requestWithCredentials) {\n        xhr.withCredentials = true;\n      }\n\n      // Set headers.\n      for (var header in editor.opts.requestHeaders) {\n        if (editor.opts.requestHeaders.hasOwnProperty(header)) {\n          xhr.setRequestHeader(header, editor.opts.requestHeaders[header]);\n        }\n      }\n\n      return xhr;\n    }\n\n    function _destroy(html) {\n      if (editor.$oel.get(0).tagName == 'TEXTAREA') {\n        editor.$oel.val(html);\n      }\n\n      if (editor.$box) {\n        editor.$box.removeAttr('role');\n      }\n\n      if (editor.$wp) {\n        if (editor.$oel.get(0).tagName == 'TEXTAREA') {\n          editor.$el.html('');\n          editor.$wp.html('');\n          editor.$box.replaceWith(editor.$oel);\n          editor.$oel.show();\n        }\n        else {\n          editor.$wp.replaceWith(html);\n          editor.$el.html('');\n          editor.$box.removeClass('fr-view fr-ltr fr-box ' + (editor.opts.editorClass || ''));\n\n          if (editor.opts.theme) {\n            editor.$box.addClass(editor.opts.theme + '-theme');\n          }\n        }\n      }\n\n      this.$wp = null;\n      this.$el = null;\n      this.el = null;\n      this.$box = null;\n    }\n\n    function hasFocus() {\n      if (editor.browser.mozilla && editor.helpers.isMobile()) return editor.selection.inEditor();\n\n      return editor.node.hasFocus(editor.el) || editor.$el.find('*:focus').length > 0;\n    }\n\n    function sameInstance($obj) {\n      if (!$obj) return false;\n\n      var inst = $obj.data('instance');\n\n      return (inst ? inst.id == editor.id : false);\n    }\n\n    /**\n     * Tear up.\n     */\n\n    function _init() {\n      $.FE.INSTANCES.push(editor);\n\n      _initDrag();\n\n      // Call initialization methods.\n      if (editor.$wp) {\n        _initStyle();\n        editor.html.set(editor._original_html);\n\n        // Set spellcheck.\n        editor.$el.attr('spellcheck', editor.opts.spellcheck);\n\n        // Disable autocomplete.\n        if (editor.helpers.isMobile()) {\n          editor.$el.attr('autocomplete', editor.opts.spellcheck ? 'on' : 'off');\n          editor.$el.attr('autocorrect', editor.opts.spellcheck ? 'on' : 'off');\n          editor.$el.attr('autocapitalize', editor.opts.spellcheck ? 'on' : 'off');\n        }\n\n        // Disable right click.\n        if (editor.opts.disableRightClick) {\n          editor.events.$on(editor.$el, 'contextmenu', function (e) {\n            if (e.button == 2) {\n\n              return false;\n            }\n          });\n        }\n\n        try {\n          editor.doc.execCommand('styleWithCSS', false, false);\n        }\n        catch (ex) {\n\n        }\n      }\n\n      if (editor.$oel.get(0).tagName == 'TEXTAREA') {\n\n        // Sync on contentChanged.\n        editor.events.on('contentChanged', function () {\n          editor.$oel.val(editor.html.get());\n        });\n\n        // Set HTML on form submit.\n        editor.events.on('form.submit', function () {\n          editor.$oel.val(editor.html.get());\n        });\n\n        editor.events.on('form.reset', function () {\n          editor.html.set(editor._original_html);\n        })\n\n        editor.$oel.val(editor.html.get());\n      }\n\n      // iOS focus fix.\n      if (editor.helpers.isIOS()) {\n        editor.events.$on(editor.$doc, 'selectionchange', function () {\n          if (!editor.$doc.get(0).hasFocus()) {\n            editor.$win.get(0).focus();\n          }\n        });\n      }\n\n      editor.events.trigger('init');\n\n      // Autofocus.\n      if (editor.opts.autofocus && !editor.opts.initOnClick && editor.$wp) {\n        editor.events.on('initialized', function () {\n          editor.events.focus(true);\n        })\n      }\n    }\n\n    return {\n      _init: _init,\n      destroy: _destroy,\n      isEmpty: isEmpty,\n      getXHR: getXHR,\n      injectStyle: injectStyle,\n      hasFocus: hasFocus,\n      sameInstance: sameInstance\n    }\n  }\n\n\n  $.FE.MODULES.cursorLists = function (editor) {\n    /**\n     * Find the first li parent.\n     */\n    function _firstParentLI (node) {\n      var p_node = node;\n\n      while (p_node.tagName != 'LI') {\n        p_node = p_node.parentNode;\n      }\n\n      return p_node;\n    }\n\n    /**\n     * Find the first list parent.\n     */\n    function _firstParentList (node) {\n      var p_node = node;\n\n      while (!editor.node.isList(p_node)) {\n        p_node = p_node.parentNode;\n      }\n\n      return p_node;\n    }\n\n\n    /**\n     * Do enter at the beginning of a list item.\n     */\n    function _startEnter (marker) {\n      var li = _firstParentLI(marker);\n\n      // Get previous and next siblings.\n      var next_li = li.nextSibling;\n      var prev_li = li.previousSibling;\n      var default_tag = editor.html.defaultTag();\n\n      var ul;\n\n      // We are in a list item at the middle of the list or an list item that is not empty.\n      if (editor.node.isEmpty(li, true) && next_li) {\n        var o_str = '';\n        var c_str = ''\n        var p_node = marker.parentNode;\n\n        // Create open / close string.\n        while (!editor.node.isList(p_node) && p_node.parentNode && p_node.parentNode.tagName !== 'LI') {\n          o_str = editor.node.openTagString(p_node) + o_str;\n          c_str = c_str + editor.node.closeTagString(p_node);\n          p_node = p_node.parentNode;\n        }\n\n        o_str = editor.node.openTagString(p_node) + o_str;\n        c_str = c_str + editor.node.closeTagString(p_node);\n\n        var str = '';\n\n        if (p_node.parentNode && p_node.parentNode.tagName == 'LI') {\n          str = c_str + '<li>' + $.FE.MARKERS + '<br>' + o_str;\n        }\n        else {\n          if (default_tag) {\n            str = c_str + '<' + default_tag + '>' + $.FE.MARKERS + '<br>' + '</' + default_tag + '>' + o_str;\n          }\n          else {\n            str = c_str + $.FE.MARKERS + '<br>' + o_str;\n          }\n        }\n\n        $(li).html('<span id=\"fr-break\"></span>');\n\n        while (['UL', 'OL'].indexOf(p_node.tagName) < 0 || (p_node.parentNode && p_node.parentNode.tagName === 'LI')) {\n          p_node = p_node.parentNode;\n        }\n        var html = editor.node.openTagString(p_node) + $(p_node).html() + editor.node.closeTagString(p_node);\n        html = html.replace(/<span id=\"fr-break\"><\\/span>/g, str);\n\n        $(p_node).replaceWith(html);\n\n        editor.$el.find('li:empty').remove();\n      }\n\n      else if ((prev_li && next_li) || !editor.node.isEmpty(li, true)) {\n\n        var br_str = '<br>';\n        var nd = marker.parentNode;\n\n        while (nd && nd.tagName != 'LI') {\n          br_str = editor.node.openTagString(nd) + br_str + editor.node.closeTagString(nd);\n          nd = nd.parentNode;\n        }\n\n        $(li).before('<li>' + br_str + '</li>');\n        $(marker).remove();\n      }\n\n      // There is no previous list item so transform the current list item to an empty line.\n      else if (!prev_li) {\n        ul = _firstParentList(li);\n\n        // We are in a nested list so add a new li before it.\n        if (ul.parentNode && ul.parentNode.tagName == 'LI') {\n          if (next_li) {\n            $(ul.parentNode).before(editor.node.openTagString(li) + $.FE.MARKERS + '<br></li>');\n          }\n          else {\n            $(ul.parentNode).after(editor.node.openTagString(li) + $.FE.MARKERS + '<br></li>');\n          }\n        }\n\n        // We are in a normal list. Add a new line before.\n        else {\n          if (default_tag) {\n            $(ul).before('<' + default_tag + '>' + $.FE.MARKERS + '<br></' + default_tag + '>');\n          }\n          else {\n            $(ul).before($.FE.MARKERS  + '<br>');\n          }\n        }\n\n        // Remove the current li.\n        $(li).remove();\n      }\n\n      // There is no next_li item so transform the current list item to an empty line.\n      else {\n        ul = _firstParentList(li);\n\n        var new_str = $.FE.MARKERS + '<br>';\n        var ndx = marker.parentNode;\n\n        while (ndx && ndx.tagName != 'LI') {\n          new_str = editor.node.openTagString(ndx) + new_str + editor.node.closeTagString(ndx);\n          ndx = ndx.parentNode;\n        }\n\n        // We are in a nested lists so add a new li after it.\n        if (ul.parentNode && ul.parentNode.tagName == 'LI') {\n          $(ul.parentNode).after('<li>' +  new_str + '</li>');\n        }\n\n        // We are in a normal list. Add a new line after.\n        else {\n          if (default_tag) {\n            $(ul).after('<' + default_tag + '>' + new_str + '</' + default_tag + '>');\n          }\n          else {\n            $(ul).after(new_str);\n          }\n        }\n\n        // Remove the current li.\n        $(li).remove();\n      }\n    }\n\n    /**\n     * Enter at the middle of a list.\n     */\n    function _middleEnter (marker) {\n      var li = _firstParentLI(marker);\n\n      // Build the closing / opening list item string.\n      var str = '';\n      var node = marker;\n      var o_str = '';\n      var c_str = '';\n\n      while (node != li) {\n        node = node.parentNode;\n\n        var cls = (node.tagName == 'A' && editor.cursor.isAtEnd(marker, node)) ? 'fr-to-remove' : '';\n\n        o_str = editor.node.openTagString($(node).clone().addClass(cls).get(0)) + o_str;\n        c_str = editor.node.closeTagString(node) + c_str;\n      }\n\n      // Add markers.\n      str = c_str + str + o_str + $.FE.MARKERS + $.FE.INVISIBLE_SPACE;\n\n      // Build HTML.\n      $(marker).replaceWith('<span id=\"fr-break\"></span>');\n      var html = editor.node.openTagString(li) + $(li).html() + editor.node.closeTagString(li);\n      html = html.replace(/<span id=\"fr-break\"><\\/span>/g, str);\n\n      // Replace the current list item.\n      $(li).replaceWith(html);\n    }\n\n    /**\n     * Enter at the end of a list item.\n     */\n    function _endEnter (marker) {\n      var li = _firstParentLI(marker);\n\n      var end_str = $.FE.MARKERS;\n      var start_str = '';\n      var node = marker;\n\n      var add_invisible = false;\n\n      while (node != li) {\n        node = node.parentNode;\n\n        var cls = (node.tagName == 'A' && editor.cursor.isAtEnd(marker, node)) ? 'fr-to-remove' : '';\n\n        if (!add_invisible && node != li && !editor.node.isBlock(node)) {\n          add_invisible = true;\n          start_str = start_str + $.FE.INVISIBLE_SPACE;\n        }\n\n        start_str = editor.node.openTagString($(node).clone().addClass(cls).get(0)) + start_str;\n        end_str = end_str + editor.node.closeTagString(node);\n      }\n\n      var str = start_str + end_str;\n\n      $(marker).remove();\n      $(li).after(str);\n    }\n\n    /**\n     * Do backspace on a list item. This method is called only when wer are at the beginning of a LI.\n     */\n    function _backspace (marker) {\n      var li = _firstParentLI(marker);\n\n      // Get previous sibling.\n      var prev_li = li.previousSibling;\n\n      // There is a previous li.\n      if (prev_li) {\n\n        // Get the li inside a nested list or inner block tags.\n        prev_li = $(prev_li).find(editor.html.blockTagsQuery()).get(-1) || prev_li;\n\n        // Add markers.\n        $(marker).replaceWith($.FE.MARKERS);\n\n        // Remove possible BR at the end of the previous list.\n        var contents = editor.node.contents(prev_li);\n\n        if (contents.length && contents[contents.length - 1].tagName == 'BR') {\n          $(contents[contents.length - 1]).remove();\n        }\n\n        // Remove any nodes that might be wrapped.\n        $(li).find(editor.html.blockTagsQuery()).not('ol, ul, table').each (function () {\n          if (this.parentNode == li) {\n            $(this).replaceWith($(this).html() + (editor.node.isEmpty(this) ? '' : '<br>'));\n          }\n        })\n\n        // Append the current list item content to the previous one.\n        var node = editor.node.contents(li)[0];\n        var tmp;\n\n        while (node && !editor.node.isList(node)) {\n          tmp = node.nextSibling;\n          $(prev_li).append(node);\n          node = tmp;\n        }\n\n        prev_li = li.previousSibling;\n\n        while (node) {\n          tmp = node.nextSibling;\n          $(prev_li).append(node);\n          node = tmp;\n        }\n\n        // Remove the current LI.\n        $(li).remove();\n      }\n\n      // No previous li.\n      else {\n        var ul = _firstParentList(li);\n\n        // Add markers.\n        $(marker).replaceWith($.FE.MARKERS);\n\n        // Nested lists.\n        if (ul.parentNode && ul.parentNode.tagName == 'LI') {\n          var prev_node = ul.previousSibling;\n\n          // Previous node is block.\n          if (editor.node.isBlock(prev_node)) {\n\n            // Remove any nodes that might be wrapped.\n            $(li).find(editor.html.blockTagsQuery()).not('ol, ul, table').each (function () {\n              if (this.parentNode == li) {\n                $(this).replaceWith($(this).html() + (editor.node.isEmpty(this) ? '' : '<br>'));\n              }\n            });\n\n            $(prev_node).append($(li).html());\n          }\n\n          // Text right in li.\n          else {\n            $(ul).before($(li).html());\n          }\n        }\n\n        // Normal lists. Add an empty li instead.\n        else {\n          var default_tag = editor.html.defaultTag();\n\n          if (default_tag && $(li).find(editor.html.blockTagsQuery()).length === 0) {\n            $(ul).before('<' + default_tag + '>' + $(li).html() + '</' + default_tag + '>');\n          }\n          else {\n            $(ul).before($(li).html());\n          }\n        }\n\n        // Remove the current li.\n        $(li).remove();\n        editor.html.wrap();\n\n        // Remove the ul if it is empty.\n        if ($(ul).find('li').length === 0) $(ul).remove();\n      }\n    }\n\n    /**\n     * Delete at the end of list item.\n     */\n    function _del (marker) {\n      var li = _firstParentLI(marker);\n      var next_li = li.nextSibling;\n      var contents;\n\n      // There is a next li.\n      if (next_li) {\n\n        // Remove possible BR at the beginning of the next LI.\n        contents = editor.node.contents(next_li);\n\n        if (contents.length && contents[0].tagName == 'BR') {\n          $(contents[0]).remove();\n        }\n\n        // Unwrap content from the next node.\n        $(next_li).find(editor.html.blockTagsQuery()).not('ol, ul, table').each (function () {\n          if (this.parentNode == next_li) {\n            $(this).replaceWith($(this).html() + (editor.node.isEmpty(this) ? '' : '<br>'));\n          }\n        });\n\n        // Append the next LI to the current LI.\n        var last_node = marker;\n        var node = editor.node.contents(next_li)[0];\n        var tmp;\n\n        while (node && !editor.node.isList(node)) {\n          tmp = node.nextSibling;\n          $(last_node).after(node);\n          last_node = node;\n          node = tmp;\n        }\n\n        // Append nested lists.\n        while (node) {\n          tmp = node.nextSibling;\n          $(li).append(node);\n          node = tmp;\n        }\n\n        // Replace marker with markers.\n        $(marker).replaceWith($.FE.MARKERS);\n\n        // Remove next li.\n        $(next_li).remove();\n      }\n\n      // No next li.\n      else {\n\n        // Search the next sibling in parents.\n        var next_node = li;\n\n        while (!next_node.nextSibling && next_node != editor.el) {\n          next_node = next_node.parentNode;\n        }\n\n        // We're right at the end.\n        if (next_node == editor.el) return false;\n\n        // Get the next sibling.\n        next_node = next_node.nextSibling;\n\n        // Next sibling is a block tag.\n        if (editor.node.isBlock(next_node)) {\n\n          // Check if we can do delete in it.\n          if ($.FE.NO_DELETE_TAGS.indexOf(next_node.tagName) < 0) {\n\n            // Add markers.\n            $(marker).replaceWith($.FE.MARKERS);\n\n            // Remove any possible BR at the end of the LI.\n            contents = editor.node.contents(li);\n\n            if (contents.length && contents[contents.length - 1].tagName == 'BR') {\n              $(contents[contents.length - 1]).remove();\n            }\n\n            // Append next node.\n            $(li).append($(next_node).html());\n\n            // Remove the next node.\n            $(next_node).remove();\n          }\n        }\n\n        // Append everything till the next block tag or BR.\n        else {\n\n          // Remove any possible BR at the end of the LI.\n          contents = editor.node.contents(li);\n\n          if (contents.length && contents[contents.length - 1].tagName == 'BR') {\n            $(contents[contents.length - 1]).remove();\n          }\n\n          // var next_node = next_li;\n          $(marker).replaceWith($.FE.MARKERS);\n\n          while (next_node && !editor.node.isBlock(next_node) && next_node.tagName != 'BR') {\n            $(li).append($(next_node));\n            next_node = next_node.nextSibling;\n          }\n        }\n      }\n    }\n\n    return {\n      _startEnter: _startEnter,\n      _middleEnter: _middleEnter,\n      _endEnter: _endEnter,\n      _backspace: _backspace,\n      _del: _del\n    }\n  };\n\n\n\n  // Do not merge with the previous one.\n  $.FE.NO_DELETE_TAGS = ['TH', 'TD', 'TR', 'TABLE', 'FORM'];\n\n  // Do simple enter.\n  $.FE.SIMPLE_ENTER_TAGS = ['TH', 'TD', 'LI', 'DL', 'DT', 'FORM'];\n\n  $.FE.MODULES.cursor = function (editor) {\n    /**\n     * Check if node is at the end of a block tag.\n     */\n    function _atEnd(node) {\n      if (!node) return false;\n\n      if (editor.node.isBlock(node)) return true;\n\n      if (node.nextSibling && node.nextSibling.nodeType == Node.TEXT_NODE && node.nextSibling.textContent.replace(/\\u200b/g, '').length === 0) {\n        return _atEnd(node.nextSibling);\n      }\n\n      if (node.nextSibling && !(node.previousSibling && node.nextSibling.tagName == 'BR' && !node.nextSibling.nextSibling)) return false;\n\n      return _atEnd(node.parentNode);\n    }\n\n    /**\n     * Check if node is at the start of a block tag.\n     */\n    function _atStart(node) {\n      if (!node) return false;\n\n      if (editor.node.isBlock(node)) return true;\n\n      if (node.previousSibling && node.previousSibling.nodeType == Node.TEXT_NODE && node.previousSibling.textContent.replace(/\\u200b/g, '').length === 0) {\n        return _atStart(node.previousSibling);\n      }\n\n      if (node.previousSibling) return false;\n\n      if (!node.previousSibling && editor.node.hasClass(node.parentNode, 'fr-inner')) return true;\n\n      return _atStart(node.parentNode);\n    }\n\n    /**\n     * Check if node is a the start of the container.\n     */\n    function _isAtStart(node, container) {\n      if (!node) return false;\n\n      if (node == editor.$wp.get(0)) return false;\n\n      if (node.previousSibling && node.previousSibling.nodeType == Node.TEXT_NODE && node.previousSibling.textContent.replace(/\\u200b/g, '').length === 0) {\n        return _isAtStart(node.previousSibling, container);\n      }\n\n      if (node.previousSibling) return false;\n\n      if (node.parentNode == container) return true;\n\n      return _isAtStart(node.parentNode, container);\n    }\n\n    /**\n     * Check if node is a the start of the container.\n     */\n    function _isAtEnd(node, container) {\n      if (!node) return false;\n\n      if (node == editor.$wp.get(0)) return false;\n\n      if (node.nextSibling && node.nextSibling.nodeType == Node.TEXT_NODE && node.nextSibling.textContent.replace(/\\u200b/g, '').length === 0) {\n\n        return _isAtEnd(node.nextSibling, container);\n      }\n\n      if (node.nextSibling && !(node.previousSibling && node.nextSibling.tagName == 'BR' && !node.nextSibling.nextSibling)) return false;\n\n      if (node.parentNode == container) return true;\n\n      return _isAtEnd(node.parentNode, container);\n    }\n\n    /**\n     * Check if the node is inside a LI.\n     */\n    function _inLi(node) {\n      return $(node).parentsUntil(editor.$el, 'LI').length > 0 && $(node).parentsUntil('LI', 'TABLE').length === 0;\n    }\n\n    /**\n     * Get the length of the first or last character from text. Note: A special character can contain 1, 2 or 4 javascript 16bits characters.\n     */\n    function _getExtremityCharacterLength(text, first) {\n\n      var special_chars_regex = new RegExp((first ? '^' : '') + '(([\\\\uD83C-\\\\uDBFF\\\\uDC00-\\\\uDFFF]+\\\\u200D)*[\\\\uD83C-\\\\uDBFF\\\\uDC00-\\\\uDFFF]{2})' + ((first ? '' : '$')), 'i');\n      var matches = text.match(special_chars_regex);\n\n      // No matches means there is a normal character.\n      if (!matches) {\n        return 1;\n      }\n\n      // Special character match. Can be 1, 2 or 4 characters.\n      else {\n\n        return matches[0].length;\n      }\n    }\n\n    /**\n     * Do backspace at the start of a block tag.\n     */\n    function _startBackspace(marker) {\n      var quote = $(marker).parentsUntil(editor.$el, 'BLOCKQUOTE').length > 0;\n      var deep_parent = editor.node.deepestParent(marker, [], !quote);\n      var current_block = deep_parent;\n\n      // Check for nested block tags if no previous element.\n      while (deep_parent && !deep_parent.previousSibling && deep_parent.tagName != 'BLOCKQUOTE' && deep_parent.parentElement != editor.el && !editor.node.hasClass(deep_parent.parentElement, 'fr-inner') && $.FE.SIMPLE_ENTER_TAGS.indexOf(deep_parent.parentElement.tagName) < 0) {\n        deep_parent = deep_parent.parentElement;\n      }\n\n\n      if (deep_parent && deep_parent.tagName == 'BLOCKQUOTE') {\n        var m_parent = editor.node.deepestParent(marker, [$(marker).parentsUntil(editor.$el, 'BLOCKQUOTE').get(0)]);\n\n        if (m_parent && m_parent.previousSibling) {\n          deep_parent = m_parent;\n          current_block = m_parent;\n        }\n      }\n\n      // Deepest parent is not the main element.\n      if (deep_parent !== null) {\n        var prev_node = deep_parent.previousSibling;\n        var contents;\n\n        // We are inside a block tag.\n        if (editor.node.isBlock(deep_parent) && editor.node.isEditable(deep_parent)) {\n\n          // There is a previous node.\n          if (prev_node && $.FE.NO_DELETE_TAGS.indexOf(prev_node.tagName) < 0) {\n            if (editor.node.isDeletable(prev_node)) {\n              $(prev_node).remove();\n              $(marker).replaceWith($.FE.MARKERS);\n            }\n            else {\n\n              // Previous node is a block tag.\n              if (editor.node.isEditable(prev_node)) {\n                if (editor.node.isBlock(prev_node)) {\n                  if (editor.node.isEmpty(prev_node) && !editor.node.isList(prev_node)) {\n                    $(prev_node).remove();\n\n                    // https://github.com/froala/wysiwyg-editor/issues/1877.\n                    $(marker).after(editor.opts.keepFormatOnDelete ? $.FE.INVISIBLE_SPACE : '');\n                  }\n                  else {\n                    if (editor.node.isList(prev_node)) {\n                      prev_node = $(prev_node).find('li:last').get(0);\n                    }\n\n                    // Remove last BR.\n                    contents = editor.node.contents(prev_node);\n\n                    if (contents.length && contents[contents.length - 1].tagName == 'BR') {\n                      $(contents[contents.length - 1]).remove();\n                    }\n\n                    // Prev node is blockquote but the current one isn't.\n                    if (prev_node.tagName == 'BLOCKQUOTE' && deep_parent.tagName != 'BLOCKQUOTE') {\n                      contents = editor.node.contents(prev_node);\n\n                      while (contents.length && editor.node.isBlock(contents[contents.length - 1])) {\n                        prev_node = contents[contents.length - 1];\n                        contents = editor.node.contents(prev_node);\n                      }\n                    }\n\n                    // Prev node is not blockquote, but the current one is.\n                    else if (prev_node.tagName != 'BLOCKQUOTE' && deep_parent.tagName == 'BLOCKQUOTE') {\n                      contents = editor.node.contents(deep_parent);\n\n                      while (contents.length && editor.node.isBlock(contents[0])) {\n                        deep_parent = contents[0];\n                        contents = editor.node.contents(deep_parent);\n                      }\n                    }\n\n                    // When current node is empty place the cursor at the end of the prev node.\n                    if (editor.node.isEmpty(deep_parent)) {\n                      $(marker).remove();\n                      editor.selection.setAtEnd(prev_node, true);\n                    }\n\n                    // Replace marker with markers.\n                    else {\n                      $(marker).replaceWith($.FE.MARKERS);\n\n                      // Previous node may have only block children.\n                      var prev_children = prev_node.childNodes;\n\n                      // Append to prev node current HTML\n                      if (!editor.node.isBlock(prev_children[prev_children.length - 1])) {\n                        $(prev_node).append(current_block.innerHTML);\n                      }\n                      else {\n                        // Append the HTML to the last child of the previous node.\n                        $(prev_children[prev_children.length - 1]).append(current_block.innerHTML);\n                      }\n                    }\n\n                    // Remove current block.\n                    $(current_block).remove();\n\n                    // Remove current deep parent if empty.\n                    if (editor.node.isEmpty(deep_parent)) {\n                      $(deep_parent).remove();\n                    }\n                  }\n                }\n                else {\n                  $(marker).replaceWith($.FE.MARKERS);\n\n                  if (deep_parent.tagName == 'BLOCKQUOTE' && prev_node.nodeType == Node.ELEMENT_NODE) {\n                    $(prev_node).remove();\n                  }\n                  else {\n                    $(prev_node).after(editor.node.isEmpty(deep_parent) ? '' : $(deep_parent).html());\n                    $(deep_parent).remove();\n\n                    if (prev_node.tagName == 'BR') $(prev_node).remove();\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        // No block tag.\n        /* jshint ignore:start */\n        /* jscs:disable */\n        else {\n          // This should never happen.\n        }\n        /* jshint ignore:end */\n        /* jscs:enable */\n      }\n    }\n\n    /**\n     * Do backspace at the middle of a block tag.\n     */\n    function _middleBackspace(marker) {\n      var prev_node = marker;\n\n      // Get the parent node that has a prev sibling.\n      while (!prev_node.previousSibling) {\n        prev_node = prev_node.parentNode;\n\n        if (editor.node.isElement(prev_node)) return false;\n      }\n      prev_node = prev_node.previousSibling;\n\n      // Not block tag.\n      var contents;\n\n      if (!editor.node.isBlock(prev_node) && editor.node.isEditable(prev_node)) {\n        contents = editor.node.contents(prev_node);\n\n        // Previous node is text.\n        while (prev_node.nodeType != Node.TEXT_NODE && !editor.node.isDeletable(prev_node) && contents.length && editor.node.isEditable(prev_node)) {\n          prev_node = contents[contents.length - 1];\n          contents = editor.node.contents(prev_node);\n        }\n\n        if (prev_node.nodeType == Node.TEXT_NODE) {\n          var txt = prev_node.textContent;\n          var len = txt.length;\n\n          // We have a \\n character.\n          if (txt.length && txt[txt.length - 1] === '\\n') {\n            prev_node.textContent = txt.substring(0, len - 2);\n\n            if (prev_node.textContent.length === 0) {\n              prev_node.parentNode.removeChild(prev_node);\n            }\n\n            return _middleBackspace(marker);\n          }\n\n          // Tab UNDO.\n          if (editor.opts.tabSpaces && txt.length >= editor.opts.tabSpaces) {\n            var tab_str = txt.substr(txt.length - editor.opts.tabSpaces, txt.length - 1);\n\n            if (tab_str.replace(/ /g, '').replace(new RegExp($.FE.UNICODE_NBSP, 'g'), '').length === 0) {\n              len = txt.length - editor.opts.tabSpaces + 1;\n            }\n          }\n\n          prev_node.textContent = txt.substring(0, len - _getExtremityCharacterLength(txt));\n\n          var deleted = (txt.length != prev_node.textContent.length);\n\n          // Remove node if empty.\n          if (prev_node.textContent.length === 0) {\n\n            // Here we check to see if we should keep the current formatting.\n            if (deleted && editor.opts.keepFormatOnDelete) {\n              $(prev_node).after($.FE.INVISIBLE_SPACE + $.FE.MARKERS);\n            }\n            else {\n\n              // Condition prev_node.parentNode.childNodes.length == 1 is from https://github.com/froala/wysiwyg-editor/issues/1855 .\n              if (((prev_node.parentNode.childNodes.length == 2 && prev_node.parentNode == marker.parentNode) || prev_node.parentNode.childNodes.length == 1) && !editor.node.isBlock(prev_node.parentNode) && !editor.node.isElement(prev_node.parentNode) && editor.node.isDeletable(prev_node.parentNode)) {\n                $(prev_node.parentNode).after($.FE.MARKERS);\n                $(prev_node.parentNode).remove();\n              }\n              else {\n                // https://github.com/froala/wysiwyg-editor/issues/2626.\n                while (!editor.node.isElement(prev_node.parentNode) && editor.node.isEmpty(prev_node.parentNode)) {\n                  var t_node = prev_node;\n                  prev_node = prev_node.parentNode;\n                  t_node.parentNode.removeChild(t_node);\n                }\n\n                $(prev_node).after($.FE.MARKERS);\n\n                // https://github.com/froala/wysiwyg-editor/issues/1379.\n                if (editor.node.isElement(prev_node.parentNode) && !marker.nextSibling && prev_node.previousSibling && prev_node.previousSibling.tagName == 'BR') {\n                  $(marker).after('<br>');\n                }\n\n                prev_node.parentNode.removeChild(prev_node);\n              }\n            }\n          }\n          else {\n            $(prev_node).after($.FE.MARKERS);\n          }\n        }\n        else if (editor.node.isDeletable(prev_node)) {\n          $(prev_node).after($.FE.MARKERS);\n          $(prev_node).remove();\n        }\n        else {\n          if (marker.nextSibling && marker.nextSibling.tagName == 'BR' && editor.node.isVoid(prev_node) && prev_node.tagName != 'BR') {\n            $(marker.nextSibling).remove();\n            $(marker).replaceWith($.FE.MARKERS);\n          }\n          else if (editor.events.trigger('node.remove', [$(prev_node)]) !== false) {\n            $(prev_node).after($.FE.MARKERS);\n            $(prev_node).remove();\n          }\n        }\n      }\n\n      // Block tag but we are allowed to delete it.\n      else if ($.FE.NO_DELETE_TAGS.indexOf(prev_node.tagName) < 0 && (editor.node.isEditable(prev_node) || editor.node.isDeletable(prev_node))) {\n        if (editor.node.isDeletable(prev_node)) {\n          $(marker).replaceWith($.FE.MARKERS);\n          $(prev_node).remove();\n        }\n        else if (editor.node.isEmpty(prev_node) && !editor.node.isList(prev_node)) {\n          $(prev_node).remove();\n          $(marker).replaceWith($.FE.MARKERS);\n        }\n        else {\n\n          // List correction.\n          if (editor.node.isList(prev_node)) prev_node = $(prev_node).find('li:last').get(0);\n\n          contents = editor.node.contents(prev_node);\n\n          if (contents && contents[contents.length - 1].tagName == 'BR') {\n            $(contents[contents.length - 1]).remove();\n          }\n\n          contents = editor.node.contents(prev_node);\n\n          while (contents && editor.node.isBlock(contents[contents.length - 1])) {\n            prev_node = contents[contents.length - 1];\n            contents = editor.node.contents(prev_node);\n          }\n\n          $(prev_node).append($.FE.MARKERS);\n\n          var next_node = marker;\n\n          while (!next_node.previousSibling) {\n            next_node = next_node.parentNode;\n          }\n\n          while (next_node && next_node.tagName !== 'BR' && !editor.node.isBlock(next_node)) {\n            var copy_node = next_node;\n            next_node = next_node.nextSibling;\n            $(prev_node).append(copy_node);\n          }\n\n          // Remove BR.\n          if (next_node && next_node.tagName == 'BR') $(next_node).remove();\n\n          $(marker).remove();\n        }\n      }\n\n      else {\n        if (marker.nextSibling && marker.nextSibling.tagName == 'BR') {\n          $(marker.nextSibling).remove();\n        }\n      }\n    }\n\n    /**\n     * Do backspace.\n     */\n    function backspace() {\n      var do_default = false;\n\n      // Add a marker in HTML.\n      var marker = editor.markers.insert();\n\n      if (!marker) return true;\n\n      // Do not allow edit inside contenteditable=\"false\".\n      var p_node = marker.parentNode;\n\n      while (p_node && !editor.node.isElement(p_node)) {\n        if (p_node.getAttribute('contenteditable') === 'false') {\n          $(marker).replaceWith($.FE.MARKERS);\n          editor.selection.restore();\n\n          return false;\n        }\n        else if (p_node.getAttribute('contenteditable') === 'true') {\n          break;\n        }\n\n        p_node = p_node.parentNode;\n      }\n\n      editor.el.normalize();\n\n      // We should remove invisible space first of all.\n      var prev_node = marker.previousSibling;\n\n      if (prev_node) {\n        var txt = prev_node.textContent;\n\n        // Check if we have an invisible space before the marker.\n        if (txt && txt.length && txt.charCodeAt(txt.length - 1) == 8203) {\n          if (txt.length == 1) {\n            $(prev_node).remove()\n          }\n          else {\n            prev_node.textContent = prev_node.textContent.substr(0, txt.length - _getExtremityCharacterLength(txt));\n          }\n        }\n      }\n\n      // Delete at end.\n      if (_atEnd(marker)) {\n        do_default = _middleBackspace(marker);\n      }\n\n      // Delete at start.\n      else if (_atStart(marker)) {\n        if (_inLi(marker) && _isAtStart(marker, $(marker).parents('li:first').get(0))) {\n          editor.cursorLists._backspace(marker);\n        }\n        else {\n          _startBackspace(marker);\n        }\n      }\n\n      // Delete at middle.\n      else {\n        do_default = _middleBackspace(marker);\n      }\n\n      $(marker).remove();\n\n      _cleanEmptyBlockquotes();\n      editor.html.fillEmptyBlocks(true);\n\n      if (!editor.opts.htmlUntouched) {\n        editor.html.cleanEmptyTags();\n        editor.clean.lists();\n        editor.spaces.normalizeAroundCursor();\n      }\n\n      editor.selection.restore();\n\n      return do_default;\n    }\n\n    /**\n     * Delete at the end of a block tag.\n     */\n    function _endDel(marker) {\n      var quote = $(marker).parentsUntil(editor.$el, 'BLOCKQUOTE').length > 0;\n      var deep_parent = editor.node.deepestParent(marker, [], !quote);\n\n      if (deep_parent && deep_parent.tagName == 'BLOCKQUOTE') {\n        var m_parent = editor.node.deepestParent(marker, [$(marker).parentsUntil(editor.$el, 'BLOCKQUOTE').get(0)]);\n\n        if (m_parent && m_parent.nextSibling) {\n          deep_parent = m_parent;\n        }\n      }\n\n      // Deepest parent is not the main element.\n      if (deep_parent !== null) {\n        var next_node = deep_parent.nextSibling;\n        var contents;\n\n        // We are inside a block tag.\n        if (editor.node.isBlock(deep_parent) && (editor.node.isEditable(deep_parent) || editor.node.isDeletable(deep_parent))) {\n\n          // There is a next node.\n          if (next_node && $.FE.NO_DELETE_TAGS.indexOf(next_node.tagName) < 0) {\n            if (editor.node.isDeletable(next_node)) {\n              $(next_node).remove();\n              $(marker).replaceWith($.FE.MARKERS);\n            }\n            else {\n\n              // Next node is a block tag.\n              if (editor.node.isBlock(next_node) && editor.node.isEditable(next_node)) {\n\n                // Next node is a list.\n                if (editor.node.isList(next_node)) {\n\n                  // Current block tag is empty.\n                  if (editor.node.isEmpty(deep_parent, true)) {\n                    $(deep_parent).remove();\n\n                    $(next_node).find('li:first').prepend($.FE.MARKERS);\n                  }\n                  else {\n                    var $li = $(next_node).find('li:first');\n\n                    if (deep_parent.tagName == 'BLOCKQUOTE') {\n                      contents = editor.node.contents(deep_parent);\n\n                      if (contents.length && editor.node.isBlock(contents[contents.length - 1])) {\n                        deep_parent = contents[contents.length - 1];\n                      }\n                    }\n\n                    // There are no nested lists.\n                    if ($li.find('ul, ol').length === 0) {\n                      $(marker).replaceWith($.FE.MARKERS);\n\n                      // Remove any nodes that might be wrapped.\n                      $li.find(editor.html.blockTagsQuery()).not('ol, ul, table').each(function () {\n                        if (this.parentNode == $li.get(0)) {\n                          $(this).replaceWith($(this).html() + (editor.node.isEmpty(this) ? '' : '<br>'));\n                        }\n                      });\n\n                      $(deep_parent).append(editor.node.contents($li.get(0)));\n                      $li.remove();\n\n                      if ($(next_node).find('li').length === 0) $(next_node).remove();\n                    }\n                  }\n                }\n                else {\n\n                  // Remove last BR.\n                  contents = editor.node.contents(next_node);\n\n                  if (contents.length && contents[0].tagName == 'BR') {\n                    $(contents[0]).remove();\n                  }\n\n                  if (next_node.tagName != 'BLOCKQUOTE' && deep_parent.tagName == 'BLOCKQUOTE') {\n                    contents = editor.node.contents(deep_parent);\n\n                    while (contents.length && editor.node.isBlock(contents[contents.length - 1])) {\n                      deep_parent = contents[contents.length - 1];\n                      contents = editor.node.contents(deep_parent);\n                    }\n                  }\n                  else if (next_node.tagName == 'BLOCKQUOTE' && deep_parent.tagName != 'BLOCKQUOTE') {\n                    contents = editor.node.contents(next_node);\n\n                    while (contents.length && editor.node.isBlock(contents[0])) {\n                      next_node = contents[0];\n                      contents = editor.node.contents(next_node);\n                    }\n                  }\n\n                  $(marker).replaceWith($.FE.MARKERS);\n                  $(deep_parent).append(next_node.innerHTML);\n                  $(next_node).remove();\n                }\n              }\n              else {\n                $(marker).replaceWith($.FE.MARKERS);\n\n                // var next_node = next_node.nextSibling;\n                while (next_node && next_node.tagName !== 'BR' && !editor.node.isBlock(next_node) && editor.node.isEditable(next_node)) {\n                  var copy_node = next_node;\n                  next_node = next_node.nextSibling;\n                  $(deep_parent).append(copy_node);\n                }\n\n                if (next_node && next_node.tagName == 'BR' && editor.node.isEditable(next_node)) {\n                  $(next_node).remove();\n                }\n              }\n            }\n          }\n        }\n\n        // No block tag.\n        /* jshint ignore:start */\n        /* jscs:disable */\n        else {\n          // This should never happen.\n        }\n        /* jshint ignore:end */\n        /* jscs:enable */\n      }\n    }\n\n    /**\n     * Delete at the middle of a block tag.\n     */\n    function _middleDel(marker) {\n      var next_node = marker;\n\n      // Get the parent node that has a next sibling.\n      while (!next_node.nextSibling) {\n        next_node = next_node.parentNode;\n\n        if (editor.node.isElement(next_node)) return false;\n      }\n      next_node = next_node.nextSibling;\n\n      // Handle the case when the next node is a BR.\n      if (next_node.tagName == 'BR' && editor.node.isEditable(next_node)) {\n\n        // There is a next sibling.\n        if (next_node.nextSibling) {\n          if (editor.node.isBlock(next_node.nextSibling) && editor.node.isEditable(next_node.nextSibling)) {\n            if ($.FE.NO_DELETE_TAGS.indexOf(next_node.nextSibling.tagName) < 0) {\n              next_node = next_node.nextSibling;\n              $(next_node.previousSibling).remove();\n            }\n            else {\n              $(next_node).remove();\n\n              return;\n            }\n          }\n        }\n\n        // No next sibling. We should check if BR is at the end.\n        else if (_atEnd(next_node)) {\n          if (_inLi(marker)) {\n            editor.cursorLists._del(marker);\n          }\n          else {\n            var deep_parent = editor.node.deepestParent(next_node);\n\n            if (deep_parent) {\n              if (!editor.node.isEmpty(editor.node.blockParent(next_node)) || (editor.node.blockParent(next_node).nextSibling && $.FE.NO_DELETE_TAGS.indexOf(editor.node.blockParent(next_node).nextSibling.tagName)) < 0) {\n                $(next_node).remove();\n              }\n\n              _endDel(marker);\n            }\n          }\n\n          return;\n        }\n      }\n\n      // Not block tag.\n      var contents;\n\n      if (!editor.node.isBlock(next_node) && editor.node.isEditable(next_node)) {\n        contents = editor.node.contents(next_node);\n\n        // Next node is text.\n        while (next_node.nodeType != Node.TEXT_NODE && contents.length && !editor.node.isDeletable(next_node) && editor.node.isEditable(next_node)) {\n          next_node = contents[0];\n          contents = editor.node.contents(next_node);\n        }\n\n        if (next_node.nodeType == Node.TEXT_NODE) {\n          $(next_node).before($.FE.MARKERS);\n\n          if (next_node.textContent.length) {\n            next_node.textContent = next_node.textContent.substring(_getExtremityCharacterLength(next_node.textContent, true), next_node.textContent.length);\n          }\n        }\n        else if (editor.node.isDeletable(next_node)) {\n          $(next_node).before($.FE.MARKERS);\n          $(next_node).remove();\n        }\n        else {\n          if (editor.events.trigger('node.remove', [$(next_node)]) !== false) {\n            $(next_node).before($.FE.MARKERS);\n            $(next_node).remove();\n          }\n        }\n\n        $(marker).remove();\n      }\n\n      // Block tag.\n      else if ($.FE.NO_DELETE_TAGS.indexOf(next_node.tagName) < 0 && (editor.node.isEditable(next_node) || editor.node.isDeletable(next_node))) {\n        if (editor.node.isDeletable(next_node)) {\n          $(marker).replaceWith($.FE.MARKERS);\n          $(next_node).remove();\n        }\n        else {\n          if (editor.node.isList(next_node)) {\n\n            // There is a previous sibling.\n            if (marker.previousSibling) {\n              $(next_node).find('li:first').prepend(marker);\n              editor.cursorLists._backspace(marker);\n            }\n\n            // No previous sibling.\n            else {\n              $(next_node).find('li:first').prepend($.FE.MARKERS);\n              $(marker).remove();\n            }\n          }\n          else {\n            contents = editor.node.contents(next_node);\n\n            if (contents && contents[0].tagName == 'BR') {\n              $(contents[0]).remove();\n            }\n\n            // Deal with blockquote.\n            if (contents && next_node.tagName == 'BLOCKQUOTE') {\n              var node = contents[0];\n              $(marker).before($.FE.MARKERS);\n\n              while (node && node.tagName != 'BR') {\n                var tmp = node;\n                node = node.nextSibling;\n                $(marker).before(tmp);\n              }\n\n              if (node && node.tagName == 'BR') {\n                $(node).remove();\n              }\n            }\n            else {\n              $(marker)\n                .after($(next_node).html())\n                .after($.FE.MARKERS);\n\n              $(next_node).remove();\n            }\n          }\n        }\n      }\n    }\n\n    /**\n     * Delete.\n     */\n    function del() {\n      var marker = editor.markers.insert();\n\n      if (!marker) return false;\n\n      editor.el.normalize();\n\n      // Delete at end.\n      if (_atEnd(marker)) {\n        if (_inLi(marker)) {\n          if ($(marker).parents('li:first').find('ul, ol').length === 0) {\n            editor.cursorLists._del(marker);\n          }\n          else {\n            var $li = $(marker).parents('li:first').find('ul:first, ol:first').find('li:first');\n            $li = $li.find(editor.html.blockTagsQuery()).get(-1) || $li;\n\n            $li.prepend(marker);\n            editor.cursorLists._backspace(marker);\n          }\n        }\n        else {\n          _endDel(marker);\n        }\n      }\n\n      // Delete at start.\n      else if (_atStart(marker)) {\n        _middleDel(marker);\n      }\n\n      // Delete at middle.\n      else {\n        _middleDel(marker);\n      }\n\n      $(marker).remove();\n      _cleanEmptyBlockquotes();\n      editor.html.fillEmptyBlocks(true);\n\n      if (!editor.opts.htmlUntouched) {\n        editor.html.cleanEmptyTags();\n        editor.clean.lists();\n      }\n\n      editor.spaces.normalizeAroundCursor();\n      editor.selection.restore();\n    }\n\n    function _cleanEmptyBlockquotes() {\n      var blks = editor.el.querySelectorAll('blockquote:empty');\n\n      for (var i = 0; i < blks.length; i++) {\n        blks[i].parentNode.removeChild(blks[i]);\n      }\n    }\n\n    function _cleanNodesToRemove() {\n      editor.$el.find('.fr-to-remove').each(function () {\n        var contents = editor.node.contents(this);\n\n        for (var i = 0; i < contents.length; i++) {\n          if (contents[i].nodeType == Node.TEXT_NODE) {\n            contents[i].textContent = contents[i].textContent.replace(/\\u200B/g, '');\n          }\n        }\n\n        $(this).replaceWith(this.innerHTML);\n      })\n    }\n\n    /**\n     * Enter at the end of a block tag.\n     */\n    function _endEnter(marker, shift, quote) {\n      var deep_parent = editor.node.deepestParent(marker, [], !quote);\n      var default_tag;\n\n      if (deep_parent && deep_parent.tagName == 'BLOCKQUOTE') {\n        if (_isAtEnd(marker, deep_parent)) {\n          default_tag = editor.html.defaultTag();\n\n          if (default_tag) {\n            $(deep_parent).after('<' + default_tag + '>' + $.FE.MARKERS + '<br>' + '</' + default_tag + '>');\n          }\n          else {\n            $(deep_parent).after($.FE.MARKERS + '<br>');\n          }\n\n          $(marker).remove();\n\n          return false;\n        }\n        else {\n          _middleEnter(marker, shift, quote);\n\n          return false;\n        }\n      }\n\n      // We are right in the main element.\n      if (deep_parent == null) {\n        default_tag = editor.html.defaultTag();\n\n        if (!default_tag || !editor.node.isElement(marker.parentNode)) {\n          if (marker.previousSibling && !$(marker.previousSibling).is('br') && !marker.nextSibling) {\n            $(marker).replaceWith('<br>' + $.FE.MARKERS + '<br>');\n          }\n          else {\n            $(marker).replaceWith('<br>' + $.FE.MARKERS);\n          }\n        }\n        else {\n          $(marker).replaceWith('<' + default_tag + '>' + $.FE.MARKERS + '<br>' + '</' + default_tag + '>');\n        }\n      }\n\n      // There is a parent.\n      else {\n\n        // Block tag parent.\n        var c_node = marker;\n        var str = '';\n\n        if (!editor.node.isBlock(deep_parent) || shift) {\n          str = '<br/>';\n        }\n\n        var c_str = '';\n        var o_str = '';\n\n        default_tag = editor.html.defaultTag();\n        var open_default_tag = '';\n        var close_default_tag = '';\n\n        if (default_tag && editor.node.isBlock(deep_parent)) {\n          open_default_tag = '<' + default_tag + '>';\n          close_default_tag = '</' + default_tag + '>';\n\n          if (deep_parent.tagName == default_tag.toUpperCase()) {\n            open_default_tag = editor.node.openTagString($(deep_parent).clone().removeAttr('id').get(0));\n          }\n        }\n\n        do {\n          c_node = c_node.parentNode;\n\n          // Shift condition.\n          if (!shift || c_node != deep_parent || (shift && !editor.node.isBlock(deep_parent))) {\n            c_str = c_str + editor.node.closeTagString(c_node);\n\n            // Open str when there is a block parent.\n            if (c_node == deep_parent && editor.node.isBlock(deep_parent)) {\n              o_str = open_default_tag + o_str;\n            }\n            else {\n              var cls = (c_node.tagName == 'A' && _isAtEnd(marker, c_node)) ? 'fr-to-remove' : '';\n              o_str = editor.node.openTagString($(c_node).clone().addClass(cls).get(0)) + o_str;\n            }\n          }\n        } while (c_node != deep_parent);\n\n        // Add BR if deep parent is block tag.\n        str = c_str + str + o_str + ((marker.parentNode == deep_parent && editor.node.isBlock(deep_parent)) ? '' : $.FE.INVISIBLE_SPACE) + $.FE.MARKERS;\n\n        if (editor.node.isBlock(deep_parent) && !$(deep_parent).find('*:last').is('br')) {\n          $(deep_parent).append('<br/>');\n        }\n\n        $(marker).after('<span id=\"fr-break\"></span>');\n        $(marker).remove();\n\n        // Add a BR after to make sure we display the last line.\n        if ((!deep_parent.nextSibling || editor.node.isBlock(deep_parent.nextSibling)) && !editor.node.isBlock(deep_parent)) {\n          $(deep_parent).after('<br>');\n        }\n\n        var html;\n\n        // No shift.\n        if (!shift && editor.node.isBlock(deep_parent)) {\n          html = editor.node.openTagString(deep_parent) + $(deep_parent).html() + close_default_tag;\n        }\n        else {\n          html = editor.node.openTagString(deep_parent) + $(deep_parent).html() + editor.node.closeTagString(deep_parent);\n        }\n\n        html = html.replace(/<span id=\"fr-break\"><\\/span>/g, str);\n\n        $(deep_parent).replaceWith(html);\n      }\n    }\n\n    /**\n     * Start at the beginning of a block tag.\n     */\n    function _startEnter(marker, shift, quote) {\n      var deep_parent = editor.node.deepestParent(marker, [], !quote);\n      var default_tag;\n\n      // https://github.com/froala-labs/froala-editor-js-2/issues/320\n      if (deep_parent && deep_parent.tagName == 'TABLE') {\n        $(deep_parent).find('td:first, th:first').prepend(marker);\n\n        return _startEnter(marker, shift, quote);\n      }\n\n      if (deep_parent && deep_parent.tagName == 'BLOCKQUOTE') {\n        if (_isAtStart(marker, deep_parent)) {\n          default_tag = editor.html.defaultTag();\n\n          if (default_tag) {\n            $(deep_parent).before('<' + default_tag + '>' + $.FE.MARKERS + '<br>' + '</' + default_tag + '>');\n          }\n          else {\n            $(deep_parent).before($.FE.MARKERS + '<br>');\n          }\n\n          $(marker).remove();\n\n          return false;\n        }\n        else if (_isAtEnd(marker, deep_parent)) {\n          _endEnter(marker, shift, true);\n        }\n        else {\n          _middleEnter(marker, shift, true);\n        }\n      }\n\n      // We are right in the main element.\n      if (deep_parent == null) {\n        default_tag = editor.html.defaultTag();\n\n        if (!default_tag || !editor.node.isElement(marker.parentNode)) {\n          $(marker).replaceWith('<br>' + $.FE.MARKERS);\n        }\n        else {\n          $(marker).replaceWith('<' + default_tag + '>' + $.FE.MARKERS + '<br>' + '</' + default_tag + '>');\n        }\n      }\n      else {\n        if (editor.node.isBlock(deep_parent)) {\n          if (deep_parent.tagName == 'PRE') shift = true;\n\n          if (shift) {\n            $(marker).remove();\n            $(deep_parent).prepend('<br>' + $.FE.MARKERS);\n          }\n          else if (editor.node.isEmpty(deep_parent, true)) {\n\n            return _endEnter(marker, shift, quote);\n          }\n          else {\n            if (!editor.opts.keepFormatOnDelete) {\n              $(deep_parent).before(editor.node.openTagString($(deep_parent).clone().removeAttr('id').get(0)) + '<br>' + editor.node.closeTagString(deep_parent));\n            }\n            else {\n              var tmp = marker;\n              var str = $.FE.INVISIBLE_SPACE;\n\n              // Look up to all parents.\n              while (tmp != deep_parent && !editor.node.isElement(tmp)) {\n                tmp = tmp.parentNode;\n                str = editor.node.openTagString(tmp) + str + editor.node.closeTagString(tmp);\n              }\n\n              $(deep_parent).before(str);\n            }\n          }\n        }\n        else {\n          $(deep_parent).before('<br>');\n        }\n\n        $(marker).remove();\n      }\n    }\n\n    /**\n     * Enter at the middle of a block tag.\n     */\n    function _middleEnter(marker, shift, quote) {\n      var deep_parent = editor.node.deepestParent(marker, [], !quote);\n\n      // We are right in the main element.\n      if (deep_parent == null) {\n\n        // Default tag is not enter.\n        if (editor.html.defaultTag() && marker.parentNode === editor.el) {\n          $(marker).replaceWith('<' + editor.html.defaultTag() + '>' + $.FE.MARKERS + '<br></' + editor.html.defaultTag() + '>');\n        }\n        else {\n\n          // Add a BR after to make sure we display the last line.\n          if ((!marker.nextSibling || editor.node.isBlock(marker.nextSibling))) {\n            $(marker).after('<br>');\n          }\n\n          $(marker).replaceWith('<br>' + $.FE.MARKERS);\n        }\n      }\n\n      // There is a parent.\n      else {\n\n        // Block tag parent.\n        var c_node = marker;\n        var str = '';\n\n        if (deep_parent.tagName == 'PRE') shift = true;\n\n        if (!editor.node.isBlock(deep_parent) || shift) {\n          str = '<br>';\n        }\n\n        var c_str = '';\n        var o_str = '';\n\n        do {\n          var tmp = c_node;\n          c_node = c_node.parentNode;\n\n          // Move marker after node it if is empty and we are in quote.\n          if (deep_parent.tagName == 'BLOCKQUOTE' && editor.node.isEmpty(tmp) && !editor.node.hasClass(tmp, 'fr-marker')) {\n            if ($(tmp).find(marker).length > 0) {\n              $(tmp).after(marker);\n            }\n          }\n\n          // If not at end or start of element in quote.\n          if (!(deep_parent.tagName == 'BLOCKQUOTE' && (_isAtEnd(marker, c_node) || _isAtStart(marker, c_node)))) {\n\n            // 1. No shift.\n            // 2. c_node is not deep parent.\n            // 3. Shift and deep parent is not block tag.\n            if (!shift || c_node != deep_parent || (shift && !editor.node.isBlock(deep_parent))) {\n              c_str = c_str + editor.node.closeTagString(c_node);\n\n              var cls = (c_node.tagName == 'A' && _isAtEnd(marker, c_node)) ? 'fr-to-remove' : '';\n              o_str = editor.node.openTagString($(c_node).clone().addClass(cls).removeAttr('id').get(0)) + o_str;\n            }\n          }\n        } while (c_node != deep_parent);\n\n        // We should add an invisible space if:\n        // 1. parent node is not deep parent and block tag.\n        // 2. marker has no next sibling.\n        var add = (\n          (deep_parent == marker.parentNode && editor.node.isBlock(deep_parent)) ||\n          marker.nextSibling\n        );\n\n        if (deep_parent.tagName == 'BLOCKQUOTE') {\n          if (marker.previousSibling && editor.node.isBlock(marker.previousSibling) && marker.nextSibling && marker.nextSibling.tagName == 'BR') {\n            $(marker.nextSibling).after(marker);\n\n            if (marker.nextSibling && marker.nextSibling.tagName == 'BR') {\n              $(marker.nextSibling).remove();\n            }\n          }\n\n          var default_tag = editor.html.defaultTag();\n          str = c_str + str + (default_tag ? '<' + default_tag + '>' : '') + $.FE.MARKERS + '<br>' + (default_tag ? '</' + default_tag + '>' : '') + o_str;\n        }\n        else {\n          str = c_str + str + o_str + (add ? '' : $.FE.INVISIBLE_SPACE) + $.FE.MARKERS;\n        }\n\n        $(marker).replaceWith('<span id=\"fr-break\"></span>');\n        var html = editor.node.openTagString(deep_parent) + $(deep_parent).html() + editor.node.closeTagString(deep_parent);\n        html = html.replace(/<span id=\"fr-break\"><\\/span>/g, str);\n\n        $(deep_parent).replaceWith(html);\n      }\n    }\n\n    /**\n     * Do enter.\n     */\n    function enter(shift) {\n      // Add a marker in HTML.\n      var marker = editor.markers.insert();\n\n      if (!marker) return true;\n\n      editor.el.normalize();\n\n      var quote = false;\n\n      if ($(marker).parentsUntil(editor.$el, 'BLOCKQUOTE').length > 0) {\n        shift = false;\n        quote = true;\n      }\n\n      if ($(marker).parentsUntil(editor.$el, 'TD, TH').length) quote = false;\n\n      // At the end.\n      if (_atEnd(marker)) {\n\n        // Enter in list.\n        if (_inLi(marker) && !shift && !quote) {\n          editor.cursorLists._endEnter(marker);\n        }\n        else {\n          _endEnter(marker, shift, quote);\n        }\n      }\n\n      // At start.\n      else if (_atStart(marker)) {\n\n        // Enter in list.\n        if (_inLi(marker) && !shift && !quote) {\n          editor.cursorLists._startEnter(marker);\n        }\n        else {\n          _startEnter(marker, shift, quote);\n        }\n      }\n\n      // At middle.\n      else {\n\n        // Enter in list.\n        if (_inLi(marker) && !shift && !quote) {\n          editor.cursorLists._middleEnter(marker);\n        }\n        else {\n          _middleEnter(marker, shift, quote);\n        }\n      }\n\n      _cleanNodesToRemove();\n      editor.html.fillEmptyBlocks(true);\n\n      if (!editor.opts.htmlUntouched) {\n        editor.html.cleanEmptyTags();\n        editor.clean.lists();\n      }\n\n      editor.spaces.normalizeAroundCursor();\n      editor.selection.restore();\n    }\n\n    return {\n      enter: enter,\n      backspace: backspace,\n      del: del,\n      isAtEnd: _isAtEnd,\n      isAtStart: _isAtStart\n    }\n  }\n\n\n\n  // Enter possible actions.\n  $.FE.ENTER_P = 0;\n  $.FE.ENTER_DIV = 1;\n  $.FE.ENTER_BR = 2;\n\n  $.FE.KEYCODE = {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    ESC: 27,\n    SPACE: 32,\n    ARROW_LEFT: 37,\n    ARROW_UP: 38,\n    ARROW_RIGHT: 39,\n    ARROW_DOWN: 40,\n    DELETE: 46,\n    ZERO: 48,\n    ONE: 49,\n    TWO: 50,\n    THREE: 51,\n    FOUR: 52,\n    FIVE: 53,\n    SIX: 54,\n    SEVEN: 55,\n    EIGHT: 56,\n    NINE: 57,\n    FF_SEMICOLON: 59, // Firefox (Gecko) fires this for semicolon instead of 186\n    FF_EQUALS: 61, // Firefox (Gecko) fires this for equals instead of 187\n    QUESTION_MARK: 63, // needs localization\n    A: 65,\n    B: 66,\n    C: 67,\n    D: 68,\n    E: 69,\n    F: 70,\n    G: 71,\n    H: 72,\n    I: 73,\n    J: 74,\n    K: 75,\n    L: 76,\n    M: 77,\n    N: 78,\n    O: 79,\n    P: 80,\n    Q: 81,\n    R: 82,\n    S: 83,\n    T: 84,\n    U: 85,\n    V: 86,\n    W: 87,\n    X: 88,\n    Y: 89,\n    Z: 90,\n    META: 91,\n    NUM_ZERO: 96,\n    NUM_ONE: 97,\n    NUM_TWO: 98,\n    NUM_THREE: 99,\n    NUM_FOUR: 100,\n    NUM_FIVE: 101,\n    NUM_SIX: 102,\n    NUM_SEVEN: 103,\n    NUM_EIGHT: 104,\n    NUM_NINE: 105,\n    NUM_MULTIPLY: 106,\n    NUM_PLUS: 107,\n    NUM_MINUS: 109,\n    NUM_PERIOD: 110,\n    NUM_DIVISION: 111,\n\n    F1: 112,\n    F2: 113,\n    F3: 114,\n    F4: 115,\n    F5: 116,\n    F6: 117,\n    F7: 118,\n    F8: 119,\n    F9: 120,\n    F10: 121,\n    F11: 122,\n    F12: 123,\n\n    FF_HYPHEN: 173, // Firefox (Gecko) fires this for hyphen instead of 189s\n    SEMICOLON: 186, // needs localization\n    DASH: 189, // needs localization\n    EQUALS: 187, // needs localization\n    COMMA: 188, // needs localization\n    HYPHEN: 189, // needs localization\n    PERIOD: 190, // needs localization\n    SLASH: 191, // needs localization\n    APOSTROPHE: 192, // needs localization\n    TILDE: 192, // needs localization\n    SINGLE_QUOTE: 222, // needs localization\n    OPEN_SQUARE_BRACKET: 219, // needs localization\n    BACKSLASH: 220, // needs localization\n    CLOSE_SQUARE_BRACKET: 221, // needs localization\n\n    IME: 229\n  }\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    enter: $.FE.ENTER_P,\n    multiLine: true,\n    tabSpaces: 0\n  });\n\n  $.FE.MODULES.keys = function (editor) {\n    var IME = false;\n    var ios_snapshot = null;\n\n    /**\n     * ENTER.\n     */\n    function _enter(e) {\n      if (!editor.opts.multiLine) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n\n      // Not iOS.\n      else {\n\n        // Do not prevent default on IOS.\n        if (!editor.helpers.isIOS()) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        if (!editor.selection.isCollapsed()) editor.selection.remove();\n\n        editor.cursor.enter();\n      }\n    }\n\n    /**\n     * SHIFT ENTER.\n     */\n    function _shiftEnter(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (editor.opts.multiLine) {\n        if (!editor.selection.isCollapsed()) editor.selection.remove();\n\n        editor.cursor.enter(true);\n      }\n    }\n    /**\n     * Control/Command Backspace.\n     */\n    function _ctlBackspace() {\n\n      setTimeout(function () {\n        editor.events.disableBlur();\n        editor.events.focus();\n      }, 0);\n    }\n\n    /**\n     * BACKSPACE.\n     */\n    function _backspace(e) {\n      // There is no selection.\n      if (editor.selection.isCollapsed()) {\n        editor.cursor.backspace();\n\n        if (editor.helpers.isIOS()) {\n          var range = editor.selection.ranges(0);\n          range.deleteContents();\n          range.insertNode(document.createTextNode('\\u200B'));\n\n          var sel = editor.selection.get();\n          sel.modify('move', 'forward', 'character');\n        }\n        else {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      // We have text selected.\n      else {\n        e.preventDefault();\n        e.stopPropagation();\n\n        editor.selection.remove();\n        editor.html.fillEmptyBlocks();\n      }\n\n      editor.placeholder.refresh();\n    }\n\n    /**\n     * DELETE\n     */\n    function _del(e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // There is no selection.\n      if (editor.selection.text() === '') {\n        editor.cursor.del();\n      }\n\n      // We have text selected.\n      else {\n        editor.selection.remove();\n      }\n\n      editor.placeholder.refresh();\n    }\n\n    /**\n     * SPACE\n     */\n    function _space(e) {\n      var el = editor.selection.element();\n\n      // Do nothing on mobile.\n      // Browser is Mozilla or we're inside a link tag.\n      if (!editor.helpers.isMobile() && (el && el.tagName == 'A')) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!editor.selection.isCollapsed()) editor.selection.remove();\n        var marker = editor.markers.insert();\n\n        if (marker) {\n          var prev_node = marker.previousSibling;\n          var next_node = marker.nextSibling;\n\n          if (!next_node && marker.parentNode && marker.parentNode.tagName == 'A') {\n            marker.parentNode.insertAdjacentHTML('afterend', '&nbsp;' + $.FE.MARKERS);\n            marker.parentNode.removeChild(marker);\n          }\n          else {\n            if (prev_node && prev_node.nodeType == Node.TEXT_NODE && prev_node.textContent.length == 1 && prev_node.textContent.charCodeAt(0) == 160) {\n              prev_node.textContent = prev_node.textContent + ' ';\n            }\n            else {\n              marker.insertAdjacentHTML('beforebegin', '&nbsp;')\n            }\n\n            marker.outerHTML = $.FE.MARKERS;\n          }\n\n          editor.selection.restore();\n        }\n      }\n    }\n\n    /**\n     * Handle typing in Korean for FF.\n     */\n    function _input() {\n\n      // Select is collapsed and we're not using IME.\n      if (editor.browser.mozilla && editor.selection.isCollapsed() && !IME) {\n        var range = editor.selection.ranges(0);\n        var start_container = range.startContainer;\n        var start_offset = range.startOffset;\n\n        // Start container is text and last char before cursor is space.\n        if (start_container && start_container.nodeType == Node.TEXT_NODE && start_offset <= start_container.textContent.length && start_offset > 0 && start_container.textContent.charCodeAt(start_offset - 1) == 32) {\n          editor.selection.save();\n          editor.spaces.normalize();\n          editor.selection.restore();\n        }\n      }\n    }\n\n    /**\n     * Cut.\n     */\n    function _cut() {\n      if (editor.selection.isFull()) {\n        setTimeout(function () {\n          var default_tag = editor.html.defaultTag();\n\n          if (default_tag) {\n            editor.$el.html('<' + default_tag + '>' + $.FE.MARKERS + '<br/></' + default_tag + '>');\n          }\n          else {\n            editor.$el.html($.FE.MARKERS + '<br/>');\n          }\n          editor.selection.restore();\n\n          editor.placeholder.refresh();\n          editor.button.bulkRefresh();\n          editor.undo.saveStep();\n        }, 0);\n      }\n    }\n\n    /**\n     * Tab.\n     */\n    function _tab(e) {\n      if (editor.opts.tabSpaces > 0) {\n        if (editor.selection.isCollapsed()) {\n          editor.undo.saveStep();\n\n          e.preventDefault();\n          e.stopPropagation();\n\n          var str = '';\n\n          for (var i = 0; i < editor.opts.tabSpaces; i++) str += '&nbsp;';\n          editor.html.insert(str);\n          editor.placeholder.refresh();\n\n          editor.undo.saveStep();\n        }\n        else {\n          e.preventDefault();\n          e.stopPropagation();\n\n          if (!e.shiftKey) {\n            editor.commands.indent();\n          }\n          else {\n            editor.commands.outdent();\n          }\n        }\n      }\n    }\n\n    /**\n     * Map keyPress actions.\n     */\n    function _mapKeyPress() {\n      IME = false;\n    }\n\n    function _clearIME() {\n      IME = false;\n    }\n\n    /**\n     * If is IME.\n     */\n    function isIME() {\n      return IME;\n    }\n\n    var key_down_code;\n\n    function _empty() {\n      var default_tag = editor.html.defaultTag();\n\n      if (default_tag) {\n        editor.$el.html('<' + default_tag + '>' + $.FE.MARKERS + '<br/></' + default_tag + '>');\n      }\n      else {\n        editor.$el.html($.FE.MARKERS + '<br/>');\n      }\n\n      editor.selection.restore();\n    }\n\n    /**\n     * Map keyDown actions.\n     */\n    function _mapKeyDown(e) {\n      var sel_el = editor.selection.element();\n\n      if (sel_el && ['INPUT', 'TEXTAREA'].indexOf(sel_el.tagName) >= 0) return true;\n\n      if (e && isArrow(e.which)) return true;\n\n      editor.events.disableBlur();\n\n      ios_snapshot = null;\n\n      var key_code = e.which;\n\n      if (key_code === 16) return true;\n\n      key_down_code = key_code;\n\n      // Handle Japanese typing.\n      if (key_code === $.FE.KEYCODE.IME) {\n        IME = true;\n\n        return true;\n      }\n      else {\n        IME = false;\n      }\n\n      var char_key = (isCharacter(key_code) && !ctrlKey(e) && !e.altKey);\n      var del_key = (key_code == $.FE.KEYCODE.BACKSPACE || key_code == $.FE.KEYCODE.DELETE);\n\n      // 1. Selection is full.\n      // 2. Del key is hit, editor is empty and there is keepFormatOnDelete.\n      if ((editor.selection.isFull() && !editor.opts.keepFormatOnDelete && !editor.placeholder.isVisible()) || (del_key && editor.placeholder.isVisible() && editor.opts.keepFormatOnDelete)) {\n        if (char_key || del_key) {\n          _empty();\n\n          if (!isCharacter(key_code)) {\n            e.preventDefault();\n\n            return true;\n          }\n        }\n      }\n\n      // ENTER.\n      if (key_code == $.FE.KEYCODE.ENTER) {\n        if (e.shiftKey) {\n          _shiftEnter(e);\n        }\n        else {\n          _enter(e);\n        }\n      }\n\n      // Ctrl/Command Backspace.\n      else if (key_code === $.FE.KEYCODE.BACKSPACE && (e.metaKey || e.ctrlKey)) {\n        _ctlBackspace();\n      }\n\n      // Backspace.\n      else if (key_code == $.FE.KEYCODE.BACKSPACE && !ctrlKey(e) && !e.altKey) {\n        if (!editor.placeholder.isVisible()) {\n          _backspace(e);\n        }\n        else {\n          if (!editor.opts.keepFormatOnDelete) {\n            _empty();\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      // Delete.\n      else if (key_code == $.FE.KEYCODE.DELETE && !ctrlKey(e) && !e.altKey && !e.shiftKey) {\n        if (!editor.placeholder.isVisible()) {\n          _del(e);\n        }\n        else {\n          if (!editor.opts.keepFormatOnDelete) {\n            _empty();\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n\n      // Space.\n      else if (key_code == $.FE.KEYCODE.SPACE) {\n        _space(e);\n      }\n\n      // Tab.\n      else if (key_code == $.FE.KEYCODE.TAB) {\n        _tab(e);\n      }\n\n      // Char key.\n      else if (!ctrlKey(e) && isCharacter(e.which) && !editor.selection.isCollapsed() && !e.ctrlKey) {\n        editor.selection.remove();\n      }\n\n      editor.events.enableBlur();\n    }\n\n    /**\n     * Remove U200B.\n     */\n    function _replaceU200B(el) {\n      var walker = editor.doc.createTreeWalker(el, NodeFilter.SHOW_TEXT, editor.node.filter(function (node) {\n\n        return /\\u200B/gi.test(node.textContent);\n      }), false);\n\n      while (walker.nextNode()) {\n        var node = walker.currentNode;\n\n        node.textContent = node.textContent.replace(/\\u200B/gi, '');\n      }\n    }\n\n    function positionCaret() {\n      if (!editor.$wp) return true;\n\n      var info;\n\n      if (!editor.opts.height && !editor.opts.heightMax) {\n\n        // Make sure we scroll bottom.\n        info = editor.position.getBoundingRect()\n          .top;\n\n        // https://github.com/froala/wysiwyg-editor/issues/834.\n        if (editor.opts.toolbarBottom) info += editor.opts.toolbarStickyOffset;\n\n        if (editor.helpers.isIOS() || editor.helpers.isAndroid()) info -= editor.helpers.scrollTop();\n\n        if (editor.opts.iframe) {\n          info += editor.$iframe.offset()\n            .top;\n\n          // https://github.com/froala-labs/froala-editor-js-2/issues/432 . getBoundingRect will return different results in iframe because the viewport.\n          info -= editor.helpers.scrollTop();\n        }\n\n        info += editor.opts.toolbarStickyOffset;\n\n        if (info > editor.o_win.innerHeight - 20) {\n          $(editor.o_win)\n            .scrollTop(info + editor.helpers.scrollTop() - editor.o_win.innerHeight + 20);\n        }\n\n        // Make sure we scroll top.\n        info = editor.position.getBoundingRect()\n          .top;\n\n        // https://github.com/froala/wysiwyg-editor/issues/834.\n        if (!editor.opts.toolbarBottom) info -= editor.opts.toolbarStickyOffset;\n\n        if (editor.helpers.isIOS() || editor.helpers.isAndroid()) info -= editor.helpers.scrollTop();\n\n        if (editor.opts.iframe) {\n          info += editor.$iframe.offset()\n            .top;\n\n          // https://github.com/froala-labs/froala-editor-js-2/issues/432 . getBoundingRect will return different results in iframe because the viewport.\n          info -= editor.helpers.scrollTop();\n        }\n\n        if (info < editor.$tb.height() + 20) {\n          $(editor.o_win)\n            .scrollTop(info + editor.helpers.scrollTop() - editor.$tb.height() - 20);\n        }\n      }\n      else {\n\n        // Make sure we scroll bottom.\n        info = editor.position.getBoundingRect()\n          .top;\n\n        if (editor.helpers.isIOS() || editor.helpers.isAndroid()) info -= editor.helpers.scrollTop();\n\n        if (editor.opts.iframe) {\n          info += editor.$iframe.offset()\n            .top;\n        }\n\n        if (info > editor.$wp.offset()\n          .top - editor.helpers.scrollTop() + editor.$wp.height() - 20) {\n          editor.$wp.scrollTop(info + editor.$wp.scrollTop() - (editor.$wp.height() + editor.$wp.offset()\n            .top) + editor.helpers.scrollTop() + 20);\n        }\n      }\n    }\n\n    /**\n     * Map keyUp actions.\n     */\n    function _mapKeyUp(e) {\n      var sel_el = editor.selection.element();\n\n      if (sel_el && ['INPUT', 'TEXTAREA'].indexOf(sel_el.tagName) >= 0) return true;\n\n      // When using iOS soft keyboard, in keyup we get 0 for keycode,\n      // therefore, we are using the one we got on keydown.\n      if (e && e.which === 0 && key_down_code) {\n        e.which = key_down_code;\n      }\n\n      if (editor.helpers.isAndroid() && editor.browser.mozilla) {\n\n        return true;\n      }\n\n      // IME IE.\n      if (IME) {\n        return false;\n      }\n\n      // Revert ios default ENTER.\n      if (e && editor.helpers.isIOS() && e.which == $.FE.KEYCODE.ENTER) {\n        editor.doc.execCommand('delete')\n      }\n\n      if (!editor.selection.isCollapsed()) return true;\n\n      if (e && (e.which === $.FE.KEYCODE.META || e.which == $.FE.KEYCODE.CTRL)) return true;\n\n      if (e && isArrow(e.which)) return true;\n\n      if (e && !editor.helpers.isIOS() && (e.which == $.FE.KEYCODE.ENTER || e.which == $.FE.KEYCODE.BACKSPACE || (e.which >= 37 && e.which <= 40 && !editor.browser.msie))) {\n        positionCaret();\n      }\n\n      // Remove invisible space where possible.\n      var has_invisible = function (node) {\n        if (!node) return false;\n\n        var text = node.innerHTML;\n        text = text.replace(/<span[^>]*? class\\s*=\\s*[\"']?fr-marker[\"']?[^>]+>\\u200b<\\/span>/gi, '');\n\n        if (text && /\\u200B/.test(text) && text.replace(/\\u200B/gi, '')\n          .length > 0) return true;\n\n        return false;\n      }\n\n      var ios_CJK = function (el) {\n        var CJKRegEx = /[\\u3041-\\u3096\\u30A0-\\u30FF\\u4E00-\\u9FFF\\u3130-\\u318F\\uAC00-\\uD7AF]/gi;\n\n        return !editor.helpers.isIOS() || ((el.textContent || '')\n            .match(CJKRegEx) || [])\n          .length === 0;\n      }\n\n      // Get the selection element.\n      var el = editor.selection.element();\n\n      if (has_invisible(el) && !editor.node.hasClass(el, 'fr-marker') && el.tagName != 'IFRAME' && ios_CJK(el)) {\n        editor.selection.save();\n        _replaceU200B(el);\n        editor.selection.restore();\n      }\n    }\n\n    // Check if we should consider that CTRL key is pressed.\n    function ctrlKey(e) {\n      if (navigator.userAgent.indexOf('Mac OS X') != -1) {\n        if (e.metaKey && !e.altKey) return true;\n      }\n      else {\n        if (e.ctrlKey && !e.altKey) return true;\n      }\n\n      return false;\n    }\n\n    function isArrow(key_code) {\n      if (key_code >= $.FE.KEYCODE.ARROW_LEFT && key_code <= $.FE.KEYCODE.ARROW_DOWN) {\n\n        return true;\n      }\n    }\n\n    function isCharacter(key_code) {\n      if (key_code >= $.FE.KEYCODE.ZERO &&\n        key_code <= $.FE.KEYCODE.NINE) {\n\n        return true;\n      }\n\n      if (key_code >= $.FE.KEYCODE.NUM_ZERO &&\n        key_code <= $.FE.KEYCODE.NUM_MULTIPLY) {\n\n        return true;\n      }\n\n      if (key_code >= $.FE.KEYCODE.A &&\n        key_code <= $.FE.KEYCODE.Z) {\n\n        return true;\n      }\n\n      // Safari sends zero key code for non-latin characters.\n      if (editor.browser.webkit && key_code === 0) {\n\n        return true;\n      }\n\n      switch (key_code) {\n        case $.FE.KEYCODE.SPACE:\n        case $.FE.KEYCODE.QUESTION_MARK:\n        case $.FE.KEYCODE.NUM_PLUS:\n        case $.FE.KEYCODE.NUM_MINUS:\n        case $.FE.KEYCODE.NUM_PERIOD:\n        case $.FE.KEYCODE.NUM_DIVISION:\n        case $.FE.KEYCODE.SEMICOLON:\n        case $.FE.KEYCODE.FF_SEMICOLON:\n        case $.FE.KEYCODE.DASH:\n        case $.FE.KEYCODE.EQUALS:\n        case $.FE.KEYCODE.FF_EQUALS:\n        case $.FE.KEYCODE.COMMA:\n        case $.FE.KEYCODE.PERIOD:\n        case $.FE.KEYCODE.SLASH:\n        case $.FE.KEYCODE.APOSTROPHE:\n        case $.FE.KEYCODE.SINGLE_QUOTE:\n        case $.FE.KEYCODE.OPEN_SQUARE_BRACKET:\n        case $.FE.KEYCODE.BACKSLASH:\n        case $.FE.KEYCODE.CLOSE_SQUARE_BRACKET:\n\n          return true;\n        default:\n\n          return false;\n      }\n\n    }\n\n    var _typing_timeout;\n    var _temp_snapshot;\n\n    function _typingKeyDown(e) {\n      var keycode = e.which;\n\n      if (ctrlKey(e) || (keycode >= 37 && keycode <= 40) || (!isCharacter(keycode) && keycode != $.FE.KEYCODE.DELETE && keycode != $.FE.KEYCODE.BACKSPACE && keycode != $.FE.KEYCODE.ENTER && keycode != $.FE.KEYCODE.IME)) return true;\n\n      if (!_typing_timeout) {\n        _temp_snapshot = editor.snapshot.get();\n\n        if (!editor.undo.canDo()) editor.undo.saveStep();\n      }\n\n      clearTimeout(_typing_timeout);\n      _typing_timeout = setTimeout(function () {\n        _typing_timeout = null;\n        editor.undo.saveStep();\n      }, Math.max(250, editor.opts.typingTimer));\n    }\n\n    function _typingKeyUp(e) {\n      var keycode = e.which;\n\n      if (ctrlKey(e) || (keycode >= 37 && keycode <= 40)) return true;\n\n      if (_temp_snapshot && _typing_timeout) {\n        editor.undo.saveStep(_temp_snapshot);\n        _temp_snapshot = null;\n      }\n\n      // iOS choosing suggestion.\n      else {\n        if ((typeof keycode === 'undefined' || keycode === 0) && !_temp_snapshot && !_typing_timeout) {\n          editor.undo.saveStep();\n        }\n      }\n    }\n\n    function forceUndo() {\n      if (_typing_timeout) {\n        clearTimeout(_typing_timeout);\n        editor.undo.saveStep();\n        _temp_snapshot = null;\n      }\n    }\n\n    /**\n     * Check if key event is part of browser accessibility.\n     */\n    function isBrowserAction(e) {\n      var keycode = e.which;\n\n      return ctrlKey(e) || keycode == $.FE.KEYCODE.F5;\n    }\n\n    // Node doesn't have a BR or text inside it.\n    function _isEmpty(node) {\n      if (node && node.tagName == 'BR') return false;\n\n      // No text and no BR.\n      // Special case for image caption / video.\n      try {\n        return ((node.textContent || '').length === 0 && node.querySelector && !node.querySelector(':scope > br')) ||\n          (node.childNodes && node.childNodes.length == 1 && node.childNodes[0].getAttribute && (node.childNodes[0].getAttribute('contenteditable') == 'false' || editor.node.hasClass(node.childNodes[0], 'fr-img-caption')));\n      }\n      catch (ex) {\n        return false;\n      }\n    }\n\n    /**\n     * Allow typing after/before last element.\n     */\n    function _allowTypingOnEdges(e) {\n      var childs = editor.el.childNodes;\n      var dt = editor.html.defaultTag();\n\n      if (e.target && e.target !== editor.el) return true;\n\n      // No childs.\n      if (childs.length === 0) return true;\n\n      // At the bottom.\n      if (editor.$el.outerHeight() - e.offsetY <= 10) {\n        if (_isEmpty(childs[childs.length - 1])) {\n          if (dt) {\n            editor.$el.append('<' + dt + '>' + $.FE.MARKERS + '<br></' + dt + '>');\n          }\n          else {\n            editor.$el.append($.FE.MARKERS + '<br>');\n          }\n\n          // Restore selection and scroll.\n          editor.selection.restore();\n          positionCaret();\n        }\n      }\n\n      // At the top\n      else if (e.offsetY <= 10) {\n        if (_isEmpty(childs[0])) {\n          if (dt) {\n            editor.$el.prepend('<' + dt + '>' + $.FE.MARKERS + '<br></' + dt + '>');\n          }\n          else {\n            editor.$el.prepend($.FE.MARKERS + '<br>');\n          }\n\n          // Restore selection and scroll.\n          editor.selection.restore();\n          positionCaret();\n        }\n      }\n    }\n\n    function _clearTypingTimer() {\n      if (_typing_timeout) {\n        clearTimeout(_typing_timeout);\n      }\n    }\n\n    /**\n     * Tear up.\n     */\n    function _init() {\n      editor.events.on('keydown', _typingKeyDown);\n      editor.events.on('input', _input);\n      editor.events.on('mousedown', _clearIME);\n      editor.events.on('keyup input', _typingKeyUp);\n\n      // Register for handling.\n      editor.events.on('keypress', _mapKeyPress);\n      editor.events.on('keydown', _mapKeyDown);\n      editor.events.on('keyup', _mapKeyUp);\n      editor.events.on('destroy', _clearTypingTimer);\n\n      editor.events.on('html.inserted', _mapKeyUp);\n\n      // Handle cut.\n      editor.events.on('cut', _cut);\n\n      // Click in editor at beginning / end.\n      editor.events.on('click', _allowTypingOnEdges);\n    }\n\n    return {\n      _init: _init,\n      ctrlKey: ctrlKey,\n      isCharacter: isCharacter,\n      isArrow: isArrow,\n      forceUndo: forceUndo,\n      isIME: isIME,\n      isBrowserAction: isBrowserAction,\n      positionCaret: positionCaret\n    }\n  };\n\n\n\n  $.FE.MODULES.accessibility = function (editor) {\n\n    // Flag to tell if mouseenter can blur popup elements with tabindex. This is in case that popup shows over the cursor so mouseenter should not blur immediately.\n    // FireFox issue.\n    var can_blur = true;\n\n    /*\n     * Focus an element.\n     */\n    function focusToolbarElement ($el) {\n\n      // Check if it is empty.\n      // https://github.com/froala/wysiwyg-editor/issues/2427.\n      if (!$el || !$el.length || editor.$el.find('[contenteditable=\"true\"]').is(':focus')) {\n        return;\n      }\n\n      // Add blur event handler on the element that do not reside on a popup.\n      if (!$el.data('blur-event-set') && !$el.parents('.fr-popup').length) {\n\n        // Set shared event for blur on element because it resides in a popup.\n        editor.events.$on($el, 'blur', function () {\n\n          // Get current instance.\n          var inst = $el.parents('.fr-toolbar, .fr-popup').data('instance') || editor;\n\n          // Check if we should actually trigger blur.\n          if (inst.events.blurActive()) {\n            inst.events.trigger('blur');\n          }\n\n          // Allow blur.\n          // IE hack.\n          setTimeout(function () {\n            inst.events.enableBlur();\n          }, 100);\n        }, true);\n\n        $el.data('blur-event-set', true);\n      }\n\n      // Get current instance.\n      var inst = $el.parents('.fr-toolbar, .fr-popup').data('instance') || editor;\n\n      // Do not allow blur on the editor until element focus.\n      inst.events.disableBlur();\n      $el.focus();\n\n      // Store it as the current focused element.\n      editor.shared.$f_el = $el;\n    }\n\n    /*\n     * Focus first or last toolbar button.\n     */\n    function focusToolbar ($tb, last) {\n      var position = last ? 'last' : 'first';\n      var $btn = $tb.find('button:visible:not(.fr-disabled), .fr-group span.fr-command:visible')[position]();\n\n      if ($btn.length) {\n        focusToolbarElement($btn);\n\n        return true;\n      }\n    }\n\n    /*\n     * Focus a popup content element.\n     */\n    function focusContentElement ($el) {\n\n      // Save editor selection only if the element we want to focus is input text or textarea.\n      if ($el.is('input, textarea, select')) {\n        saveSelection();\n      }\n\n      editor.events.disableBlur();\n      $el.focus();\n\n      return true;\n    }\n\n    /*\n     * Focus popup's content.\n     */\n    function focusContent ($content, backward) {\n\n      // First input.\n      var $first_input = $content.find('input, textarea, button, select').filter(':visible').not(':disabled').filter(backward ? ':last' : ':first');\n\n      if ($first_input.length) {\n        return focusContentElement($first_input);\n      }\n\n      if (editor.shared.with_kb) {\n\n        // Active item.\n        var $active_item = $content.find('.fr-active-item:visible:first');\n\n        if ($active_item.length) {\n          return focusContentElement($active_item);\n        }\n\n        // First element with tabindex.\n        var $first_tab_index = $content.find('[tabIndex]:visible:first')\n\n        if ($first_tab_index.length) {\n          return focusContentElement($first_tab_index);\n        }\n      }\n    }\n\n    function saveSelection () {\n      if (editor.$el.find('.fr-marker').length === 0 && editor.core.hasFocus()) {\n        editor.selection.save();\n      }\n    }\n\n    function restoreSelection () {\n\n      // Restore selection.\n      if (editor.$el.find('.fr-marker').length) {\n        editor.events.disableBlur();\n        editor.selection.restore();\n        editor.events.enableBlur();\n      }\n    }\n\n    /*\n     * Focus popup.\n     */\n    function focusPopup ($popup) {\n\n      // Get popup content without fr-buttons toolbar.\n      var $popup_content = $popup.children().not('.fr-buttons');\n\n      // Blur popup on mouseenter.\n      if (!$popup_content.data('mouseenter-event-set')) {\n        editor.events.$on($popup_content, 'mouseenter', '[tabIndex]', function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          // FireFox issue.\n          if (!can_blur) {\n\n            // Popup showed over the cursor.\n            e.stopPropagation();\n            e.preventDefault();\n\n            return;\n          }\n          var $focused_item = $popup_content.find(':focus:first');\n\n          if ($focused_item.length && !$focused_item.is('input, button, textarea, select')) {\n            inst.events.disableBlur();\n            $focused_item.blur();\n            inst.events.disableBlur();\n            inst.events.focus();\n          }\n        });\n\n        $popup_content.data('mouseenter-event-set', true);\n      }\n\n      // Focus content if possible, else focus toolbar if the popup is opened with keyboard.\n      if (!focusContent($popup_content) && editor.shared.with_kb) {\n        focusToolbar($popup.find('.fr-buttons'));\n      }\n    }\n\n    /*\n     * Focus modal.\n     */\n    function focusModal ($modal) {\n\n      // Make sure we have focus on editing area.\n      if (!editor.core.hasFocus()) {\n        editor.events.disableBlur();\n        editor.events.focus();\n      }\n\n      // Save selection.\n      editor.accessibility.saveSelection();\n      editor.events.disableBlur();\n\n      // Blur editor and clear selection to enable arrow keys scrolling.\n      editor.$el.blur();\n      editor.selection.clear();\n\n      editor.events.disableBlur();\n\n      if (editor.shared.with_kb) {\n        $modal.find('.fr-command[tabIndex], [tabIndex]').first().focus();\n      }\n      else {\n        $modal.find('[tabIndex]:first').focus();\n      }\n    }\n\n    /*\n     * Focus popup toolbar or main toolbar.\n     */\n    function focusToolbars () {\n\n      // Look for active popup.\n      var $popup = editor.popups.areVisible();\n\n      if ($popup) {\n        var $tb = $popup.find('.fr-buttons');\n\n        if (!$tb.find('button:focus, .fr-group span:focus').length) {\n          return !focusToolbar($tb);\n        }\n        else {\n          return !focusToolbar($popup.data('instance').$tb)\n        }\n      }\n\n      // Focus main toolbar if no others were found.\n      return !focusToolbar(editor.$tb);\n    }\n\n    /*\n     * Get the dropdown button that is active and is focused or is active and its commands are focused.\n     */\n    function _getActiveFocusedDropdown () {\n      var $activeDropdown = null;\n\n      // Is active and focused.\n      if (editor.shared.$f_el.is('.fr-dropdown.fr-active')) {\n        $activeDropdown = editor.shared.$f_el;\n      }\n\n      // Is active and its commands are focused. editor.shared.$f_el is a dropdown command.\n      else if (editor.shared.$f_el.closest('.fr-dropdown-menu').prev().is('.fr-dropdown.fr-active')) {\n        $activeDropdown = editor.shared.$f_el.closest('.fr-dropdown-menu').prev();\n      }\n\n      return $activeDropdown;\n    }\n\n    function _moveHorizontally ($tb, tab_key, forward) {\n      if (editor.shared.$f_el) {\n        var $activeDropdown = _getActiveFocusedDropdown();\n\n        // A focused active dropdown button.\n        if ($activeDropdown) {\n\n          // Unclick.\n          editor.button.click($activeDropdown);\n          editor.shared.$f_el = $activeDropdown;\n        }\n\n        // Focus the next/previous button.\n\n        // Get all toobar buttons.\n        var $buttons = $tb.find('button:visible:not(.fr-disabled), .fr-group span.fr-command:visible');\n\n        // Get focused button position.\n        var index = $buttons.index(editor.shared.$f_el);\n\n        // Last or first button reached.\n        if ((index === 0 && !forward) || (index == $buttons.length - 1 && forward)) {\n          var status;\n\n          // Focus content if last or first toolbar button is reached.\n          if (tab_key) {\n            if ($tb.parent().is('.fr-popup')) {\n              var $popup_content = $tb.parent().children().not('.fr-buttons')\n              status = !focusContent($popup_content, !forward);\n            }\n\n            if (status === false) {\n              editor.shared.$f_el = null;\n            }\n          }\n\n          // Arrow used or popup listeners were not active.\n          if (!tab_key || status !== false) {\n\n            // Focus to the opposite side button of the toolbar.\n            focusToolbar($tb, !forward);\n          }\n        }\n        else {\n\n          // Focus next or previous button.\n          focusToolbarElement($($buttons.get(index + (forward ? 1 : -1))));\n        }\n\n        return false;\n      }\n    }\n\n    function moveForward ($tb, tab_key) {\n      return _moveHorizontally($tb, tab_key, true);\n    }\n\n    function moveBackward ($tb, tab_key) {\n      return _moveHorizontally($tb, tab_key);\n    }\n\n    function _moveVertically (down) {\n      if (editor.shared.$f_el) {\n\n        var $destination;\n\n        // Dropdown button.\n        if (editor.shared.$f_el.is('.fr-dropdown.fr-active')) {\n\n          // Focus the first/last dropdown command.\n          if (down) {\n            $destination = editor.shared.$f_el.next().find('.fr-command:not(.fr-disabled)').first();\n          }\n          else {\n            $destination = editor.shared.$f_el.next().find('.fr-command:not(.fr-disabled)').last();\n          }\n\n          focusToolbarElement($destination);\n\n          return false;\n        }\n\n        // Dropdown command.\n        else if (editor.shared.$f_el.is('a.fr-command')) {\n\n          // Focus the previous/next dropdown command.\n          if (down) {\n            $destination = editor.shared.$f_el.closest('li').nextAll(':visible:first').find('.fr-command:not(.fr-disabled)').first();\n          }\n          else {\n            $destination = editor.shared.$f_el.closest('li').prevAll(':visible:first').find('.fr-command:not(.fr-disabled)').first();\n          }\n\n          // Last or first button reached: Focus to the opposite side element of the dropdown.\n          if (!$destination.length) {\n            if (down) {\n              $destination = editor.shared.$f_el.closest('.fr-dropdown-menu').find('.fr-command:not(.fr-disabled)').first();\n            }\n            else {\n              $destination = editor.shared.$f_el.closest('.fr-dropdown-menu').find('.fr-command:not(.fr-disabled)').last();\n            }\n          }\n\n          focusToolbarElement($destination);\n\n          return false;\n        }\n      }\n    }\n\n    function moveDown () {\n\n      // Also enable dropdown opening on arrow down.\n      if (editor.shared.$f_el && editor.shared.$f_el.is('.fr-dropdown:not(.fr-active)')) {\n        return enter();\n      }\n      else {\n        return _moveVertically(true);\n      }\n    }\n\n    function moveUp () {\n      return _moveVertically();\n    }\n\n    function enter () {\n      if (editor.shared.$f_el) {\n\n        // Check if the focused element is a dropdown button.\n        if (editor.shared.$f_el.hasClass('fr-dropdown')) {\n\n          // Do click and focus the first dropdown item.\n          editor.button.click(editor.shared.$f_el);\n        }\n        else if (editor.shared.$f_el.is('button.fr-back')) {\n          if (editor.opts.toolbarInline) {\n            editor.events.disableBlur();\n            editor.events.focus();\n          }\n          var $popup = editor.popups.areVisible(editor);\n\n          // Previous popup will show up so we need to not default focus the popup because back popup button have to be focused.\n          if ($popup) {\n            editor.shared.with_kb = false;\n          }\n\n          editor.button.click(editor.shared.$f_el);\n\n          // Focus back popup button.\n          focusPopupButton($popup);\n        }\n        else {\n          editor.events.disableBlur();\n          editor.button.click(editor.shared.$f_el);\n\n          if (editor.shared.$f_el.attr('data-popup')) {\n\n            // Attach button to visible popup.\n            var $visible_popup = editor.popups.areVisible(editor);\n\n            if ($visible_popup) $visible_popup.data('popup-button', editor.shared.$f_el);\n          }\n          else if (editor.shared.$f_el.attr('data-modal')) {\n\n            // Attach button to visible modal.\n            var $visible_modal = editor.modals.areVisible(editor);\n\n            if ($visible_modal) $visible_modal.data('modal-button', editor.shared.$f_el);\n          }\n\n          editor.shared.$f_el = null;\n        }\n\n        return false;\n      }\n    }\n\n    function focusEditor () {\n      if (editor.shared.$f_el) {\n        editor.events.disableBlur();\n        editor.shared.$f_el.blur();\n        editor.shared.$f_el = null;\n      }\n\n      // Trigger custom behavior.\n      if (editor.events.trigger('toolbar.focusEditor') === false) {\n        return;\n      }\n\n      editor.events.disableBlur();\n      editor.$el.focus();\n      editor.events.focus();\n    }\n\n    function esc ($tb) {\n      if (editor.shared.$f_el) {\n        var $activeDropdown = _getActiveFocusedDropdown();\n\n        // Active focused dropdown.\n        if ($activeDropdown) {\n\n          // Unclick.\n          editor.button.click($activeDropdown);\n\n          // Focus the unactive dropdown.\n          focusToolbarElement($activeDropdown);\n        }\n\n        // Toolbar contains a back button.\n        else if ($tb.parent().find('.fr-back:visible').length) {\n          editor.shared.with_kb = false;\n\n          if (editor.opts.toolbarInline) {\n\n            // Toolbar inline needs focus in order to show up.\n            editor.events.disableBlur();\n            editor.events.focus();\n          }\n          editor.button.exec($tb.parent().find('.fr-back:visible:first'));\n\n          // Focus back popup button.\n          focusPopupButton($tb.parent());\n        }\n\n        // A toolbar that gets opened from the editable area.\n        else if (editor.shared.$f_el.is('button, .fr-group span')) {\n          if ($tb.parent().is('.fr-popup')) {\n\n            // Restore selection.\n            editor.accessibility.restoreSelection();\n            editor.shared.$f_el = null;\n\n            // Trigger custom behaviour.\n            if (editor.events.trigger('toolbar.esc') !== false) {\n\n              // Default behaviour.\n              // Hide popup.\n              editor.popups.hide($tb.parent());\n\n              // Show inline toolbar.\n              if (editor.opts.toolbarInline) editor.toolbar.showInline(null, true);\n\n              // Focus back popup button.\n              focusPopupButton($tb.parent());\n            }\n          }\n          else {\n            focusEditor();\n          }\n        }\n\n        return false;\n      }\n    }\n\n    /*\n     * Execute shortcut.\n     */\n    function exec (e, $tb) {\n      var ctrlKey = navigator.userAgent.indexOf('Mac OS X') != -1 ? e.metaKey : e.ctrlKey;\n\n      var keycode = e.which;\n\n      var status = false;\n\n      // Tab.\n      if (keycode == $.FE.KEYCODE.TAB && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = moveForward($tb, true);\n      }\n\n      // Arrow right -> .\n      else if (keycode == $.FE.KEYCODE.ARROW_RIGHT && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = moveForward($tb);\n      }\n\n      // Shift + Tab.\n      else if (keycode == $.FE.KEYCODE.TAB && !ctrlKey && e.shiftKey && !e.altKey) {\n        status = moveBackward($tb, true);\n      }\n\n      // Arrow left <- .\n      else if (keycode == $.FE.KEYCODE.ARROW_LEFT && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = moveBackward($tb);\n      }\n\n      // Arrow up.\n      else if (keycode == $.FE.KEYCODE.ARROW_UP && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = moveUp();\n      }\n\n      // Arrow down.\n      else if (keycode == $.FE.KEYCODE.ARROW_DOWN && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = moveDown();\n      }\n\n      // Enter.\n      else if ((keycode == $.FE.KEYCODE.ENTER || keycode == $.FE.KEYCODE.SPACE) && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = enter();\n      }\n\n      // Esc.\n      else if (keycode == $.FE.KEYCODE.ESC && !ctrlKey && !e.shiftKey && !e.altKey) {\n        status = esc($tb);\n      }\n\n      // Alt + F10.\n      else if (keycode == $.FE.KEYCODE.F10 && !ctrlKey && !e.shiftKey && e.altKey) {\n        status = focusToolbars();\n      }\n\n      // No focused element and no action done. Eg: popup is opened.\n      if (!editor.shared.$f_el && status === undefined) {\n        status = true;\n      }\n\n      // Check if key event is a browser action. Eg: Ctrl + R.\n      if (!status && editor.keys.isBrowserAction(e)) {\n        status = true;\n      }\n\n      // Propagate to the next key listeners.\n      if (status) {\n        return true;\n      }\n      else {\n        e.preventDefault();\n        e.stopPropagation();\n\n        return false;\n      }\n    }\n\n    /*\n     * Register a toolbar to keydown event.\n     */\n    function registerToolbar ($tb) {\n      if (!$tb || !$tb.length) {\n        return;\n      }\n\n      // Hitting keydown on toolbar.\n      editor.events.$on($tb, 'keydown', function (e) {\n        // Allow only buttons.fr-command.\n        if (!$(e.target).is('a.fr-command, button.fr-command, .fr-group span.fr-command')) {\n          return true;\n        }\n\n        // Get the current editor instance for the popup.\n        var inst = $tb.parents('.fr-popup').data('instance') || $tb.data('instance') || editor;\n\n        // Keyboard used.\n        editor.shared.with_kb = true;\n        var status = inst.accessibility.exec(e, $tb);\n        editor.shared.with_kb = false;\n\n        return status;\n      }, true);\n\n      // Unfocus the toolbar on mouseenter.\n      editor.events.$on($tb, 'mouseenter', '[tabIndex]', function (e) {\n        var inst = $tb.parents('.fr-popup').data('instance') || $tb.data('instance') || editor;\n\n        // FireFox issue.\n        if (!can_blur) {\n\n          // Popup showed over the cursor.\n          e.stopPropagation();\n          e.preventDefault();\n\n          return;\n        }\n        else {\n          var $hovered_el = $(e.currentTarget);\n\n          if (inst.shared.$f_el && inst.shared.$f_el.not($hovered_el)) {\n            inst.accessibility.focusEditor();\n          }\n        }\n      }, true);\n    }\n\n    /*\n     * Register a popup to a keydown event.\n     */\n    function registerPopup (id) {\n      var $popup = editor.popups.get(id);\n      var ev = _getPopupEvents(id);\n\n      // Register popup toolbar.\n      registerToolbar($popup.find('.fr-buttons'));\n\n      // Clear popup button on mouseenter.\n      editor.events.$on($popup, 'mouseenter', 'tabIndex', ev._tiMouseenter, true);\n\n      // Keydown handler on every element that has tabIndex.\n      editor.events.$on($popup.children().not('.fr-buttons'), 'keydown', '[tabIndex]', ev._tiKeydown, true);\n\n      // Restore selection on popups hide for the current active popup.\n      editor.popups.onHide(id, function () {\n        var inst = $popup.data('instance') || editor;\n        inst.accessibility.restoreSelection();\n      })\n\n      // FireFox issue: Prevent immediate popup bluring. Popup could show up over the cursor.\n      editor.popups.onShow(id, function () {\n        can_blur = false;\n        setTimeout(function () {\n          can_blur = true;\n        }, 0);\n      });\n    }\n\n    /*\n     * Get popup events.\n     */\n    function _getPopupEvents (id) {\n      var $popup = editor.popups.get(id);\n\n      return {\n        /**\n         * Keydown on an input.\n         */\n        _tiKeydown: function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          // See if plugins listeners are active.\n          if (inst.events.trigger('popup.tab', [e]) === false) {\n            return false;\n          }\n\n          var key_code = e.which;\n\n          var $focused_item = $popup.find(':focus:first');\n\n          // Tabbing.\n          if ($.FE.KEYCODE.TAB == key_code) {\n            e.preventDefault();\n\n            // Focus next/previous input.\n            var $popup_content = $popup.children().not('.fr-buttons');\n            var inputs = $popup_content.find('input, textarea, button, select').filter(':visible').not('.fr-no-touch input, .fr-no-touch textarea, .fr-no-touch button, .fr-no-touch select, :disabled').toArray();\n            var idx = inputs.indexOf(this) + (e.shiftKey ? -1 : 1);\n\n            if (0 <= idx && idx < inputs.length) {\n              inst.events.disableBlur();\n              $(inputs[idx]).focus();\n\n              e.stopPropagation();\n\n              return false;\n            }\n\n            // Focus toolbar.\n            var $tb = $popup.find('.fr-buttons');\n\n            if ($tb.length && focusToolbar($tb, (e.shiftKey ? true : false))) {\n              e.stopPropagation();\n\n              return false;\n            }\n\n            // Focus content.\n            if (focusContent($popup_content)) {\n              e.stopPropagation();\n\n              return false;\n            }\n          }\n\n          // ENTER.\n          else if ($.FE.KEYCODE.ENTER == key_code && e.target && e.target.tagName !== 'TEXTAREA') {\n            var $active_button = null;\n\n            if ($popup.find('.fr-submit:visible').length > 0) {\n              $active_button = $popup.find('.fr-submit:visible:first');\n            }\n            else if ($popup.find('.fr-dismiss:visible').length) {\n              $active_button = $popup.find('.fr-dismiss:visible:first');\n            }\n\n            if ($active_button) {\n              e.preventDefault();\n              e.stopPropagation();\n              inst.events.disableBlur();\n              inst.button.exec($active_button);\n            }\n          }\n\n          // ESC.\n          else if ($.FE.KEYCODE.ESC == key_code) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            // Restore selection.\n            inst.accessibility.restoreSelection();\n\n            if (inst.popups.isVisible(id) && $popup.find('.fr-back:visible').length) {\n              if (inst.opts.toolbarInline) {\n\n                // Toolbar inline needs focus in order to show up.\n                inst.events.disableBlur();\n                inst.events.focus();\n              }\n              inst.button.exec($popup.find('.fr-back:visible:first'));\n\n              // Focus back popup button.\n              focusPopupButton($popup);\n            }\n            else if (inst.popups.isVisible(id) && $popup.find('.fr-dismiss:visible').length) {\n              inst.button.exec($popup.find('.fr-dismiss:visible:first'));\n            }\n            else {\n              inst.popups.hide(id);\n\n              if (inst.opts.toolbarInline) inst.toolbar.showInline(null, true);\n\n              // Focus back popup button.\n              focusPopupButton($popup);\n            }\n\n            return false;\n          }\n\n          // Allow space.\n          else if ($.FE.KEYCODE.SPACE == key_code && ($focused_item.is('.fr-submit') || $focused_item.is('.fr-dismiss'))) {\n            e.preventDefault();\n            e.stopPropagation();\n            inst.events.disableBlur();\n            inst.button.exec($focused_item);\n\n            return true;\n          }\n\n          // Other KEY. Stop propagation to the window.\n          else {\n\n            // Check if key event is a browser action. Eg: Ctrl + R.\n            if (inst.keys.isBrowserAction(e)) {\n              e.stopPropagation();\n\n              return;\n            }\n\n            if ($focused_item.is('input[type=text], textarea')) {\n              e.stopPropagation();\n\n              return;\n            }\n\n            if ($.FE.KEYCODE.SPACE == key_code && ($focused_item.is('.fr-link-attr') || $focused_item.is('input[type=file]'))) {\n              e.stopPropagation();\n\n              return;\n            }\n            e.stopPropagation();\n            e.preventDefault();\n\n            return false;\n          }\n        },\n\n        _tiMouseenter: function () {\n          var inst = $popup.data('instance') || editor;\n\n          _clearPopupButton(inst);\n        }\n      }\n    }\n\n    /*\n     * Focus the button from which the popup was showed.\n     */\n    function focusPopupButton ($popup) {\n      var $popup_button = $popup.data('popup-button');\n\n      if ($popup_button) {\n        setTimeout(function () {\n          focusToolbarElement($popup_button);\n          $popup.data('popup-button', null);\n        }, 0);\n      }\n    }\n\n    /*\n     * Focus the button from which the modal was showed.\n     */\n    function focusModalButton ($modal) {\n      var $modal_button = $modal.data('modal-button');\n\n      if ($modal_button) {\n        setTimeout(function () {\n          focusToolbarElement($modal_button);\n          $modal.data('modal-button', null);\n        }, 0);\n      }\n    }\n\n    function hasFocus () {\n      return editor.shared.$f_el != null;\n    }\n\n    function _clearPopupButton (inst) {\n      var $visible_popup = editor.popups.areVisible(inst);\n\n      if ($visible_popup) {\n        $visible_popup.data('popup-button', null);\n      }\n    }\n\n    function _editorKeydownHandler (e) {\n      var ctrlKey = navigator.userAgent.indexOf('Mac OS X') != -1 ? e.metaKey : e.ctrlKey;\n      var keycode = e.which;\n\n      // Alt + F10.\n      if (keycode == $.FE.KEYCODE.F10 && !ctrlKey && !e.shiftKey && e.altKey) {\n\n        // Keyboard used.\n        editor.shared.with_kb = true;\n\n        // Focus active popup content inside the current editor if possible, else focus an available toolbar.\n        var $visible_popup = editor.popups.areVisible(editor);\n        var focused_content = false;\n\n        if ($visible_popup) {\n          focused_content = focusContent($visible_popup.children().not('.fr-buttons'));\n        }\n\n        if (!focused_content) {\n          focusToolbars();\n        }\n\n        editor.shared.with_kb = false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        return false;\n      }\n\n      return true;\n    }\n\n    /**\n     * Initialize.\n     */\n    function _init () {\n\n      // Key down on the editing area.\n      if (editor.$wp) {\n        editor.events.on('keydown', _editorKeydownHandler, true);\n      }\n      else {\n        editor.events.$on(editor.$win, 'keydown', _editorKeydownHandler, true);\n      }\n\n      // Mousedown on the editing area.\n      editor.events.on('mousedown', function (e) {\n        _clearPopupButton(editor);\n\n        if (editor.shared.$f_el) {\n          editor.accessibility.restoreSelection();\n          e.stopPropagation();\n          editor.events.disableBlur();\n          editor.shared.$f_el = null;\n        }\n      }, true);\n\n      // Blur on the editing area.\n      editor.events.on('blur', function () {\n        editor.shared.$f_el = null;\n        _clearPopupButton(editor);\n      }, true);\n    }\n\n    return {\n      _init: _init,\n      registerPopup: registerPopup,\n      registerToolbar: registerToolbar,\n      focusToolbarElement: focusToolbarElement,\n      focusToolbar: focusToolbar,\n      focusContent: focusContent,\n      focusPopup: focusPopup,\n      focusModal: focusModal,\n      focusEditor: focusEditor,\n      focusPopupButton: focusPopupButton,\n      focusModalButton: focusModalButton,\n      hasFocus: hasFocus,\n      exec: exec,\n      saveSelection: saveSelection,\n      restoreSelection: restoreSelection\n    }\n  }\n\n\n  \n\n  $.FE.MODULES.format = function (editor) {\n    /**\n     * Create open tag string.\n     */\n    function _openTag (tag, attrs) {\n      var str = '<' + tag;\n\n      for (var key in attrs) {\n        if (attrs.hasOwnProperty(key)) {\n          str += ' ' + key + '=\"' + attrs[key] + '\"';\n        }\n      }\n\n      str += '>';\n\n      return str;\n    }\n\n    /**\n     * Create close tag string.\n     */\n    function _closeTag (tag) {\n      return '</' + tag + '>';\n    }\n\n    /**\n     * Create query for the current format.\n     */\n    function _query (tag, attrs) {\n      var selector = tag;\n\n      for (var key in attrs) {\n        if (attrs.hasOwnProperty(key)) {\n          if (key == 'id') selector += '#' + attrs[key];\n          else if (key == 'class') selector += '.' + attrs[key];\n          else selector += '[' + key + '=\"' + attrs[key] + '\"]';\n        }\n      }\n\n      return selector;\n    }\n\n    /**\n     * Test matching element.\n     */\n    function _matches (el, selector) {\n      if (!el || el.nodeType != Node.ELEMENT_NODE) return false;\n\n      return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\n    }\n\n    /**\n     * Apply format to the current node till we find a marker.\n     */\n    function _processNodeFormat (start_node, tag, attrs) {\n\n      // No start node.\n      if (!start_node) return;\n\n      // Skip comments.\n      while (start_node.nodeType === Node.COMMENT_NODE) {\n        start_node = start_node.nextSibling;\n      }\n\n      // No start node.\n      if (!start_node) return;\n\n      // If we are in a block process starting with the first child.\n      if (editor.node.isBlock(start_node) && start_node.tagName !== 'HR') {\n        _processNodeFormat(start_node.firstChild, tag, attrs);\n\n        return false;\n      }\n\n      // Create new element.\n      var $span = $(_openTag(tag, attrs)).insertBefore(start_node);\n\n      // Start with the next sibling of the current node.\n      var node = start_node;\n\n      // Search while there is a next node.\n      // Next node is not marker.\n      // Next node does not contain marker.\n      // Next node is not an inner list.\n      while (node && !$(node).is('.fr-marker') && $(node).find('.fr-marker').length === 0 && node.tagName != 'UL' && node.tagName != 'OL') {\n        var tmp = node;\n        node = node.nextSibling;\n        $span.append(tmp);\n      }\n\n      // If there is no node left at the right look at parent siblings.\n      if (!node) {\n        var p_node = $span.get(0).parentNode;\n\n        while (p_node && !p_node.nextSibling && !editor.node.isElement(p_node)) {\n          p_node = p_node.parentNode;\n        }\n\n        if (p_node) {\n          var sibling = p_node.nextSibling;\n\n          if (sibling) {\n\n            // Parent sibling is block then look next.\n            if (!editor.node.isBlock(sibling)) {\n              _processNodeFormat(sibling, tag, attrs);\n            }\n            else if (sibling.tagName === 'HR') {\n              _processNodeFormat(sibling.nextSibling, tag, attrs);\n            }\n            else {\n              _processNodeFormat(sibling.firstChild, tag, attrs);\n            }\n          }\n        }\n      }\n\n      // Start processing child nodes if there is a marker or an inner list.\n      else if ($(node).find('.fr-marker').length || node.tagName == 'UL' || node.tagName == 'OL') {\n        _processNodeFormat(node.firstChild, tag, attrs);\n      }\n\n      if ($span.is(':empty')) {\n        $span.remove();\n      }\n    }\n\n    /**\n     * Apply tag format.\n     */\n    function apply (tag, attrs) {\n      var i;\n\n      if (typeof attrs == 'undefined') attrs = {};\n\n      if (attrs.style) {\n        delete attrs.style;\n      }\n\n      // Selection is collapsed.\n      if (editor.selection.isCollapsed()) {\n        editor.markers.insert();\n        var $marker = editor.$el.find('.fr-marker');\n        $marker.replaceWith(_openTag(tag, attrs) + $.FE.INVISIBLE_SPACE + $.FE.MARKERS + _closeTag(tag));\n        editor.selection.restore();\n      }\n\n      // Selection is not collapsed.\n      else {\n        editor.selection.save();\n\n        // Check if selection can be deleted.\n        var start_marker = editor.$el.find('.fr-marker[data-type=\"true\"]').get(0).nextSibling;\n\n        _processNodeFormat(start_marker, tag, attrs);\n\n        // Clean inner spans.\n        var inner_spans;\n\n        do {\n          inner_spans = editor.$el.find(_query(tag, attrs) + ' > ' + _query(tag, attrs));\n\n          for (i = 0; i < inner_spans.length; i++) {\n            inner_spans[i].outerHTML = inner_spans[i].innerHTML;\n          }\n        } while (inner_spans.length);\n\n        editor.el.normalize();\n\n        // Have markers inside the new tag.\n        var markers = editor.el.querySelectorAll('.fr-marker');\n\n        for (i = 0; i < markers.length; i++) {\n          var $mk = $(markers[i]);\n\n          if ($mk.data('type') === true) {\n            if (_matches($mk.get(0).nextSibling, _query(tag, attrs))) {\n              $mk.next().prepend($mk);\n            }\n          }\n          else {\n            if (_matches($mk.get(0).previousSibling, _query(tag, attrs))) {\n              $mk.prev().append($mk);\n            }\n          }\n        }\n\n        editor.selection.restore();\n      }\n    }\n\n    /**\n     * Split at current node the parents with tag.\n     */\n    function _split ($node, tag, attrs, collapsed) {\n      if (!collapsed) {\n        var changed = false;\n\n        if ($node.data('type') === true) {\n          while (editor.node.isFirstSibling($node.get(0)) && !$node.parent().is(editor.$el) && !$node.parent().is('ol') && !$node.parent().is('ul')) {\n            $node.parent().before($node);\n            changed = true;\n          }\n        }\n        else if ($node.data('type') === false) {\n          while (editor.node.isLastSibling($node.get(0)) && !$node.parent().is(editor.$el) && !$node.parent().is('ol') && !$node.parent().is('ul')) {\n            $node.parent().after($node);\n            changed = true;\n          }\n        }\n\n        if (changed) return true;\n      }\n\n      // Check if current node has parents which match our tag.\n      if ($node.parents(tag).length || typeof tag == 'undefined') {\n\n        var close_str = '';\n        var open_str = '';\n        var $p_node = $node.parent();\n\n        // Do not split when parent is block.\n        if ($p_node.is(editor.$el) || editor.node.isBlock($p_node.get(0))) return false;\n\n        // Check undefined so that we.\n        while (!editor.node.isBlock($p_node.parent().get(0)) && ((typeof tag == 'undefined') || (typeof tag != 'undefined' && !_matches($p_node.get(0), _query(tag, attrs))))) {\n          close_str = close_str + editor.node.closeTagString($p_node.get(0));\n          open_str = editor.node.openTagString($p_node.get(0)) + open_str;\n          $p_node = $p_node.parent();\n        }\n\n        // Node STR.\n        var node_str = $node.get(0).outerHTML;\n\n        // Replace node with marker.\n        $node.replaceWith('<span id=\"mark\"></span>');\n\n        // Rebuild the HTML for the node.\n        var p_html = $p_node.html().replace(/<span id=\"mark\"><\\/span>/, close_str + editor.node.closeTagString($p_node.get(0)) + open_str + node_str + close_str + editor.node.openTagString($p_node.get(0)) + open_str);\n        $p_node.replaceWith(editor.node.openTagString($p_node.get(0)) + p_html + editor.node.closeTagString($p_node.get(0)));\n\n        return true;\n      }\n\n      return false;\n    }\n\n    /**\n     * Process node remove.\n     */\n    function _processNodeRemove ($node, should_remove, tag, attrs) {\n\n      // Get contents.\n      var contents = editor.node.contents($node.get(0));\n\n      // Loop contents.\n      for (var i = 0; i < contents.length; i++) {\n        var node = contents[i];\n\n        // We found a marker => change should_remove flag.\n        if (editor.node.hasClass(node, 'fr-marker')) {\n          should_remove = (should_remove + 1) % 2;\n        }\n\n        // We should remove.\n        else if (should_remove) {\n\n          // Check if we have a marker inside it.\n          if ($(node).find('.fr-marker').length > 0) {\n            should_remove = _processNodeRemove($(node), should_remove, tag, attrs);\n          }\n\n          // Remove everything starting with the most inner nodes which match the current selector.\n          else {\n\n            var nodes = $(node).find(tag || '*:not(a):not(br)');\n\n            for (var j = nodes.length - 1; j >= 0; j--) {\n              var nd = nodes[j];\n\n              if (!editor.node.isBlock(nd) && !editor.node.isVoid(nd) && (typeof tag == 'undefined' || _matches(nd, _query(tag, attrs)))) {\n                if (!editor.node.hasClass(nd, 'fr-clone')) {\n                  nd.outerHTML = nd.innerHTML;\n                }\n              }\n\n              else if (editor.node.isBlock(nd) && (typeof tag == 'undefined') && node.tagName != 'TABLE') {\n                editor.node.clearAttributes(nd);\n              }\n            }\n\n            // Check inner nodes.\n            if ((typeof tag == 'undefined' && node.nodeType == Node.ELEMENT_NODE && !editor.node.isVoid(node)) || _matches(node, _query(tag, attrs))) {\n              $(node).replaceWith(node.innerHTML);\n            }\n\n            // Remove formatting from block nodes.\n            else if (typeof tag == 'undefined' && node.nodeType == Node.ELEMENT_NODE && editor.node.isBlock(node) && node.tagName != 'TABLE') {\n              editor.node.clearAttributes(node);\n            }\n          }\n        }\n        else {\n\n          // There is a marker.\n          if ($(node).find('.fr-marker').length > 0) {\n            should_remove = _processNodeRemove($(node), should_remove, tag, attrs);\n          }\n        }\n      }\n\n      return should_remove;\n    }\n\n    /**\n     * Remove tag.\n     */\n    function remove (tag, attrs) {\n      if (typeof attrs == 'undefined') attrs = {};\n\n      if (attrs.style) {\n        delete attrs.style;\n      }\n\n      var collapsed = editor.selection.isCollapsed();\n      editor.selection.save();\n\n      // Split at start and end marker.\n      var reassess = true;\n\n      while (reassess) {\n        reassess = false;\n        var markers = editor.$el.find('.fr-marker');\n\n        for (var i = 0; i < markers.length; i++) {\n          var $marker = $(markers[i]);\n          var $clone = null;\n\n          if (!$marker.attr('data-cloned') && !collapsed) {\n            $clone = $marker.clone().removeClass('fr-marker').addClass('fr-clone');\n\n            if ($marker.data('type') === true) {\n              $marker.attr('data-cloned', true).after($clone);\n            }\n            else {\n              $marker.attr('data-cloned', true).before($clone);\n            }\n          }\n\n          if (_split($marker, tag, attrs, collapsed)) {\n            reassess = true;\n            break;\n          }\n        }\n      }\n\n      // Remove format between markers.\n      _processNodeRemove(editor.$el, 0, tag, attrs);\n\n      // Replace markers with their clones.\n      if (!collapsed) {\n        editor.$el.find('.fr-marker').remove();\n        editor.$el.find('.fr-clone').removeClass('fr-clone').addClass('fr-marker');\n      }\n\n      // Selection is collapsed => add invisible spaces.\n      if (collapsed) {\n        editor.$el.find('.fr-marker').before($.FE.INVISIBLE_SPACE).after($.FE.INVISIBLE_SPACE);\n      }\n\n      editor.html.cleanEmptyTags();\n\n      editor.el.normalize();\n      editor.selection.restore();\n    }\n\n    /**\n     * Toggle format.\n     */\n    function toggle (tag, attrs) {\n      if (is(tag, attrs)) {\n        remove(tag, attrs);\n      }\n      else {\n        apply(tag, attrs);\n      }\n    }\n\n    /**\n     * Clean format.\n     */\n    function _cleanFormat (elem, prop) {\n      var $elem = $(elem);\n      $elem.css(prop, '');\n\n      if ($elem.attr('style') === '') {\n        $elem.replaceWith($elem.html());\n      }\n    }\n\n    /**\n     * Filter spans with specific property.\n     */\n    function _filterSpans (elem, prop) {\n      return $(elem).attr('style').indexOf(prop + ':') === 0 || $(elem).attr('style').indexOf(';' + prop + ':') >= 0 || $(elem).attr('style').indexOf('; ' + prop + ':') >= 0;\n    }\n\n    /**\n     * Apply inline style.\n     */\n    function applyStyle (prop, val) {\n\n      var i;\n      var $marker;\n      var $span = null;\n\n      // Selection is collapsed.\n      if (editor.selection.isCollapsed()) {\n        editor.markers.insert();\n        $marker = editor.$el.find('.fr-marker');\n        var $parent = $marker.parent();\n\n        // https://github.com/froala/wysiwyg-editor/issues/1084\n        if (editor.node.openTagString($parent.get(0)) == '<span style=\"' + prop + ': ' + $parent.css(prop) + ';\">') {\n          if (editor.node.isEmpty($parent.get(0))) {\n            $span = $('<span style=\"' + prop + ': ' + val + ';\">' + $.FE.INVISIBLE_SPACE + $.FE.MARKERS + '</span>');\n            $parent.replaceWith($span);\n          }\n\n          // We should get out of the current span with the same props.\n          else {\n            var x = {};\n            x['style*'] = prop + ':';\n            _split($marker, 'span', x, true);\n            $marker = editor.$el.find('.fr-marker');\n\n            if (val) {\n              $span = $('<span style=\"' + prop + ': ' + val + ';\">' + $.FE.INVISIBLE_SPACE + $.FE.MARKERS + '</span>');\n              $marker.replaceWith($span);\n            }\n            else {\n              $marker.replaceWith($.FE.INVISIBLE_SPACE + $.FE.MARKERS);\n            }\n          }\n\n          editor.html.cleanEmptyTags();\n        }\n        else if (editor.node.isEmpty($parent.get(0)) && $parent.is('span')) {\n          $marker.replaceWith($.FE.MARKERS);\n          $parent.css(prop, val);\n        }\n        else {\n          $span = $('<span style=\"' + prop + ': ' + val + ';\">' + $.FE.INVISIBLE_SPACE + $.FE.MARKERS + '</span>');\n          $marker.replaceWith($span);\n        }\n\n        // If we have a span, then split the parent nodes.\n        if ($span) {\n          _splitParents($span, prop, val);\n        }\n      }\n      else {\n        editor.selection.save();\n\n        // When removing selection we should make sure we have selection outside of the first/last parent node.\n        // We also need to do this for U tags.\n        if (val == null || (prop == 'color' && editor.$el.find('.fr-marker').parents('u, a').length > 0)) {\n          var markers = editor.$el.find('.fr-marker');\n\n          for (i = 0; i < markers.length; i++) {\n            $marker = $(markers[i]);\n\n            if ($marker.data('type') === true) {\n              while (editor.node.isFirstSibling($marker.get(0)) && !$marker.parent().is(editor.$el) &&  !editor.node.isElement($marker.parent().get(0)) && !editor.node.isBlock($marker.parent().get(0))) {\n                $marker.parent().before($marker);\n              }\n            }\n            else {\n              while (editor.node.isLastSibling($marker.get(0)) && !$marker.parent().is(editor.$el) &&  !editor.node.isElement($marker.parent().get(0)) && !editor.node.isBlock($marker.parent().get(0))) {\n                $marker.parent().after($marker);\n              }\n            }\n          }\n        }\n\n        // Check if selection can be deleted.\n        var start_marker = editor.$el.find('.fr-marker[data-type=\"true\"]').get(0).nextSibling;\n\n        var attrs = { 'class': 'fr-unprocessed' };\n\n        if (val) attrs.style = prop + ': ' + val + ';'\n        _processNodeFormat(start_marker, 'span', attrs);\n\n        editor.$el.find('.fr-marker + .fr-unprocessed').each(function () {\n          $(this).prepend($(this).prev());\n        });\n\n        editor.$el.find('.fr-unprocessed + .fr-marker').each(function () {\n          $(this).prev().append(this);\n        });\n\n        // When em are being used keep them as the most inner props.\n        if ((val || '').match(/\\dem$/)) {\n          editor.$el.find('span.fr-unprocessed').removeClass('fr-unprocessed');\n        }\n\n        while (editor.$el.find('span.fr-unprocessed').length > 0) {\n          $span = editor.$el.find('span.fr-unprocessed:first').removeClass('fr-unprocessed');\n\n          // Look at parent node to see if we can merge with it.\n          $span.parent().get(0).normalize();\n\n          if ($span.parent().is('span') && $span.parent().get(0).childNodes.length == 1) {\n            $span.parent().css(prop, val);\n            var $child = $span;\n            $span = $span.parent();\n            $child.replaceWith($child.html());\n          }\n\n          // Replace in reverse order to take care of the inner spans first.\n          var inner_spans = $span.find('span');\n\n          for (i = inner_spans.length - 1; i >= 0; i--) {\n            _cleanFormat(inner_spans[i], prop);\n          }\n\n          // Split parent nodes.\n          _splitParents($span, prop, val);\n        }\n      }\n\n      _normalize();\n    }\n\n    function _splitParents ($span, prop, val) {\n      var i;\n\n      // Look at parents with the same property.\n      var $outer_span = $span.parentsUntil(editor.$el, 'span[style]');\n      var to_remove = [];\n\n      for (i = $outer_span.length - 1; i >= 0; i--) {\n        if (!_filterSpans($outer_span[i], prop)) {\n          to_remove.push($outer_span[i]);\n        }\n      }\n\n      $outer_span = $outer_span.not(to_remove);\n\n      if ($outer_span.length) {\n        var c_str = '';\n        var o_str = '';\n        var ic_str = '';\n        var io_str = '';\n        var c_node = $span.get(0);\n\n        do {\n          c_node = c_node.parentNode;\n\n          $(c_node).addClass('fr-split');\n\n          c_str = c_str + editor.node.closeTagString(c_node);\n          o_str = editor.node.openTagString($(c_node).clone().addClass('fr-split').get(0)) + o_str;\n\n          // Inner close and open.\n          if ($outer_span.get(0) != c_node) {\n            ic_str = ic_str + editor.node.closeTagString(c_node);\n            io_str = editor.node.openTagString($(c_node).clone().addClass('fr-split').get(0)) + io_str;\n          }\n        } while ($outer_span.get(0) != c_node);\n\n        // Build breaking string.\n        var str = c_str + editor.node.openTagString($($outer_span.get(0)).clone().css(prop, val || '').get(0)) + io_str + $span.css(prop, '').get(0).outerHTML + ic_str + '</span>' + o_str;\n        $span.replaceWith('<span id=\"fr-break\"></span>');\n        var html = $outer_span.get(0).outerHTML;\n\n        // Replace the outer node.\n        $($outer_span.get(0)).replaceWith(html.replace(/<span id=\"fr-break\"><\\/span>/g, str));\n      }\n    }\n\n    function _normalize () {\n      var i;\n\n      while (editor.$el.find('.fr-split:empty').length > 0) {\n        editor.$el.find('.fr-split:empty').remove();\n      }\n\n      editor.$el.find('.fr-split').removeClass('fr-split');\n\n      editor.$el.find('[style=\"\"]').removeAttr('style');\n      editor.$el.find('[class=\"\"]').removeAttr('class');\n\n      editor.html.cleanEmptyTags();\n\n      $(editor.$el.find('span').get().reverse()).each(function () {\n        if (!this.attributes || this.attributes.length === 0) {\n          $(this).replaceWith(this.innerHTML);\n        }\n      });\n\n      editor.el.normalize();\n\n      // Join current spans together if they are one next to each other.\n      var just_spans = editor.$el.find('span[style] + span[style]');\n\n      for (i = 0; i < just_spans.length; i++) {\n        var $x = $(just_spans[i]);\n        var $p = $(just_spans[i]).prev();\n\n        if ($x.get(0).previousSibling == $p.get(0) && editor.node.openTagString($x.get(0)) == editor.node.openTagString($p.get(0))) {\n          $x.prepend($p.html());\n          $p.remove();\n        }\n      }\n\n      // Check if we have span(font-size) inside span(background-color).\n      // Then, make a split.\n      editor.$el.find('span[style] span[style]').each (function () {\n        if ($(this).attr('style').indexOf('font-size') >= 0) {\n          var $parent = $(this).parents('span[style]');\n\n          if ($parent.attr('style').indexOf('background-color') >= 0) {\n            $(this).attr('style', $(this).attr('style') + ';' + $parent.attr('style'));\n            _split($(this), 'span[style]', {}, false);\n          }\n        }\n      });\n\n      editor.el.normalize();\n      editor.selection.restore();\n    }\n\n    /**\n     * Remove inline style.\n     */\n    function removeStyle (prop) {\n      applyStyle(prop, null);\n    }\n\n    /**\n     * Get the current state.\n     */\n    function is (tag, attrs) {\n      if (typeof attrs == 'undefined') attrs = {};\n\n      if (attrs.style) {\n        delete attrs.style;\n      }\n\n      var range = editor.selection.ranges(0);\n      var el = range.startContainer;\n\n      if (el.nodeType == Node.ELEMENT_NODE) {\n\n        // Search for node deeper.\n        if (el.childNodes.length > 0 && el.childNodes[range.startOffset]) {\n          el = el.childNodes[range.startOffset];\n        }\n      }\n\n      // If we are at the end of text node, then check next elements.\n      if (!range.collapsed && el.nodeType == Node.TEXT_NODE && range.startOffset == (el.textContent || '').length) {\n        while (!editor.node.isBlock(el.parentNode) && !el.nextSibling) {\n          el = el.parentNode;\n        }\n\n        if (el.nextSibling) {\n          el = el.nextSibling;\n        }\n      }\n\n\n      // Check first childs.\n      var f_child = el;\n\n      while (f_child && f_child.nodeType == Node.ELEMENT_NODE && !_matches(f_child, _query(tag, attrs))) {\n        f_child = f_child.firstChild;\n      }\n\n      if (f_child && f_child.nodeType == Node.ELEMENT_NODE && _matches(f_child, _query(tag, attrs))) return true;\n\n\n      // Check parents.\n      var p_node = el;\n\n      if (p_node && p_node.nodeType != Node.ELEMENT_NODE) p_node = p_node.parentNode;\n\n      while (p_node && p_node.nodeType == Node.ELEMENT_NODE && p_node != editor.el && !_matches(p_node, _query(tag, attrs))) {\n        p_node = p_node.parentNode;\n      }\n\n      if (p_node && p_node.nodeType == Node.ELEMENT_NODE && p_node != editor.el && _matches(p_node, _query(tag, attrs))) return true;\n\n      return false;\n    }\n\n    return {\n      is: is,\n      toggle: toggle,\n      apply: apply,\n      remove: remove,\n      applyStyle: applyStyle,\n      removeStyle: removeStyle\n    }\n  }\n\n\n\n  $.extend($.FE.DEFAULTS, {\n    indentMargin: 20\n  });\n\n  $.FE.COMMANDS = {\n    bold: {\n      title: 'Bold',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('strong');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    italic: {\n      title: 'Italic',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('em');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    underline: {\n      title: 'Underline',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('u');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    strikeThrough: {\n      title: 'Strikethrough',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('s');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    subscript: {\n      title: 'Subscript',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('sub');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    superscript: {\n      title: 'Superscript',\n      toggle: true,\n      refresh: function ($btn) {\n        var format = this.format.is('sup');\n        $btn.toggleClass('fr-active', format).attr('aria-pressed', format);\n      }\n    },\n    outdent: {\n      title: 'Decrease Indent'\n    },\n    indent: {\n      title: 'Increase Indent'\n    },\n    undo: {\n      title: 'Undo',\n      undo: false,\n      forcedRefresh: true,\n      disabled: true\n    },\n    redo: {\n      title: 'Redo',\n      undo: false,\n      forcedRefresh: true,\n      disabled: true\n    },\n    insertHR: {\n      title: 'Insert Horizontal Line'\n    },\n    clearFormatting: {\n      title: 'Clear Formatting'\n    },\n    selectAll: {\n      title: 'Select All',\n      undo: false\n    }\n  };\n\n  $.FE.RegisterCommand = function (name, info) {\n    $.FE.COMMANDS[name] = info;\n  }\n\n  $.FE.MODULES.commands = function (editor) {\n    function _createDefaultTag  (empty) {\n      if (editor.html.defaultTag()) {\n        empty = '<' + editor.html.defaultTag() + '>' + empty + '</' + editor.html.defaultTag() + '>';\n      }\n\n      return empty;\n    }\n\n    var mapping = {\n      bold: function () {\n        _execCommand('bold', 'strong');\n      },\n\n      subscript: function () {\n\n        // Remove sup.\n        if (editor.format.is('sup')) {\n          editor.format.remove('sup');\n        }\n\n        _execCommand('subscript', 'sub');\n      },\n\n      superscript: function () {\n\n        // Remove sub.\n        if (editor.format.is('sub')) {\n          editor.format.remove('sub');\n        }\n\n        _execCommand('superscript', 'sup');\n      },\n\n      italic: function () {\n        _execCommand('italic', 'em');\n      },\n\n      strikeThrough: function () {\n        _execCommand('strikeThrough', 's');\n      },\n\n      underline: function () {\n        _execCommand('underline', 'u');\n      },\n\n      undo: function () {\n        editor.undo.run();\n      },\n\n      redo: function () {\n        editor.undo.redo();\n      },\n\n      indent: function () {\n        _processIndent(1);\n      },\n\n      outdent: function () {\n        _processIndent(-1);\n      },\n\n      show: function () {\n        if (editor.opts.toolbarInline) {\n          editor.toolbar.showInline(null, true);\n        }\n      },\n\n      insertHR: function () {\n        editor.selection.remove();\n\n        var empty = '';\n\n        if (editor.core.isEmpty()) {\n          empty = '<br>';\n          empty = _createDefaultTag(empty);\n        }\n\n        editor.html.insert('<hr id=\"fr-just\">' + empty);\n        var $hr = editor.$el.find('hr#fr-just');\n        $hr.removeAttr('id');\n        var check;\n\n        // Make sure we can type after HR.\n        if ($hr.next().length === 0) {\n          var default_tag = editor.html.defaultTag();\n\n          if (default_tag) {\n            $hr.after($('<' + default_tag + '>').append('<br>'));\n          }\n          else {\n            $hr.after('<br>');\n          }\n        }\n\n        if ($hr.prev().is('hr')) {\n          check = editor.selection.setAfter($hr.get(0), false);\n        }\n        else if ($hr.next().is('hr')) {\n          check = editor.selection.setBefore($hr.get(0), false);\n        }\n        else {\n          editor.selection.setAfter($hr.get(0), false) || editor.selection.setBefore($hr.get(0), false);\n        }\n\n        // Added fix for this issue https://github.com/froala-labs/froala-editor-js-2/issues/384\n        if (!check && typeof check !== 'undefined') {\n          empty = $.FE.MARKERS + '<br>';\n          empty = _createDefaultTag(empty);\n          $hr.after(empty);\n        }\n\n        editor.selection.restore();\n      },\n\n      clearFormatting: function () {\n        editor.format.remove();\n      },\n\n      selectAll: function () {\n        editor.doc.execCommand('selectAll', false, false);\n      }\n    }\n\n    /**\n     * Exec command.\n     */\n    function exec (cmd, params) {\n\n      // Trigger before command to see if to execute the default callback.\n      if (editor.events.trigger('commands.before', $.merge([cmd], params || [])) !== false) {\n\n        // Get the callback.\n        var callback = ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].callback) || mapping[cmd];\n\n        var focus = true;\n        var accessibilityFocus = false;\n\n        if ($.FE.COMMANDS[cmd]) {\n          if (typeof $.FE.COMMANDS[cmd].focus != 'undefined') {\n            focus = $.FE.COMMANDS[cmd].focus;\n          }\n\n          if (typeof $.FE.COMMANDS[cmd].accessibilityFocus != 'undefined') {\n            accessibilityFocus = $.FE.COMMANDS[cmd].accessibilityFocus;\n          }\n        }\n\n        // Make sure we have focus.\n        if (\n          (!editor.core.hasFocus() && focus && !editor.popups.areVisible()) ||\n          (!editor.core.hasFocus() && accessibilityFocus && editor.accessibility.hasFocus())\n        ) {\n\n          // Focus in the editor at any position.\n          editor.events.focus(true);\n        }\n\n        // Callback.\n        // Save undo step.\n        if ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].undo !== false) {\n          if (editor.$el.find('.fr-marker').length) {\n            editor.events.disableBlur();\n            editor.selection.restore();\n          }\n\n          editor.undo.saveStep();\n        }\n\n        if (callback) {\n          callback.apply(editor, $.merge([cmd], params || []));\n        }\n\n        // Trigger after command.\n        editor.events.trigger('commands.after', $.merge([cmd], params || []));\n\n        // Save undo step again.\n        if ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].undo !== false) editor.undo.saveStep();\n      }\n    }\n\n    /**\n     * Exex default.\n     */\n    function _execCommand(cmd, tag) {\n      editor.format.toggle(tag);\n    }\n\n    function _processIndent(indent) {\n      editor.selection.save();\n      editor.html.wrap(true, true, true, true);\n      editor.selection.restore();\n\n      var blocks = editor.selection.blocks();\n\n      for (var i = 0; i < blocks.length; i++) {\n        if (blocks[i].tagName != 'LI' && blocks[i].parentNode.tagName != 'LI') {\n          var $block = $(blocks[i]);\n\n          var prop = (editor.opts.direction == 'rtl' || $block.css('direction') == 'rtl') ? 'margin-right' : 'margin-left';\n\n          var margin_left = editor.helpers.getPX($block.css(prop));\n\n          // Do not allow text to go out of the editor view.\n          if ($block.width() < 2 * editor.opts.indentMargin && indent > 0) continue;\n\n          $block.css(prop, Math.max(margin_left + indent * editor.opts.indentMargin, 0) || '');\n          $block.removeClass('fr-temp-div');\n        }\n      }\n\n      editor.selection.save();\n      editor.html.unwrap();\n      editor.selection.restore();\n    }\n\n    function callExec (k) {\n      return function () {\n        exec(k);\n      }\n    }\n\n    var resp = {};\n\n    for (var k in mapping) {\n      if (mapping.hasOwnProperty(k)) {\n        resp[k] = callExec(k);\n      }\n    }\n\n    function _init () {\n\n      // Prevent typing in HR.\n      editor.events.on('keydown', function (e) {\n        var el = editor.selection.element();\n\n        if (el && el.tagName == 'HR' && !editor.keys.isArrow(e.which)) {\n          e.preventDefault();\n\n          return false;\n        }\n      });\n\n      editor.events.on('keyup', function (e) {\n        var el = editor.selection.element();\n\n        if (el && el.tagName == 'HR') {\n          if (e.which == $.FE.KEYCODE.ARROW_LEFT || e.which == $.FE.KEYCODE.ARROW_UP) {\n            if (el.previousSibling) {\n              if (!editor.node.isBlock(el.previousSibling)) {\n                $(el).before($.FE.MARKERS);\n              }\n              else {\n                editor.selection.setAtEnd(el.previousSibling);\n              }\n\n              editor.selection.restore();\n\n              return false;\n            }\n          }\n          else if (e.which == $.FE.KEYCODE.ARROW_RIGHT || e.which == $.FE.KEYCODE.ARROW_DOWN) {\n            if (el.nextSibling) {\n              if (!editor.node.isBlock(el.nextSibling)) {\n                $(el).after($.FE.MARKERS);\n              }\n              else {\n                editor.selection.setAtStart(el.nextSibling);\n              }\n\n              editor.selection.restore();\n\n              return false;\n            }\n          }\n        }\n      })\n\n      // Do not allow mousedown on HR.\n      editor.events.on('mousedown', function (e) {\n        if (e.target && e.target.tagName == 'HR') {\n          e.preventDefault();\n          e.stopPropagation();\n\n          return false;\n        }\n      });\n\n      // If somehow focus gets in HR remove it.\n      editor.events.on('mouseup', function () {\n        var s_el = editor.selection.element();\n        var e_el = editor.selection.endElement();\n\n        if (s_el == e_el && s_el && s_el.tagName == 'HR') {\n          if (s_el.nextSibling) {\n            if (!editor.node.isBlock(s_el.nextSibling)) {\n              $(s_el).after($.FE.MARKERS);\n            }\n            else {\n              editor.selection.setAtStart(s_el.nextSibling);\n            }\n          }\n\n          editor.selection.restore();\n        }\n      })\n    }\n\n    return $.extend(resp, {\n      exec: exec,\n      _init: _init\n    });\n  };\n\n$.FE.MODULES.data=function(E){var o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",l=\"RCZB17botVG4A-8yzia1C4A5DG3CD2cFB4qflmCE4I2FB1SC7F6PE4WE3RD6e2A4c1D3d1E2E3ehxdGE3CE2IB2LC1HG2LE1QA3QC7B-13cC-9epmkjc1B4e1C4pgjgvkOC5E1eNE1HB2LD2B-13WD5tvabUA5a1A4f1A2G3C2A-21cihKE3FE2DB2cccJE1iC-7G-7tD-17tVD6A-9qC-7QC7a1E4B4je1E3E2G2ecmsAA1xH-8HB11C1D1lgzQA3dTB8od1D4XE3ohb1B4E4D3mbLA10NA7C-21d1genodKC11PD9PE5tA-8UI3ZC5XB5B-11qXF2F-7wtwjAG3NA1IB1OD1HC1RD4QJ4evUF2D5XG2G4XA8pqocH1F3G2J2hcpHC4D1MD4C1MB8PD5klcQD1A8A6e2A3ed1E2A24A7HC5C3qA-9tiA-61dcC3MD1LE1D4SA3A9ZZXSE4g1C3Pa2C5ufbcGI3I2B4skLF2CA1vxB-22wgUC4kdH-8cVB5iwe1A2D3H3G-7DD5JC2ED2OH2JB10D3C2xHE1KA29PB11wdC-11C4cixb2C7a1C4YYE3B2A15uB-21wpCA1MF1NuC-21dyzD6pPG4I-7pmjc1A4yte1F3B-22yvCC3VbC-7qC-22qNE2hC1vH-8zad1RF6WF3DpI-7C8A-16hpf1F3D2ylalB-13BB2lpA-63IB3uOF6D5G4gabC-21UD2A3PH4ZA20B11b2C6ED4A2H3I1A15DB4KD2laC-8LA5B8B7==\",u=\"OB1F1A4D3I1A15A11D3E6B5==\",d=\"NCKB1zwtPA9tqzajXC2c2A7B-16VD3spzJ1C9C3D5oOF2OB1NB1LD7VA5QF4TE3gytXB2A4C-8VA2AC4E1D3GB2EB2KC3KD1MF1juuSB1A8C6yfbmd1B2a1A5qdsdB2tivbC3CB1KC1CH1eLA2sTF1B4I4H-7B-21UB6b1F5bzzzyAB4JC3MG2hjdKC1JE6C1E1cj1pD-16pUE5B4prra2B5ZB3D3C3pxj1EA6A3rnJA2C-7I-7JD9D1E1wYH1F3sTB5TA2G4H4ZA22qZA5BB3mjcvcCC3JB1xillavC-21VE6PC5SI4YC5C8mb1A3WC3BD2B5aoDA2qqAE3A5D-17fOD1D5RD4WC10tE6OAZC3nF-7b1C4A4D3qCF2fgmapcromlHA2QA6a1E1D3e1A6C2bie2F4iddnIA7B2mvnwcIB5OA1DB2OLQA3PB10WC7WC5d1E3uI-7b1D5D6b1E4D2arlAA4EA1F-11srxI-7MB1D7PF1E5B4adB-21YD5vrZH3D3xAC4E1A2GF2CF2J-7yNC2JE1MI2hH-7QB1C6B5B-9bA-7XB13a1B5VievwpKB4LA3NF-10H-9I-8hhaC-16nqPG4wsleTD5zqYF3h1G2B7B4yvGE2Pi1H-7C-21OE6B1uLD1kI4WC1E7C5g1D-8fue1C8C6c1D4D3Hpi1CC4kvGC2E1legallyXB4axVA11rsA4A-9nkdtlmzBA2GD3A13A6CB1dabE1lezrUE6RD5TB4A-7f1C8c1B5d1D4D3tyfCD5C2D2==\",f=function(){for(var e=0,t=document.domain,n=t.split(\".\"),C=\"_gd\"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(C+\"=\"+C);)t=n.slice(-1-++e).join(\".\"),document.cookie=C+\"=\"+C+\";domain=\"+t+\";\";return document.cookie=C+\"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain=\"+t+\";\",(t||\"\").replace(/(^\\.*)|(\\.*$)/g,\"\")}();function s(e){return e}var g,p,h=s(function(e){if(!e)return e;for(var t=\"\",n=s(\"charCodeAt\"),C=s(\"fromCharCode\"),A=o.indexOf(e[0]),B=1;B<e.length-2;B++){for(var r=c(++A),D=e[n](B),i=\"\";/[0-9-]/.test(e[B+1]);)i+=e[++B];D=a(D,r,i=parseInt(i,10)||0),D^=A-1&31,t+=String[C](D)}return t});function c(e){for(var t=e.toString(),n=0,C=0;C<t.length;C++)n+=parseInt(t.charAt(C),10);return 10<n?n%9+1:n}function a(e,t,n){for(var C=Math.abs(n);0<C--;)e-=t;return n<0&&(e+=123),e}function F(e){return!(!e||\"block\"===e.css(\"display\"))&&(e.remove(),!0)}function v(e){return e&&0===E.$box.find(e).length}var e=0;function m(){if(10<e&&(E[s(h(\"0ppecjvc==\"))](),setTimeout(function(){$.FE=null},10)),!E.$box)return!1;E.$wp.prepend(h(s(h(d)))),g=E.$wp.find(\"> div:first\"),p=g.find(\"> a\"),\"rtl\"==E.opts.direction&&g.css(\"left\",\"auto\").css(\"right\",0).attr(\"direction\",\"rtl\"),e++}function G(e){for(var t=[h(\"9qqG-7amjlwq==\"),h(\"KA3B3C2A6D1D5H5H1A3==\"),h(\"3B9B3B5F3C4G3E3==\"),h(\"QzbzvxyB2yA-9m==\"),h(\"ji1kacwmgG5bc==\"),h(\"nmA-13aogi1A3c1jd==\")],n=0;n<t.length;n++)if(String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(t===undefined||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),e.endsWith(t[n]))return!0;return!1}return{_init:function(){var e=E.o_win.FEK;try{e=e||localStorage&&localStorage.FEK}catch(a){}e=E.opts.key||e||[\"\"];var t=h(s(\"ziRA1E3B9pA5B-11D-11xg1A3ZB5D1D4B-11ED2EG2pdeoC1clIH4wB-22yQD5uF4YE3E3A9==\"));\"string\"==typeof e&&(e=[e]);for(var n,C,A,B=!(E.ul=!0),r=0,D=0;D<e.length;D++){var i=(C=e[D],3===(A=(h(C)||\"\").split(\"|\")).length?A:[null,null,h(C)||\"\"]),o=i[2];if(o===h(s(h(\"mcVRDoB1BGILD7YFe1BTXBA7B6==\")))||0<=o.indexOf(f,o.length-f.length)||G(f)){if(!(null===(n=i[1])||new Date(n)<new Date(h(u)))||G(f)){E.ul=!1;break}B=!0,d=l,r=i[0]||-1}}var c=new Image;!0===E.ul&&(m(),c.src=B?s(h(t))+\"e=\"+r:s(h(t))+\"u\"),!0===E.ul&&E.events.on(\"contentChanged\",function(){(F(g)||F(p)||v(g)||v(p))&&m()}),E.events.on(\"destroy\",function(){g&&g.length&&g.remove()},!0)}}}\n\n  $.extend($.FE.DEFAULTS, {\n    pastePlain: false,\n    pasteDeniedTags: ['colgroup', 'col', 'meta'],\n    pasteDeniedAttrs: ['class', 'id', 'style'],\n    pasteAllowedStyleProps: ['.*'],\n    pasteAllowLocalImages: false\n  });\n\n  $.FE.MODULES.paste = function (editor) {\n    var scroll_position;\n    var clipboard_html;\n    var clipboard_rtf;\n    var $paste_div;\n    var snapshot;\n\n    function saveCopiedText(html, plain) {\n      try {\n        editor.win.localStorage.setItem('fr-copied-html', html);\n        editor.win.localStorage.setItem('fr-copied-text', plain);\n      }\n      catch (ex) {\n      }\n    }\n\n    /**\n     * Handle copy and cut.\n     */\n    function _handleCopy (e) {\n      var copied_html = editor.html.getSelected();\n      saveCopiedText(copied_html, $('<div>').html(copied_html).text())\n\n      if (e.type == 'cut') {\n        editor.undo.saveStep();\n\n        setTimeout(function () {\n          editor.selection.save();\n          editor.html.wrap();\n          editor.selection.restore();\n          editor.events.focus();\n          editor.undo.saveStep();\n        }, 0);\n      }\n    }\n\n    /**\n     * Handle pasting.\n     */\n    var stop_paste = false;\n\n    function _handlePaste (e) {\n      if (stop_paste) {\n\n        return false;\n      }\n\n      if (e.originalEvent) e = e.originalEvent;\n\n      if (editor.events.trigger('paste.before', [e]) === false) {\n        e.preventDefault();\n\n        return false;\n      }\n\n      scroll_position = editor.$win.scrollTop();\n\n      // Read data from clipboard.\n      if (e && e.clipboardData && e.clipboardData.getData) {\n        var types = '';\n        var clipboard_types = e.clipboardData.types;\n\n        if (editor.helpers.isArray(clipboard_types)) {\n          for (var i = 0 ; i < clipboard_types.length; i++) {\n            types += clipboard_types[i] + ';';\n          }\n        }\n        else {\n          types = clipboard_types;\n        }\n\n        clipboard_html = '';\n\n        // Get rtf clipboard.\n        if (/text\\/rtf/.test(types)) {\n          clipboard_rtf = e.clipboardData.getData('text/rtf');\n        }\n\n        // HTML.\n        if (/text\\/html/.test(types) && !editor.browser.safari) {\n          clipboard_html = e.clipboardData.getData('text/html');\n        }\n\n        // Safari HTML.\n        else if (/text\\/rtf/.test(types) && editor.browser.safari) {\n          clipboard_html = clipboard_rtf;\n        }\n\n        // Safari HTML for iOS.\n        else if (/public.rtf/.test(types) && editor.browser.safari) {\n          clipboard_html = e.clipboardData.getData('text/rtf');\n        }\n\n        if (clipboard_html !== '') {\n          _processPaste();\n\n          if (e.preventDefault) {\n            e.stopPropagation();\n            e.preventDefault();\n          }\n\n          return false;\n        }\n        else {\n          clipboard_html = null;\n        }\n      }\n\n      // Normal paste.\n      _beforePaste();\n\n      return false;\n    }\n\n    /**\n     * Handle dropping content in the editor.\n     */\n    function _dropPaste (e) {\n      if (e.originalEvent) e = e.originalEvent;\n\n      // Read data from clipboard.\n      if (e && e.dataTransfer && e.dataTransfer.getData) {\n        var types = '';\n        var clipboard_types = e.dataTransfer.types;\n\n        if (editor.helpers.isArray(clipboard_types)) {\n          for (var i = 0 ; i < clipboard_types.length; i++) {\n            types += clipboard_types[i] + ';';\n          }\n        }\n        else {\n          types = clipboard_types;\n        }\n\n        clipboard_html = '';\n\n        // Get rtf clipboard.\n        if (/text\\/rtf/.test(types)) {\n          clipboard_rtf = e.dataTransfer.getData('text/rtf');\n        }\n\n        // HTML.\n        if (/text\\/html/.test(types)) {\n          clipboard_html = e.dataTransfer.getData('text/html');\n        }\n\n        // Safari HTML.\n        else if (/text\\/rtf/.test(types) && editor.browser.safari) {\n          clipboard_html = clipboard_rtf;\n        }\n\n        else if (/text\\/plain/.test(types) && !this.browser.mozilla) {\n          clipboard_html = editor.html.escapeEntities(e.dataTransfer.getData('text/plain')).replace(/\\n/g, '<br>');\n        }\n\n        if (clipboard_html !== '') {\n          editor.keys.forceUndo();\n          snapshot = editor.snapshot.get();\n\n          // Save selection, but change markers class so that we can restore it later.\n          editor.selection.save();\n          editor.$el.find('.fr-marker').removeClass('fr-marker').addClass('fr-marker-helper');\n\n          // Insert marker point helper and change class to restore it later.\n          var ok = editor.markers.insertAtPoint(e);\n          editor.$el.find('.fr-marker').removeClass('fr-marker').addClass('fr-marker-placeholder');\n\n          // Restore selection and remove it.\n          editor.$el.find('.fr-marker-helper').addClass('fr-marker').removeClass('fr-marker-helper');\n          editor.selection.restore();\n          editor.selection.remove();\n\n          // Restore marker point helper.\n          editor.$el.find('.fr-marker-placeholder').addClass('fr-marker').removeClass('fr-marker-placeholder');\n\n          if (ok !== false) {\n            // Insert markers.\n            var marker = editor.el.querySelector('.fr-marker');\n\n            $(marker).replaceWith($.FE.MARKERS);\n            editor.selection.restore();\n\n            _processPaste();\n\n            if (e.preventDefault) {\n              e.stopPropagation();\n              e.preventDefault();\n            }\n\n            return false;\n          }\n        }\n        else {\n          clipboard_html = null;\n        }\n      }\n    }\n\n    /**\n     * Before starting to paste.\n     */\n    function _beforePaste () {\n\n      // Save selection\n      editor.selection.save();\n      editor.events.disableBlur();\n\n      // Set clipboard HTML.\n      clipboard_html = null;\n\n      // Remove and store the editable content\n      if (!$paste_div) {\n        $paste_div = $('<div contenteditable=\"true\" style=\"position: fixed; top: 0; left: -9999px; height: 100%; width: 0; word-break: break-all; overflow:hidden; z-index: 2147483647; line-height: 140%; -moz-user-select: text; -webkit-user-select: text; -ms-user-select: text; user-select: text;\" tabIndex=\"-1\"></div>');\n\n        // Sketch app fix. https://github.com/froala/wysiwyg-editor/issues/2042\n        // Also: when using iframe Safari needs to have focus in the same window.\n        if (editor.browser.safari) {\n          $paste_div.css('top', editor.$sc.scrollTop());\n          editor.$el.after($paste_div);\n        }\n        else if (editor.browser.edge && editor.opts.iframe) {\n          editor.$el.append($paste_div);\n        }\n        else {\n          editor.$box.after($paste_div);\n        }\n\n        editor.events.on('destroy', function () {\n          $paste_div.remove();\n        })\n      }\n      else {\n        $paste_div.html('');\n\n        if (editor.browser.edge && editor.opts.iframe) {\n          editor.$el.append($paste_div);\n        }\n      }\n\n      // Focus on the pasted div.\n      $paste_div.focus();\n\n      // Process paste soon.\n      editor.win.setTimeout(_processPaste, 1);\n    }\n\n    /**\n     * Clean HTML that was pasted from Word.\n     */\n    function _wordClean (html) {\n\n      var i;\n\n      // Single item list.\n      html = html.replace(\n        /<p(.*?)class=\"?'?MsoListParagraph\"?'? ([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<ul><li>$3</li></ul>'\n      );\n      html = html.replace(\n        /<p(.*?)class=\"?'?NumberedText\"?'? ([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<ol><li>$3</li></ol>'\n      );\n\n      // List start.\n      html = html.replace(\n        /<p(.*?)class=\"?'?MsoListParagraphCxSpFirst\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<ul><li$3>$5</li>'\n      );\n      html = html.replace(\n        /<p(.*?)class=\"?'?NumberedTextCxSpFirst\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<ol><li$3>$5</li>'\n      );\n\n      // List middle.\n      html = html.replace(\n        /<p(.*?)class=\"?'?MsoListParagraphCxSpMiddle\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<li$3>$5</li>'\n      );\n      html = html.replace(\n        /<p(.*?)class=\"?'?NumberedTextCxSpMiddle\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<li$3>$5</li>'\n      );\n      html = html.replace(\n        /<p(.*?)class=\"?'?MsoListBullet\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<li$3>$5</li>'\n      );\n\n      // List end.\n      html = html.replace(\n        /<p(.*?)class=\"?'?MsoListParagraphCxSpLast\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<li$3>$5</li></ul>'\n      );\n      html = html.replace(\n        /<p(.*?)class=\"?'?NumberedTextCxSpLast\"?'?([\\s\\S]*?)(level\\d)?([\\s\\S]*?)>([\\s\\S]*?)<\\/p>/gi,\n        '<li$3>$5</li></ol>'\n      );\n\n      // Clean list bullets.\n      html = html.replace(/<span([^<]*?)style=\"?'?mso-list:Ignore\"?'?([\\s\\S]*?)>([\\s\\S]*?)<span/gi, '<span><span');\n\n      // Webkit clean list bullets.\n      html = html.replace(/\x3c!--\\[if \\!supportLists\\]--\x3e([\\s\\S]*?)\x3c!--\\[endif\\]--\x3e/gi, '');\n      html = html.replace(/<!\\[if \\!supportLists\\]>([\\s\\S]*?)<!\\[endif\\]>/gi, '');\n\n      // Remove mso classes.\n      html = html.replace(/(\\n|\\r| class=(\")?Mso[a-zA-Z0-9]+(\")?)/gi, ' ');\n\n      // Remove comments.\n      html = html.replace(/\x3c!--[\\s\\S]*?--\x3e/gi, '');\n\n      // Remove tags but keep content.\n      html = html.replace(/<(\\/)*(meta|link|span|\\\\?xml:|st1:|o:|font)(.*?)>/gi, '');\n\n      // Remove no needed tags.\n      var word_tags = ['style', 'script', 'applet', 'embed', 'noframes', 'noscript'];\n\n      for (i = 0; i < word_tags.length; i++) {\n        var regex = new RegExp('<' + word_tags[i] + '.*?' + word_tags[i] + '(.*?)>', 'gi');\n        html = html.replace(regex, '');\n      }\n\n      // Remove spaces.\n      html = html.replace(/&nbsp;/gi, ' ');\n\n      // Keep empty TH and TD.\n      html = html.replace(/<td([^>]*)><\\/td>/g, '<td$1><br></td>');\n      html = html.replace(/<th([^>]*)><\\/th>/g, '<th$1><br></th>');\n\n      // Remove empty tags.\n      var oldHTML;\n\n      do {\n        oldHTML = html;\n        html = html.replace(/<[^\\/>][^>]*><\\/[^>]+>/gi, '');\n      } while (html != oldHTML);\n\n      // Process list indentation.\n      html = html.replace(/<lilevel([^1])([^>]*)>/gi, '<li data-indent=\"true\"$2>');\n      html = html.replace(/<lilevel1([^>]*)>/gi, '<li$1>');\n\n      // Clean HTML.\n      html = editor.clean.html(html, editor.opts.pasteDeniedTags, editor.opts.pasteDeniedAttrs);\n\n      // Clean empty links.\n      html = html.replace(/<a>(.[^<]+)<\\/a>/gi, '$1');\n\n      // https://github.com/froala/wysiwyg-editor/issues/1364.\n      html = html.replace(/<br> */g, '<br>');\n\n      // Process list indent.\n      var div = editor.o_doc.createElement('div')\n      div.innerHTML = html;\n\n      var lis = div.querySelectorAll('li[data-indent]');\n\n      for (i = 0; i < lis.length; i++) {\n        var li = lis[i];\n\n        var p_li = li.previousElementSibling;\n\n        if (p_li && p_li.tagName == 'LI') {\n          var list = p_li.querySelector(':scope > ul, :scope > ol');\n\n          if (!list) {\n            list = document.createElement('ul');\n            p_li.appendChild(list);\n          }\n\n          list.appendChild(li);\n        }\n        else {\n          li.removeAttribute('data-indent');\n        }\n      }\n\n      editor.html.cleanBlankSpaces(div);\n\n      html = div.innerHTML;\n\n      return html;\n    }\n\n    /**\n     * Plain clean.\n     */\n    function _plainPasteClean (html) {\n\n      var el = null;\n      var i;\n      var div = editor.doc.createElement('div');\n      div.innerHTML = html;\n\n      var els = div.querySelectorAll('p, div, h1, h2, h3, h4, h5, h6, pre, blockquote');\n\n      for (i = 0; i < els.length; i++) {\n        el = els[i];\n        el.outerHTML = '<' + (editor.html.defaultTag() || 'DIV') + '>' + el.innerHTML + '</' + (editor.html.defaultTag() || 'DIV') + '>'\n      }\n\n      els = div.querySelectorAll('*:not(' + 'p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br, img'.split(',').join('):not(') + ')');\n\n      for (i = els.length - 1; i >= 0; i--) {\n        el = els[i];\n        el.outerHTML = el.innerHTML;\n      }\n\n      // Remove comments.\n      var cleanComments = function (node) {\n        var contents = editor.node.contents(node);\n\n        for (var i = 0; i < contents.length; i++) {\n          if (contents[i].nodeType != Node.TEXT_NODE && contents[i].nodeType != Node.ELEMENT_NODE) {\n            contents[i].parentNode.removeChild(contents[i]);\n          }\n          else {\n            cleanComments(contents[i]);\n          }\n        }\n      };\n\n      cleanComments(div);\n\n      return div.innerHTML;\n    }\n\n    /**\n     * Process the pasted HTML.\n     */\n    function _processPaste () {\n\n      if (editor.browser.edge && editor.opts.iframe) {\n        editor.$box.after($paste_div);\n      }\n\n      // Save undo snapshot.\n      if (!snapshot) {\n        editor.keys.forceUndo();\n        snapshot = editor.snapshot.get();\n      }\n\n      // Cannot read from clipboard.\n      if (!clipboard_html) {\n        clipboard_html = $paste_div.get(0).innerHTML;\n\n        editor.selection.restore();\n        editor.events.enableBlur();\n      }\n\n      var is_word = clipboard_html.match(/(class=\\\"?Mso|class=\\'?Mso|class=\"?Xl|class='?Xl|class=Xl|style=\\\"[^\\\"]*\\bmso\\-|style=\\'[^\\']*\\bmso\\-|w:WordDocument)/gi);\n\n      // Trigger chain cleanp.\n      var response = editor.events.chainTrigger('paste.beforeCleanup', clipboard_html);\n\n      if (response && typeof(response) === 'string') {\n        clipboard_html = response;\n      }\n\n      // Clean non-word or word if no plugin processed the paste.\n      if (!is_word || (is_word && editor.events.trigger('paste.wordPaste', [clipboard_html]) !== false)) {\n        clean(clipboard_html, is_word);\n      }\n    }\n\n    /**\n     * Check if pasted content comes from the editor.\n     */\n    function _isFromEditor (clipboard_html) {\n      var possible_text = null;\n\n      try {\n        possible_text = editor.win.localStorage.getItem('fr-copied-text');\n      }\n      catch (ex) {\n      }\n\n      if (possible_text && $('<div>').html(clipboard_html).text().replace(/\\u00A0/gi, ' ').replace(/\\r|\\n/gi, '') == possible_text.replace(/\\u00A0/gi, ' ').replace(/\\r|\\n/gi, '')) {\n        return true;\n      }\n\n      return false;\n    }\n\n    function _buildTabs (len) {\n      var tabs = '';\n      var i = 0;\n\n      while (i++ < len) {\n        tabs += '&nbsp;'\n      }\n\n      return tabs;\n    }\n\n    /**\n     * Clean clipboard html.\n     */\n    function clean (clipboard_html, is_word, keep_formatting) {\n      var els = null;\n      var el = null;\n      var i;\n\n      // Keep only body if there is.\n      if (clipboard_html.toLowerCase().indexOf('<body') >= 0) {\n        var style = '';\n\n        if (clipboard_html.indexOf('<style') >= 0) {\n          style = clipboard_html.replace(/[.\\s\\S\\w\\W<>]*(<style[^>]*>[\\s]*[.\\s\\S\\w\\W<>]*[\\s]*<\\/style>)[.\\s\\S\\w\\W<>]*/gi, '$1');\n        }\n\n        clipboard_html = style + clipboard_html.replace(/[.\\s\\S\\w\\W<>]*<body[^>]*>[\\s]*([.\\s\\S\\w\\W<>]*)[\\s]*<\\/body>[.\\s\\S\\w\\W<>]*/gi, '$1');\n        clipboard_html = clipboard_html.replace(/ \\n/g, ' ').replace(/\\n /g, ' ').replace(/([^>])\\n([^<])/g, '$1 $2');\n      }\n\n      // Google Docs paste.\n      var is_gdocs = false;\n\n      if (clipboard_html.indexOf('id=\"docs-internal-guid') >= 0) {\n        clipboard_html = clipboard_html.replace(/^[\\w\\W\\s\\S]* id=\"docs-internal-guid[^>]*>([\\w\\W\\s\\S]*)<\\/b>[\\w\\W\\s\\S]*$/g, '$1');\n        is_gdocs = true;\n      }\n\n      // Not word paste.\n      var is_editor_content = false;\n\n      if (!is_word) {\n        is_editor_content = _isFromEditor(clipboard_html);\n\n        // Remove pasting token.\n        if (is_editor_content) {\n          clipboard_html = editor.win.localStorage.getItem('fr-copied-html');\n        }\n\n        if (!is_editor_content) {\n          // Remove comments.\n          var htmlAllowedStylePropsCopy = editor.opts.htmlAllowedStyleProps;\n          editor.opts.htmlAllowedStyleProps = editor.opts.pasteAllowedStyleProps;\n          editor.opts.htmlAllowComments = false;\n\n          // Pasting from Apple Notes.\n          clipboard_html = clipboard_html.replace(/<span class=\"Apple-tab-span\">\\s*<\\/span>/g, _buildTabs(editor.opts.tabSpaces || 4));\n          clipboard_html = clipboard_html.replace(/<span class=\"Apple-tab-span\" style=\"white-space:pre\">(\\t*)<\\/span>/g, function (str, x) {\n            return _buildTabs(x.length * (editor.opts.tabSpaces || 4));\n          })\n\n          // Pasting from other sources with tabs.\n          clipboard_html = clipboard_html.replace(/\\t/g, _buildTabs(editor.opts.tabSpaces || 4));\n\n          clipboard_html = editor.clean.html(clipboard_html, editor.opts.pasteDeniedTags, editor.opts.pasteDeniedAttrs);\n\n          editor.opts.htmlAllowedStyleProps = htmlAllowedStylePropsCopy;\n          editor.opts.htmlAllowComments = true;\n\n          // Remove empty tags.\n          clipboard_html = cleanEmptyTagsAndDivs(clipboard_html);\n\n          // Do not keep entities that are not HTML compatible.\n          clipboard_html = clipboard_html.replace(/\\r/g, '');\n\n          // Trail ending and starting spaces.\n          clipboard_html = clipboard_html.replace(/^ */g, '').replace(/ *$/g, '');\n        }\n      }\n\n      // Word paste cleanup when word plugin is not used.\n      if (is_word && (!editor.wordPaste || !keep_formatting)) {\n\n        // Strip spaces at the beginning.\n        clipboard_html = clipboard_html.replace(/^\\n*/g, '').replace(/^ /g, '');\n\n        // Firefox paste.\n        if (clipboard_html.indexOf('<colgroup>') === 0) {\n          clipboard_html = '<table>' + clipboard_html + '</table>';\n        }\n\n        clipboard_html = _wordClean(clipboard_html);\n\n        clipboard_html = cleanEmptyTagsAndDivs(clipboard_html);\n      }\n\n      // Do plain paste cleanup.\n      if (editor.opts.pastePlain && !is_editor_content) {\n        clipboard_html = _plainPasteClean(clipboard_html);\n      }\n\n      // After paste cleanup event.\n      var response = editor.events.chainTrigger('paste.afterCleanup', clipboard_html);\n\n      if (typeof(response) === 'string') {\n        clipboard_html = response;\n      }\n\n      // Check if there is anything to clean.\n      if (clipboard_html !== '') {\n        // Normalize spaces.\n        var tmp = editor.o_doc.createElement('div');\n        tmp.innerHTML = clipboard_html;\n\n        // https://github.com/froala/wysiwyg-editor/issues/2632.\n        if (clipboard_html.indexOf('<body>') >= 0) {\n          editor.html.cleanBlankSpaces(tmp);\n          editor.spaces.normalize(tmp, true);\n        }\n        else {\n          editor.spaces.normalize(tmp);\n        }\n\n        // Remove all spans.\n        var spans = tmp.getElementsByTagName('span');\n\n        for (i = spans.length - 1; i >= 0; i--) {\n          var span = spans[i];\n\n          if (span.attributes.length === 0) {\n            span.outerHTML = span.innerHTML;\n          }\n        }\n\n        // Check if we're inside a list.\n        var selection_el = editor.selection.element();\n        var in_list = false;\n\n        if (selection_el && $(selection_el).parentsUntil(editor.el, 'ul, ol').length) {\n          in_list = true;\n        }\n\n        // Unwrap lists if they are the only thing in the pasted HTML.\n        if (in_list) {\n          var list = tmp.children;\n\n          if (list.length == 1 && ['OL', 'UL'].indexOf(list[0].tagName) >= 0) {\n            list[0].outerHTML = list[0].innerHTML;\n          }\n        }\n\n        // Remove unecessary new_lines.\n        if (!is_gdocs) {\n          var brs = tmp.getElementsByTagName('br');\n\n          for (i = brs.length - 1; i >= 0; i--) {\n            var br = brs[i];\n\n            if (editor.node.isBlock(br.previousSibling)) {\n              br.parentNode.removeChild(br);\n            }\n          }\n        }\n\n        // https://github.com/froala/wysiwyg-editor/issues/1493\n        if (editor.opts.enter == $.FE.ENTER_BR) {\n          els = tmp.querySelectorAll('p, div');\n\n          for (i = els.length - 1; i >= 0; i--) {\n            el = els[i];\n\n            // Fixes https://github.com/froala/wysiwyg-editor/issues/1895.\n            if (el.attributes.length === 0) {\n              el.outerHTML = el.innerHTML + (el.nextSibling && !editor.node.isEmpty(el) ? '<br>' : '');\n            }\n          }\n        }\n\n        else if (editor.opts.enter == $.FE.ENTER_DIV) {\n\n          els = tmp.getElementsByTagName('p');\n\n          for (i = els.length - 1; i >= 0; i--) {\n            el = els[i];\n\n            if (el.attributes.length === 0) {\n              el.outerHTML = '<div>' + el.innerHTML + '</div>';\n            }\n          }\n        }\n\n        else if (editor.opts.enter == $.FE.ENTER_P) {\n          if (tmp.childNodes.length == 1 && tmp.childNodes[0].tagName == 'P' && tmp.childNodes[0].attributes.length === 0) {\n            tmp.childNodes[0].outerHTML = tmp.childNodes[0].innerHTML;\n          }\n        }\n\n        clipboard_html = tmp.innerHTML;\n\n        if (is_editor_content) {\n          clipboard_html = removeEmptyTags(clipboard_html);\n        }\n\n        // Insert HTML.\n        editor.html.insert(clipboard_html, true);\n      }\n\n      _afterPaste();\n\n      editor.undo.saveStep(snapshot);\n      snapshot = null;\n      editor.undo.saveStep();\n    }\n\n    /**\n     * After pasting.\n     */\n    function _afterPaste () {\n      editor.events.trigger('paste.after');\n    }\n\n    /*\n     * Get clipboard in RTF format.\n     */\n    function getRtfClipboard () {\n\n      return clipboard_rtf;\n    }\n\n    /*\n     * Remove those nodes with attrs.\n     */\n    function _filterNoAttrs (arry) {\n      for (var t = arry.length - 1; t >= 0; t--) {\n        if (arry[t].attributes && arry[t].attributes.length) {\n          arry.splice(t, 1);\n        }\n      }\n\n      return arry;\n    }\n\n    function cleanEmptyTagsAndDivs (html) {\n      var i;\n      var div = editor.o_doc.createElement('div');\n      div.innerHTML = html;\n\n      // Workaround for Nodepad paste.\n      var divs = _filterNoAttrs(Array.prototype.slice.call(div.querySelectorAll(':scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])')));\n\n      while (divs.length) {\n        var dv = divs[divs.length - 1];\n\n        if (editor.html.defaultTag() && editor.html.defaultTag() != 'div') {\n\n          // If we have nested block tags unwrap them.\n          if (dv.querySelector(editor.html.blockTagsQuery())) {\n            dv.outerHTML = dv.innerHTML;\n          }\n          else {\n            dv.outerHTML = '<' + editor.html.defaultTag() + '>' + dv.innerHTML + '</' + editor.html.defaultTag() + '>';\n          }\n        }\n        else {\n          var els = dv.querySelectorAll('*');\n\n          if (!els.length || (els[els.length - 1].tagName !== 'BR' && dv.innerText.length === 0)) {\n            dv.outerHTML = dv.innerHTML + '<br>';\n          }\n          else {\n            dv.outerHTML = dv.innerHTML;\n          }\n        }\n\n        divs = _filterNoAttrs(Array.prototype.slice.call(div.querySelectorAll(':scope > div:not([style]), td > div:not([style]), th > div:not([style]), li > div:not([style])')));\n      }\n\n      // Remove divs.\n      divs = _filterNoAttrs(Array.prototype.slice.call(div.querySelectorAll('div:not([style])')));\n\n      while (divs.length) {\n        for (i = 0; i < divs.length; i++) {\n          var el = divs[i];\n          var text = el.innerHTML.replace(/\\u0009/gi, '').trim();\n\n          el.outerHTML = text;\n        }\n\n        divs = _filterNoAttrs(Array.prototype.slice.call(div.querySelectorAll('div:not([style])')));\n      }\n\n      return div.innerHTML;\n    }\n\n    /**\n     * Remove possible empty tags in pasted HTML.\n     */\n    function removeEmptyTags (html) {\n\n      var i;\n      var div = editor.o_doc.createElement('div');\n      div.innerHTML = html;\n\n      // Clean empty tags.\n      var empty_tags = div.querySelectorAll('*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(' + $.FE.VOID_ELEMENTS.join('):not(') + ')' + ':not(' + editor.opts.htmlAllowedEmptyTags.join('):not(') + ')');\n\n      while (empty_tags.length) {\n        for (i = 0; i < empty_tags.length; i++) {\n          empty_tags[i].parentNode.removeChild(empty_tags[i]);\n        }\n\n        empty_tags = div.querySelectorAll('*:empty:not(td):not(th):not(tr):not(iframe):not(svg):not(' + $.FE.VOID_ELEMENTS.join('):not(') + ')' + ':not(' + editor.opts.htmlAllowedEmptyTags.join('):not(') + ')');\n      }\n\n      return div.innerHTML;\n    }\n\n    /**\n     * Initialize.\n     */\n    function _init () {\n      editor.el.addEventListener('copy', _handleCopy);\n      editor.el.addEventListener('cut', _handleCopy);\n      editor.el.addEventListener('paste', _handlePaste, {\n        capture: true\n      });\n\n      editor.events.on('drop', _dropPaste);\n\n      if (editor.browser.msie && editor.browser.version < 11) {\n        editor.events.on('mouseup', function (e) {\n          if (e.button == 2) {\n            setTimeout(function () {\n              stop_paste = false;\n            }, 50);\n            stop_paste = true;\n          }\n        }, true)\n\n        editor.events.on('beforepaste', _handlePaste);\n      }\n\n      editor.events.on('destroy', _destroy);\n    }\n\n    function _destroy () {\n      editor.el.removeEventListener('copy', _handleCopy);\n      editor.el.removeEventListener('cut', _handleCopy);\n      editor.el.removeEventListener('paste', _handlePaste);\n    }\n\n    return {\n      _init: _init,\n      cleanEmptyTagsAndDivs: cleanEmptyTagsAndDivs,\n      getRtfClipboard: getRtfClipboard,\n      saveCopiedText: saveCopiedText,\n      clean: clean\n    }\n  };\n\n\n  $.extend($.FE.DEFAULTS, {\n    shortcutsEnabled: [],\n    shortcutsHint: true\n  });\n\n  $.FE.SHORTCUTS_MAP = {};\n\n  $.FE.RegisterShortcut = function (key, cmd, val, letter, shift, option) {\n    $.FE.SHORTCUTS_MAP[(shift ? '^' : '') + (option ? '@' : '') + key] = {\n      cmd: cmd,\n      val: val,\n      letter: letter,\n      shift: shift,\n      option: option\n    }\n\n    $.FE.DEFAULTS.shortcutsEnabled.push(cmd);\n  }\n\n  $.FE.RegisterShortcut($.FE.KEYCODE.E, 'show', null, 'E', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.B, 'bold', null, 'B', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.I, 'italic', null, 'I', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.U, 'underline', null, 'U', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.S, 'strikeThrough', null, 'S', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.CLOSE_SQUARE_BRACKET, 'indent', null, ']', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.OPEN_SQUARE_BRACKET, 'outdent', null, '[', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.Z, 'undo', null, 'Z', false, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.Z, 'redo', null, 'Z', true, false);\n  $.FE.RegisterShortcut($.FE.KEYCODE.Y, 'redo', null, 'Y', false, false);\n\n  $.FE.MODULES.shortcuts = function (editor) {\n    var inverse_map = null;\n\n    function get (cmd) {\n      if (!editor.opts.shortcutsHint) return null;\n\n      if (!inverse_map) {\n        inverse_map = {};\n\n        for (var key in $.FE.SHORTCUTS_MAP) {\n          if ($.FE.SHORTCUTS_MAP.hasOwnProperty(key) && editor.opts.shortcutsEnabled.indexOf($.FE.SHORTCUTS_MAP[key].cmd) >= 0) {\n            inverse_map[$.FE.SHORTCUTS_MAP[key].cmd + '.' + ($.FE.SHORTCUTS_MAP[key].val || '')] = {\n              shift: $.FE.SHORTCUTS_MAP[key].shift,\n              option: $.FE.SHORTCUTS_MAP[key].option,\n              letter: $.FE.SHORTCUTS_MAP[key].letter\n            }\n          }\n        }\n      }\n\n      var srct = inverse_map[cmd];\n\n      if (!srct) return null;\n\n      return (editor.helpers.isMac() ? String.fromCharCode(8984) : 'Ctrl+') + (srct.shift ? (editor.helpers.isMac() ? String.fromCharCode(8679) : 'Shift+') : '') + (srct.option ? (editor.helpers.isMac() ? String.fromCharCode(8997) : 'Alt+') : '') + srct.letter;\n    }\n\n    var active = false;\n\n    /**\n     * Execute shortcut.\n     */\n    function exec (e) {\n      if (!editor.core.hasFocus()) return true;\n\n      var keycode = e.which;\n\n      var ctrlKey = navigator.userAgent.indexOf('Mac OS X') != -1 ? e.metaKey : e.ctrlKey;\n\n      if (e.type == 'keyup' && active) {\n        if (keycode != $.FE.KEYCODE.META) {\n          active = false;\n\n          return false;\n        }\n      }\n\n      if (e.type == 'keydown') active = false;\n\n      // Build shortcuts map.\n      var map_key = (e.shiftKey ? '^' : '') + (e.altKey ? '@' : '') + keycode;\n\n      if (ctrlKey && $.FE.SHORTCUTS_MAP[map_key]) {\n        var cmd = $.FE.SHORTCUTS_MAP[map_key].cmd;\n\n        // Check if shortcut is enabled.\n        if (cmd && editor.opts.shortcutsEnabled.indexOf(cmd) >= 0) {\n          var val = $.FE.SHORTCUTS_MAP[map_key].val;\n\n          // Search for button.\n          var $btn;\n\n          if (cmd && !val) {\n            $btn = editor.$tb.find('.fr-command[data-cmd=\"' + cmd + '\"]');\n          }\n          else if (cmd && val) {\n            $btn = editor.$tb.find('.fr-command[data-cmd=\"' + cmd + '\"][data-param1=\"' + val + '\"]');\n          }\n\n          // Button found.\n          if ($btn.length) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            $btn.parents('.fr-toolbar').data('instance', editor);\n\n            if (e.type == 'keydown') {\n              editor.button.exec($btn);\n              active = true;\n            }\n\n            return false;\n          }\n\n          // Search for command.\n          else if (cmd && (editor.commands[cmd] || ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].callback))) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (e.type == 'keydown') {\n              (editor.commands[cmd] || $.FE.COMMANDS[cmd].callback)();\n              active = true;\n            }\n\n            return false;\n          }\n        }\n      }\n    }\n\n    /**\n     * Initialize.\n     */\n    function _init () {\n      editor.events.on('keydown', exec, true);\n      editor.events.on('keyup', exec, true);\n    }\n\n    return {\n      _init: _init,\n      get: get\n    }\n  }\n\n\n  $.FE.MODULES.snapshot = function (editor) {\n    /**\n     * Get the index of a node inside it's parent.\n     */\n    function _getNodeIndex (node) {\n      var childNodes = node.parentNode.childNodes;\n      var idx = 0;\n      var prevNode = null;\n\n      for (var i = 0; i < childNodes.length; i++) {\n        if (prevNode) {\n\n          // Current node is text and it is empty.\n          var isEmptyText = (childNodes[i].nodeType === Node.TEXT_NODE && childNodes[i].textContent === '');\n\n          // Previous node is text, current node is text.\n          var twoTexts = (prevNode.nodeType === Node.TEXT_NODE && childNodes[i].nodeType === Node.TEXT_NODE);\n\n          if (!isEmptyText && !twoTexts) idx++;\n        }\n\n        if (childNodes[i] == node) return idx;\n\n        prevNode = childNodes[i];\n      }\n    }\n\n    /**\n     * Determine the location of the node inside the element.\n     */\n    function _getNodeLocation (node) {\n      var loc = [];\n\n      if (!node.parentNode) return [];\n\n      while (!editor.node.isElement(node)) {\n        loc.push(_getNodeIndex(node));\n        node = node.parentNode;\n      }\n\n      return loc.reverse();\n    }\n\n    /**\n     * Get the range offset inside the node.\n     */\n    function _getRealNodeOffset (node, offset) {\n      while (node && node.nodeType === Node.TEXT_NODE) {\n        var prevNode = node.previousSibling;\n\n        if (prevNode && prevNode.nodeType == Node.TEXT_NODE) {\n          offset += prevNode.textContent.length;\n        }\n        node = prevNode;\n      }\n\n      return offset;\n    }\n\n    /**\n     * Codify each range.\n     */\n    function _getRange (range) {\n      return {\n        scLoc: _getNodeLocation(range.startContainer),\n        scOffset: _getRealNodeOffset(range.startContainer, range.startOffset),\n        ecLoc: _getNodeLocation(range.endContainer),\n        ecOffset: _getRealNodeOffset(range.endContainer, range.endOffset)\n      }\n    }\n\n    /**\n     * Get the current snapshot.\n     */\n    function get () {\n      var snapshot = {};\n\n      editor.events.trigger('snapshot.before');\n\n      snapshot.html = (editor.$wp ? editor.$el.html() : editor.$oel.get(0).outerHTML).replace(/ style=\"\"/g, '');\n\n      snapshot.ranges = [];\n\n      if (editor.$wp && editor.selection.inEditor() && editor.core.hasFocus()) {\n        var ranges = editor.selection.ranges();\n\n        for (var i = 0; i < ranges.length; i++) {\n          snapshot.ranges.push(_getRange(ranges[i]));\n        }\n      }\n\n      editor.events.trigger('snapshot.after', [snapshot]);\n\n      return snapshot;\n    }\n\n    /**\n     * Determine node by its location in the main element.\n     */\n    function _getNodeByLocation (loc) {\n      var node = editor.el;\n\n      for (var i = 0; i < loc.length; i++) {\n        node = node.childNodes[loc[i]];\n      }\n\n      return node;\n    }\n\n    /**\n     * Restore range from snapshot.\n     */\n    function _restoreRange (sel, range_snapshot) {\n      try {\n\n        // Get range info.\n        var startNode = _getNodeByLocation(range_snapshot.scLoc);\n        var startOffset = range_snapshot.scOffset;\n        var endNode = _getNodeByLocation(range_snapshot.ecLoc);\n        var endOffset = range_snapshot.ecOffset;\n\n        // Restore range.\n        var range = editor.doc.createRange();\n        range.setStart(startNode, startOffset);\n        range.setEnd(endNode, endOffset);\n\n        sel.addRange(range);\n      }\n      catch (ex) {\n        console.warn (ex)\n      }\n    }\n\n    /**\n     * Restore snapshot.\n     */\n    function restore (snapshot) {\n\n      // Restore HTML.\n      if (editor.$el.html() != snapshot.html) {\n        if (editor.opts.htmlExecuteScripts) {\n          editor.$el.html(snapshot.html);\n        }\n        else {\n          editor.el.innerHTML = snapshot.html;\n        }\n      }\n\n      // Get selection.\n      var sel = editor.selection.get();\n\n      // Make sure to clear current selection.\n      editor.selection.clear();\n\n      // Focus.\n      editor.events.focus(true);\n\n      // Restore Ranges.\n      for (var i = 0; i < snapshot.ranges.length; i++) {\n        _restoreRange(sel, snapshot.ranges[i]);\n      }\n    }\n\n    /**\n     * Compare two snapshots.\n     */\n    function equal (s1, s2) {\n      if (s1.html != s2.html) return false;\n\n      if (editor.core.hasFocus() && JSON.stringify(s1.ranges) != JSON.stringify(s2.ranges)) return false;\n\n      return true;\n    }\n\n    return {\n      get: get,\n      restore: restore,\n      equal: equal\n    }\n  };\n\n\n  $.FE.MODULES.undo = function (editor) {\n    /**\n     * Disable the default browser undo.\n     */\n    function _disableBrowserUndo (e) {\n      var keyCode = e.which;\n      var ctrlKey = editor.keys.ctrlKey(e);\n\n      // Ctrl Key.\n      if (ctrlKey) {\n        if (keyCode == 90 && e.shiftKey) {\n          e.preventDefault();\n        }\n\n        if (keyCode == 90) {\n          e.preventDefault();\n        }\n      }\n    }\n\n    function canDo () {\n      if (editor.undo_stack.length === 0 || editor.undo_index <= 1) {\n        return false;\n      }\n\n      return true;\n    }\n\n    function canRedo () {\n      if (editor.undo_index == editor.undo_stack.length) {\n        return false;\n      }\n\n      return true;\n    }\n\n    var last_html = null;\n\n    function saveStep (snapshot) {\n      if (!editor.undo_stack || editor.undoing || editor.el.querySelector('.fr-marker')) return false;\n\n      if (typeof snapshot == 'undefined') {\n        snapshot = editor.snapshot.get();\n\n        if (!editor.undo_stack[editor.undo_index - 1] || !editor.snapshot.equal(editor.undo_stack[editor.undo_index - 1], snapshot)) {\n          dropRedo();\n          editor.undo_stack.push(snapshot);\n          editor.undo_index++;\n\n          if (snapshot.html != last_html) {\n            editor.events.trigger('contentChanged');\n            last_html = snapshot.html;\n          }\n        }\n      }\n      else {\n        dropRedo();\n\n        if (editor.undo_index > 0) {\n          editor.undo_stack[editor.undo_index - 1] = snapshot;\n        }\n        else {\n          editor.undo_stack.push(snapshot);\n          editor.undo_index++;\n        }\n      }\n    }\n\n    function dropRedo () {\n      if (!editor.undo_stack || editor.undoing) return false;\n\n      while (editor.undo_stack.length > editor.undo_index) {\n        editor.undo_stack.pop();\n      }\n    }\n\n    function _do () {\n      if (editor.undo_index > 1) {\n        editor.undoing = true;\n\n        // Get snapshot.\n        var snapshot = editor.undo_stack[--editor.undo_index - 1];\n\n        // Clear any existing content changed timers.\n        clearTimeout(editor._content_changed_timer);\n\n        // Restore snapshot.\n        editor.snapshot.restore(snapshot);\n        last_html = snapshot.html;\n\n        // Hide popups.\n        editor.popups.hideAll();\n\n        // Enable toolbar.\n        editor.toolbar.enable();\n\n        // Call content changed.\n        editor.events.trigger('contentChanged');\n\n        editor.events.trigger('commands.undo');\n\n        editor.undoing = false;\n      }\n    }\n\n    function _redo () {\n      if (editor.undo_index < editor.undo_stack.length) {\n        editor.undoing = true;\n\n        // Get snapshot.\n        var snapshot = editor.undo_stack[editor.undo_index++];\n\n        // Clear any existing content changed timers.\n        clearTimeout(editor._content_changed_timer)\n\n        // Restore snapshot.\n        editor.snapshot.restore(snapshot);\n        last_html = snapshot.html;\n\n        // Hide popups.\n        editor.popups.hideAll();\n\n        // Enable toolbar.\n        editor.toolbar.enable();\n\n        // Call content changed.\n        editor.events.trigger('contentChanged');\n\n        editor.events.trigger('commands.redo');\n\n        editor.undoing = false;\n      }\n    }\n\n    function reset () {\n      editor.undo_index = 0;\n      editor.undo_stack = [];\n    }\n\n    function _destroy () {\n      editor.undo_stack = [];\n    }\n\n    /**\n     * Initialize\n     */\n    function _init () {\n      reset();\n      editor.events.on('initialized', function () {\n        last_html = (editor.$wp ? editor.$el.html() : editor.$oel.get(0).outerHTML).replace(/ style=\"\"/g, '');\n      });\n\n      editor.events.on('blur', function () {\n        if (!editor.el.querySelector('.fr-dragging')) {\n          editor.undo.saveStep();\n        }\n      })\n\n      editor.events.on('keydown', _disableBrowserUndo);\n\n      editor.events.on('destroy', _destroy);\n    }\n\n    return {\n      _init: _init,\n      run: _do,\n      redo: _redo,\n      canDo: canDo,\n      canRedo: canRedo,\n      dropRedo: dropRedo,\n      reset: reset,\n      saveStep: saveStep\n    }\n  };\n\n\n  $.FE.ICON_TEMPLATES = {\n    font_awesome: '<i class=\"fa fa-[NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5: '<i class=\"fas fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5r: '<i class=\"far fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    font_awesome_5l: '<i class=\"fal fa-[FA5NAME]\" aria-hidden=\"true\"></i>',\n    text: '<span style=\"text-align: center;\">[NAME]</span>',\n    image: '<img src=[SRC] alt=[ALT] />',\n    svg: '<svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">[PATH]</svg>'\n  }\n\n  $.FE.ICONS = {\n    bold: {\n      NAME: 'bold'\n    },\n    italic: {\n      NAME: 'italic'\n    },\n    underline: {\n      NAME: 'underline'\n    },\n    strikeThrough: {\n      NAME: 'strikethrough'\n    },\n    subscript: {\n      NAME: 'subscript'\n    },\n    superscript: {\n      NAME: 'superscript'\n    },\n    color: {\n      NAME: 'tint'\n    },\n    outdent: {\n      NAME: 'outdent'\n    },\n    indent: {\n      NAME: 'indent'\n    },\n    undo: {\n      NAME: 'rotate-left',\n      FA5NAME: 'undo'\n    },\n    redo: {\n      NAME: 'rotate-right',\n      FA5NAME: 'redo'\n    },\n    insertHR: {\n      NAME: 'minus'\n    },\n    clearFormatting: {\n      NAME: 'eraser'\n    },\n    selectAll: {\n      NAME: 'mouse-pointer'\n    }\n  }\n\n  $.FE.DefineIconTemplate = function (name, options) {\n    $.FE.ICON_TEMPLATES[name] = options;\n  }\n\n  $.FE.DefineIcon = function (name, options) {\n    $.FE.ICONS[name] = options;\n  }\n\n  $.extend($.FE.DEFAULTS, {\n    iconsTemplate: 'font_awesome'\n  });\n\n  $.FE.MODULES.icon = function (editor) {\n    function create(command) {\n      var icon = null;\n      var info = $.FE.ICONS[command];\n\n      if (typeof info != 'undefined') {\n        var template = info.template || $.FE.ICON_DEFAULT_TEMPLATE || editor.opts.iconsTemplate;\n\n        if (!info.FA5NAME) {\n          info.FA5NAME = info.NAME;\n        }\n\n        if (template && (template = $.FE.ICON_TEMPLATES[template])) {\n          icon = template.replace(/\\[([a-zA-Z0-9]*)\\]/g, function (str, a1) {\n\n            return (a1 == 'NAME' ? (info[a1] || command) : info[a1]);\n          });\n        }\n      }\n\n      return (icon || command);\n    }\n\n    function getTemplate(command) {\n      var info = $.FE.ICONS[command];\n      var template = editor.opts.iconsTemplate;\n\n      if (typeof info != 'undefined') {\n        template = info.template || $.FE.ICON_DEFAULT_TEMPLATE || editor.opts.iconsTemplate;\n\n        return template;\n      }\n\n      return template;\n    }\n\n    return {\n      create: create,\n      getTemplate: getTemplate\n    }\n  };\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    tooltips: true\n  });\n\n  $.FE.MODULES.tooltip = function (editor) {\n    function hide () {\n      if (editor.helpers.isMobile()) return false;\n\n      // Position fixed for: https://github.com/froala/wysiwyg-editor/issues/1247.\n      if (editor.$tooltip) editor.$tooltip.removeClass('fr-visible').css('left', '-3000px').css('position', 'fixed');\n    }\n\n    function to ($el, above) {\n      if (editor.helpers.isMobile()) return false;\n\n      if (!$el.data('title')) {\n        $el.data('title', $el.attr('title'));\n      }\n\n      if (!$el.data('title')) return false;\n\n      if (!editor.$tooltip) _init();\n\n      $el.removeAttr('title');\n      editor.$tooltip.text(editor.language.translate($el.data('title')));\n      editor.$tooltip.addClass('fr-visible');\n\n      var left = $el.offset().left + ($el.outerWidth() - editor.$tooltip.outerWidth()) / 2;\n\n      // Normalize screen position.\n      if (left < 0) left = 0;\n\n      if (left + editor.$tooltip.outerWidth() > $(editor.o_win).width()) {\n        left = $(editor.o_win).width() - editor.$tooltip.outerWidth();\n      }\n\n      if (typeof above == 'undefined') above = editor.opts.toolbarBottom;\n      var top = !above ? $el.offset().top + $el.outerHeight() : $el.offset().top - editor.$tooltip.height();\n\n      editor.$tooltip.css('position', '');\n      editor.$tooltip.css('left', left);\n      editor.$tooltip.css('top', Math.ceil(top));\n\n      if ($(editor.o_doc).find('body:first').css('position') != 'static') {\n        editor.$tooltip.css('margin-left', -$(editor.o_doc).find('body:first').offset().left);\n        editor.$tooltip.css('margin-top', -$(editor.o_doc).find('body:first').offset().top);\n      }\n      else {\n        editor.$tooltip.css('margin-left', '');\n        editor.$tooltip.css('margin-top', '');\n      }\n    }\n\n    function bind ($el, selector, above) {\n      if (editor.opts.tooltips && !editor.helpers.isMobile()) {\n        editor.events.$on($el, 'mouseenter', selector, function (e) {\n          if (!editor.node.hasClass(e.currentTarget, 'fr-disabled') && !editor.edit.isDisabled()) {\n            to($(e.currentTarget), above);\n          }\n        }, true);\n\n        editor.events.$on($el, 'mouseleave ' + editor._mousedown + ' ' + editor._mouseup, selector, function () {\n          hide();\n        }, true);\n      }\n    }\n\n    function _init () {\n      if (editor.opts.tooltips && !editor.helpers.isMobile()) {\n        if (!editor.shared.$tooltip) {\n          editor.shared.$tooltip = $('<div class=\"fr-tooltip\"></div>');\n\n          editor.$tooltip = editor.shared.$tooltip;\n\n          if (editor.opts.theme) {\n            editor.$tooltip.addClass(editor.opts.theme + '-theme');\n          }\n\n          $(editor.o_doc).find('body:first').append(editor.$tooltip);\n        }\n        else {\n          editor.$tooltip = editor.shared.$tooltip;\n        }\n\n        editor.events.on('shared.destroy', function () {\n          editor.$tooltip.html('').removeData().remove();\n          editor.$tooltip = null;\n        }, true);\n      }\n    }\n\n    return {\n      hide: hide,\n      to: to,\n      bind: bind\n    }\n  };\n\n\n  $.FE.MODULES.button = function (editor) {\n    var buttons = [];\n\n    if (editor.opts.toolbarInline || editor.opts.toolbarContainer) {\n      if (!editor.shared.buttons) editor.shared.buttons = [];\n      buttons = editor.shared.buttons;\n    }\n\n    var popup_buttons = [];\n\n    if (!editor.shared.popup_buttons) editor.shared.popup_buttons = [];\n    popup_buttons = editor.shared.popup_buttons;\n\n    /*\n     * Filter buttons based on a specified selector.\n     */\n    function _filterButtons (butons_list, selector, search_dropdowns) {\n\n      var $filtered_buttons = $();\n\n      for (var i = 0; i < butons_list.length; i++) {\n        var $button = $(butons_list[i]);\n\n        if ($button.is(selector)) {\n          $filtered_buttons = $filtered_buttons.add($button);\n        }\n\n        // Search for dropdowns menuitems\n        if (search_dropdowns && $button.is('.fr-dropdown')) {\n          var $dropdown_menu_items = $button.next().find(selector);\n          $filtered_buttons = $filtered_buttons.add($dropdown_menu_items);\n        }\n      }\n\n      return $filtered_buttons;\n    }\n\n    /*\n     * Get all buttons from page based on a specified selector.\n     */\n    function getButtons(selector, search_dropdowns) {\n\n      var $buttons = $();\n      var id;\n\n      if (!selector) {\n\n        return $buttons;\n      }\n\n      // Search all toolbar buttons.\n      $buttons = $buttons.add(_filterButtons(buttons, selector, search_dropdowns));\n\n      // Search all popups buttons.\n      $buttons = $buttons.add(_filterButtons(popup_buttons, selector, search_dropdowns));\n\n      // Look in popup's content.\n      for (id in editor.shared.popups) {\n\n        if (editor.shared.popups.hasOwnProperty(id)) {\n          var $popup = editor.shared.popups[id];\n          var $popup_buttons = $popup.children().find(selector);\n          $buttons = $buttons.add($popup_buttons);\n        }\n      }\n\n      // Look in modal's content.\n      for (id in editor.shared.modals) {\n\n        if (editor.shared.modals.hasOwnProperty(id)) {\n          var $modal_hash = editor.shared.modals[id];\n          var $modal_buttons = $modal_hash.$modal.find(selector);\n          $buttons = $buttons.add($modal_buttons);\n        }\n      }\n\n      return $buttons;\n    }\n\n    /**\n     * Click was made on a dropdown button.\n     */\n    function _dropdownButtonClick ($btn) {\n      var $dropdown = $btn.next();\n\n      var active = editor.node.hasClass($btn.get(0), 'fr-active');\n\n      var $active_dropdowns = getButtons('.fr-dropdown.fr-active').not($btn);\n\n      var inst = $btn.parents('.fr-toolbar, .fr-popup').data('instance') || editor;\n\n      // Hide keyboard. We need the entire space.\n      if (inst.helpers.isIOS() && !inst.el.querySelector('.fr-marker')) {\n        inst.selection.save();\n        inst.selection.clear();\n        inst.selection.restore();\n      }\n\n      // Dropdown is not active.\n      if (!active) {\n\n        // Call refresh on show.\n        var cmd = $btn.data('cmd');\n        $dropdown.find('.fr-command').removeClass('fr-active').attr('aria-selected', false);\n\n        if ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].refreshOnShow) {\n          $.FE.COMMANDS[cmd].refreshOnShow.apply(inst, [$btn, $dropdown]);\n        }\n\n        $dropdown.css('left', $btn.offset().left - $btn.parent().offset().left - (editor.opts.direction == 'rtl' ? $dropdown.width() - $btn.outerWidth() : 0));\n\n        // Test height.\n        $dropdown.addClass('test-height')\n        var ht = $dropdown.outerHeight();\n        $dropdown.removeClass('test-height')\n\n        // Reset top and bottom.\n        $dropdown.css('top', '').css('bottom', '');\n\n        // Toolbar top or dropdown is exceeding the window.\n        if (!editor.opts.toolbarBottom && ($dropdown.offset().top + $btn.outerHeight() + ht < $(editor.o_doc).height())) {\n          $dropdown.css('top', $btn.position().top + $btn.outerHeight());\n        }\n        else {\n          $dropdown.css('bottom', $btn.parents('.fr-popup, .fr-toolbar').first().height() - $btn.position().top);\n        }\n      }\n\n      // Blink and activate.\n      $btn.addClass('fr-blink').toggleClass('fr-active');\n\n      if ($btn.hasClass('fr-active')) {\n        $dropdown.attr('aria-hidden', false);\n        $btn.attr('aria-expanded', true);\n      }\n      else {\n        $dropdown.attr('aria-hidden', true);\n        $btn.attr('aria-expanded', false);\n      }\n      setTimeout (function () {\n        $btn.removeClass('fr-blink');\n      }, 300);\n\n      // Reset left margin for dropdown.\n      $dropdown.css('margin-left', '');\n\n      // Check if it exceeds window on the right.\n      if ($dropdown.offset().left + $dropdown.outerWidth() > editor.$sc.offset().left +  editor.$sc.width()) {\n        $dropdown.css('margin-left', -($dropdown.offset().left + $dropdown.outerWidth() - editor.$sc.offset().left - editor.$sc.width()))\n      }\n\n      // Check if it exceeds window on the left.\n      if ($dropdown.offset().left < editor.$sc.offset().left && editor.opts.direction == 'rtl') {\n        $dropdown.css('margin-left', editor.$sc.offset().left);\n      }\n\n      // Hide dropdowns that might be active.\n      $active_dropdowns.removeClass('fr-active').attr('aria-expanded', false).next().attr('aria-hidden', true);\n      $active_dropdowns.parent('.fr-toolbar:not(.fr-inline)').css('zIndex', '');\n\n      if ($btn.parents('.fr-popup').length === 0 && !editor.opts.toolbarInline) {\n        if (editor.node.hasClass($btn.get(0),'fr-active')) {\n          editor.$tb.css('zIndex', (editor.opts.zIndex || 1) + 4);\n        }\n        else {\n          editor.$tb.css('zIndex', '');\n        }\n      }\n\n      // Focus the active element or the dropdown button to enable accessibility.\n      var $active_element = $dropdown.find('a.fr-command.fr-active:first');\n\n      // We do not need to focus on mobile.\n      if (!editor.helpers.isMobile()) {\n\n        if ($active_element.length) {\n          editor.accessibility.focusToolbarElement($active_element);\n        }\n        else {\n          editor.accessibility.focusToolbarElement($btn);\n        }\n      }\n    }\n\n    function exec ($btn) {\n\n      // Blink.\n      $btn.addClass('fr-blink');\n      setTimeout (function () {\n        $btn.removeClass('fr-blink');\n      }, 500);\n\n      // Get command, value and additional params.\n      var cmd = $btn.data('cmd');\n      var params = [];\n\n      while (typeof $btn.data('param' + (params.length + 1)) != 'undefined') {\n        params.push($btn.data('param' + (params.length + 1)));\n      }\n\n      // Hide dropdowns that might be active including the current one.\n      var $active_dropdowns = getButtons('.fr-dropdown.fr-active');\n\n      if ($active_dropdowns.length) {\n        $active_dropdowns.removeClass('fr-active').attr('aria-expanded', false).next().attr('aria-hidden', true);\n\n        $active_dropdowns.parent('.fr-toolbar:not(.fr-inline)').css('zIndex', '');\n      }\n\n      // Call the command.\n      $btn.parents('.fr-popup, .fr-toolbar').data('instance').commands.exec(cmd, params);\n    }\n\n    /**\n     * Click was made on a command button.\n     */\n    function _commandButtonClick ($btn) {\n      exec($btn);\n    }\n\n    function click ($btn) {\n      var inst = $btn.parents('.fr-popup, .fr-toolbar').data('instance');\n\n      if ($btn.parents('.fr-popup').length === 0 && !$btn.data('popup')) {\n        inst.popups.hideAll();\n      }\n\n      // Popups are visible, but not in the current instance.\n      if (inst.popups.areVisible() && !inst.popups.areVisible(inst)) {\n\n        // Hide markers in other instances.\n        for (var i = 0; i < $.FE.INSTANCES.length; i++) {\n          if ($.FE.INSTANCES[i] != inst && $.FE.INSTANCES[i].popups && $.FE.INSTANCES[i].popups.areVisible()) {\n            $.FE.INSTANCES[i].$el.find('.fr-marker').remove();\n          }\n        }\n\n        inst.popups.hideAll();\n      }\n\n      // Dropdown button.\n      if (editor.node.hasClass($btn.get(0),'fr-dropdown')) {\n        _dropdownButtonClick($btn);\n      }\n\n      // Regular button.\n      else {\n        _commandButtonClick($btn);\n\n        if ($.FE.COMMANDS[$btn.data('cmd')] && $.FE.COMMANDS[$btn.data('cmd')].refreshAfterCallback !== false) {\n          inst.button.bulkRefresh();\n        }\n      }\n    }\n\n    function _click (e) {\n      var $btn = $(e.currentTarget);\n      click($btn);\n    }\n\n    function hideActiveDropdowns ($el) {\n      var $active_dropdowns = $el.find('.fr-dropdown.fr-active');\n\n      if ($active_dropdowns.length) {\n        $active_dropdowns.removeClass('fr-active').attr('aria-expanded', false).next().attr('aria-hidden', true);\n\n        $active_dropdowns.parent('.fr-toolbar:not(.fr-inline)').css('zIndex', '');\n      }\n    }\n\n    /**\n     * Click in the dropdown menu.\n     */\n    function _dropdownMenuClick (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    /**\n     * Click on the dropdown wrapper.\n     */\n    function _dropdownWrapperClick (e) {\n      e.stopPropagation();\n\n      // Prevent blurring.\n      if (!editor.helpers.isMobile()) {\n        return false;\n      }\n    }\n\n    /**\n     * Bind callbacks for commands.\n     */\n    function bindCommands ($el, tooltipAbove) {\n      editor.events.bindClick($el, '.fr-command:not(.fr-disabled)', _click);\n\n      // Click on the dropdown menu.\n      editor.events.$on($el, editor._mousedown + ' ' + editor._mouseup + ' ' + editor._move, '.fr-dropdown-menu', _dropdownMenuClick, true);\n\n      // Click on the dropdown wrapper.\n      editor.events.$on($el, editor._mousedown + ' ' + editor._mouseup + ' ' + editor._move, '.fr-dropdown-menu .fr-dropdown-wrapper', _dropdownWrapperClick, true);\n\n      // Hide dropdowns that might be active.\n      var _document = $el.get(0).ownerDocument;\n      var _window = 'defaultView' in _document ? _document.defaultView : _document.parentWindow;\n      var hideDropdowns = function (e) {\n        if (!e || (e.type == editor._mouseup && e.target != $('html').get(0)) || (e.type == 'keydown' && ((editor.keys.isCharacter(e.which) && !editor.keys.ctrlKey(e)) || e.which == $.FE.KEYCODE.ESC))) {\n          hideActiveDropdowns($el);\n        }\n      }\n      editor.events.$on($(_window), editor._mouseup + ' resize keydown', hideDropdowns, true);\n\n      if (editor.opts.iframe) {\n        editor.events.$on(editor.$win, editor._mouseup, hideDropdowns, true);\n      }\n\n      // Add refresh.\n      if (editor.node.hasClass($el.get(0), 'fr-popup')) {\n        $.merge(popup_buttons, $el.find('.fr-btn').toArray());\n      }\n      else {\n        $.merge(buttons, $el.find('.fr-btn').toArray());\n      }\n\n      // Assing tooltips to buttons.\n      editor.tooltip.bind($el, '.fr-btn, .fr-title', tooltipAbove);\n    }\n\n    /**\n     * Create the content for dropdown.\n     */\n    function _content (command, info) {\n      var c = '';\n\n      if (info.html) {\n        if (typeof info.html == 'function') {\n          c += info.html.call(editor);\n        }\n        else {\n          c += info.html;\n        }\n      }\n      else {\n        var options = info.options;\n\n        if (typeof options == 'function') options = options();\n\n        c += '<ul class=\"fr-dropdown-list\" role=\"presentation\">';\n\n        for (var val in options) {\n          if (options.hasOwnProperty(val)) {\n            var shortcut = editor.shortcuts.get(command + '.' + val);\n\n            if (shortcut) {\n              shortcut = '<span class=\"fr-shortcut\">' + shortcut + '</span>';\n            }\n            else {\n              shortcut = '';\n            }\n\n            c += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"' + command + '\" data-param1=\"' + val + '\" title=\"' + options[val] + '\">' + editor.language.translate(options[val]) + '</a></li>';\n          }\n        }\n        c += '</ul>';\n      }\n\n      return c;\n    }\n\n    /**\n     * Create button.\n     */\n    function _build (command, info, visible) {\n      if (editor.helpers.isMobile() && info.showOnMobile === false) return '';\n\n      var display_selection = info.displaySelection;\n\n      if (typeof display_selection == 'function') {\n        display_selection = display_selection(editor);\n      }\n\n      var icon;\n\n      if (display_selection) {\n        var default_selection = (typeof info.defaultSelection == 'function' ? info.defaultSelection(editor) : info.defaultSelection);\n        icon = '<span style=\"width:' + (info.displaySelectionWidth || 100) + 'px\">' + editor.language.translate(default_selection || info.title) + '</span>';\n      }\n      else {\n        icon = editor.icon.create(info.icon || command);\n\n        // Used instead of aria-label. The advantage is that it also display text when the css is disabled.\n        icon += '<span class=\"fr-sr-only\">' + (editor.language.translate(info.title) || '') + '</span>';\n      }\n\n      var popup = info.popup ? ' data-popup=\"true\"' : '';\n\n      var modal = info.modal ? ' data-modal=\"true\"' : '';\n\n      var shortcut = editor.shortcuts.get(command + '.');\n\n      if (shortcut) {\n        shortcut = ' (' + shortcut + ')';\n      }\n      else {\n        shortcut = '';\n      }\n\n      var button_id = command + '-' + editor.id;\n\n      var dropdown_id = 'dropdown-menu-' + button_id;\n\n      var btn = '<button id=\"' + button_id + '\"type=\"button\" tabIndex=\"-1\" role=\"button\"' + (info.toggle ? ' aria-pressed=\"false\"' : '') + (info.type == 'dropdown' ? ' aria-controls=\"' + dropdown_id + '\" aria-expanded=\"false\" aria-haspopup=\"true\"' : '') + (info.disabled ? ' aria-disabled=\"true\"' : '') + ' title=\"' + (editor.language.translate(info.title) || '') + shortcut + '\" class=\"fr-command fr-btn' + (info.type == 'dropdown' ? ' fr-dropdown' : '') + (' fr-btn-' + editor.icon.getTemplate(info.icon)) + (info.displaySelection ? ' fr-selection' : '') + (info.back ? ' fr-back' : '') + (info.disabled ? ' fr-disabled' : '') + (!visible ? ' fr-hidden' : '') + '\" data-cmd=\"' + command + '\"' + popup + modal + '>' + icon + '</button>';\n\n      if (info.type == 'dropdown') {\n\n        // Build dropdown.\n        var dropdown = '<div id=\"' + dropdown_id + '\" class=\"fr-dropdown-menu\" role=\"listbox\" aria-labelledby=\"' + button_id + '\" aria-hidden=\"true\"><div class=\"fr-dropdown-wrapper\" role=\"presentation\"><div class=\"fr-dropdown-content\" role=\"presentation\">';\n\n        dropdown += _content(command, info);\n\n        dropdown += '</div></div></div>';\n\n        btn += dropdown;\n      }\n\n      return btn;\n    }\n\n    function buildList (buttons, visible_buttons) {\n      var str = '';\n\n      for (var i = 0; i < buttons.length; i++) {\n        var cmd_name = buttons[i];\n        var cmd_info = $.FE.COMMANDS[cmd_name];\n\n        if (cmd_info && typeof cmd_info.plugin !== 'undefined' && editor.opts.pluginsEnabled.indexOf(cmd_info.plugin) < 0) continue;\n\n        if (cmd_info) {\n          var visible = typeof visible_buttons != 'undefined' ? visible_buttons.indexOf(cmd_name) >= 0 : true;\n          str += _build(cmd_name, cmd_info, visible);\n        }\n        else if (cmd_name == '|') {\n          str += '<div class=\"fr-separator fr-vs\" role=\"separator\" aria-orientation=\"vertical\"></div>';\n        }\n        else if (cmd_name == '-') {\n          str += '<div class=\"fr-separator fr-hs\" role=\"separator\" aria-orientation=\"horizontal\"></div>';\n        }\n      }\n\n      return str;\n    }\n\n    function refresh ($btn) {\n      var inst = $btn.parents('.fr-popup, .fr-toolbar').data('instance') || editor;\n\n      var cmd = $btn.data('cmd');\n\n      var $dropdown;\n\n      if (!editor.node.hasClass($btn.get(0),'fr-dropdown')) {\n        $btn.removeClass('fr-active');\n\n        if ($btn.attr('aria-pressed')) $btn.attr('aria-pressed', false);\n      }\n      else {\n        $dropdown = $btn.next();\n      }\n\n      if ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].refresh) {\n        $.FE.COMMANDS[cmd].refresh.apply(inst, [$btn, $dropdown]);\n      }\n      else if (editor.refresh[cmd]) {\n        inst.refresh[cmd]($btn, $dropdown);\n      }\n    }\n\n    function _bulkRefresh (btns) {\n      var inst = editor.$tb ? (editor.$tb.data('instance') || editor) : editor;\n\n      // Check the refresh event.\n      if (editor.events.trigger('buttons.refresh') === false) return true;\n\n      setTimeout(function () {\n        var focused = (inst.selection.inEditor() && inst.core.hasFocus());\n\n        for (var i = 0; i < btns.length; i++) {\n          var $btn = $(btns[i]);\n          var cmd = $btn.data('cmd');\n\n          if ($btn.parents('.fr-popup').length === 0) {\n            if (focused || ($.FE.COMMANDS[cmd] && $.FE.COMMANDS[cmd].forcedRefresh)) {\n              inst.button.refresh($btn);\n            }\n            else {\n              if (!editor.node.hasClass($btn.get(0),'fr-dropdown')) {\n                $btn.removeClass('fr-active');\n\n                if ($btn.attr('aria-pressed')) $btn.attr('aria-pressed', false);\n              }\n            }\n          }\n          else if ($btn.parents('.fr-popup').is(':visible')) {\n            inst.button.refresh($btn);\n          }\n        }\n      }, 0);\n    }\n\n    /**\n     * Do buttons refresh.\n     */\n    function bulkRefresh () {\n      _bulkRefresh(buttons);\n      _bulkRefresh(popup_buttons);\n    }\n\n    function _destroy () {\n      buttons = [];\n      popup_buttons = [];\n    }\n\n    var refresh_timeout = null;\n\n    function delayedBulkRefresh () {\n      clearTimeout(refresh_timeout);\n      refresh_timeout = setTimeout(bulkRefresh, 50);\n    }\n\n    /**\n     * Initialize.\n     */\n    function _init () {\n\n      // Assign refresh and do refresh.\n      if (editor.opts.toolbarInline) {\n        editor.events.on('toolbar.show', bulkRefresh);\n      }\n      else {\n        editor.events.on('mouseup', delayedBulkRefresh);\n        editor.events.on('keyup', delayedBulkRefresh);\n        editor.events.on('blur', delayedBulkRefresh);\n        editor.events.on('focus', delayedBulkRefresh);\n        editor.events.on('contentChanged', delayedBulkRefresh);\n\n        if (editor.helpers.isMobile()) {\n          editor.events.$on(editor.$doc, 'selectionchange', bulkRefresh);\n        }\n      }\n\n      editor.events.on('shared.destroy', _destroy);\n    }\n\n    return {\n      _init: _init,\n      buildList: buildList,\n      bindCommands: bindCommands,\n      refresh: refresh,\n      bulkRefresh: bulkRefresh,\n      exec: exec,\n      click: click,\n      hideActiveDropdowns: hideActiveDropdowns,\n      getButtons: getButtons\n    }\n  };\n\n\n\n  $.FE.MODULES.modals = function (editor) {\n    if (!editor.shared.modals) editor.shared.modals = {};\n    var modals = editor.shared.modals;\n    var $overlay;\n\n    /**\n     * Get the modal with the specific id.\n     */\n    function get(id) {\n      return modals[id];\n    }\n\n    /*\n     *  Get modal html\n     */\n    function _modalHTML (head, body) {\n\n      // Modal wrapper.\n      var html = '<div tabIndex=\"-1\" class=\"fr-modal' + (editor.opts.theme ? ' ' + editor.opts.theme + '-theme' : '') + '\"><div class=\"fr-modal-wrapper\">';\n\n      // Modal title.\n      var close_button = '<i title=\"' + editor.language.translate('Cancel') + '\" class=\"fa fa-times fr-modal-close\"></i>';\n      html += '<div class=\"fr-modal-head\">' + head + close_button + '</div>';\n\n      // Body.\n      html += '<div tabIndex=\"-1\" class=\"fr-modal-body\">' + body + '</div>';\n\n      // End Modal.\n      html += '</div></div>';\n\n      return $(html);\n    }\n\n    /*\n     * Create modal.\n     */\n    function create (id, head, body) {\n\n      // Build modal overlay.\n      if (!editor.shared.$overlay) {\n        editor.shared.$overlay = $('<div class=\"fr-overlay\">').appendTo('body:first');\n      }\n      $overlay = editor.shared.$overlay;\n\n      if (editor.opts.theme) {\n        $overlay.addClass(editor.opts.theme + '-theme');\n      }\n\n      // Build modal.\n      if (!modals[id]) {\n        var $modal = _modalHTML(head, body);\n        modals[id] = {\n          $modal: $modal,\n          $head: $modal.find('.fr-modal-head'),\n          $body: $modal.find('.fr-modal-body')\n        };\n\n        // Desktop or mobile device.\n        if (!editor.helpers.isMobile()) {\n          $modal.addClass('fr-desktop');\n        }\n\n        // Append modal to body.\n        $modal.appendTo('body:first');\n\n        // Click on close button.\n        editor.events.$on($modal, 'click', '.fr-modal-close', function () {\n          hide(id);\n        }, true);\n\n        modals[id].$body.css('margin-top', modals[id].$head.outerHeight());\n\n        // Keydown handler.\n        editor.events.$on($modal, 'keydown', function (e) {\n          var keycode = e.which;\n\n          // Esc.\n          if (keycode == $.FE.KEYCODE.ESC) {\n            hide(id);\n            editor.accessibility.focusModalButton($modal);\n\n            return false;\n          }\n          else if (!$(e.currentTarget).is('input[type=text], textarea') && keycode != $.FE.KEYCODE.ARROW_UP && keycode != $.FE.KEYCODE.ARROW_DOWN && !editor.keys.isBrowserAction(e)) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            return false;\n          }\n          else {\n\n            return true;\n          }\n        }, true);\n\n        hide(id, true);\n      }\n\n      return modals[id];\n    }\n\n    /*\n     * Destroy modals.\n     */\n    function destroy () {\n\n      // Destroy all modals.\n      for (var i in modals) {\n        var modalHash = modals[i];\n        modalHash && modalHash.$modal && modalHash.$modal.removeData().remove();\n      }\n\n      $overlay && $overlay.removeData().remove();\n      modals = {};\n    }\n\n    /*\n     * Show modal.\n     */\n    function show (id) {\n      if (!modals[id]) {\n        return;\n      }\n\n      var $modal = modals[id].$modal;\n\n      // Set the current instance for the modal.\n      $modal.data('instance', editor);\n\n      // Show modal.\n      $modal.show();\n      $overlay.show();\n\n      // Prevent scrolling in page.\n      $(editor.o_doc).find('body:first').addClass('prevent-scroll');\n\n      // Mobile device\n      if (editor.helpers.isMobile()) {\n        $(editor.o_doc).find('body:first').addClass('fr-mobile');\n      }\n\n      $modal.addClass('fr-active');\n\n      editor.accessibility.focusModal($modal);\n    }\n\n    /*\n     * Hide modal.\n     */\n    function hide (id, init) {\n      if (!modals[id]) {\n        return;\n      }\n\n      var $modal = modals[id].$modal;\n      var inst = $modal.data('instance') || editor\n\n      inst.events.enableBlur();\n      $modal.hide();\n      $overlay.hide();\n      $(inst.o_doc).find('body:first').removeClass('prevent-scroll fr-mobile');\n\n      $modal.removeClass('fr-active');\n\n      if (!init) {\n\n        // Restore selection.\n        inst.accessibility.restoreSelection();\n\n        inst.events.trigger('modals.hide');\n      }\n    }\n\n    /**\n     *  Resize modal according to its body or editor heights.\n     */\n    function resize (id) {\n      if (!modals[id]) {\n        return;\n      }\n\n      var modalHash = modals[id];\n      var $modal = modalHash.$modal;\n      var $body = modalHash.$body;\n\n      var height = $(editor.o_win).height();\n\n      // The wrapper object.\n      var $wrapper = $modal.find('.fr-modal-wrapper');\n\n      // Calculate max allowed height.\n      var allWrapperHeight = $wrapper.outerHeight(true);\n      var exteriorBodyHeight = $wrapper.height() - ($body.outerHeight(true) - $body.height());\n      var maxHeight = height - allWrapperHeight + exteriorBodyHeight;\n\n      // Get body content height.\n      var body_content_height = $body.get(0).scrollHeight;\n\n      // Calculate the new height.\n      var newHeight = 'auto';\n\n      if (body_content_height > maxHeight) {\n        newHeight = maxHeight;\n      }\n\n      $body.height(newHeight);\n    }\n\n    /**\n     * Find visible modal.\n     */\n    function isVisible (id) {\n      var $modal;\n\n      // By id.\n      if (typeof id === 'string') {\n        if (!modals[id]) {\n          return;\n        }\n        $modal = modals[id].$modal\n      }\n\n      // By modal object.\n      else {\n        $modal = id;\n      }\n\n      return ($modal && editor.node.hasClass($modal, 'fr-active') && editor.core.sameInstance($modal)) || false;\n    }\n\n    /**\n     * Check if there is any modal visible.\n     */\n    function areVisible (new_instance) {\n      for (var id in modals) {\n        if (modals.hasOwnProperty(id)) {\n          if (isVisible(id) && (typeof new_instance == 'undefined' || modals[id].$modal.data('instance') == new_instance)) return modals[id].$modal;\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * Initialization.\n     */\n    function _init () {\n      editor.events.on('shared.destroy', destroy, true);\n    }\n\n    return {\n      _init: _init,\n      get: get,\n      create: create,\n      show: show,\n      hide: hide,\n      resize: resize,\n      isVisible: isVisible,\n      areVisible: areVisible\n    }\n  };\n\n\n  $.FE.POPUP_TEMPLATES = {\n    'text.edit': '[_EDIT_]'\n  };\n\n  $.FE.RegisterTemplate = function (name, template) {\n    $.FE.POPUP_TEMPLATES[name] = template;\n  }\n\n  $.FE.MODULES.popups = function (editor) {\n    if (!editor.shared.popups) editor.shared.popups = {};\n    var popups = editor.shared.popups;\n\n    function setContainer(id, $container) {\n      if (!$container.is(':visible')) $container = editor.$sc;\n\n      if (!$container.is(popups[id].data('container'))) {\n        popups[id].data('container', $container);\n        $container.append(popups[id]);\n      }\n    }\n\n    function refreshContainer(id, $container) {\n      if (!$container.is(':visible')) $container = editor.$sc;\n\n      if ($container.find([popups[id]]).length === 0) {\n        $container.append(popups[id]);\n      }\n    }\n\n    /**\n     * Show popup at a specific position.\n     */\n    function show (id, left, top, obj_height) {\n\n      // Restore selection on show if it is there.\n      if (!isVisible(id)) {\n        if (areVisible() && editor.$el.find('.fr-marker').length > 0) {\n          editor.events.disableBlur();\n          editor.selection.restore();\n        }\n        else if (!areVisible()) {\n\n          // We must have focus into editor because we may want to save selection.\n          editor.events.disableBlur();\n          editor.events.focus();\n          editor.events.enableBlur();\n        }\n      }\n\n      hideAll([id]);\n\n      if (!popups[id]) return false;\n\n      // Hide active dropdowns.\n      var $active_dropdowns = editor.button.getButtons('.fr-dropdown.fr-active');\n      $active_dropdowns.removeClass('fr-active').attr('aria-expanded', false).parent('.fr-toolbar').css('zIndex', '');\n      $active_dropdowns.next().attr('aria-hidden', true);\n\n      // Set the current instance for the popup.\n      popups[id].data('instance', editor);\n\n      if (editor.$tb) editor.$tb.data('instance', editor);\n\n      var width = popups[id].outerWidth();\n      var is_visible = isVisible(id);\n      popups[id].addClass('fr-active').removeClass('fr-hidden').find('input, textarea').removeAttr('disabled');\n\n      var $container = popups[id].data('container');\n\n      refreshContainer(id, $container);\n\n      // Inline mode when container is toolbar.\n      if (editor.opts.toolbarInline && $container && editor.$tb && $container.get(0) == editor.$tb.get(0)) {\n        setContainer(id, editor.$sc);\n        top = editor.$tb.offset().top - editor.helpers.getPX(editor.$tb.css('margin-top'));\n        left = editor.$tb.offset().left + editor.$tb.outerWidth() / 2 + (parseFloat(editor.$tb.find('.fr-arrow').css('margin-left')) || 0) + editor.$tb.find('.fr-arrow').outerWidth() / 2;\n\n        if (editor.node.hasClass(editor.$tb.get(0), 'fr-above') && top) {\n          top += editor.$tb.outerHeight();\n        }\n\n        obj_height = 0;\n      }\n\n      // Apply iframe correction.\n      $container = popups[id].data('container');\n\n      if (editor.opts.iframe && !obj_height && !is_visible) {\n        if (left) left -= editor.$iframe.offset().left;\n\n        if (top) top -= editor.$iframe.offset().top;\n      }\n\n      // If container is toolbar then increase zindex.\n      if ($container.is(editor.$tb)) {\n        editor.$tb.css('zIndex', (editor.opts.zIndex || 1) + 4);\n      }\n      else {\n        popups[id].css('zIndex', (editor.opts.zIndex || 1) + 4);\n      }\n\n      // Apply left correction.\n      if (left) left = left - width / 2;\n\n      // Toolbar at the bottom and container is toolbar.\n      if (editor.opts.toolbarBottom && $container && editor.$tb && $container.get(0) == editor.$tb.get(0)) {\n        popups[id].addClass('fr-above');\n\n        if (top) top = top - popups[id].outerHeight();\n      }\n\n      // Position editor.\n      popups[id].removeClass('fr-active');\n      editor.position.at(left, top, popups[id], obj_height || 0);\n      popups[id].addClass('fr-active');\n\n      if (!is_visible) {\n        editor.accessibility.focusPopup(popups[id]);\n      }\n\n      if (editor.opts.toolbarInline) editor.toolbar.hide();\n\n      editor.events.trigger('popups.show.' + id);\n\n      // https://github.com/froala/wysiwyg-editor/issues/1248\n      _events(id)._repositionPopup();\n\n      _unmarkExit();\n    }\n\n    function onShow (id, callback) {\n      editor.events.on('popups.show.' + id, callback);\n    }\n\n    /**\n     * Find visible popup.\n     */\n    function isVisible (id) {\n      return (popups[id] && editor.node.hasClass(popups[id], 'fr-active') && editor.core.sameInstance(popups[id])) || false;\n    }\n\n    /**\n     * Check if there is any popup visible.\n     */\n    function areVisible (new_instance) {\n      for (var id in popups) {\n        if (popups.hasOwnProperty(id)) {\n          if (isVisible(id) && (typeof new_instance == 'undefined' || popups[id].data('instance') == new_instance)) return popups[id];\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * Hide popup.\n     */\n    function hide (id) {\n      var $popup = null;\n\n      if (typeof id !== 'string') {\n        $popup = id;\n      }\n      else {\n        $popup = popups[id];\n      }\n\n      if ($popup && editor.node.hasClass($popup, 'fr-active')) {\n        $popup.removeClass('fr-active fr-above');\n        editor.events.trigger('popups.hide.' + id);\n\n        // Reset toolbar zIndex.\n        if (editor.$tb) {\n          if (editor.opts.zIndex > 1) {\n            editor.$tb.css('zIndex', editor.opts.zIndex + 1);\n          }\n          else {\n            editor.$tb.css('zIndex', '');\n          }\n        }\n\n        editor.events.disableBlur();\n        $popup.find('input, textarea, button').filter(':focus').blur();\n        $popup.find('input, textarea').attr('disabled', 'disabled');\n      }\n    }\n\n    /**\n     * Assign an event for hiding.\n     */\n    function onHide (id, callback) {\n      editor.events.on('popups.hide.' + id, callback);\n    }\n\n    /**\n     * Get the popup with the specific id.\n     */\n    function get (id) {\n      var $popup = popups[id];\n\n      if ($popup && !$popup.data('inst' + editor.id)) {\n        var ev = _events(id);\n        _bindInstanceEvents(ev, id);\n      }\n\n      return $popup;\n    }\n\n    function onRefresh (id, callback) {\n      editor.events.on('popups.refresh.' + id, callback);\n    }\n\n    /**\n     * Refresh content inside the popup.\n     */\n    function refresh (id) {\n      // Set the instance id for the popup.\n      popups[id].data('instance', editor);\n\n      editor.events.trigger('popups.refresh.' + id);\n\n      var btns = popups[id].find('.fr-command');\n\n      for (var i = 0; i < btns.length; i++) {\n        var $btn = $(btns[i]);\n\n        if ($btn.parents('.fr-dropdown-menu').length === 0) {\n          editor.button.refresh($btn);\n        }\n      }\n    }\n\n    /**\n     * Hide all popups.\n     */\n    function hideAll (except) {\n      if (typeof except == 'undefined') except = [];\n\n      for (var id in popups) {\n        if (popups.hasOwnProperty(id)) {\n          if (except.indexOf(id) < 0) {\n            hide(id);\n          }\n        }\n      }\n    }\n\n    editor.shared.exit_flag = false;\n\n    function _markExit () {\n      editor.shared.exit_flag = true;\n    }\n\n    function _unmarkExit () {\n      editor.shared.exit_flag = false;\n    }\n\n    function _canExit () {\n      return editor.shared.exit_flag;\n    }\n\n    function _buildTemplate (id, template) {\n\n      // Load template.\n      var html = $.FE.POPUP_TEMPLATES[id];\n\n      if (!html) return null;\n\n      if (typeof html == 'function') html = html.apply(editor);\n\n      for (var nm in template) {\n        if (template.hasOwnProperty(nm)) {\n          html = html.replace('[_' + nm.toUpperCase() + '_]', template[nm]);\n        }\n      }\n\n      return html;\n    }\n\n    function _build (id, template) {\n      var $popup;\n      var $container;\n      var html = _buildTemplate(id, template);\n\n      if (!html) {\n        $popup = $('<div class=\"fr-popup fr-empty\"></div>');\n\n        $container = $('body:first');\n        $container.append($popup);\n        $popup.data('container', $container);\n\n        popups[id] = $popup;\n\n        return $popup;\n      }\n\n      $popup = $('<div class=\"fr-popup' + (editor.helpers.isMobile() ? ' fr-mobile' : ' fr-desktop') +  (editor.opts.toolbarInline ? ' fr-inline' : '') + '\"><span class=\"fr-arrow\"></span>' + html + '</div>');\n\n      if (editor.opts.theme) {\n        $popup.addClass(editor.opts.theme + '-theme');\n      }\n\n      if (editor.opts.zIndex > 1) {\n        if (!editor.opts.editInPopup) {\n          editor.$tb.css('z-index', editor.opts.zIndex + 2);\n        }\n        else {\n          $popup.css('z-index', editor.opts.zIndex + 2);\n        }\n      }\n\n      if (editor.opts.direction != 'auto') {\n        $popup.removeClass('fr-ltr fr-rtl').addClass('fr-' + editor.opts.direction);\n      }\n\n      $popup.find('input, textarea').attr('dir', editor.opts.direction).attr('disabled', 'disabled');\n\n      $container = $('body:first');\n      $container.append($popup);\n      $popup.data('container', $container);\n\n      popups[id] = $popup;\n\n      // Bind commands from the popup.\n      editor.button.bindCommands($popup, false);\n\n      return $popup;\n    }\n\n    function _events (id) {\n      var $popup = popups[id];\n\n      return {\n        /**\n         * Resize window.\n         */\n        _windowResize: function () {\n          var inst = $popup.data('instance') || editor;\n\n          if (!inst.helpers.isMobile() && $popup.is(':visible')) {\n            inst.events.disableBlur();\n            inst.popups.hide(id);\n            inst.events.enableBlur();\n          }\n        },\n\n        /**\n         * Focus on an input.\n         */\n        _inputFocus: function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          var $target = $(e.currentTarget);\n\n          if ($target.is('input:file')) {\n            $target.closest('.fr-layer').addClass('fr-input-focus');\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n\n          // IE workaround.\n          setTimeout(function () {\n            inst.events.enableBlur();\n          }, 100);\n\n          // Reposition scroll on mobile to the original one.\n          if (inst.helpers.isMobile()) {\n            var t = $(inst.o_win).scrollTop();\n            setTimeout(function () {\n              $(inst.o_win).scrollTop(t);\n            }, 0);\n          }\n        },\n\n        /**\n         * Blur on an input.\n         */\n        _inputBlur: function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          var $target = $(e.currentTarget);\n\n          if ($target.is('input:file')) {\n            $target.closest('.fr-layer').removeClass('fr-input-focus');\n          }\n\n          // Do not do blur on window change.\n          if (document.activeElement != this && $(this).is(':visible')) {\n            if (inst.events.blurActive()) {\n              inst.events.trigger('blur');\n            }\n\n            inst.events.enableBlur();\n          }\n        },\n\n        /**\n         * Editor keydown.\n         */\n        _editorKeydown: function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          // ESC.\n          if (!inst.keys.ctrlKey(e) && e.which != $.FE.KEYCODE.ALT && e.which != $.FE.KEYCODE.ESC) {\n            if (isVisible(id) && $popup.find('.fr-back:visible').length) {\n              inst.button.exec($popup.find('.fr-back:visible:first'))\n            }\n            else {\n\n              // Don't hide if alt alone is pressed to allow Alt + F10 shortcut for accessibility.\n              if (e.which != $.FE.KEYCODE.ALT) {\n                inst.popups.hide(id);\n              }\n            }\n          }\n        },\n\n        /**\n         * Handling hitting the popup elements with the mouse.\n         */\n        _preventFocus: function (e) {\n          var inst = $popup.data('instance') || editor;\n\n          // Get the original target.\n          var originalTarget = e.originalEvent ? (e.originalEvent.target || e.originalEvent.originalTarget) : null;\n\n          // Do not disable blur on mouseup because it is the last event in the chain.\n          if (e.type != 'mouseup' && !$(originalTarget).is(':focus')) inst.events.disableBlur();\n\n          // Hide popup's active dropdowns on mouseup.\n          if (e.type == 'mouseup' && !($(originalTarget).hasClass('fr-command') || $(originalTarget).parents('.fr-command').length > 0) && !$(originalTarget).hasClass('fr-dropdown-content')) {\n            editor.button.hideActiveDropdowns($popup);\n          }\n\n          // https://github.com/froala/wysiwyg-editor/issues/1733\n          // https://github.com/froala/wysiwyg-editor/issues/1838 . Firefox: with Jquery > 2 $(originalTarget).is(':focus') returns the oposite to Jquery < 2.\n          if ((editor.browser.safari || editor.browser.mozilla) && e.type == 'mousedown' && $(originalTarget).is('input[type=file]')) {\n            inst.events.disableBlur();\n          }\n\n          // Define the input selector.\n          var input_selector = 'input, textarea, button, select, label, .fr-command';\n\n          // Click was not made inside an input.\n          if (originalTarget && !$(originalTarget).is(input_selector) && $(originalTarget).parents(input_selector).length === 0) {\n            e.stopPropagation();\n\n            return false;\n          }\n\n          // Click was made on another input inside popup. Prevent propagation of the event.\n          else if (originalTarget && $(originalTarget).is(input_selector)) {\n            e.stopPropagation();\n          }\n\n          _unmarkExit();\n        },\n\n        /**\n         * Mouseup inside the editor.\n         */\n        _editorMouseup: function () {\n\n          // Check if popup is visible and we can exit.\n          if ($popup.is(':visible') && _canExit()) {\n\n            // If we have an input focused, then disable blur.\n            if ($popup.find('input:focus, textarea:focus, button:focus, select:focus').filter(':visible').length > 0) {\n              editor.events.disableBlur();\n            }\n          }\n        },\n\n        /**\n         * Mouseup on window.\n         */\n        _windowMouseup: function (e) {\n          if (!editor.core.sameInstance($popup)) return true;\n\n          var inst = $popup.data('instance') || editor;\n\n          if ($popup.is(':visible') && _canExit()) {\n            e.stopPropagation();\n            inst.markers.remove();\n            inst.popups.hide(id);\n\n            _unmarkExit();\n          }\n        },\n\n        /**\n         * Keydown on window.\n         */\n        _windowKeydown: function (e) {\n          if (!editor.core.sameInstance($popup)) return true;\n\n          var inst = $popup.data('instance') || editor;\n\n          var key_code = e.which;\n\n          // ESC.\n          if ($.FE.KEYCODE.ESC == key_code) {\n            if (inst.popups.isVisible(id) && inst.opts.toolbarInline) {\n              e.stopPropagation();\n\n              if (inst.popups.isVisible(id)) {\n                if ($popup.find('.fr-back:visible').length) {\n                  inst.button.exec($popup.find('.fr-back:visible:first'));\n\n                  // Focus back popup button.\n                  inst.accessibility.focusPopupButton($popup);\n                }\n                else if ($popup.find('.fr-dismiss:visible').length) {\n                  inst.button.exec($popup.find('.fr-dismiss:visible:first'));\n                }\n                else {\n                  inst.popups.hide(id);\n                  inst.toolbar.showInline(null, true);\n\n                  // Focus back popup button.\n                  inst.accessibility.FocusPopupButton($popup);\n                }\n              }\n\n              return false;\n            }\n            else {\n              if (inst.popups.isVisible(id)) {\n                if ($popup.find('.fr-back:visible').length) {\n                  inst.button.exec($popup.find('.fr-back:visible:first'));\n\n                  // Focus back popup button.\n                  inst.accessibility.focusPopupButton($popup);\n                }\n                else if ($popup.find('.fr-dismiss:visible').length) {\n                  inst.button.exec($popup.find('.fr-dismiss:visible:first'));\n                }\n                else {\n                  inst.popups.hide(id);\n\n                  // Focus back popup button.\n                  inst.accessibility.focusPopupButton($popup);\n                }\n\n                return false;\n              }\n            }\n          }\n        },\n\n        /**\n         * Placeholder effect.\n         */\n        _doPlaceholder: function () {\n          var $label = $(this).next();\n\n          if ($label.length === 0 && $(this).attr('placeholder')) {\n            $(this).after('<label for=\"' + $(this).attr('id') + '\">' + $(this).attr('placeholder') + '</label>');\n          }\n\n          $(this).toggleClass('fr-not-empty', $(this).val() !== '');\n        },\n\n        /**\n         * Reposition popup.\n         */\n        _repositionPopup: function () {\n\n          // No height set or toolbar inline.\n          if (!(editor.opts.height || editor.opts.heightMax) || editor.opts.toolbarInline) return true;\n\n          if (editor.$wp && isVisible(id) && $popup.parent().get(0) == editor.$sc.get(0)) {\n\n            // Popup top - wrapper top.\n            var p_top = $popup.offset().top - editor.$wp.offset().top;\n\n            // Wrapper height.\n            var w_height = editor.$wp.outerHeight();\n\n            if (editor.node.hasClass($popup.get(0), 'fr-above')) p_top += $popup.outerHeight();\n\n            // 1. Popup top > w_height.\n            // 2. Popup top + popup height < 0.\n            if (p_top > w_height || p_top < 0) {\n              $popup.addClass('fr-hidden');\n            }\n            else {\n              $popup.removeClass('fr-hidden');\n            }\n          }\n        }\n      }\n    }\n\n    function _bindInstanceEvents (ev, id) {\n\n      // Editor mouseup.\n      editor.events.on('mouseup', ev._editorMouseup, true);\n\n      if (editor.$wp) editor.events.on('keydown', ev._editorKeydown);\n\n      // Hide all popups on blur.\n      editor.events.on('blur', function () {\n        if (areVisible()) editor.markers.remove();\n\n        hideAll();\n      });\n\n      // Update the position of the popup.\n      if (editor.$wp && !editor.helpers.isMobile()) {\n        editor.events.$on(editor.$wp, 'scroll.popup' + id, ev._repositionPopup);\n      }\n\n      editor.events.on('window.mouseup', ev._windowMouseup, true);\n      editor.events.on('window.keydown', ev._windowKeydown, true);\n\n      popups[id].data('inst' + editor.id, true);\n\n      editor.events.on('destroy', function () {\n        if (editor.core.sameInstance(popups[id])) {\n          popups[id].removeClass('fr-active').appendTo('body:first');\n        }\n      }, true)\n    }\n\n    /**\n     * Create a popup.\n     */\n    function create (id, template) {\n      var $popup = _build(id, template);\n\n      // Build events.\n      var ev = _events(id);\n\n      // Events binded here should be assigned in every instace.\n      _bindInstanceEvents(ev, id);\n\n      // Input Focus / Blur / Keydown.\n      editor.events.$on($popup, 'mousedown mouseup touchstart touchend touch', '*', ev._preventFocus, true);\n      editor.events.$on($popup, 'focus', 'input, textarea, button, select', ev._inputFocus, true);\n      editor.events.$on($popup, 'blur', 'input, textarea, button, select', ev._inputBlur, true);\n\n      // Register popup to handle keyboard accessibility.\n      editor.accessibility.registerPopup(id);\n\n      // Placeholder.\n      editor.events.$on($popup, 'keydown keyup change input', 'input, textarea', ev._doPlaceholder, true);\n\n      // Toggle checkbox.\n      if (editor.helpers.isIOS()) {\n        editor.events.$on($popup, 'touchend', 'label', function () {\n          $('#' + $(this).attr('for')).prop('checked', function (i, val) {\n            return !val;\n          })\n        }, true);\n      }\n\n      // Window mouseup.\n      editor.events.$on($(editor.o_win), 'resize', ev._windowResize, true);\n\n\n      return $popup;\n    }\n\n    /**\n     * Destroy.\n     */\n    function _destroy () {\n      for (var id in popups) {\n        if (popups.hasOwnProperty(id)) {\n          var $popup = popups[id];\n\n          if ($popup) {\n            $popup.html('').removeData().remove();\n            popups[id] = null;\n          }\n        }\n      }\n\n      popups = [];\n    }\n\n    /**\n     * Initialization.\n     */\n    function _init () {\n      editor.events.on('shared.destroy', _destroy, true);\n\n      editor.events.on('window.mousedown', _markExit);\n      editor.events.on('window.touchmove', _unmarkExit);\n\n      // Prevent hiding popups while we scroll.\n      editor.events.$on($(editor.o_win), 'scroll', _unmarkExit);\n\n      editor.events.on('mousedown', function (e) {\n        if (areVisible()) {\n          e.stopPropagation();\n\n          // Remove markers.\n          editor.$el.find('.fr-marker').remove();\n\n          // Prepare for exit.\n          _markExit();\n\n          // Disable blur.\n          editor.events.disableBlur();\n        }\n      })\n    }\n\n    return {\n      _init: _init,\n      create: create,\n      get: get,\n      show: show,\n      hide: hide,\n      onHide: onHide,\n      hideAll: hideAll,\n      setContainer: setContainer,\n      refresh: refresh,\n      onRefresh: onRefresh,\n      onShow: onShow,\n      isVisible: isVisible,\n      areVisible: areVisible\n    }\n  };\n\n\n  $.FE.MODULES.position = function (editor) {\n    /**\n    * Get bounding rect around selection.\n    *\n    */\n    function getBoundingRect () {\n      var range = editor.selection.ranges(0);\n      var boundingRect = range.getBoundingClientRect();\n\n      if ( editor.opts.nestedIframes ) {//customisation needed to deal with nested frames\n\n        var temp = {};\n        temp.left = boundingRect.left + $(range.commonAncestorContainer.ownerDocument.defaultView.frameElement).offset().left;\n        temp.width = boundingRect.width;\n        temp.height = boundingRect.height;\n        temp.top = boundingRect.top + $(range.commonAncestorContainer.ownerDocument.defaultView.frameElement).offset().top;\n        temp.right = 1;\n\n        return temp;\n\n      }\n\n      if ((boundingRect.top === 0 && boundingRect.left === 0 && boundingRect.width === 0) || boundingRect.height === 0) {\n        var remove = false;\n\n        if (editor.$el.find('.fr-marker').length === 0) {\n          editor.selection.save();\n          remove = true;\n        }\n\n        var $marker = editor.$el.find('.fr-marker:first');\n        $marker.css('display', 'inline');\n        $marker.css('line-height', '');\n        var offset = $marker.offset();\n        var height = $marker.outerHeight();\n        $marker.css('display', 'none');\n        $marker.css('line-height', 0);\n\n        boundingRect = {}\n        boundingRect.left = offset.left;\n        boundingRect.width = 0;\n        boundingRect.height = height;\n        boundingRect.top = offset.top - ((editor.helpers.isMobile() && !editor.helpers.isIOS()) || editor.opts.iframe ? 0 : editor.helpers.scrollTop());\n        boundingRect.right = 1;\n        boundingRect.bottom = 1;\n        boundingRect.ok = true;\n\n        if (remove) editor.selection.restore();\n      }\n\n      return boundingRect;\n    }\n\n    /**\n     * Normalize top positioning.\n     */\n    function _topNormalized ($el, top, obj_height) {\n      var height = $el.outerHeight(true);\n\n      if (!editor.helpers.isMobile() && editor.$tb && $el.parent().get(0) != editor.$tb.get(0)) {\n        // Get the parent of the element.\n        var p_offset = $el.parent().offset().top;\n        var new_top = top - height - (obj_height || 0);\n\n        // Parent is scrollable container.\n        // Substract the top of the container.\n        if ($el.parent().get(0) == editor.$sc.get(0)) p_offset = p_offset - $el.parent().position().top;\n\n        // Scrollable container height.\n        var s_height = editor.$sc.get(0).clientHeight;\n\n        // 1. Parent offset + toolbar top + toolbar height > scrollableContainer height.\n        // 2. Selection doesn't go above the screen.\n        if (p_offset + top + height > editor.$sc.offset().top + s_height && $el.parent().offset().top + new_top > 0 && new_top > 0) {\n\n          // Make sure we can display it.\n          if (new_top > editor.$wp.scrollTop()) {\n            top = new_top;\n            $el.addClass('fr-above');\n          }\n        }\n        else {\n          $el.removeClass('fr-above');\n        }\n      }\n\n      return top;\n    }\n\n    /**\n     * Normalize left position.\n     */\n    function _leftNormalized ($el, left) {\n      var width = $el.outerWidth(true);\n\n      // Normalize right.\n      if (left + width > editor.$sc.get(0).clientWidth - 10) {\n        left = editor.$sc.get(0).clientWidth - width - 10;\n      }\n\n      // Normalize left.\n      if (left < 0) {\n        left = 10;\n      }\n\n      return left;\n    }\n\n    /**\n     * Place editor below selection.\n     */\n    function forSelection ($el) {\n      var selection_rect = getBoundingRect();\n\n      $el.css({\n        top: 0,\n        left: 0\n      });\n\n      var top = selection_rect.top + selection_rect.height;\n      var left = selection_rect.left + selection_rect.width / 2 - $el.get(0).offsetWidth / 2 + editor.helpers.scrollLeft();\n\n      if (!editor.opts.iframe) {\n        top += editor.helpers.scrollTop();\n      }\n\n      at(left, top, $el, selection_rect.height);\n    }\n\n    /**\n     * Position element at the specified position.\n     */\n    function at (left, top, $el, obj_height) {\n      var $container = $el.data('container');\n\n      if ($container && ($container.get(0).tagName !== 'BODY' || $container.css('position') != 'static')) {\n\n        if (left) left -= $container.offset().left;\n\n        if (top) top -= $container.offset().top;\n\n        if ($container.get(0).tagName != 'BODY') {\n          if (left) left += $container.get(0).scrollLeft;\n\n          if (top) top += $container.get(0).scrollTop;\n        }\n        else if ($container.css('position') == 'absolute') {\n          if (left) left += $container.position().left;\n\n          if (top) top += $container.position().top;\n        }\n      }\n\n      // Apply iframe correction.\n      if (editor.opts.iframe && $container && editor.$tb && $container.get(0) != editor.$tb.get(0)) {\n        if (left) left += editor.$iframe.offset().left;\n\n        if (top) top += editor.$iframe.offset().top;\n      }\n\n      var new_left = _leftNormalized($el, left);\n\n      if (left) {\n\n        // Set the new left.\n        $el.css('left', new_left);\n\n        // Normalize arrow.\n        var $arrow = $el.data('fr-arrow');\n\n        if (!$arrow) {\n          $arrow = $el.find('.fr-arrow');\n          $el.data('fr-arrow', $arrow)\n        }\n\n        if (!$arrow.data('margin-left')) $arrow.data('margin-left', editor.helpers.getPX($arrow.css('margin-left')));\n        $arrow.css('margin-left', left - new_left + $arrow.data('margin-left'));\n      }\n\n      if (top) {\n        $el.css('top', _topNormalized($el, top, obj_height));\n      }\n    }\n\n    /**\n     * Special case for update sticky on iOS.\n     */\n    function _updateIOSSticky (el) {\n      var $el = $(el);\n      var is_on = $el.is('.fr-sticky-on');\n      var prev_top = $el.data('sticky-top');\n      var scheduled_top = $el.data('sticky-scheduled');\n\n      // Create a dummy div that we show then sticky is on.\n      if (typeof prev_top == 'undefined') {\n        $el.data('sticky-top', 0);\n        var $dummy = $('<div class=\"fr-sticky-dummy\" style=\"height: ' + $el.outerHeight() + 'px;\"></div>');\n        editor.$box.prepend($dummy);\n      }\n      else {\n        editor.$box.find('.fr-sticky-dummy').css('height', $el.outerHeight());\n      }\n\n      // Position sticky doesn't work when the keyboard is on the screen.\n      if (editor.core.hasFocus() || editor.$tb.find('input:visible:focus').length > 0) {\n\n        // Get the current scroll.\n        var x_scroll = editor.helpers.scrollTop();\n\n        // Get the current top.\n        // We make sure that we keep it within the editable box.\n        var x_top = Math.min(Math.max(x_scroll - editor.$tb.parent().offset().top, 0), editor.$tb.parent().outerHeight() - $el.outerHeight());\n\n        // Not the same top and different than the already scheduled.\n        if (x_top != prev_top && x_top != scheduled_top) {\n\n          // Clear any too soon change to avoid flickering.\n          clearTimeout($el.data('sticky-timeout'));\n\n          // Store the current scheduled top.\n          $el.data('sticky-scheduled', x_top);\n\n          // Hide the toolbar for a rich experience.\n          if ($el.outerHeight() < x_scroll - editor.$tb.parent().offset().top) {\n            $el.addClass('fr-opacity-0');\n          }\n\n          // Set the timeout for changing top.\n          // Based on the test 100ms seems to be the best timeout.\n          $el.data('sticky-timeout', setTimeout(function () {\n\n            // Get the current top.\n            var c_scroll = editor.helpers.scrollTop();\n            var c_top = Math.min(Math.max(c_scroll - editor.$tb.parent().offset().top, 0), editor.$tb.parent().outerHeight() - $el.outerHeight());\n\n            if (c_top > 0 && editor.$tb.parent().get(0).tagName == 'BODY') c_top += editor.$tb.parent().position().top;\n\n            // Don't update if it is not different than the prev top.\n            if (c_top != prev_top) {\n              $el.css('top', Math.max(c_top, 0));\n\n              $el.data('sticky-top', c_top);\n              $el.data('sticky-scheduled', c_top);\n            }\n\n            // Show toolbar.\n            $el.removeClass('fr-opacity-0');\n          }, 100));\n        }\n\n        // Turn on sticky mode.\n        if (!is_on) {\n          $el.css('top', '0');\n          $el.width(editor.$tb.parent().width());\n          $el.addClass('fr-sticky-on');\n          editor.$box.addClass('fr-sticky-box');\n        }\n      }\n\n      // Turn off sticky mode.\n      else {\n        clearTimeout($(el).css('sticky-timeout'));\n        $el.css('top', '0');\n        $el.css('position', '');\n        $el.width('');\n        $el.data('sticky-top', 0);\n        $el.removeClass('fr-sticky-on');\n        editor.$box.removeClass('fr-sticky-box');\n      }\n    }\n\n    /**\n     * Update sticky location for browsers that don't support sticky.\n     * https://github.com/filamentgroup/fixed-sticky\n     *\n     * The MIT License (MIT)\n     *\n     * Copyright (c) 2013 Filament Group\n     */\n    function _updateSticky (el) {\n      if (!el.offsetWidth) { return; }\n\n      var el_top;\n      var el_bottom;\n      var $el = $(el);\n      var height = $el.outerHeight();\n\n      var position = $el.data('sticky-position');\n\n      // Viewport height.\n      var viewport_height = $(editor.opts.scrollableContainer == 'body' ? editor.o_win : editor.opts.scrollableContainer).outerHeight();\n\n      var scrollable_top = 0;\n      var scrollable_bottom = 0;\n\n      if (editor.opts.scrollableContainer !== 'body') {\n        scrollable_top = editor.$sc.offset().top;\n        scrollable_bottom = $(editor.o_win).outerHeight() - scrollable_top - viewport_height;\n      }\n\n      var offset_top = editor.opts.scrollableContainer == 'body' ? editor.helpers.scrollTop() : scrollable_top;\n\n      var is_on = $el.is('.fr-sticky-on');\n\n      // Decide parent.\n      if (!$el.data('sticky-parent')) {\n        $el.data('sticky-parent', $el.parent());\n      }\n      var $parent = $el.data('sticky-parent');\n      var parent_top = $parent.offset().top;\n      var parent_height = $parent.outerHeight();\n\n\n      if (!$el.data('sticky-offset')) {\n        $el.data('sticky-offset', true);\n        $el.after('<div class=\"fr-sticky-dummy\" style=\"height: ' + height + 'px;\"></div>');\n      }\n      else {\n        editor.$box.find('.fr-sticky-dummy').css('height', height + 'px');\n      }\n\n      // Detect position placement.\n      if (!position) {\n\n        // Some browsers require fixed/absolute to report accurate top/left values.\n        var skip_setting_fixed = $el.css('top') !== 'auto' || $el.css('bottom') !== 'auto';\n\n        // Set to position fixed for a split of second.\n        if (!skip_setting_fixed) {\n          $el.css('position', 'fixed');\n        }\n\n        // Find position.\n        position = {\n          top: editor.node.hasClass($el.get(0), 'fr-top'),\n          bottom: editor.node.hasClass($el.get(0), 'fr-bottom')\n        };\n\n        // Remove position fixed.\n        if (!skip_setting_fixed) {\n          $el.css('position', '');\n        }\n\n        // Store position.\n        $el.data('sticky-position', position);\n\n        $el.data('top', editor.node.hasClass($el.get(0), 'fr-top') ? $el.css('top') : 'auto');\n        $el.data('bottom', editor.node.hasClass($el.get(0), 'fr-bottom') ? $el.css('bottom') : 'auto');\n      }\n\n      // Detect if is OK to fix at the top.\n      var isFixedToTop = function () {\n\n        // 1. Top condition.\n        // 2. Bottom condition.\n        return parent_top <  offset_top + el_top &&\n                parent_top + parent_height - height >= offset_top + el_top;\n      }\n\n      // Detect if it is OK to fix at the bottom.\n      var isFixedToBottom = function () {\n        return parent_top + height < offset_top + viewport_height - el_bottom &&\n                parent_top + parent_height > offset_top + viewport_height - el_bottom ;\n      }\n\n      el_top = editor.helpers.getPX($el.data('top'));\n      el_bottom = editor.helpers.getPX($el.data('bottom'));\n\n      var at_top = (position.top && isFixedToTop() && (editor.helpers.isInViewPort(editor.$sc.get(0)) || editor.opts.scrollableContainer == 'body'));\n      var at_bottom = (position.bottom && isFixedToBottom());\n\n      // Should be fixed.\n      if (at_top || at_bottom) {\n        $el.css('width', $parent.get(0).getBoundingClientRect().width + 'px');\n\n        if (!is_on) {\n          $el.addClass('fr-sticky-on')\n          $el.removeClass('fr-sticky-off');\n\n          if ($el.css('top')) {\n            if ($el.data('top') != 'auto') {\n              $el.css('top', editor.helpers.getPX($el.data('top')) + scrollable_top);\n            }\n            else {\n              $el.data('top', 'auto');\n            }\n          }\n\n          if ($el.css('bottom')) {\n            if ($el.data('bottom') != 'auto') {\n              $el.css('bottom', editor.helpers.getPX($el.data('bottom')) + scrollable_bottom);\n            }\n            else {\n              $el.css('bottom', 'auto');\n            }\n          }\n        }\n      }\n\n      // Shouldn't be fixed.\n      else {\n        if (!editor.node.hasClass($el.get(0), 'fr-sticky-off')) {\n\n          // Reset.\n          $el.width('');\n          $el.removeClass('fr-sticky-on');\n          $el.addClass('fr-sticky-off');\n\n          if ($el.css('top') && $el.data('top') != 'auto' && position.top) {\n            $el.css('top', 0);\n          }\n\n          if ($el.css('bottom') && $el.data('bottom') != 'auto' && position.bottom) {\n            $el.css('bottom', 0);\n          }\n        }\n      }\n    }\n\n    /**\n     * Test if browser supports sticky.\n     * https://github.com/filamentgroup/fixed-sticky\n     *\n     * The MIT License (MIT)\n     *\n     * Copyright (c) 2013 Filament Group\n     */\n    function _testSticky () {\n      var el = document.createElement('test');\n      var mStyle = el.style;\n\n      mStyle.cssText = 'position:' + ['-webkit-', '-moz-', '-ms-', '-o-', ''].join('sticky; position:') + ' sticky;';\n\n      return mStyle.position.indexOf('sticky') !== -1 && !editor.helpers.isIOS() && !editor.helpers.isAndroid() && !editor.browser.chrome;\n    }\n\n    /**\n     * Initialize sticky position.\n     */\n    function _initSticky () {\n      if (!_testSticky()) {\n        editor._stickyElements = [];\n\n        // iOS special case.\n        if (editor.helpers.isIOS()) {\n\n          // Use an animation frame to make sure we're always OK with the updates.\n          var animate = function () {\n            editor.helpers.requestAnimationFrame()(animate);\n\n            if (editor.events.trigger('position.refresh') === false) return;\n\n            for (var i = 0; i < editor._stickyElements.length; i++) {\n              _updateIOSSticky(editor._stickyElements[i]);\n            }\n          };\n          animate();\n\n          // Hide toolbar on touchmove. This is very useful on iOS versions < 8.\n          editor.events.$on($(editor.o_win), 'scroll', function () {\n            if (editor.core.hasFocus()) {\n              for (var i = 0; i < editor._stickyElements.length; i++) {\n                var $el = $(editor._stickyElements[i]);\n                var $parent = $el.parent();\n                var c_scroll = editor.helpers.scrollTop();\n\n                if ($el.outerHeight() < c_scroll - $parent.offset().top) {\n                  $el.addClass('fr-opacity-0');\n                  $el.data('sticky-top', -1);\n                  $el.data('sticky-scheduled', -1);\n                }\n              }\n            }\n          }, true);\n        }\n\n        // Default case. Do the updates on scroll.\n        else {\n          if (editor.opts.scrollableContainer !== 'body') {\n            editor.events.$on($(editor.opts.scrollableContainer), 'scroll', refresh, true);\n          }\n\n          editor.events.$on($(editor.o_win), 'scroll', refresh, true);\n          editor.events.$on($(editor.o_win), 'resize', refresh, true);\n\n          editor.events.on('initialized', refresh);\n          editor.events.on('focus', refresh);\n\n          editor.events.$on($(editor.o_win), 'resize', 'textarea', refresh, true);\n        }\n      }\n\n      editor.events.on('destroy', function () {\n        editor._stickyElements = [];\n      });\n    }\n\n    function refresh () {\n      if (editor._stickyElements) {\n        for (var i = 0; i < editor._stickyElements.length; i++) {\n          _updateSticky(editor._stickyElements[i]);\n        }\n      }\n    }\n\n    /**\n     * Mark element as sticky.\n     */\n    function addSticky ($el) {\n      $el.addClass('fr-sticky');\n\n      if (editor.helpers.isIOS()) $el.addClass('fr-sticky-ios');\n\n      if (!_testSticky()) {\n        $el.removeClass('fr-sticky');\n        editor._stickyElements.push($el.get(0));\n      }\n    }\n\n    function _init () {\n      _initSticky();\n    }\n\n    return {\n      _init: _init,\n      forSelection: forSelection,\n      addSticky: addSticky,\n      refresh: refresh,\n      at: at,\n      getBoundingRect: getBoundingRect\n    }\n  };\n\n\n  $.FE.MODULES.refresh = function (editor) {\n    function undo ($btn) {\n      _setDisabled($btn, !editor.undo.canDo())\n    }\n\n    function redo ($btn) {\n      _setDisabled($btn, !editor.undo.canRedo());\n    }\n\n    function indent ($btn) {\n      if (editor.node.hasClass($btn.get(0), 'fr-no-refresh')) return false;\n\n      var blocks = editor.selection.blocks();\n\n      for (var i = 0; i < blocks.length; i++) {\n        var p_node = blocks[i].previousSibling;\n\n        while (p_node && p_node.nodeType == Node.TEXT_NODE && p_node.textContent.length === 0) {\n          p_node = p_node.previousSibling;\n        }\n\n        if (blocks[i].tagName == 'LI' && !p_node) {\n          _setDisabled($btn, true);\n        }\n        else {\n          _setDisabled($btn, false);\n\n          return true;\n        }\n      }\n    }\n\n    function outdent ($btn) {\n      if (editor.node.hasClass($btn.get(0), 'fr-no-refresh')) return false;\n\n      var blocks = editor.selection.blocks();\n\n      for (var i = 0; i < blocks.length; i++) {\n        var prop = (editor.opts.direction == 'rtl' || $(blocks[i]).css('direction') == 'rtl') ? 'margin-right' : 'margin-left';\n\n        if (blocks[i].tagName == 'LI' || blocks[i].parentNode.tagName == 'LI') {\n          _setDisabled($btn, false);\n\n          return true;\n        }\n\n        if (editor.helpers.getPX($(blocks[i]).css(prop)) > 0) {\n          _setDisabled($btn, false);\n\n          return true;\n        }\n      }\n\n      _setDisabled($btn, true);\n    }\n\n    /**\n     * Disable/enable buton.\n     */\n    function _setDisabled ($btn, disabled) {\n      $btn.toggleClass('fr-disabled', disabled).attr('aria-disabled', disabled);\n    }\n\n    return {\n      undo: undo,\n      redo: redo,\n      outdent: outdent,\n      indent: indent\n    }\n  };\n\n\n  $.extend($.FE.DEFAULTS, {\n    editInPopup: false\n  });\n\n  $.FE.MODULES.textEdit = function (editor) {\n    function _initPopup () {\n\n      // Image buttons.\n      var txt = '<div id=\"fr-text-edit-' + editor.id + '\" class=\"fr-layer fr-text-edit-layer\"><div class=\"fr-input-line\"><input type=\"text\" placeholder=\"' + editor.language.translate('Text') + '\" tabIndex=\"1\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"updateText\" tabIndex=\"2\">' + editor.language.translate('Update') + '</button></div></div>'\n\n      var template = {\n        edit: txt\n      };\n\n      editor.popups.create('text.edit', template);\n    }\n\n    function _showPopup () {\n      var $popup = editor.popups.get('text.edit');\n\n      var text;\n\n      if (editor.$el.prop('tagName') === 'INPUT') {\n        text = editor.$el.attr('placeholder');\n      }\n      else {\n        text = editor.$el.text();\n      }\n\n      $popup.find('input').val(text).trigger('change');\n      editor.popups.setContainer('text.edit', editor.$sc);\n      editor.popups.show('text.edit', editor.$el.offset().left + editor.$el.outerWidth() / 2, editor.$el.offset().top + editor.$el.outerHeight(), editor.$el.outerHeight());\n    }\n\n    function _initEvents () {\n\n      // Show edit popup.\n      editor.events.$on(editor.$el, editor._mouseup, function () {\n        setTimeout (function () {\n          _showPopup();\n        }, 10);\n      })\n    }\n\n    function update () {\n      var $popup = editor.popups.get('text.edit');\n\n      var new_text = $popup.find('input').val();\n\n      if (new_text.length === 0) new_text = editor.opts.placeholderText;\n\n      if (editor.$el.prop('tagName') === 'INPUT') {\n        editor.$el.attr('placeholder', new_text);\n      }\n      else {\n        editor.$el.text(new_text);\n      }\n\n      editor.events.trigger('contentChanged');\n\n      editor.popups.hide('text.edit');\n    }\n\n    /**\n     * Initialize.\n     */\n    function _init () {\n      if (editor.opts.editInPopup) {\n        _initPopup();\n        _initEvents();\n      }\n    }\n\n    return {\n      _init: _init,\n      update: update\n    }\n  };\n\n  $.FE.RegisterCommand('updateText', {\n    focus: false,\n    undo: false,\n    callback: function () {\n      this.textEdit.update();\n    }\n  })\n\n\n\n  // Extend defaults.\n  $.extend($.FE.DEFAULTS, {\n    toolbarBottom: false,\n    toolbarButtons: null,\n    toolbarButtonsXS: null,\n    toolbarButtonsSM: null,\n    toolbarButtonsMD: null,\n    toolbarContainer: null,\n    toolbarInline: false,\n    toolbarSticky: true,\n    toolbarStickyOffset: 0,\n    toolbarVisibleWithoutSelection: false\n  });\n\n  // Default toolbar buttons.\n  $.FE.TOOLBAR_BUTTONS = ['fullscreen', 'bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', '|', 'fontFamily', 'fontSize', 'color', 'inlineStyle', 'paragraphStyle', '|', 'paragraphFormat', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', '-', 'insertLink', 'insertImage', 'insertVideo', 'embedly', 'insertFile', 'insertTable', '|', 'emoticons', 'specialCharacters', 'insertHR', 'selectAll', 'clearFormatting', '|', 'print', 'spellChecker', 'help', 'html', '|', 'undo', 'redo'];\n  $.FE.TOOLBAR_BUTTONS_MD = null;\n  $.FE.TOOLBAR_BUTTONS_SM = ['bold', 'italic', 'underline', '|', 'fontFamily', 'fontSize', 'insertLink', 'insertImage', 'table', '|', 'undo', 'redo'];\n  $.FE.TOOLBAR_BUTTONS_XS = ['bold', 'italic', 'fontFamily', 'fontSize', '|', 'undo', 'redo'];\n\n  $.FE.MODULES.toolbar = function (editor) {\n\n    // Create a button map for each screen size.\n    var _buttons_map = [];\n    _buttons_map[$.FE.XS] = editor.opts.toolbarButtonsXS || editor.opts.toolbarButtons || $.FE.TOOLBAR_BUTTONS_XS || $.FE.TOOLBAR_BUTTONS || [];\n    _buttons_map[$.FE.SM] = editor.opts.toolbarButtonsSM || editor.opts.toolbarButtons || $.FE.TOOLBAR_BUTTONS_SM || $.FE.TOOLBAR_BUTTONS || [];\n    _buttons_map[$.FE.MD] = editor.opts.toolbarButtonsMD || editor.opts.toolbarButtons || $.FE.TOOLBAR_BUTTONS_MD || $.FE.TOOLBAR_BUTTONS || [];\n    _buttons_map[$.FE.LG] = editor.opts.toolbarButtons || $.FE.TOOLBAR_BUTTONS || [];\n\n    function _addOtherButtons (buttons, toolbarButtons) {\n      for (var i = 0; i < toolbarButtons.length; i++) {\n        if (toolbarButtons[i] != '-' && toolbarButtons[i] != '|' && buttons.indexOf(toolbarButtons[i]) < 0) {\n          buttons.push(toolbarButtons[i]);\n        }\n      }\n    }\n\n    /**\n     * Add buttons to the toolbar.\n     */\n    function _addButtons () {\n      var _buttons = $.merge([], _screenButtons());\n      _addOtherButtons(_buttons, _buttons_map[$.FE.XS]);\n      _addOtherButtons(_buttons, _buttons_map[$.FE.SM]);\n      _addOtherButtons(_buttons, _buttons_map[$.FE.MD]);\n      _addOtherButtons(_buttons, _buttons_map[$.FE.LG]);\n\n      for (var i = _buttons.length - 1; i >= 0; i--) {\n        if (_buttons[i] != '-' && _buttons[i] != '|' && _buttons.indexOf(_buttons[i]) < i) {\n          _buttons.splice(i, 1);\n        }\n      }\n\n      var buttons_list = editor.button.buildList(_buttons, _screenButtons());\n      editor.$tb.append(buttons_list);\n      editor.button.bindCommands(editor.$tb);\n    }\n\n    /**\n     * The buttons that should be visible on the current screen size.\n     */\n    function _screenButtons () {\n      var screen_size = editor.helpers.screenSize();\n\n      return _buttons_map[screen_size];\n    }\n\n    function _showScreenButtons () {\n      var c_buttons = _screenButtons();\n\n      // Remove separator from toolbar.\n      editor.$tb.find('.fr-separator').remove();\n\n      // Hide all buttons.\n      editor.$tb.find('> .fr-command').addClass('fr-hidden');\n\n      // Reorder buttons.\n      for (var i = 0; i < c_buttons.length; i++) {\n        if (c_buttons[i] == '|' || c_buttons[i] == '-') {\n          editor.$tb.append(editor.button.buildList([c_buttons[i]]));\n        }\n        else {\n          var $btn = editor.$tb.find('> .fr-command[data-cmd=\"' + c_buttons[i] + '\"]');\n          var $dropdown = null;\n\n          if (editor.node.hasClass($btn.next().get(0), 'fr-dropdown-menu')) $dropdown = $btn.next();\n\n          $btn.removeClass('fr-hidden').appendTo(editor.$tb);\n\n          if ($dropdown) $dropdown.appendTo(editor.$tb);\n        }\n      }\n    }\n\n    /**\n     * Set the buttons visibility based on screen size.\n     */\n    function _setVisibility () {\n      editor.events.$on($(editor.o_win), 'resize', _showScreenButtons);\n      editor.events.$on($(editor.o_win), 'orientationchange', _showScreenButtons);\n    }\n\n    function showInline (e, force) {\n      setTimeout(function () {\n        if ((!e || e.which != $.FE.KEYCODE.ESC) && editor.selection.inEditor() && editor.core.hasFocus() && !editor.popups.areVisible()) {\n          if (editor.opts.toolbarVisibleWithoutSelection || (!editor.selection.isCollapsed() && !editor.keys.isIME()) || force) {\n            editor.$tb.data('instance', editor);\n\n            // Check if we should actually show the toolbar.\n            if (editor.events.trigger('toolbar.show', [e]) === false) return false;\n\n            editor.$tb.show();\n\n            if (!editor.opts.toolbarContainer) {\n              editor.position.forSelection(editor.$tb);\n            }\n\n            if (editor.opts.zIndex > 1) {\n              editor.$tb.css('z-index', editor.opts.zIndex + 1);\n            }\n            else {\n              editor.$tb.css('z-index', null);\n            }\n          }\n        }\n      }, 0);\n    }\n\n    function hide (e) {\n\n      // Prevent hiding the editor toolbar when changing the window.\n      if (e && e.type === 'blur' && document.activeElement === editor.el) {\n        return false;\n      }\n\n      // Do not hide toolbar if we press CTRL.\n      if (e && e.type === 'keydown' && editor.keys.ctrlKey(e)) return true;\n\n      // Prevent hiding when dropdown is active and we scoll in it.\n      // https://github.com/froala/wysiwyg-editor/issues/1290\n      var $active_dropdowns = editor.button.getButtons('.fr-dropdown.fr-active');\n\n      if ($active_dropdowns.next().find(editor.o_doc.activeElement).length) return true;\n\n      // Check if we should actually hide the toolbar.\n      if (editor.events.trigger('toolbar.hide') !== false) {\n        editor.$tb.hide();\n      }\n    }\n\n    function show () {\n\n      // Check if we should actually hide the toolbar.\n      if (editor.events.trigger('toolbar.show') === false) return false;\n\n      editor.$tb.show();\n    }\n\n    var tm = null;\n\n    function _showInlineWithTimeout (e) {\n      clearTimeout(tm);\n\n      if (!e || e.which != $.FE.KEYCODE.ESC) {\n        tm = setTimeout(showInline, editor.opts.typingTimer);\n      }\n    }\n\n    /**\n     * Set the events for show / hide toolbar.\n     */\n    function _initInlineBehavior () {\n\n      // Window mousedown.\n      editor.events.on('window.mousedown', hide);\n\n      // Element keydown.\n      editor.events.on('keydown', hide);\n\n      // Element blur.\n      editor.events.on('blur', hide);\n\n      // Window mousedown.\n      if (!editor.helpers.isMobile()) {\n        editor.events.on('window.mouseup', showInline);\n      }\n\n      if (editor.helpers.isMobile()) {\n        if (!editor.helpers.isIOS()) {\n          editor.events.on('window.touchend', showInline);\n\n          if (editor.browser.mozilla) {\n            setInterval(showInline, 200);\n          }\n        }\n      }\n      else {\n        editor.events.on('window.keyup', _showInlineWithTimeout);\n      }\n\n      // Hide editor on ESC.\n      editor.events.on('keydown', function (e) {\n        if (e && e.which == $.FE.KEYCODE.ESC) {\n          hide();\n        }\n      });\n\n      // Enable accessibility shortcut.\n      editor.events.on('keydown', function (e) {\n        if (e.which == $.FE.KEYCODE.ALT) {\n          e.stopPropagation();\n\n          return false;\n        }\n      }, true);\n\n      editor.events.$on(editor.$wp, 'scroll.toolbar', showInline);\n      editor.events.on('commands.after', showInline);\n\n      if (editor.helpers.isMobile()) {\n        editor.events.$on(editor.$doc, 'selectionchange', _showInlineWithTimeout);\n        editor.events.$on(editor.$doc, 'orientationchange', showInline);\n      }\n    }\n\n\n    function _initPositioning () {\n\n      // Toolbar is inline.\n      if (editor.opts.toolbarInline) {\n\n        // Mobile should handle this as regular.\n        editor.$sc.append(editor.$tb);\n\n        // Add toolbar to body.\n        editor.$tb.data('container', editor.$sc);\n\n        // Add inline class.\n        editor.$tb.addClass('fr-inline');\n\n        // Add arrow.\n        editor.$tb.prepend('<span class=\"fr-arrow\"></span>')\n\n        // Init mouse behavior.\n        _initInlineBehavior();\n\n        editor.opts.toolbarBottom = false;\n      }\n\n      // Toolbar is normal.\n      else {\n\n        // Won't work on iOS.\n        if (editor.opts.toolbarBottom && !editor.helpers.isIOS()) {\n          editor.$box.append(editor.$tb);\n          editor.$tb.addClass('fr-bottom');\n          editor.$box.addClass('fr-bottom');\n        }\n        else {\n          editor.opts.toolbarBottom = false;\n          editor.$box.prepend(editor.$tb);\n          editor.$tb.addClass('fr-top');\n          editor.$box.addClass('fr-top');\n        }\n\n        editor.$tb.addClass('fr-basic');\n\n        if (editor.opts.toolbarSticky) {\n          if (editor.opts.toolbarStickyOffset) {\n            if (editor.opts.toolbarBottom) {\n              editor.$tb.css('bottom', editor.opts.toolbarStickyOffset);\n            }\n            else {\n              editor.$tb.css('top', editor.opts.toolbarStickyOffset);\n            }\n          }\n\n          editor.position.addSticky(editor.$tb);\n        }\n      }\n    }\n\n    /**\n     * Destroy.\n     */\n    function _sharedDestroy () {\n      editor.$tb.html('').removeData().remove();\n      editor.$tb = null;\n    }\n\n    function _destroy () {\n      editor.$box.removeClass('fr-top fr-bottom fr-inline fr-basic');\n      editor.$box.find('.fr-sticky-dummy').remove();\n    }\n\n    function _setDefaults () {\n      if (editor.opts.theme) {\n        editor.$tb.addClass(editor.opts.theme + '-theme');\n      }\n\n      if (editor.opts.zIndex > 1) {\n        editor.$tb.css('z-index', editor.opts.zIndex + 1);\n      }\n\n      // Set direction.\n      if (editor.opts.direction != 'auto') {\n        editor.$tb.removeClass('fr-ltr fr-rtl').addClass('fr-' + editor.opts.direction);\n      }\n\n      // Mark toolbar for desktop / mobile.\n      if (!editor.helpers.isMobile()) {\n        editor.$tb.addClass('fr-desktop');\n      }\n      else {\n        editor.$tb.addClass('fr-mobile');\n      }\n\n      // Set the toolbar specific position inline / normal.\n      if (!editor.opts.toolbarContainer) {\n        _initPositioning();\n      }\n      else {\n        if (editor.opts.toolbarInline) {\n          _initInlineBehavior();\n          hide();\n        }\n\n        if (editor.opts.toolbarBottom) editor.$tb.addClass('fr-bottom');\n        else editor.$tb.addClass('fr-top');\n      }\n\n      // Add buttons to the toolbar.\n      // Set their visibility for different screens.\n      // Asses commands to the butttons.\n      _addButtons();\n      _setVisibility();\n\n      editor.accessibility.registerToolbar(editor.$tb);\n\n      // Make sure we don't trigger blur.\n      editor.events.$on(editor.$tb, editor._mousedown + ' ' + editor._mouseup, function (e) {\n        var originalTarget = e.originalEvent ? (e.originalEvent.target || e.originalEvent.originalTarget) : null;\n\n        if (originalTarget && originalTarget.tagName != 'INPUT' && !editor.edit.isDisabled()) {\n          e.stopPropagation();\n          e.preventDefault();\n\n          return false;\n        }\n      }, true);\n    }\n\n    /**\n     * Initialize\n     */\n    function _init () {\n      editor.$sc = $(editor.opts.scrollableContainer).first();\n\n      if (!editor.$wp) return false;\n\n      // Container for toolbar.\n      if (editor.opts.toolbarContainer) {\n\n        // Shared toolbar.\n        if (!editor.shared.$tb) {\n          editor.shared.$tb = $('<div class=\"fr-toolbar\"></div>');\n          editor.$tb = editor.shared.$tb;\n          $(editor.opts.toolbarContainer).append(editor.$tb);\n          _setDefaults();\n          editor.$tb.data('instance', editor);\n        }\n        else {\n          editor.$tb = editor.shared.$tb;\n\n          if (editor.opts.toolbarInline) _initInlineBehavior();\n        }\n\n        if (editor.opts.toolbarInline) {\n\n          // Update box.\n          editor.$box.addClass('fr-inline');\n        }\n        else {\n          editor.$box.addClass('fr-basic');\n        }\n\n        // On focus set the current instance.\n        editor.events.on('focus', function () {\n          editor.$tb.data('instance', editor);\n        }, true);\n\n        editor.opts.toolbarInline = false;\n      }\n      else {\n\n        // Inline toolbar.\n        if (editor.opts.toolbarInline) {\n\n          // Update box.\n          editor.$box.addClass('fr-inline');\n\n          // Check for shared toolbar.\n          if (!editor.shared.$tb) {\n            editor.shared.$tb = $('<div class=\"fr-toolbar\"></div>');\n            editor.$tb = editor.shared.$tb;\n            _setDefaults();\n          }\n          else {\n            editor.$tb = editor.shared.$tb;\n\n            // Init mouse behavior.\n            _initInlineBehavior();\n          }\n        }\n        else {\n          editor.$box.addClass('fr-basic');\n          editor.$tb = $('<div class=\"fr-toolbar\"></div>');\n          _setDefaults();\n\n          editor.$tb.data('instance', editor);\n        }\n      }\n\n      // Destroy.\n      editor.events.on('destroy', _destroy, true);\n      editor.events.on(!editor.opts.toolbarInline && !editor.opts.toolbarContainer ? 'destroy' : 'shared.destroy', _sharedDestroy, true);\n    }\n\n    var disabled = false;\n\n    function disable () {\n      if (!disabled && editor.$tb) {\n        editor.$tb.find('> .fr-command').addClass('fr-disabled fr-no-refresh').attr('aria-disabled', true);\n        disabled = true;\n      }\n    }\n\n    function enable () {\n      if (disabled && editor.$tb) {\n        editor.$tb.find('> .fr-command').removeClass('fr-disabled fr-no-refresh').attr('aria-disabled', false);\n        disabled = false;\n      }\n\n      editor.button.bulkRefresh();\n    }\n\n    return {\n      _init: _init,\n      hide: hide,\n      show: show,\n      showInline: showInline,\n      disable: disable,\n      enable: enable\n    }\n  };\n\n\n\n}));\n"},function(e,t,n){n(6)(n(287))},function(e,t){e.exports="/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node/CommonJS\n        module.exports = function( root, jQuery ) {\n            if ( jQuery === undefined ) {\n                // require('jQuery') returns a factory that requires window to\n                // build a jQuery instance, we normalize how we use modules\n                // that require this pattern but the window provided is a noop\n                // if it's defined (how jquery works)\n                if ( typeof window !== 'undefined' ) {\n                    jQuery = require('jquery');\n                }\n                else {\n                    jQuery = require('jquery')(root);\n                }\n            }\n            return factory(jQuery);\n        };\n    } else {\n        // Browser globals\n        factory(window.jQuery);\n    }\n}(function ($) {\n\n  \n\n  $.extend($.FE.POPUP_TEMPLATES, {\n    'link.edit': '[_BUTTONS_]',\n    'link.insert': '[_BUTTONS_][_INPUT_LAYER_]'\n  })\n\n  $.extend($.FE.DEFAULTS, {\n    linkEditButtons: ['linkOpen', 'linkStyle', 'linkEdit', 'linkRemove'],\n    linkInsertButtons: ['linkBack', '|', 'linkList'],\n    linkAttributes: {},\n    linkAutoPrefix: 'http://',\n    linkStyles: {\n      'fr-green': 'Green',\n      'fr-strong': 'Thick'\n    },\n    linkMultipleStyles: true,\n    linkConvertEmailAddress: true,\n    linkAlwaysBlank: false,\n    linkAlwaysNoFollow: false,\n    linkNoOpener: true,\n    linkNoReferrer: true,\n    linkList: [\n      {\n        text: 'Froala',\n        href: 'https://froala.com',\n        target: '_blank'\n      },\n      {\n        text: 'Google',\n        href: 'https://google.com',\n        target: '_blank'\n      },\n      {\n        displayText: 'Facebook',\n        href: 'https://facebook.com'\n      }\n    ],\n    linkText: true\n  });\n\n  $.FE.PLUGINS.link = function (editor) {\n    function get () {\n      var $current_image = editor.image ? editor.image.get() : null;\n\n      if (!$current_image && editor.$wp) {\n        var c_el = editor.selection.ranges(0).commonAncestorContainer;\n\n        try {\n          if (c_el && ((c_el.contains && c_el.contains(editor.el)) || !editor.el.contains(c_el) || editor.el == c_el)) c_el = null;\n        }\n        catch (ex) {\n          c_el = null;\n        }\n\n        if (c_el && c_el.tagName === 'A') return c_el;\n        var s_el = editor.selection.element();\n        var e_el = editor.selection.endElement();\n\n        if (s_el.tagName != 'A' && !editor.node.isElement(s_el)) {\n          s_el = $(s_el).parentsUntil(editor.$el, 'a:first').get(0);\n        }\n\n        if (e_el.tagName != 'A' && !editor.node.isElement(e_el)) {\n          e_el = $(e_el).parentsUntil(editor.$el, 'a:first').get(0);\n        }\n\n        try {\n          if (e_el && ((e_el.contains && e_el.contains(editor.el)) || !editor.el.contains(e_el) || editor.el == e_el)) e_el = null;\n        }\n        catch (ex) {\n          e_el = null;\n        }\n\n        try {\n          if (s_el && ((s_el.contains && s_el.contains(editor.el)) || !editor.el.contains(s_el) || editor.el == s_el)) s_el = null;\n        }\n        catch (ex) {\n          s_el = null;\n        }\n\n        if (e_el && e_el == s_el && e_el.tagName == 'A') {\n\n          // We do not clicking at the end / input of links because in IE the selection is changing shortly after mouseup.\n          // https://jsfiddle.net/jredzam3/\n          if ((editor.browser.msie || editor.helpers.isMobile()) && (editor.selection.info(s_el).atEnd || editor.selection.info(s_el).atStart)) {\n            return null;\n          }\n\n          return s_el;\n        }\n\n        return null;\n      }\n      else if (editor.el.tagName == 'A') {\n\n        return editor.el;\n      }\n      else {\n        if ($current_image && $current_image.get(0).parentNode && $current_image.get(0).parentNode.tagName == 'A') {\n\n          return $current_image.get(0).parentNode;\n        }\n      }\n    }\n\n    function allSelected () {\n      var $current_image = editor.image ? editor.image.get() : null;\n      var selectedLinks = [];\n\n      if ($current_image) {\n        if ($current_image.get(0).parentNode.tagName == 'A') {\n          selectedLinks.push($current_image.get(0).parentNode);\n        }\n      }\n      else {\n        var range;\n        var containerEl;\n        var links;\n        var linkRange;\n\n        if (editor.win.getSelection) {\n          var sel = editor.win.getSelection();\n\n          if (sel.getRangeAt && sel.rangeCount) {\n            linkRange = editor.doc.createRange();\n\n            for (var r = 0; r < sel.rangeCount; ++r) {\n              range = sel.getRangeAt(r);\n              containerEl = range.commonAncestorContainer;\n\n              if (containerEl && containerEl.nodeType != 1) {\n                containerEl = containerEl.parentNode;\n              }\n\n              if (containerEl && containerEl.nodeName.toLowerCase() == 'a') {\n                selectedLinks.push(containerEl);\n              }\n              else {\n                links = containerEl.getElementsByTagName('a');\n\n                for (var i = 0; i < links.length; ++i) {\n                  linkRange.selectNodeContents(links[i]);\n\n                  if (linkRange.compareBoundaryPoints(range.END_TO_START, range) < 1 && linkRange.compareBoundaryPoints(range.START_TO_END, range) > -1) {\n                    selectedLinks.push(links[i]);\n                  }\n                }\n              }\n            }\n\n            // linkRange.detach();\n          }\n        }\n        else if (editor.doc.selection && editor.doc.selection.type != 'Control') {\n          range = editor.doc.selection.createRange();\n          containerEl = range.parentElement();\n\n          if (containerEl.nodeName.toLowerCase() == 'a') {\n            selectedLinks.push(containerEl);\n          }\n          else {\n            links = containerEl.getElementsByTagName('a');\n            linkRange = editor.doc.body.createTextRange();\n\n            for (var j = 0; j < links.length; ++j) {\n              linkRange.moveToElementText(links[j]);\n\n              if (linkRange.compareEndPoints('StartToEnd', range) > -1 && linkRange.compareEndPoints('EndToStart', range) < 1) {\n                selectedLinks.push(links[j]);\n              }\n            }\n          }\n        }\n      }\n\n      return selectedLinks;\n    }\n\n    function _edit (e) {\n      if (editor.core.hasFocus()) {\n        _hideEditPopup();\n\n        // Do not show edit popup for link when ALT is hit.\n        if (e && e.type === 'keyup' && (e.altKey || e.which == $.FE.KEYCODE.ALT)) return true;\n\n        setTimeout (function () {\n\n          // No event passed.\n          // Event passed and (left click or other event type).\n          if (!e || (e && (e.which == 1 || e.type != 'mouseup'))) {\n            var link = get();\n            var $current_image = editor.image ? editor.image.get() : null;\n\n            if (link && !$current_image) {\n              if (editor.image) {\n                var contents = editor.node.contents(link);\n\n                // https://github.com/froala/wysiwyg-editor/issues/1103\n                if (contents.length == 1 && contents[0].tagName == 'IMG') {\n                  var range = editor.selection.ranges(0);\n\n                  if (range.startOffset === 0 && range.endOffset === 0) {\n                    $(link).before($.FE.MARKERS);\n                  }\n                  else {\n                    $(link).after($.FE.MARKERS);\n                  }\n\n                  editor.selection.restore();\n\n                  return false;\n                }\n              }\n\n              if (e) {\n                e.stopPropagation();\n              }\n              _showEditPopup(link);\n            }\n          }\n        }, editor.helpers.isIOS() ? 100 : 0);\n      }\n    }\n\n    function _showEditPopup (link) {\n      var $popup = editor.popups.get('link.edit');\n\n      if (!$popup) $popup = _initEditPopup();\n\n      var $link = $(link);\n\n      if (!editor.popups.isVisible('link.edit')) {\n        editor.popups.refresh('link.edit');\n      }\n      editor.popups.setContainer('link.edit', editor.$sc);\n      var left = $link.offset().left + $(link).outerWidth() / 2;\n      var top = $link.offset().top + $link.outerHeight();\n      if ( editor.opts.nestedIframes ) {\n        top += $(link.ownerDocument.defaultView.frameElement).offset().top;\n        left += $(link.ownerDocument.defaultView.frameElement).offset().left;\n      }\n      editor.popups.show('link.edit', left, top, $link.outerHeight());\n    }\n\n    function _hideEditPopup () {\n      editor.popups.hide('link.edit');\n    }\n\n    function _initEditPopup () {\n\n      // Link buttons.\n      var link_buttons = '';\n\n      if (editor.opts.linkEditButtons.length >= 1) {\n        if (editor.el.tagName == 'A' && editor.opts.linkEditButtons.indexOf('linkRemove') >= 0) {\n          editor.opts.linkEditButtons.splice(editor.opts.linkEditButtons.indexOf('linkRemove'), 1);\n        }\n\n        link_buttons = '<div class=\"fr-buttons\">' + editor.button.buildList(editor.opts.linkEditButtons) + '</div>';\n      }\n\n      var template = {\n        buttons: link_buttons\n      };\n\n      // Set the template in the popup.\n      var $popup = editor.popups.create('link.edit', template);\n\n      if (editor.$wp) {\n        editor.events.$on(editor.$wp, 'scroll.link-edit', function () {\n          if (get() && editor.popups.isVisible('link.edit')) {\n            _showEditPopup(get());\n          }\n        });\n      }\n\n      return $popup;\n    }\n\n    /**\n     * Hide link insert popup.\n     */\n    function _hideInsertPopup () {\n    }\n\n    function _refreshInsertPopup () {\n      var $popup = editor.popups.get('link.insert');\n      var link = get();\n\n      if (link) {\n        var $link = $(link);\n        var text_inputs = $popup.find('input.fr-link-attr[type=\"text\"]');\n        var check_inputs = $popup.find('input.fr-link-attr[type=\"checkbox\"]');\n        var i;\n        var $input;\n\n        for (i = 0; i < text_inputs.length; i++) {\n          $input = $(text_inputs[i]);\n          $input.val($link.attr($input.attr('name') || ''));\n        }\n\n        check_inputs.prop('checked', false);\n\n        for (i = 0; i < check_inputs.length; i++) {\n          $input = $(check_inputs[i]);\n\n          if ($link.attr($input.attr('name')) == $input.data('checked')) {\n            $input.prop('checked', true);\n          }\n        }\n\n        $popup.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val($link.text());\n      }\n      else {\n        $popup.find('input.fr-link-attr[type=\"text\"]').val('');\n        $popup.find('input.fr-link-attr[type=\"checkbox\"]').prop('checked', false);\n        $popup.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val(editor.selection.text());\n      }\n      $popup.find('input.fr-link-attr').trigger('change');\n      var $current_image = editor.image ? editor.image.get() : null;\n\n      if ($current_image) {\n        $popup.find('.fr-link-attr[name=\"text\"]').parent().hide();\n      }\n      else {\n        $popup.find('.fr-link-attr[name=\"text\"]').parent().show();\n      }\n    }\n\n    function _showInsertPopup () {\n      var $btn = editor.$tb.find('.fr-command[data-cmd=\"insertLink\"]');\n      var $popup = editor.popups.get('link.insert');\n\n      if (!$popup) $popup = _initInsertPopup();\n\n      if (!$popup.hasClass('fr-active')) {\n        editor.popups.refresh('link.insert');\n        editor.popups.setContainer('link.insert', editor.$tb || editor.$sc);\n\n        if ($btn.is(':visible')) {\n          var left = $btn.offset().left + $btn.outerWidth() / 2;\n          var top = $btn.offset().top + (editor.opts.toolbarBottom ? 10 : $btn.outerHeight() - 10);\n          editor.popups.show('link.insert', left, top, $btn.outerHeight());\n        }\n        else {\n          editor.position.forSelection($popup);\n          editor.popups.show('link.insert');\n        }\n      }\n    }\n\n    function _initInsertPopup (delayed) {\n      if (delayed) {\n        editor.popups.onRefresh('link.insert', _refreshInsertPopup);\n        editor.popups.onHide('link.insert', _hideInsertPopup);\n\n        return true;\n      }\n\n      // Image buttons.\n      var link_buttons = '';\n\n      if (editor.opts.linkInsertButtons.length >= 1) {\n        link_buttons = '<div class=\"fr-buttons\">' + editor.button.buildList(editor.opts.linkInsertButtons) + '</div>';\n      }\n\n      var checkmark = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"10\" height=\"10\" viewBox=\"0 0 32 32\"><path d=\"M27 4l-15 15-7-7-5 5 12 12 20-20z\" fill=\"#FFF\"></path></svg>';\n\n      // Image by url layer.\n      var input_layer = '';\n      var tab_idx = 0;\n      input_layer = '<div class=\"fr-link-insert-layer fr-layer fr-active\" id=\"fr-link-insert-layer-' + editor.id + '\">';\n      input_layer += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-url-' + editor.id + '\" name=\"href\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + editor.language.translate('URL') + '\" tabIndex=\"' + (++tab_idx) + '\"></div>';\n\n      if (editor.opts.linkText) {\n        input_layer += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-text-' + editor.id + '\" name=\"text\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + editor.language.translate('Text') + '\" tabIndex=\"' + (++tab_idx) + '\"></div>';\n      }\n\n      // Add any additional fields.\n      for (var attr in editor.opts.linkAttributes) {\n        if (editor.opts.linkAttributes.hasOwnProperty(attr)) {\n          var placeholder = editor.opts.linkAttributes[attr];\n          input_layer += '<div class=\"fr-input-line\"><input name=\"' + attr + '\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + editor.language.translate(placeholder) + '\" tabIndex=\"' + (++tab_idx) + '\"></div>';\n        }\n      }\n\n      if (!editor.opts.linkAlwaysBlank) {\n        input_layer += '<div class=\"fr-checkbox-line\"><span class=\"fr-checkbox\"><input name=\"target\" class=\"fr-link-attr\" data-checked=\"_blank\" type=\"checkbox\" id=\"fr-link-target-' + editor.id + '\" tabIndex=\"' + (++tab_idx) + '\"><span>' + checkmark + '</span></span><label for=\"fr-link-target-' + editor.id + '\">' + editor.language.translate('Open in new tab') + '</label></div>';\n      }\n\n      input_layer += '<div class=\"fr-action-buttons\"><button class=\"fr-command fr-submit\" role=\"button\" data-cmd=\"linkInsert\" href=\"#\" tabIndex=\"' + (++tab_idx) + '\" type=\"button\">' + editor.language.translate('Insert') + '</button></div></div>'\n\n      var template = {\n        buttons: link_buttons,\n        input_layer: input_layer\n      }\n\n      // Set the template in the popup.\n      var $popup = editor.popups.create('link.insert', template);\n\n      if (editor.$wp) {\n        editor.events.$on(editor.$wp, 'scroll.link-insert', function () {\n          var $current_image = editor.image ? editor.image.get() : null;\n\n          if ($current_image && editor.popups.isVisible('link.insert')) {\n            imageLink();\n          }\n\n          if (get && editor.popups.isVisible('link.insert')) {\n            update();\n          }\n        });\n      }\n\n      return $popup;\n    }\n\n    function remove () {\n      var link = get();\n\n      var $current_image = editor.image ? editor.image.get() : null;\n\n      if (editor.events.trigger('link.beforeRemove', [link]) === false) return false;\n\n      if ($current_image && link) {\n        $current_image.unwrap();\n        editor.image.edit($current_image);\n      }\n      else if (link) {\n        editor.selection.save();\n        $(link).replaceWith($(link).html());\n        editor.selection.restore();\n        _hideEditPopup();\n      }\n    }\n\n    function _init () {\n\n      // Edit on keyup.\n      editor.events.on('keyup', function (e) {\n        if (e.which != $.FE.KEYCODE.ESC) {\n          _edit(e);\n        }\n      });\n\n      editor.events.on('window.mouseup', _edit);\n\n      // Do not follow links when edit is disabled.\n      editor.events.$on(editor.$el, 'click', 'a', function (e) {\n        if (editor.edit.isDisabled()) {\n          e.preventDefault();\n        }\n      });\n\n      if (editor.helpers.isMobile()) {\n        editor.events.$on(editor.$doc, 'selectionchange', _edit);\n      }\n\n      _initInsertPopup(true);\n\n      // Init on link.\n      if (editor.el.tagName == 'A') {\n        editor.$el.addClass('fr-view');\n      }\n\n      // Hit ESC when focus is in link edit popup.\n      editor.events.on('toolbar.esc', function () {\n        if (editor.popups.isVisible('link.edit')) {\n          editor.events.disableBlur();\n          editor.events.focus();\n\n          return false;\n        }\n      }, true);\n    }\n\n    function usePredefined (val) {\n      var link = editor.opts.linkList[val];\n      var $popup = editor.popups.get('link.insert');\n      var text_inputs = $popup.find('input.fr-link-attr[type=\"text\"]');\n      var check_inputs = $popup.find('input.fr-link-attr[type=\"checkbox\"]');\n      var $input;\n      var i;\n\n      for (i = 0; i < text_inputs.length; i++) {\n        $input = $(text_inputs[i]);\n\n        if (link[$input.attr('name')]) {\n          $input.val(link[$input.attr('name')]);\n        }\n        else if ($input.attr('name') != 'text') {\n          $input.val('');\n        }\n      }\n\n      for (i = 0; i < check_inputs.length; i++) {\n        $input = $(check_inputs[i]);\n        $input.prop('checked', $input.data('checked') == link[$input.attr('name')]);\n      }\n      editor.accessibility.focusPopup($popup);\n    }\n\n    function insertCallback () {\n      var $popup = editor.popups.get('link.insert');\n      var text_inputs = $popup.find('input.fr-link-attr[type=\"text\"]');\n      var check_inputs = $popup.find('input.fr-link-attr[type=\"checkbox\"]');\n      var href = (text_inputs.filter('[name=\"href\"]').val() || '').trim();\n      var text = text_inputs.filter('[name=\"text\"]').val();\n      var attrs = {};\n      var $input;\n      var i;\n\n      for (i = 0; i < text_inputs.length; i++) {\n        $input = $(text_inputs[i]);\n\n        if (['href', 'text'].indexOf($input.attr('name')) < 0) {\n          attrs[$input.attr('name')] = $input.val();\n        }\n      }\n\n      for (i = 0; i < check_inputs.length; i++) {\n        $input = $(check_inputs[i]);\n\n        if ($input.is(':checked')) {\n          attrs[$input.attr('name')] = $input.data('checked');\n        }\n        else {\n          attrs[$input.attr('name')] = $input.data('unchecked') || null;\n        }\n      }\n\n      var t = editor.helpers.scrollTop();\n      insert(href, text, attrs);\n      $(editor.o_win).scrollTop(t);\n    }\n\n    function _split () {\n      if (!editor.selection.isCollapsed()) {\n        editor.selection.save();\n        var markers = editor.$el.find('.fr-marker').addClass('fr-unprocessed').toArray();\n\n        while (markers.length) {\n          var $marker = $(markers.pop());\n          $marker.removeClass('fr-unprocessed');\n\n          // Get deepest parent.\n          var deep_parent = editor.node.deepestParent($marker.get(0));\n\n          if (deep_parent) {\n            var node = $marker.get(0);\n            var close_str = '';\n            var open_str = '';\n\n            do {\n              node = node.parentNode;\n\n              if (!editor.node.isBlock(node)) {\n                close_str = close_str + editor.node.closeTagString(node);\n                open_str = editor.node.openTagString(node) + open_str;\n              }\n            } while (node != deep_parent);\n\n            var marker_str = editor.node.openTagString($marker.get(0)) + $marker.html() +  editor.node.closeTagString($marker.get(0));\n\n            $marker.replaceWith('<span id=\"fr-break\"></span>');\n            var h = deep_parent.outerHTML;\n\n            h = h.replace(/<span id=\"fr-break\"><\\/span>/g, close_str + marker_str + open_str);\n\n            deep_parent.outerHTML = h;\n          }\n\n          markers = editor.$el.find('.fr-marker.fr-unprocessed').toArray();\n        }\n\n        editor.html.cleanEmptyTags();\n\n        editor.selection.restore();\n      }\n    }\n\n    /**\n     * Insert link into the editor.\n     */\n    function insert (href, text, attrs) {\n      if (typeof attrs == 'undefined') attrs = {};\n\n      if (editor.events.trigger('link.beforeInsert', [href, text, attrs]) === false) return false;\n\n      // Get image if we have one selected.\n      var $current_image = editor.image ? editor.image.get() : null;\n\n      if (!$current_image && editor.el.tagName != 'A') {\n        editor.selection.restore();\n        editor.popups.hide('link.insert');\n      }\n      else if (editor.el.tagName == 'A') {\n        editor.$el.focus();\n      }\n\n      var original_href = href;\n\n      // Convert email address.\n      if (editor.opts.linkConvertEmailAddress) {\n        if (editor.helpers.isEmail(href) && !/^mailto:.*/i.test(href)) {\n          href = 'mailto:' + href;\n        }\n      }\n\n      // Check if is local path.\n      var local_path = /^([A-Za-z]:(\\\\){1,2}|[A-Za-z]:((\\\\){1,2}[^\\\\]+)+)(\\\\)?$/i;\n\n      // Add autoprefix.\n      if (editor.opts.linkAutoPrefix !== '' && !new RegExp('^(' + $.FE.LinkProtocols.join('|') + '):.', 'i').test(href) && !/^data:image.*/i.test(href) && !/^(https?:|ftps?:|file:|)\\/\\//i.test(href) && !local_path.test(href)) {\n\n        // Do prefix only if starting character is not absolute.\n        if (['/', '{', '[', '#', '(', '.'].indexOf((href || '')[0]) < 0) {\n          href = editor.opts.linkAutoPrefix + editor.helpers.sanitizeURL(href);\n        }\n      }\n\n      // Sanitize the URL.\n      href = editor.helpers.sanitizeURL(href);\n\n      // Default attributs.\n      if (editor.opts.linkAlwaysBlank) attrs.target = '_blank';\n\n      if (editor.opts.linkAlwaysNoFollow) attrs.rel = 'nofollow';\n\n      // https://github.com/froala/wysiwyg-editor/issues/1576.\n      if (attrs.target == '_blank') {\n        if (editor.opts.linkNoOpener) {\n          if (!attrs.rel) attrs.rel = 'noopener';\n          else attrs.rel += ' noopener';\n        }\n\n        if (editor.opts.linkNoReferrer) {\n          if (!attrs.rel) attrs.rel = 'noreferrer';\n          else attrs.rel += ' noreferrer';\n        }\n      }\n      else if (attrs.target == null) {\n        if (attrs.rel) {\n          attrs.rel = attrs.rel.replace(/noopener/, '').replace(/noreferrer/, '');\n        }\n        else {\n          attrs.rel = null;\n        }\n      }\n\n      // Format text.\n      text = text || '';\n\n      if (href === editor.opts.linkAutoPrefix) {\n        var $popup = editor.popups.get('link.insert');\n        $popup.find('input[name=\"href\"]').addClass('fr-error');\n        editor.events.trigger('link.bad', [original_href]);\n\n        return false;\n      }\n\n      // Check if we have selection only in one link.\n      var link = get();\n      var $link;\n\n      if (link) {\n        $link = $(link);\n\n        $link.attr('href', href);\n\n        // Change text if it is different.\n        if (text.length > 0 && $link.text() != text && !$current_image) {\n          var child = $link.get(0);\n\n          while (child.childNodes.length === 1 && child.childNodes[0].nodeType == Node.ELEMENT_NODE) {\n            child = child.childNodes[0];\n          }\n\n          $(child).text(text);\n        }\n\n        if (!$current_image) {\n          $link\n            .prepend($.FE.START_MARKER)\n            .append($.FE.END_MARKER);\n        }\n\n        // Set attributes.\n        $link.attr(attrs);\n\n        if (!$current_image) {\n          editor.selection.restore();\n        }\n      }\n      else {\n\n        // We don't have any image selected.\n        if (!$current_image) {\n\n          // Remove current links.\n          editor.format.remove('a');\n\n          // Nothing is selected.\n          if (editor.selection.isCollapsed()) {\n            text = (text.length === 0 ? original_href : text);\n            editor.html.insert('<a href=\"' + href + '\">' + $.FE.START_MARKER + text.replace(/&/g, '&amp;') + $.FE.END_MARKER + '</a>');\n            editor.selection.restore();\n          }\n          else {\n            if (text.length > 0 && text != editor.selection.text().replace(/\\n/g, '')) {\n              editor.selection.remove();\n              editor.html.insert('<a href=\"' + href + '\">' + $.FE.START_MARKER + text.replace(/&/g, '&amp;') + $.FE.END_MARKER + '</a>');\n              editor.selection.restore();\n            }\n            else {\n              _split();\n\n              // Add link.\n              editor.format.apply('a', { href: href });\n            }\n          }\n        }\n        else {\n\n          // Just wrap current image with a link.\n          $current_image.wrap('<a href=\"' + href + '\"></a>');\n        }\n\n        // Set attributes.\n        var links = allSelected();\n\n        for (var i = 0; i < links.length; i++) {\n          $link = $(links[i]);\n          $link.attr(attrs);\n          $link.removeAttr('_moz_dirty');\n        }\n\n        // Show link edit if only one link.\n        if (links.length == 1 && editor.$wp && !$current_image) {\n          $(links[0])\n            .prepend($.FE.START_MARKER)\n            .append($.FE.END_MARKER);\n\n          editor.selection.restore();\n        }\n      }\n\n      // Hide popup and try to edit.\n      if (!$current_image) {\n        _edit();\n      }\n      else {\n        var $pop = editor.popups.get('link.insert');\n\n        if ($pop) {\n          $pop.find('input:focus').blur();\n        }\n\n        editor.image.edit($current_image);\n      }\n    }\n\n    function update () {\n      _hideEditPopup();\n\n      var link = get();\n\n      if (link) {\n        var $popup = editor.popups.get('link.insert');\n\n        if (!$popup) $popup = _initInsertPopup();\n\n        if (!editor.popups.isVisible('link.insert')) {\n          editor.popups.refresh('link.insert');\n          editor.selection.save();\n\n          if (editor.helpers.isMobile()) {\n            editor.events.disableBlur();\n            editor.$el.blur();\n            editor.events.enableBlur();\n          }\n        }\n\n        editor.popups.setContainer('link.insert', editor.$sc);\n        var $ref = (editor.image ? editor.image.get() : null) || $(link);\n        var left = $ref.offset().left + $ref.outerWidth() / 2;\n        var top = $ref.offset().top + $ref.outerHeight();\n\n        if ( editor.opts.nestedIframes ) {\n          top += $(link.ownerDocument.defaultView.frameElement).offset().top;\n          left += $(link.ownerDocument.defaultView.frameElement).offset().left;\n        }\n\n        editor.popups.show('link.insert', left, top, $ref.outerHeight());\n      }\n    }\n\n    function back () {\n      var $current_image = editor.image ? editor.image.get() : null;\n\n      if (!$current_image) {\n        editor.events.disableBlur();\n        editor.selection.restore();\n        editor.events.enableBlur();\n\n        var link = get();\n\n        if (link && editor.$wp) {\n          editor.selection.restore();\n          _hideEditPopup();\n          _edit();\n        }\n        else if (editor.el.tagName == 'A') {\n          editor.$el.focus();\n          _edit();\n        }\n        else {\n          editor.popups.hide('link.insert');\n          editor.toolbar.showInline();\n        }\n      }\n      else {\n        editor.image.back();\n      }\n    }\n\n    function imageLink () {\n      var $el = editor.image ? editor.image.getEl() : null;\n\n      if ($el) {\n        var $popup = editor.popups.get('link.insert');\n\n        if (editor.image.hasCaption()) {\n          $el = $el.find('.fr-img-wrap');\n        }\n\n        if (!$popup) $popup = _initInsertPopup();\n        _refreshInsertPopup(true);\n        editor.popups.setContainer('link.insert', editor.$sc);\n        var left = $el.offset().left + $el.outerWidth() / 2;\n        var top = $el.offset().top + $el.outerHeight();\n\n        editor.popups.show('link.insert', left, top, $el.outerHeight());\n      }\n    }\n\n    /**\n     * Apply specific style.\n     */\n    function applyStyle (val, linkStyles, multipleStyles) {\n      if (typeof multipleStyles == 'undefined') multipleStyles = editor.opts.linkMultipleStyles;\n\n      if (typeof linkStyles == 'undefined') linkStyles = editor.opts.linkStyles;\n      var link = get();\n\n      if (!link) return false;\n\n      // Remove multiple styles.\n      if (!multipleStyles) {\n        var styles = Object.keys(linkStyles);\n        styles.splice(styles.indexOf(val), 1);\n        $(link).removeClass(styles.join(' '));\n      }\n\n      $(link).toggleClass(val);\n\n      _edit();\n    }\n\n    return {\n      _init: _init,\n      remove: remove,\n      showInsertPopup: _showInsertPopup,\n      usePredefined: usePredefined,\n      insertCallback: insertCallback,\n      insert: insert,\n      update: update,\n      get: get,\n      allSelected: allSelected,\n      back: back,\n      imageLink: imageLink,\n      applyStyle: applyStyle\n    }\n  }\n\n  // Register the link command.\n  $.FE.DefineIcon('insertLink', { NAME: 'link' });\n  $.FE.RegisterShortcut($.FE.KEYCODE.K, 'insertLink', null, 'K');\n  $.FE.RegisterCommand('insertLink', {\n    title: 'Insert Link',\n    undo: false,\n    focus: true,\n    refreshOnCallback: false,\n    popup: true,\n    callback: function () {\n      if (!this.popups.isVisible('link.insert')) {\n        this.link.showInsertPopup();\n      }\n      else {\n        if (this.$el.find('.fr-marker').length) {\n          this.events.disableBlur();\n          this.selection.restore();\n        }\n        this.popups.hide('link.insert');\n      }\n    },\n    plugin: 'link'\n  })\n\n  $.FE.DefineIcon('linkOpen', {\n    NAME: 'external-link',\n    FA5NAME: 'external-link-alt'\n  });\n  $.FE.RegisterCommand('linkOpen', {\n    title: 'Open Link',\n    undo: false,\n    refresh: function ($btn) {\n      var link = this.link.get();\n\n      if (link) {\n        $btn.removeClass('fr-hidden');\n      }\n      else {\n        $btn.addClass('fr-hidden');\n      }\n    },\n    callback: function () {\n      var link = this.link.get();\n\n      if (link) {\n        this.o_win.open(link.href, '_blank', 'noopener');\n\n        this.popups.hide('link.edit');\n      }\n    },\n    plugin: 'link'\n  })\n\n  $.FE.DefineIcon('linkEdit', { NAME: 'edit' });\n  $.FE.RegisterCommand('linkEdit', {\n    title: 'Edit Link',\n    undo: false,\n    refreshAfterCallback: false,\n    popup: true,\n    callback: function () {\n      this.link.update();\n    },\n    refresh: function ($btn) {\n      var link = this.link.get();\n\n      if (link) {\n        $btn.removeClass('fr-hidden');\n      }\n      else {\n        $btn.addClass('fr-hidden');\n      }\n    },\n    plugin: 'link'\n  })\n\n  $.FE.DefineIcon('linkRemove', { NAME: 'unlink' });\n  $.FE.RegisterCommand('linkRemove', {\n    title: 'Unlink',\n    callback: function () {\n      this.link.remove();\n    },\n    refresh: function ($btn) {\n      var link = this.link.get();\n\n      if (link) {\n        $btn.removeClass('fr-hidden');\n      }\n      else {\n        $btn.addClass('fr-hidden');\n      }\n    },\n    plugin: 'link'\n  })\n\n  $.FE.DefineIcon('linkBack', { NAME: 'arrow-left' });\n  $.FE.RegisterCommand('linkBack', {\n    title: 'Back',\n    undo: false,\n    focus: false,\n    back: true,\n    refreshAfterCallback: false,\n    callback: function () {\n      this.link.back();\n    },\n    refresh: function ($btn) {\n      var link = this.link.get() && this.doc.hasFocus();\n      var $current_image = this.image ? this.image.get() : null;\n\n      if (!$current_image && !link && !this.opts.toolbarInline) {\n        $btn.addClass('fr-hidden');\n        $btn.next('.fr-separator').addClass('fr-hidden');\n      }\n      else {\n        $btn.removeClass('fr-hidden');\n        $btn.next('.fr-separator').removeClass('fr-hidden');\n      }\n    },\n    plugin: 'link'\n  });\n\n  $.FE.DefineIcon('linkList', { NAME: 'search' });\n  $.FE.RegisterCommand('linkList', {\n    title: 'Choose Link',\n    type: 'dropdown',\n    focus: false,\n    undo: false,\n    refreshAfterCallback: false,\n    html: function () {\n      var c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">';\n      var options =  this.opts.linkList;\n\n      for (var i = 0; i < options.length; i++) {\n        c += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkList\" data-param1=\"' + i + '\">' + (options[i].displayText || options[i].text) + '</a></li>';\n      }\n      c += '</ul>';\n\n      return c;\n    },\n    callback: function (cmd, val) {\n      this.link.usePredefined(val);\n    },\n    plugin: 'link'\n  })\n\n  $.FE.RegisterCommand('linkInsert', {\n    focus: false,\n    refreshAfterCallback: false,\n    callback: function () {\n      this.link.insertCallback();\n    },\n    refresh: function ($btn) {\n      var link = this.link.get();\n\n      if (link) {\n        $btn.text(this.language.translate('Update'));\n      }\n      else {\n        $btn.text(this.language.translate('Insert'));\n      }\n    },\n    plugin: 'link'\n  })\n\n  // Image link.\n  $.FE.DefineIcon('imageLink', { NAME: 'link' })\n  $.FE.RegisterCommand('imageLink', {\n    title: 'Insert Link',\n    undo: false,\n    focus: false,\n    popup: true,\n    callback: function () {\n      this.link.imageLink();\n    },\n    refresh: function ($btn) {\n      var link = this.link.get();\n      var $prev;\n\n      if (link) {\n        $prev = $btn.prev();\n\n        if ($prev.hasClass('fr-separator')) {\n          $prev.removeClass('fr-hidden');\n        }\n\n        $btn.addClass('fr-hidden');\n      }\n      else {\n        $prev = $btn.prev();\n\n        if ($prev.hasClass('fr-separator')) {\n          $prev.addClass('fr-hidden');\n        }\n\n        $btn.removeClass('fr-hidden');\n      }\n    },\n    plugin: 'link'\n  })\n\n  // Link styles.\n  $.FE.DefineIcon('linkStyle', { NAME: 'magic' })\n  $.FE.RegisterCommand('linkStyle', {\n    title: 'Style',\n    type: 'dropdown',\n    html: function () {\n      var c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">';\n      var options =  this.opts.linkStyles;\n\n      for (var cls in options) {\n        if (options.hasOwnProperty(cls)) {\n          c += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkStyle\" data-param1=\"' + cls + '\">' + this.language.translate(options[cls]) + '</a></li>';\n        }\n      }\n      c += '</ul>';\n\n      return c;\n    },\n    callback: function (cmd, val) {\n      this.link.applyStyle(val);\n    },\n    refreshOnShow: function ($btn, $dropdown) {\n      var link = this.link.get();\n\n      if (link) {\n        var $link = $(link);\n\n        $dropdown.find('.fr-command').each (function () {\n          var cls = $(this).data('param1');\n          var active = $link.hasClass(cls);\n          $(this).toggleClass('fr-active', active).attr('aria-selected', active);\n        })\n      }\n    },\n    refresh: function ($btn) {\n      var link = this.link.get();\n\n      if (link) {\n        $btn.removeClass('fr-hidden');\n      }\n      else {\n        $btn.addClass('fr-hidden');\n      }\n    },\n    plugin: 'link'\n  })\n\n}));\n"},function(e,t,n){n(6)(n(289))},function(e,t){e.exports='/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return t===undefined&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t)}:n(window.jQuery)}(function(l){l.extend(l.FE.DEFAULTS,{fontFamily:{"Arial,Helvetica,sans-serif":"Arial","Georgia,serif":"Georgia","Impact,Charcoal,sans-serif":"Impact","Tahoma,Geneva,sans-serif":"Tahoma","Times New Roman,Times,serif,-webkit-standard":"Times New Roman","Verdana,Geneva,sans-serif":"Verdana"},fontFamilySelection:!1,fontFamilyDefaultSelection:"Font Family"}),l.FE.PLUGINS.fontFamily=function(o){function i(e){var t=e.replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|\'| /g,"").split(",");return l.grep(t,function(e){return 0<e.length})}function r(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++)if(e[n].toLowerCase()==t[a].toLowerCase())return[n,a];return null}function f(){var e=i(l(o.selection.element()).css("font-family")),t=[];for(var n in o.opts.fontFamily)if(o.opts.fontFamily.hasOwnProperty(n)){var a=r(e,i(n));a&&t.push([n,a])}return 0===t.length?null:(t.sort(function(e,t){var n=e[1][0]-t[1][0];return 0===n?e[1][1]-t[1][1]:n}),t[0][0])}return{apply:function(e){o.format.applyStyle("font-family",e)},refreshOnShow:function(e,t){t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find(\'.fr-command[data-param1="\'+f()+\'"]\').addClass("fr-active").attr("aria-selected",!0);var n=t.find(".fr-dropdown-list"),a=t.find(".fr-active").parent();a.length?n.parent().scrollTop(a.offset().top-n.offset().top-(n.parent().outerHeight()/2-a.outerHeight()/2)):n.parent().scrollTop(0)},refresh:function(e){if(o.opts.fontFamilySelection){var t=l(o.selection.element()).css("font-family").replace(/(sans-serif|serif|monospace|cursive|fantasy)/gi,"").replace(/"|\'|/g,"").split(",");e.find("> span").text(o.opts.fontFamily[f()]||t[0]||o.language.translate(o.opts.fontFamilyDefaultSelection))}}}},l.FE.RegisterCommand("fontFamily",{type:"dropdown",displaySelection:function(e){return e.opts.fontFamilySelection},defaultSelection:function(e){return e.opts.fontFamilyDefaultSelection},displaySelectionWidth:120,html:function(){var e=\'<ul class="fr-dropdown-list" role="presentation">\',t=this.opts.fontFamily;for(var n in t)t.hasOwnProperty(n)&&(e+=\'<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontFamily" data-param1="\'+n+\'" style="font-family: \'+n+\'" title="\'+t[n]+\'">\'+t[n]+"</a></li>");return e+="</ul>"},title:"Font Family",callback:function(e,t){this.fontFamily.apply(t)},refresh:function(e){this.fontFamily.refresh(e)},refreshOnShow:function(e,t){this.fontFamily.refreshOnShow(e,t)},plugin:"fontFamily"}),l.FE.DefineIcon("fontFamily",{NAME:"font"})});'},function(e,t,n){n(6)(n(291))},function(e,t){e.exports='/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return t===undefined&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t)}:n(window.jQuery)}(function(f){f.extend(f.FE.DEFAULTS,{fontSize:["8","9","10","11","12","14","18","24","30","36","48","60","72","96"],fontSizeSelection:!1,fontSizeDefaultSelection:"12",fontSizeUnit:"px"}),f.FE.PLUGINS.fontSize=function(r){return{apply:function(e){r.format.applyStyle("font-size",e)},refreshOnShow:function(e,t){var n=f(r.selection.element()).css("font-size");t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find(\'.fr-command[data-param1="\'+n+\'"]\').addClass("fr-active").attr("aria-selected",!0);var o=t.find(".fr-dropdown-list"),i=t.find(".fr-active").parent();i.length?o.parent().scrollTop(i.offset().top-o.offset().top-(o.parent().outerHeight()/2-i.outerHeight()/2)):o.parent().scrollTop(0)},refresh:function(e){if(r.opts.fontSizeSelection){var t=r.helpers.getPX(f(r.selection.element()).css("font-size"));e.find("> span").text(t)}}}},f.FE.RegisterCommand("fontSize",{type:"dropdown",title:"Font Size",displaySelection:function(e){return e.opts.fontSizeSelection},displaySelectionWidth:30,defaultSelection:function(e){return e.opts.fontSizeDefaultSelection},html:function(){for(var e=\'<ul class="fr-dropdown-list" role="presentation">\',t=this.opts.fontSize,n=0;n<t.length;n++){var o=t[n];e+=\'<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="fontSize" data-param1="\'+o+this.opts.fontSizeUnit+\'" title="\'+o+\'">\'+o+"</a></li>"}return e+="</ul>"},callback:function(e,t){this.fontSize.apply(t)},refresh:function(e){this.fontSize.refresh(e)},refreshOnShow:function(e,t){this.fontSize.refreshOnShow(e,t)},plugin:"fontSize"}),f.FE.DefineIcon("fontSize",{NAME:"text-height"})});'},function(e,t,n){n(6)(n(293))},function(e,t){e.exports='/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return n===undefined&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n)}:t(window.jQuery)}(function(l){l.FE.PLUGINS.align=function(r){return{apply:function(e){var n=r.selection.element();if(l(n).parents(".fr-img-caption").length)l(n).css("text-align",e);else{r.selection.save(),r.html.wrap(!0,!0,!0,!0),r.selection.restore();for(var t=r.selection.blocks(),i=0;i<t.length;i++)r.helpers.getAlignment(l(t[i].parentNode))==e?l(t[i]).css("text-align","").removeClass("fr-temp-div"):l(t[i]).css("text-align",e).removeClass("fr-temp-div"),""===l(t[i]).attr("class")&&l(t[i]).removeAttr("class"),""===l(t[i]).attr("style")&&l(t[i]).removeAttr("style");r.selection.save(),r.html.unwrap(),r.selection.restore()}},refresh:function(e){var n=r.selection.blocks();if(n.length){var t=r.helpers.getAlignment(l(n[0]));e.find("> *:first").replaceWith(r.icon.create("align-"+t))}},refreshOnShow:function(e,n){var t=r.selection.blocks();if(t.length){var i=r.helpers.getAlignment(l(t[0]));n.find(\'a.fr-command[data-param1="\'+i+\'"]\').addClass("fr-active").attr("aria-selected",!0)}}}},l.FE.DefineIcon("align",{NAME:"align-left"}),l.FE.DefineIcon("align-left",{NAME:"align-left"}),l.FE.DefineIcon("align-right",{NAME:"align-right"}),l.FE.DefineIcon("align-center",{NAME:"align-center"}),l.FE.DefineIcon("align-justify",{NAME:"align-justify"}),l.FE.RegisterCommand("align",{type:"dropdown",title:"Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e=\'<ul class="fr-dropdown-list" role="presentation">\',n=l.FE.COMMANDS.align.options;for(var t in n)n.hasOwnProperty(t)&&(e+=\'<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="align" data-param1="\'+t+\'" title="\'+this.language.translate(n[t])+\'">\'+this.icon.create("align-"+t)+\'<span class="fr-sr-only">\'+this.language.translate(n[t])+"</span></a></li>");return e+="</ul>"},callback:function(e,n){this.align.apply(n)},refresh:function(e){this.align.refresh(e)},refreshOnShow:function(e,n){this.align.refreshOnShow(e,n)},plugin:"align"})});'},function(e,t,n){n(6)(n(295))},function(e,t){e.exports='/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(a,e){return e===undefined&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(a)),t(e)}:t(window.jQuery)}(function(g){g.extend(g.FE.DEFAULTS,{paragraphFormat:{N:"Normal",H1:"Heading 1",H2:"Heading 2",H3:"Heading 3",H4:"Heading 4",PRE:"Code"},paragraphFormatSelection:!1,paragraphDefaultSelection:"Paragraph Format"}),g.FE.PLUGINS.paragraphFormat=function(h){function f(a,e){var t=h.html.defaultTag();if(e&&e.toLowerCase()!=t)if(0<a.find("ul, ol").length){var r=g("<"+e+">");a.prepend(r);for(var n=h.node.contents(a.get(0))[0];n&&["UL","OL"].indexOf(n.tagName)<0;){var o=n.nextSibling;r.append(n),n=o}}else a.html("<"+e+">"+a.html()+"</"+e+">")}return{apply:function(a){"N"==a&&(a=h.html.defaultTag()),h.selection.save(),h.html.wrap(!0,!0,!h.opts.paragraphFormat.BLOCKQUOTE,!0,!0),h.selection.restore();var e,t,r,n,o,i,p,l,s=h.selection.blocks();h.selection.save(),h.$el.find("pre").attr("skip",!0);for(var d=0;d<s.length;d++)if(s[d].tagName!=a&&!h.node.isList(s[d])){var m=g(s[d]);"LI"==s[d].tagName?f(m,a):"LI"==s[d].parentNode.tagName&&s[d]?(i=m,p=a,l=h.html.defaultTag(),p&&p.toLowerCase()!=l||(p=\'div class="fr-temp-div"\'),i.replaceWith(g("<"+p+">").html(i.html()))):0<=["TD","TH"].indexOf(s[d].parentNode.tagName)?(r=m,n=a,o=h.html.defaultTag(),n||(n=\'div class="fr-temp-div"\'+(h.node.isEmpty(r.get(0),!0)?\' data-empty="true"\':"")),n.toLowerCase()==o?(h.node.isEmpty(r.get(0),!0)||r.append("<br/>"),r.replaceWith(r.html())):r.replaceWith(g("<"+n+">").html(r.html()))):(e=m,(t=a)||(t=\'div class="fr-temp-div"\'+(h.node.isEmpty(e.get(0),!0)?\' data-empty="true"\':"")),e.replaceWith(g("<"+t+" "+h.node.attributes(e.get(0))+">").html(e.html()).removeAttr("data-empty")))}h.$el.find(\'pre:not([skip="true"]) + pre:not([skip="true"])\').each(function(){g(this).prev().append("<br>"+g(this).html()),g(this).remove()}),h.$el.find("pre").removeAttr("skip"),h.html.unwrap(),h.selection.restore()},refreshOnShow:function(a,e){var t=h.selection.blocks();if(t.length){var r=t[0],n="N",o=h.html.defaultTag();r.tagName.toLowerCase()!=o&&r!=h.el&&(n=r.tagName),e.find(\'.fr-command[data-param1="\'+n+\'"]\').addClass("fr-active").attr("aria-selected",!0)}else e.find(\'.fr-command[data-param1="N"]\').addClass("fr-active").attr("aria-selected",!0)},refresh:function(a){if(h.opts.paragraphFormatSelection){var e=h.selection.blocks();if(e.length){var t=e[0],r="N",n=h.html.defaultTag();t.tagName.toLowerCase()!=n&&t!=h.el&&(r=t.tagName),0<=["LI","TD","TH"].indexOf(r)&&(r="N"),a.find("> span").text(h.language.translate(h.opts.paragraphFormat[r]))}else a.find("> span").text(h.language.translate(h.opts.paragraphFormat.N))}}}},g.FE.RegisterCommand("paragraphFormat",{type:"dropdown",displaySelection:function(a){return a.opts.paragraphFormatSelection},defaultSelection:function(a){return a.language.translate(a.opts.paragraphDefaultSelection)},displaySelectionWidth:125,html:function(){var a=\'<ul class="fr-dropdown-list" role="presentation">\',e=this.opts.paragraphFormat;for(var t in e)if(e.hasOwnProperty(t)){var r=this.shortcuts.get("paragraphFormat."+t);r=r?\'<span class="fr-shortcut">\'+r+"</span>":"",a+=\'<li role="presentation"><\'+("N"==t?this.html.defaultTag()||"DIV":t)+\' style="padding: 0 !important; margin: 0 !important;" role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="paragraphFormat" data-param1="\'+t+\'" title="\'+this.language.translate(e[t])+\'">\'+this.language.translate(e[t])+"</a></"+("N"==t?this.html.defaultTag()||"DIV":t)+"></li>"}return a+="</ul>"},title:"Paragraph Format",callback:function(a,e){this.paragraphFormat.apply(e)},refresh:function(a){this.paragraphFormat.refresh(a)},refreshOnShow:function(a,e){this.paragraphFormat.refreshOnShow(a,e)},plugin:"paragraphFormat"}),g.FE.DefineIcon("paragraphFormat",{NAME:"paragraph"})});'},function(e,t,n){n(6)(n(297))},function(e,t){e.exports='/*!\n * froala_editor v2.8.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2018 Froala Labs\n */\n\n!function(r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof module&&module.exports?module.exports=function(o,e){return e===undefined&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(o)),r(e)}:r(window.jQuery)}(function(C){C.extend(C.FE.POPUP_TEMPLATES,{"colors.picker":"[_BUTTONS_][_TEXT_COLORS_][_BACKGROUND_COLORS_][_CUSTOM_COLOR_]"}),C.extend(C.FE.DEFAULTS,{colorsText:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsBackground:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorsHEXInput:!0,colorsDefaultTab:"text",colorsButtons:["colorsBack","|","-"]}),C.FE.PLUGINS.colors=function(E){function e(){E.popups.hide("colors.picker")}function s(o){for(var e="text"==o?E.opts.colorsText:E.opts.colorsBackground,r=\'<div class="fr-color-set fr-\'+o+"-color"+(E.opts.colorsDefaultTab==o||"text"!=E.opts.colorsDefaultTab&&"background"!=E.opts.colorsDefaultTab&&"text"==o?" fr-selected-set":"")+\'">\',t=0;t<e.length;t++)0!==t&&t%E.opts.colorsStep==0&&(r+="<br>"),"REMOVE"!=e[t]?r+=\'<span class="fr-command fr-select-color" style="background: \'+e[t]+\';" tabIndex="-1" aria-selected="false" role="button" data-cmd="\'+o+\'Color" data-param1="\'+e[t]+\'"><span class="fr-sr-only">\'+E.language.translate("Color")+" "+e[t]+"&nbsp;&nbsp;&nbsp;</span></span>":r+=\'<span class="fr-command fr-select-color" data-cmd="\'+o+\'Color" tabIndex="-1" role="button" data-param1="REMOVE" title="\'+E.language.translate("Clear Formatting")+\'">\'+E.icon.create("remove")+\'<span class="fr-sr-only">\'+E.language.translate("Clear Formatting")+"</span></span>";return r+"</div>"}function a(o){var e,r=E.popups.get("colors.picker"),t=C(E.selection.element());e="background"==o?"background-color":"color";var a=r.find(".fr-"+o+"-color .fr-select-color");for(a.find(".fr-selected-color").remove(),a.removeClass("fr-active-item"),a.not(\'[data-param1="REMOVE"]\').attr("aria-selected",!1);t.get(0)!=E.el;){if("transparent"!=t.css(e)&&"rgba(0, 0, 0, 0)"!=t.css(e)){var s=r.find(".fr-"+o+\'-color .fr-select-color[data-param1="\'+E.helpers.RGBToHex(t.css(e))+\'"]\');s.append(\'<span class="fr-selected-color" aria-hidden="true">\\uf00c</span>\'),s.addClass("fr-active-item").attr("aria-selected",!0);break}t=t.parent()}var l=r.find(".fr-color-hex-layer input");l.length&&l.val(E.helpers.RGBToHex(t.css(e))).trigger("change")}function t(o){"REMOVE"!=o?E.format.applyStyle("background-color",E.helpers.HEXtoRGB(o)):E.format.removeStyle("background-color"),e()}function l(o){"REMOVE"!=o?E.format.applyStyle("color",E.helpers.HEXtoRGB(o)):E.format.removeStyle("color"),e()}return{showColorsPopup:function(){var o=E.$tb.find(\'.fr-command[data-cmd="color"]\'),e=E.popups.get("colors.picker");if(e||(e=function(){var o,e=\'<div class="fr-buttons fr-colors-buttons">\';E.opts.toolbarInline&&0<E.opts.colorsButtons.length&&(e+=E.button.buildList(E.opts.colorsButtons)),e+=(o=\'<div class="fr-colors-tabs fr-group">\',o+=\'<span class="fr-colors-tab \'+("background"==E.opts.colorsDefaultTab?"":"fr-selected-tab ")+\'fr-command" tabIndex="-1" role="button" aria-pressed="\'+("background"!=E.opts.colorsDefaultTab)+\'" data-param1="text" data-cmd="colorChangeSet" title="\'+E.language.translate("Text")+\'">\'+E.language.translate("Text")+"</span>",(o+=\'<span class="fr-colors-tab \'+("background"==E.opts.colorsDefaultTab?"fr-selected-tab ":"")+\'fr-command" tabIndex="-1" role="button" aria-pressed="\'+("background"==E.opts.colorsDefaultTab)+\'" data-param1="background" data-cmd="colorChangeSet" title="\'+E.language.translate("Background")+\'">\'+E.language.translate("Background")+"</span>")+"</div></div>");var r="";E.opts.colorsHEXInput&&(r=\'<div class="fr-color-hex-layer fr-active fr-layer" id="fr-color-hex-layer-\'+E.id+\'"><div class="fr-input-line"><input maxlength="7" id="fr-color-hex-layer-text-\'+E.id+\'" type="text" placeholder="\'+E.language.translate("HEX Color")+\'" tabIndex="1" aria-required="true"></div><div class="fr-action-buttons"><button type="button" class="fr-command fr-submit" data-cmd="customColor" tabIndex="2" role="button">\'+E.language.translate("OK")+"</button></div></div>");var b,t={buttons:e,text_colors:s("text"),background_colors:s("background"),custom_color:r},a=E.popups.create("colors.picker",t);return b=a,E.events.on("popup.tab",function(o){var e=C(o.currentTarget);if(!E.popups.isVisible("colors.picker")||!e.is("span"))return!0;var r=o.which,t=!0;if(C.FE.KEYCODE.TAB==r){var a=b.find(".fr-buttons");t=!E.accessibility.focusToolbar(a,!!o.shiftKey)}else if(C.FE.KEYCODE.ARROW_UP==r||C.FE.KEYCODE.ARROW_DOWN==r||C.FE.KEYCODE.ARROW_LEFT==r||C.FE.KEYCODE.ARROW_RIGHT==r){if(e.is("span.fr-select-color")){var s=e.parent().find("span.fr-select-color"),l=s.index(e),c=E.opts.colorsStep,n=Math.floor(s.length/c),i=l%c,p=Math.floor(l/c),u=p*c+i,d=n*c;C.FE.KEYCODE.ARROW_UP==r?u=((u-c)%d+d)%d:C.FE.KEYCODE.ARROW_DOWN==r?u=(u+c)%d:C.FE.KEYCODE.ARROW_LEFT==r?u=((u-1)%d+d)%d:C.FE.KEYCODE.ARROW_RIGHT==r&&(u=(u+1)%d);var f=C(s.get(u));E.events.disableBlur(),f.focus(),t=!1}}else C.FE.KEYCODE.ENTER==r&&(E.button.exec(e),t=!1);return!1===t&&(o.preventDefault(),o.stopPropagation()),t},!0),a}()),!e.hasClass("fr-active"))if(E.popups.setContainer("colors.picker",E.$tb),a(e.find(".fr-selected-tab").attr("data-param1")),o.is(":visible")){var r=o.offset().left+o.outerWidth()/2,t=o.offset().top+(E.opts.toolbarBottom?10:o.outerHeight()-10);E.popups.show("colors.picker",r,t,o.outerHeight())}else E.position.forSelection(e),E.popups.show("colors.picker")},hideColorsPopup:e,changeSet:function(o,e){o.hasClass("fr-selected-tab")||(o.siblings().removeClass("fr-selected-tab").attr("aria-pressed",!1),o.addClass("fr-selected-tab").attr("aria-pressed",!0),o.parents(".fr-popup").find(".fr-color-set").removeClass("fr-selected-set"),o.parents(".fr-popup").find(".fr-color-set.fr-"+e+"-color").addClass("fr-selected-set"),a(e)),E.accessibility.focusPopup(o.parents(".fr-popup"))},background:t,customColor:function(){var o=E.popups.get("colors.picker"),e=o.find(".fr-color-hex-layer input");if(e.length){var r=e.val();"background"==o.find(".fr-selected-tab").attr("data-param1")?t(r):l(r)}},text:l,back:function(){E.popups.hide("colors.picker"),E.toolbar.showInline()}}},C.FE.DefineIcon("colors",{NAME:"tint"}),C.FE.RegisterCommand("color",{title:"Colors",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("colors.picker")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("colors.picker")):this.colors.showColorsPopup()},plugin:"colors"}),C.FE.RegisterCommand("textColor",{undo:!0,callback:function(o,e){this.colors.text(e)}}),C.FE.RegisterCommand("backgroundColor",{undo:!0,callback:function(o,e){this.colors.background(e)}}),C.FE.RegisterCommand("colorChangeSet",{undo:!1,focus:!1,callback:function(o,e){var r=this.popups.get("colors.picker").find(\'.fr-command[data-cmd="\'+o+\'"][data-param1="\'+e+\'"]\');this.colors.changeSet(r,e)}}),C.FE.DefineIcon("colorsBack",{NAME:"arrow-left"}),C.FE.RegisterCommand("colorsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.colors.back()}}),C.FE.RegisterCommand("customColor",{title:"OK",undo:!0,callback:function(){this.colors.customColor()}}),C.FE.DefineIcon("remove",{NAME:"eraser"})});'},function(e,t,n){n(6)(n(299))},function(e,t){e.exports="/*\n * Slim v4.11.1 - Image Cropping Made Easy\n * Copyright (c) 2017 Rik Schennink - http://slimimagecropper.com\n */\n(function(root, undefined){\n\n    // no root, what?\n    if (!root) {\n        return;\n    }\n\n    // Slim lib\n    root.Slim = (function() {\n\n// custom event polyfill for IE10\n(function() {\n\tif ( typeof window.CustomEvent === 'function' ) return false;\n\n\tfunction CustomEvent ( event, params ) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\tvar evt = document.createEvent( 'CustomEvent' );\n\t\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t\treturn evt;\n\t}\n\n\tCustomEvent.prototype = window.Event.prototype;\n\n\twindow.CustomEvent = CustomEvent;\n})();\n/*\n* JavaScript Load Image\n* https://github.com/blueimp/JavaScript-Load-Image\n*\n* Copyright 2011, Sebastian Tschan\n* https://blueimp.net\n*\n* Licensed under the MIT license:\n* http://www.opensource.org/licenses/MIT\n*/\n\n/*global define, module, window, document, URL, webkitURL, FileReader */\n\n// Loads an image for a given File object.\n// Invokes the callback with an img or optional canvas\n// element (if supported by the browser) as parameter:\nvar loadImage = function (file, callback, options) {\n    var img = document.createElement('img')\n    var url\n    var oUrl\n    img.onerror = callback\n    img.onload = function () {\n        if (oUrl && !(options && options.noRevoke)) {\n            loadImage.revokeObjectURL(oUrl)\n        }\n        if (callback) {\n            callback(loadImage.scale(img, options))\n        }\n    }\n    if (loadImage.isInstanceOf('Blob', file) ||\n        // Files are also Blob instances, but some browsers\n        // (Firefox 3.6) support the File API but not Blobs:\n        loadImage.isInstanceOf('File', file)) {\n        url = oUrl = loadImage.createObjectURL(file)\n        // Store the file type for resize processing:\n        img._type = file.type\n    } else if (typeof file === 'string') {\n        url = file\n        if (options && options.crossOrigin) {\n            img.crossOrigin = options.crossOrigin\n        }\n    } else {\n        return false\n\t}\n    if (url) {\n        img.src = url\n        return img\n    }\n    return loadImage.readFile(file, function (e) {\n        var target = e.target\n        if (target && target.result) {\n            img.src = target.result\n        } else {\n            if (callback) {\n                callback(e)\n            }\n        }\n    })\n}\n// The check for URL.revokeObjectURL fixes an issue with Opera 12,\n// which provides URL.createObjectURL but doesn't properly implement it:\nvar urlAPI = (window.createObjectURL && window) ||\n    (window.URL && URL.revokeObjectURL && URL) ||\n    (window.webkitURL && webkitURL)\n\nloadImage.isInstanceOf = function (type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n}\n\n// Transform image coordinates, allows to override e.g.\n// the canvas orientation based on the orientation option,\n// gets canvas, options passed as arguments:\nloadImage.transformCoordinates = function () {\n    return\n}\n\n// Returns transformed options, allows to override e.g.\n// maxWidth, maxHeight and crop options based on the aspectRatio.\n// gets img, options passed as arguments:\nloadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n        return options\n    }\n    newOptions = {}\n    for (i in options) {\n        if (options.hasOwnProperty(i)) {\n            newOptions[i] = options[i]\n        }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n        newOptions.maxWidth = height * aspectRatio\n        newOptions.maxHeight = height\n    } else {\n        newOptions.maxWidth = width\n        newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n}\n\n// Canvas render method, allows to implement a different rendering algorithm:\nloadImage.renderImageToCanvas = function (\n    canvas,\n    img,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destX,\n    destY,\n    destWidth,\n    destHeight\n) {\n    canvas.getContext('2d').drawImage(\n        img,\n        sourceX,\n        sourceY,\n        sourceWidth,\n        sourceHeight,\n        destX,\n        destY,\n        destWidth,\n        destHeight\n    )\n    return canvas\n}\n\n// This method is used to determine if the target image\n// should be a canvas element:\nloadImage.hasCanvasOption = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n}\n\n// Scales and/or crops the given image (img or canvas HTML element)\n// using the given options.\n// Returns a canvas object if the browser supports canvas\n// and the hasCanvasOption method returns true or a canvas\n// object is passed as image, else the scaled image:\nloadImage.scale = function (img, options) {\n    options = options || {}\n    var canvas = document.createElement('canvas')\n    var useCanvas = img.getContext ||\n        (loadImage.hasCanvasOption(options) && canvas.getContext)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    function scaleUp () {\n        var scale = Math.max(\n            (minWidth || destWidth) / destWidth,\n            (minHeight || destHeight) / destHeight\n        )\n        if (scale > 1) {\n            destWidth *= scale\n            destHeight *= scale\n        }\n    }\n    function scaleDown () {\n        var scale = Math.min(\n            (maxWidth || destWidth) / destWidth,\n            (maxHeight || destHeight) / destHeight\n        )\n        if (scale < 1) {\n            destWidth *= scale\n            destHeight *= scale\n        }\n    }\n    if (useCanvas) {\n        options = loadImage.getTransformedOptions(img, options)\n        sourceX = options.left || 0\n        sourceY = options.top || 0\n        if (options.sourceWidth) {\n            sourceWidth = options.sourceWidth\n            if (options.right !== undefined && options.left === undefined) {\n                sourceX = width - sourceWidth - options.right\n            }\n        } else {\n            sourceWidth = width - sourceX - (options.right || 0)\n        }\n        if (options.sourceHeight) {\n            sourceHeight = options.sourceHeight\n            if (options.bottom !== undefined && options.top === undefined) {\n                sourceY = height - sourceHeight - options.bottom\n            }\n        } else {\n            sourceHeight = height - sourceY - (options.bottom || 0)\n        }\n        destWidth = sourceWidth\n        destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n        destWidth = maxWidth\n        destHeight = maxHeight\n        tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n        if (tmp < 0) {\n            sourceHeight = maxHeight * sourceWidth / maxWidth\n            if (options.top === undefined && options.bottom === undefined) {\n                sourceY = (height - sourceHeight) / 2\n            }\n        } else if (tmp > 0) {\n            sourceWidth = maxWidth * sourceHeight / maxHeight\n            if (options.left === undefined && options.right === undefined) {\n                sourceX = (width - sourceWidth) / 2\n            }\n        }\n    } else {\n        if (options.contain || options.cover) {\n            minWidth = maxWidth = maxWidth || minWidth\n            minHeight = maxHeight = maxHeight || minHeight\n        }\n        if (options.cover) {\n            scaleDown()\n            scaleUp()\n        } else {\n            scaleUp()\n            scaleDown()\n        }\n    }\n    if (useCanvas) {\n        pixelRatio = options.pixelRatio\n        if (pixelRatio > 1) {\n            canvas.style.width = destWidth + 'px'\n            canvas.style.height = destHeight + 'px'\n            destWidth *= pixelRatio\n            destHeight *= pixelRatio\n            canvas.getContext('2d').scale(pixelRatio, pixelRatio)\n        }\n        downsamplingRatio = options.downsamplingRatio\n        if (downsamplingRatio > 0 && downsamplingRatio < 1 &&\n            destWidth < sourceWidth && destHeight < sourceHeight) {\n            while (sourceWidth * downsamplingRatio > destWidth) {\n                canvas.width = sourceWidth * downsamplingRatio\n                canvas.height = sourceHeight * downsamplingRatio\n                loadImage.renderImageToCanvas(\n                    canvas,\n                    img,\n                    sourceX,\n                    sourceY,\n                    sourceWidth,\n                    sourceHeight,\n                    0,\n                    0,\n                    canvas.width,\n                    canvas.height\n                )\n                sourceWidth = canvas.width\n                sourceHeight = canvas.height\n                img = document.createElement('canvas')\n                img.width = sourceWidth\n                img.height = sourceHeight\n                loadImage.renderImageToCanvas(\n                    img,\n                    canvas,\n                    0,\n                    0,\n                    sourceWidth,\n                    sourceHeight,\n                    0,\n                    0,\n                    sourceWidth,\n                    sourceHeight\n                )\n            }\n        }\n        canvas.width = destWidth\n        canvas.height = destHeight\n        loadImage.transformCoordinates(\n            canvas,\n            options\n        )\n        return loadImage.renderImageToCanvas(\n            canvas,\n            img,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            destWidth,\n            destHeight\n        )\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n}\n\nloadImage.createObjectURL = function (file) {\n    return urlAPI ? urlAPI.createObjectURL(file) : false\n}\n\nloadImage.revokeObjectURL = function (url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n}\n\n// Loads a given File object via FileReader interface,\n// invokes the callback with the event object (load or error).\n// The result can be read via event.target.result:\nloadImage.readFile = function (file, callback, method) {\n    if (window.FileReader) {\n        var fileReader = new FileReader()\n        fileReader.onload = fileReader.onerror = callback\n        method = method || 'readAsDataURL'\n        if (fileReader[method]) {\n            fileReader[method](file)\n            return fileReader\n        }\n    }\n    return false\n}\n\nvar originalHasCanvasOption = loadImage.hasCanvasOption\nvar originalTransformCoordinates = loadImage.transformCoordinates\nvar originalGetTransformedOptions = loadImage.getTransformedOptions\n\n// This method is used to determine if the target image\n// should be a canvas element:\nloadImage.hasCanvasOption = function (options) {\n    return !!options.orientation ||\n        originalHasCanvasOption.call(loadImage, options)\n}\n\n// Transform image orientation based on\n// the given EXIF orientation option:\nloadImage.transformCoordinates = function (canvas, options) {\n    originalTransformCoordinates.call(loadImage, canvas, options)\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var styleWidth = canvas.style.width\n    var styleHeight = canvas.style.height\n    var orientation = options.orientation\n    if (!orientation || orientation > 8) {\n        return\n    }\n    if (orientation > 4) {\n        canvas.width = height\n        canvas.height = width\n        canvas.style.width = styleHeight\n        canvas.style.height = styleWidth\n    }\n    switch (orientation) {\n        case 2:\n            // horizontal flip\n            ctx.translate(width, 0)\n            ctx.scale(-1, 1)\n            break\n        case 3:\n            // 180 rotate left\n            ctx.translate(width, height)\n            ctx.rotate(Math.PI)\n            break\n        case 4:\n            // vertical flip\n            ctx.translate(0, height)\n            ctx.scale(1, -1)\n            break\n        case 5:\n            // vertical flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.scale(1, -1)\n            break\n        case 6:\n            // 90 rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.translate(0, -height)\n            break\n        case 7:\n            // horizontal flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI)\n            ctx.translate(width, -height)\n            ctx.scale(-1, 1)\n            break\n        case 8:\n            // 90 rotate left\n            ctx.rotate(-0.5 * Math.PI)\n            ctx.translate(-width, 0)\n            break\n    }\n}\n\n// Transforms coordinate and dimension options\n// based on the given orientation option:\nloadImage.getTransformedOptions = function (img, opts) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var orientation = options.orientation\n    var newOptions\n    var i\n    if (!orientation || orientation > 8 || orientation === 1) {\n        return options\n    }\n    newOptions = {}\n    for (i in options) {\n        if (options.hasOwnProperty(i)) {\n            newOptions[i] = options[i]\n        }\n    }\n    switch (options.orientation) {\n        case 2:\n            // horizontal flip\n            newOptions.left = options.right\n            newOptions.right = options.left\n            break\n        case 3:\n            // 180 rotate left\n            newOptions.left = options.right\n            newOptions.top = options.bottom\n            newOptions.right = options.left\n            newOptions.bottom = options.top\n            break\n        case 4:\n            // vertical flip\n            newOptions.top = options.bottom\n            newOptions.bottom = options.top\n            break\n        case 5:\n            // vertical flip + 90 rotate right\n            newOptions.left = options.top\n            newOptions.top = options.left\n            newOptions.right = options.bottom\n            newOptions.bottom = options.right\n            break\n        case 6:\n            // 90 rotate right\n            newOptions.left = options.top\n            newOptions.top = options.right\n            newOptions.right = options.bottom\n            newOptions.bottom = options.left\n            break\n        case 7:\n            // horizontal flip + 90 rotate right\n            newOptions.left = options.bottom\n            newOptions.top = options.right\n            newOptions.right = options.top\n            newOptions.bottom = options.left\n            break\n        case 8:\n            // 90 rotate left\n            newOptions.left = options.bottom\n            newOptions.top = options.left\n            newOptions.right = options.top\n            newOptions.bottom = options.right\n            break\n    }\n    if (options.orientation > 4) {\n        newOptions.maxWidth = options.maxHeight\n        newOptions.maxHeight = options.maxWidth\n        newOptions.minWidth = options.minHeight\n        newOptions.minHeight = options.minWidth\n        newOptions.sourceWidth = options.sourceHeight\n        newOptions.sourceHeight = options.sourceWidth\n    }\n    return newOptions\n}\n\nvar hasblobSlice = window.Blob && (Blob.prototype.slice ||\n    Blob.prototype.webkitSlice || Blob.prototype.mozSlice)\n\nloadImage.blobSlice = hasblobSlice && function () {\n        var slice = this.slice || this.webkitSlice || this.mozSlice\n        return slice.apply(this, arguments)\n    }\n\nloadImage.metaDataParsers = {\n    jpeg: {\n        0xffe1: [] // APP1 marker\n    }\n}\n\n// Parses image meta data and calls the callback with an object argument\n// with the following properties:\n// * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\n// The options arguments accepts an object and supports the following properties:\n// * maxMetaDataSize: Defines the maximum number of bytes to parse.\n// * disableImageHead: Disables creating the imageHead property.\nloadImage.parseMetaData = function (file, callback, options) {\n    options = options || {}\n    var that = this\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\n    var maxMetaDataSize = options.maxMetaDataSize || 262144\n    var data = {}\n    var noMetaData = !(window.DataView && file && file.size >= 12 &&\n    file.type === 'image/jpeg' && loadImage.blobSlice)\n    if (noMetaData || !loadImage.readFile(\n            loadImage.blobSlice.call(file, 0, maxMetaDataSize),\n            function (e) {\n                if (e.target.error) {\n                    // FileReader error\n                    //console.log(e.target.error)\n                    callback(data)\n                    return\n                }\n                // Note on endianness:\n                // Since the marker and length bytes in JPEG files are always\n                // stored in big endian order, we can leave the endian parameter\n                // of the DataView methods undefined, defaulting to big endian.\n                var buffer = e.target.result\n                var dataView = new DataView(buffer)\n                var offset = 2\n                var maxOffset = dataView.byteLength - 4\n                var headLength = offset\n                var markerBytes\n                var markerLength\n                var parsers\n                var i\n                // Check for the JPEG marker (0xffd8):\n                if (dataView.getUint16(0) === 0xffd8) {\n                    while (offset < maxOffset) {\n                        markerBytes = dataView.getUint16(offset)\n                        // Search for APPn (0xffeN) and COM (0xfffe) markers,\n                        // which contain application-specific meta-data like\n                        // Exif, ICC and IPTC data and text comments:\n                        if ((markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                            markerBytes === 0xfffe) {\n                            // The marker bytes (2) are always followed by\n                            // the length bytes (2), indicating the length of the\n                            // marker segment, which includes the length bytes,\n                            // but not the marker bytes, so we add 2:\n                            markerLength = dataView.getUint16(offset + 2) + 2\n                            if (offset + markerLength > dataView.byteLength) {\n                                //console.log('Invalid meta data: Invalid segment size.')\n                                break\n                            }\n                            parsers = loadImage.metaDataParsers.jpeg[markerBytes]\n                            if (parsers) {\n                                for (i = 0; i < parsers.length; i += 1) {\n                                    parsers[i].call(\n                                        that,\n                                        dataView,\n                                        offset,\n                                        markerLength,\n                                        data,\n                                        options\n                                    )\n                                }\n                            }\n                            offset += markerLength\n                            headLength = offset\n                        } else {\n                            // Not an APPn or COM marker, probably safe to\n                            // assume that this is the end of the meta data\n                            break\n                        }\n                    }\n                    // Meta length must be longer than JPEG marker (2)\n                    // plus APPn marker (2), followed by length bytes (2):\n                    if (!options.disableImageHead && headLength > 6) {\n                        if (buffer.slice) {\n                            data.imageHead = buffer.slice(0, headLength)\n                        } else {\n                            // Workaround for IE10, which does not yet\n                            // support ArrayBuffer.slice:\n                            data.imageHead = new Uint8Array(buffer)\n                                .subarray(0, headLength)\n                        }\n                    }\n                } else {\n                    //console.log('Invalid JPEG file: Missing JPEG marker.')\n                }\n                callback(data)\n            },\n            'readAsArrayBuffer'\n        )) {\n        callback(data)\n    }\n}\n\nloadImage.ExifMap = function () {\n    return this\n}\n\nloadImage.ExifMap.prototype.map = {\n    'Orientation': 0x0112\n}\n\nloadImage.ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n}\n\nloadImage.getExifThumbnail = function (dataView, offset, length) {\n    var hexData,\n        i,\n        b\n    if (!length || offset + length > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid thumbnail data.')\n        return\n    }\n    hexData = []\n    for (i = 0; i < length; i += 1) {\n        b = dataView.getUint8(offset + i)\n        hexData.push((b < 16 ? '0' : '') + b.toString(16))\n    }\n    return 'data:image/jpeg,%' + hexData.join('%')\n}\n\nloadImage.exifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n        getValue: function (dataView, dataOffset) {\n            return dataView.getUint8(dataOffset)\n        },\n        size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n        getValue: function (dataView, dataOffset) {\n            return String.fromCharCode(dataView.getUint8(dataOffset))\n        },\n        size: 1,\n        ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint16(dataOffset, littleEndian)\n        },\n        size: 2\n    },\n    // long, 32 bit int:\n    4: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint32(dataOffset, littleEndian)\n        },\n        size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getUint32(dataOffset, littleEndian) /\n                dataView.getUint32(dataOffset + 4, littleEndian)\n        },\n        size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getInt32(dataOffset, littleEndian)\n        },\n        size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n        getValue: function (dataView, dataOffset, littleEndian) {\n            return dataView.getInt32(dataOffset, littleEndian) /\n                dataView.getInt32(dataOffset + 4, littleEndian)\n        },\n        size: 8\n    }\n}\n// undefined, 8-bit byte, value depending on field:\nloadImage.exifTagTypes[7] = loadImage.exifTagTypes[1]\n\nloadImage.getExifValue = function (dataView, tiffOffset, offset, type, length, littleEndian) {\n    var tagType = loadImage.exifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n        //console.log('Invalid Exif data: Invalid tag type.')\n        return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset = tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : (offset + 8)\n    if (dataOffset + tagSize > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid data offset.')\n        return\n    }\n    if (length === 1) {\n        return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n        values[i] = tagType.getValue(dataView, dataOffset + i * tagType.size, littleEndian)\n    }\n    if (tagType.ascii) {\n        str = ''\n        // Concatenate the chars:\n        for (i = 0; i < values.length; i += 1) {\n            c = values[i]\n            // Ignore the terminating NULL byte(s):\n            if (c === '\\u0000') {\n                break\n            }\n            str += c\n        }\n        return str\n    }\n    return values\n}\n\nloadImage.parseExifTag = function (dataView, tiffOffset, offset, littleEndian, data) {\n    var tag = dataView.getUint16(offset, littleEndian)\n    data.exif[tag] = loadImage.getExifValue(\n        dataView,\n        tiffOffset,\n        offset,\n        dataView.getUint16(offset + 2, littleEndian), // tag type\n        dataView.getUint32(offset + 4, littleEndian), // tag length\n        littleEndian\n    )\n}\n\nloadImage.parseExifTags = function (dataView, tiffOffset, dirOffset, littleEndian, data) {\n    var tagsNumber,\n        dirEndOffset,\n        i\n    if (dirOffset + 6 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid directory offset.')\n        return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid directory size.')\n        return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n        this.parseExifTag(\n            dataView,\n            tiffOffset,\n            dirOffset + 2 + 12 * i, // tag offset\n            littleEndian,\n            data\n        )\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n}\n\nloadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n        return\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var thumbnailData\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n        // No Exif data, might be XMP data instead\n        return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n        //console.log('Invalid Exif data: Invalid segment size.')\n        return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n        //console.log('Invalid Exif data: Missing byte alignment offset.')\n        return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n        case 0x4949:\n            littleEndian = true\n            break\n        case 0x4D4D:\n            littleEndian = false\n            break\n        default:\n            //console.log('Invalid Exif data: Invalid byte alignment marker.')\n            return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002A) {\n        //console.log('Invalid Exif data: Missing TIFF marker.')\n        return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new loadImage.ExifMap()\n    // Parse the tags of the main image directory and retrieve the\n    // offset to the next directory, usually the thumbnail directory:\n    dirOffset = loadImage.parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data\n    )\n    if (dirOffset && !options.disableExifThumbnail) {\n        thumbnailData = {exif: {}}\n        dirOffset = loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + dirOffset,\n            littleEndian,\n            thumbnailData\n        )\n        // Check for JPEG Thumbnail offset:\n        if (thumbnailData.exif[0x0201]) {\n            data.exif.Thumbnail = loadImage.getExifThumbnail(\n                dataView,\n                tiffOffset + thumbnailData.exif[0x0201],\n                thumbnailData.exif[0x0202] // Thumbnail data length\n            )\n        }\n    }\n    // Check for Exif Sub IFD Pointer:\n    if (data.exif[0x8769] && !options.disableExifSub) {\n        loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + data.exif[0x8769], // directory offset\n            littleEndian,\n            data\n        )\n    }\n    // Check for GPS Info IFD Pointer:\n    if (data.exif[0x8825] && !options.disableExifGps) {\n        loadImage.parseExifTags(\n            dataView,\n            tiffOffset,\n            tiffOffset + data.exif[0x8825], // directory offset\n            littleEndian,\n            data\n        )\n    }\n}\n\n// Registers the Exif parser for the APP1 JPEG meta data segment:\nloadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\nvar snabbt = (function() {\n\nvar tickRequests = [];\nvar runningAnimations = [];\nvar completedAnimations = [];\nvar transformProperty = 'transform';\n\n// Find which vendor prefix to use\nvar styles = window.getComputedStyle(document.documentElement, '');\nvar vendorPrefix = (Array.prototype.slice\n  .call(styles)\n  .join('') \n  .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n)[1];\nif(vendorPrefix === 'webkit')\ntransformProperty = 'webkitTransform';\n\n/* Entry point, only function to be called by user */\nvar snabbt = function(arg1, arg2, arg3) {\n\nvar elements = arg1;\n\n// If argument is an Array or a NodeList or other list type that can be iterable.\n// Loop through and start one animation for each element.\nif(elements.length !== undefined) {\n  var aggregateChainer = {\n    chainers: [],\n    then: function(opts) {\n      return this.snabbt(opts);\n    },\n    snabbt: function(opts) {\n      var len = this.chainers.length;\n      this.chainers.forEach(function(chainer, index) {\n        chainer.snabbt(preprocessOptions(opts, index, len));\n      });\n      return aggregateChainer;\n    },\n    setValue: function(value) {\n      this.chainers.forEach(function(chainer) {\n        chainer.setValue(value);\n      });\n      return aggregateChainer;\n    },\n    finish: function() {\n      this.chainers.forEach(function(chainer) {\n        chainer.finish();\n      });\n      return aggregateChainer;\n    },\n    rollback: function() {\n      this.chainers.forEach(function(chainer) {\n        chainer.rollback();\n      });\n      return aggregateChainer;\n    }\n  };\n\n  for(var i=0, len=elements.length;i<len;++i) {\n    if(typeof arg2 == 'string')\n      aggregateChainer.chainers.push(snabbtSingleElement(elements[i], arg2, preprocessOptions(arg3, i, len)));\n    else\n      aggregateChainer.chainers.push(snabbtSingleElement(elements[i], preprocessOptions(arg2, i, len), arg3));\n  }\n  return aggregateChainer;\n} else {\n  if(typeof arg2 == 'string')\n    return snabbtSingleElement(elements, arg2, preprocessOptions(arg3, 0, 1));\n  else\n    return snabbtSingleElement(elements, preprocessOptions(arg2, 0, 1), arg3);\n}\n};\n\nvar preprocessOptions = function(options, index, len) {\nif(!options)\n  return options;\nvar clone = cloneObject(options);\n\nif(isFunction(options.delay)) {\n  clone.delay = options.delay(index, len);\n}\n\nif(isFunction(options.callback)) {\n  clone.complete = function() {\n    options.callback.call(this, index, len);\n  };\n}\n\nvar hasAllDoneCallback = isFunction(options.allDone);\nvar hasCompleteCallback = isFunction(options.complete);\n\nif(hasCompleteCallback || hasAllDoneCallback) {\n  clone.complete = function() {\n    if(hasCompleteCallback) {\n      options.complete.call(this, index, len);\n    }\n    if(hasAllDoneCallback && (index == len - 1)) {\n      options.allDone();\n    }\n  };\n}\n\nif(isFunction(options.valueFeeder)) {\n  clone.valueFeeder = function(i, matrix) {\n    return options.valueFeeder(i, matrix, index, len);\n  };\n}\nif(isFunction(options.easing)) {\n  clone.easing = function(i) {\n    return options.easing(i, index, len);\n  };\n}\n\nvar properties = [\n  'position',\n  'rotation',\n  'skew',\n  'rotationPost',\n  'scale',\n  'width',\n  'height',\n  'opacity',\n  'fromPosition',\n  'fromRotation',\n  'fromSkew',\n  'fromRotationPost',\n  'fromScale',\n  'fromWidth',\n  'fromHeight',\n  'fromOpacity',\n  'transformOrigin',\n  'duration',\n  'delay'\n];\n\nproperties.forEach(function(property) {\n  if(isFunction(options[property])) {\n    clone[property] = options[property](index, len);\n  }\n});\n\nreturn clone;\n};\n\nvar snabbtSingleElement = function(element, arg2, arg3) {\n\nif(arg2 === 'attention') {\n  return setupAttentionAnimation(element, arg3);\n}\n\nif(arg2 === 'stop') {\n  return stopAnimation(element);\n}\n\nif(arg2 === 'detach') {\n  return detachChildren(element);\n}\n\nvar options = arg2;\n\n// Remove orphaned end states\nclearOphanedEndStates();\n\n// If there is a running or past completed animation with element, use that end state as start state\nvar currentState = currentAnimationState(element);\nvar start = currentState;\n// from has precendance over current animation state\nstart = stateFromOptions(options, start, true);\nvar end = cloneObject(currentState);\nend = stateFromOptions(options, end);\n\nvar animOptions = setupAnimationOptions(start, end, options);\nvar animation = createAnimation(animOptions);\n\nrunningAnimations.push([element, animation]);\n\nanimation.updateElement(element, true);\nvar queue = [];\nvar chainer = {\n  snabbt: function(opts) {\n    queue.unshift(preprocessOptions(opts, 0, 1));\n    return chainer;\n  },\n  then: function(opts) {\n    return this.snabbt(opts);\n  }\n};\n\nfunction tick(time) {\n  animation.tick(time);\n  animation.updateElement(element);\n  if(animation.isStopped())\n    return;\n\n  if(!animation.completed())\n    return queueTick(tick);\n\n  if(options.loop > 1 && !animation.isStopped()) {\n    // Loop current animation\n    options.loop -= 1;\n    animation.restart();\n    queueTick(tick);\n  } else {\n    if(options.complete) {\n      options.complete.call(element);\n    }\n\n    // Start next animation in queue\n    if(queue.length) {\n      options = queue.pop();\n\n      start = stateFromOptions(options, end, true);\n      end = stateFromOptions(options, cloneObject(end));\n      options = setupAnimationOptions(start, end, options);\n\n      animation = createAnimation(options);\n      runningAnimations.push([element, animation]);\n\n      animation.tick(time);\n      queueTick(tick);\n    }\n  }\n}\n\nqueueTick(tick);\n// Manual animations are not chainable, instead an animation controller object is returned\n// with setValue, finish and rollback methods\nif(options.manual)\n  return animation;\nreturn chainer;\n};\n\nvar setupAttentionAnimation = function(element,  options) {\nvar movement = stateFromOptions(options, createState({}));\noptions.movement = movement;\nvar animation = createAttentionAnimation(options);\n\nrunningAnimations.push([element, animation]);\nfunction tick(time) {\n  animation.tick(time);\n  animation.updateElement(element);\n  if(!animation.completed()) {\n    queueTick(tick);\n  } else {\n    if(options.callback) {\n      options.callback(element);\n    }\n    if(options.loop && options.loop > 1) {\n      options.loop--;\n      animation.restart();\n      queueTick(tick);\n    }\n  }\n}\nqueueTick(tick);\n};\n\nvar stopAnimation = function(element) {\nfor(var i= 0,len=runningAnimations.length;i<len;++i) {\n  var currentAnimation = runningAnimations[i];\n  var animatedElement = currentAnimation[0];\n  var animation = currentAnimation[1];\n\n  if(animatedElement === element) {\n    animation.stop();\n  }\n}\n};\n\nvar indexOfElement = function(arr, element) {\n  for(var i=0,len=arr.length;i<len;++i) {\n    if (arr[i][0]===element) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nvar detachChildren = function(element) {\n\n  var elements = [];\n  var animations = runningAnimations.concat(completedAnimations);\n  var el;\n  var i;\n  var len = animations.length;\n\n  for(i=0;i<len;++i) {\n    el = animations[i][0];\n    if (element.contains(el) || element === el) {\n      elements.push(el);\n    }\n  }\n\n  len=elements.length;\n  for(i=0;i<len;++i) {\n    detachElement(elements[i]);\n  }\n\n};\n\nvar detachElement = function(element) {\n\n  // stop animations\n  stopAnimation(element);\n\n  // remove\n  var index = indexOfElement(runningAnimations, element);\n  if (index >= 0) {\n    runningAnimations.splice(index,1);\n  }\n\n  index = indexOfElement(completedAnimations, element);\n  if (index >= 0) {\n    completedAnimations.splice(index,1);\n  }\n\n};\n\nvar findAnimationState = function(animationList, element) {\nfor(var i=0,len=animationList.length;i<len;++i) {\n  var currentAnimation = animationList[i];\n  var animatedElement = currentAnimation[0];\n  var animation = currentAnimation[1];\n\n  if(animatedElement === element) {\n    var state = animation.getCurrentState();\n    animation.stop();\n    return state;\n  }\n}\n};\n\nvar clearOphanedEndStates = function() {\ncompletedAnimations = completedAnimations.filter(function(animation) {\n  return (findUltimateAncestor(animation[0]).body);\n});\n};\n\nvar findUltimateAncestor = function(node) {\nvar ancestor = node;\nwhile(ancestor.parentNode) {\n  ancestor = ancestor.parentNode;\n}\nreturn ancestor;\n};\n\n/**\n* Returns the current state of element if there is an ongoing or previously finished\n* animation releated to it. Will also call stop on the animation.\n* TODO: The stopping of the animation is better put somewhere else\n*/\nvar currentAnimationState = function(element) {\n// Check if a completed animation is stored for this element\nvar state = findAnimationState(runningAnimations, element);\nif(state)\n  return state;\n\nreturn findAnimationState(completedAnimations, element);\n};\n\n/**\n* Parses an animation configuration object and returns a State instance\n*/\nvar stateFromOptions = function(options, state, useFromPrefix) {\nif (!state) {\n  state = createState({\n    position: [0, 0, 0],\n    rotation: [0, 0, 0],\n    rotationPost: [0, 0, 0],\n    scale: [1, 1],\n    skew: [0, 0]\n  });\n}\nvar position = 'position';\nvar rotation = 'rotation';\nvar skew = 'skew';\nvar rotationPost = 'rotationPost';\nvar scale = 'scale';\nvar scalePost = 'scalePost';\nvar width = 'width';\nvar height = 'height';\nvar opacity = 'opacity';\n\nif(useFromPrefix) {\n  position = 'fromPosition';\n  rotation = 'fromRotation';\n  skew = 'fromSkew';\n  rotationPost = 'fromRotationPost';\n  scale = 'fromScale';\n  scalePost = 'fromScalePost';\n  width = 'fromWidth';\n  height = 'fromHeight';\n  opacity = 'fromOpacity';\n}\n\nstate.position = optionOrDefault(options[position], state.position);\nstate.rotation = optionOrDefault(options[rotation], state.rotation);\nstate.rotationPost = optionOrDefault(options[rotationPost], state.rotationPost);\nstate.skew = optionOrDefault(options[skew], state.skew);\nstate.scale = optionOrDefault(options[scale], state.scale);\nstate.scalePost = optionOrDefault(options[scalePost], state.scalePost);\nstate.opacity = options[opacity];\nstate.width = options[width];\nstate.height = options[height];\n\nreturn state;\n};\n\nvar setupAnimationOptions = function(start, end, options) {\noptions.startState = start;\noptions.endState = end;\nreturn options;\n};\n\nvar polyFillrAF = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) { return setTimeout(callback, 1000 / 60); }; \n\nvar queueTick = function(func) {\nif(tickRequests.length === 0)\n  polyFillrAF(tickAnimations);\ntickRequests.push(func);\n};\n\nvar tickAnimations = function(time) {\nvar len = tickRequests.length;\nfor(var i=0;i<len;++i) {\n  tickRequests[i](time);\n}\ntickRequests.splice(0, len);\n\nvar finishedAnimations = runningAnimations.filter(function(animation) {\n  return animation[1].completed();\n});\n\n// See if there are any previously completed animations on the same element, if so, remove it before merging\ncompletedAnimations = completedAnimations.filter(function(animation) {\n  for(var i=0,len=finishedAnimations.length;i<len;++i) {\n    if(animation[0] === finishedAnimations[i][0]) {\n      return false;\n    }\n  }\n  return true;\n});\n\ncompletedAnimations = completedAnimations.concat(finishedAnimations);\n\nrunningAnimations = runningAnimations.filter(function(animation) {\n  return !animation[1].completed();\n});\n\nif(tickRequests.length !== 0)\n  polyFillrAF(tickAnimations);\n};\n\n\n// Class for handling animation between two states\nvar createAnimation = function(options) {\nvar startState = options.startState;\nvar endState = options.endState;\nvar duration = optionOrDefault(options.duration, 500);\nvar delay = optionOrDefault(options.delay, 0);\nvar perspective = options.perspective;\nvar easing = createEaser(optionOrDefault(options.easing, 'linear'), options);\nvar currentState = duration === 0 ? endState.clone() : startState.clone();\nvar transformOrigin = options.transformOrigin;\ncurrentState.transformOrigin = options.transformOrigin;\n\nvar startTime = 0;\nvar currentTime = 0;\nvar stopped = false;\nvar started = false;\n\n// Manual related\nvar manual = options.manual;\nvar manualValue = 0;\nvar manualDelayFactor = delay / duration;\nvar manualCallback;\n\nvar tweener;\n// Setup tweener\nif(options.valueFeeder) {\n  tweener = createValueFeederTweener(options.valueFeeder,\n                                     startState,\n                                     endState,\n                                     currentState);\n} else {\n  tweener = createStateTweener(startState, endState, currentState);\n}\n\n// Public api\nreturn {\n  stop: function() {\n    stopped = true;\n  },\n  isStopped: function() {\n    return stopped;\n  },\n\n  finish: function(callback) {\n    manual = false;\n    var manualDuration = duration * manualValue;\n    startTime = currentTime - manualDuration;\n    manualCallback = callback;\n    easing.resetFrom = manualValue;\n  },\n\n  rollback: function(callback) {\n    manual = false;\n    tweener.setReverse();\n    var manualDuration = duration * (1 - manualValue);\n    startTime = currentTime - manualDuration;\n    manualCallback = callback;\n    easing.resetFrom = manualValue;\n  },\n\n  restart: function() {\n    // Restart timer\n    startTime = undefined;\n    easing.resetFrom(0);\n  },\n\n  tick: function(time) {\n    if(stopped)\n      return;\n\n    if(manual) {\n      currentTime = time;\n      this.updateCurrentTransform();\n      return;\n    }\n\n    // If first tick, set startTime\n    if(!startTime) {\n      startTime = time;\n    }\n    if(time - startTime > delay) {\n      started = true;\n      currentTime = time - delay;\n\n      var curr = Math.min(Math.max(0.0, currentTime - startTime), duration);\n      easing.tick(curr / duration);\n      this.updateCurrentTransform();\n      if(this.completed() && manualCallback) {\n        manualCallback();\n      }\n    }\n  },\n\n  getCurrentState: function() {\n    return currentState;\n  },\n\n  setValue: function(_manualValue) {\n    started = true;\n    manualValue = Math.min(Math.max(_manualValue, 0.0001), 1 + manualDelayFactor);\n  },\n\n  updateCurrentTransform: function() {\n    var tweenValue = easing.getValue();\n    if(manual) {\n      var val = Math.max(0.00001, manualValue - manualDelayFactor);\n      easing.tick(val);\n      tweenValue = easing.getValue();\n    }\n    tweener.tween(tweenValue);\n  },\n\n  completed: function() {\n    if(stopped)\n      return true;\n    if(startTime === 0) {\n      return false;\n    }\n    return easing.completed();\n  },\n\n  updateElement: function(element, forceUpdate) {\n    if(!started && !forceUpdate)\n      return;\n    var matrix = tweener.asMatrix();\n    var properties = tweener.getProperties();\n    updateElementTransform(element, matrix, perspective);\n    updateElementProperties(element, properties);\n  }\n};\n};\n\n// ------------------------------\n// End Time animation\n// ------------------------------\n\n// ------------------------\n// -- AttentionAnimation --\n// ------------------------\n\nvar createAttentionAnimation = function(options) {\nvar movement = options.movement;\noptions.initialVelocity = 0.1;\noptions.equilibriumPosition = 0;\nvar spring = createSpringEasing(options);\nvar stopped = false;\nvar tweenPosition = movement.position;\nvar tweenRotation = movement.rotation;\nvar tweenRotationPost = movement.rotationPost;\nvar tweenScale = movement.scale;\nvar tweenSkew = movement.skew;\n\nvar currentMovement = createState({\n  position: tweenPosition ? [0, 0, 0] : undefined,\n  rotation: tweenRotation ? [0, 0, 0] : undefined,\n  rotationPost: tweenRotationPost ? [0, 0, 0] : undefined,\n  scale: tweenScale ? [0, 0] : undefined,\n  skew: tweenSkew ? [0, 0] : undefined,\n});\n\n// Public API\nreturn {\n  stop: function() {\n    stopped = true;\n  },\n\n  isStopped: function(time) {\n    return stopped;\n  },\n\n  tick: function(time) {\n    if(stopped)\n      return;\n    if(spring.equilibrium)\n      return;\n    spring.tick();\n\n    this.updateMovement();\n  },\n\n  updateMovement:function() {\n    var value = spring.getValue();\n    if(tweenPosition) {\n      currentMovement.position[0] = movement.position[0] * value;\n      currentMovement.position[1] = movement.position[1] * value;\n      currentMovement.position[2] = movement.position[2] * value;\n    }\n    if(tweenRotation) {\n      currentMovement.rotation[0] = movement.rotation[0] * value;\n      currentMovement.rotation[1] = movement.rotation[1] * value;\n      currentMovement.rotation[2] = movement.rotation[2] * value;\n    }\n    if(tweenRotationPost) {\n      currentMovement.rotationPost[0] = movement.rotationPost[0] * value;\n      currentMovement.rotationPost[1] = movement.rotationPost[1] * value;\n      currentMovement.rotationPost[2] = movement.rotationPost[2] * value;\n    }\n    if(tweenScale) {\n      currentMovement.scale[0] = 1 + movement.scale[0] * value;\n      currentMovement.scale[1] = 1 + movement.scale[1] * value;\n    }\n\n    if(tweenSkew) {\n      currentMovement.skew[0] = movement.skew[0] * value;\n      currentMovement.skew[1] = movement.skew[1] * value;\n    }\n  },\n\n  updateElement: function(element) {\n    updateElementTransform(element, currentMovement.asMatrix());\n    updateElementProperties(element, currentMovement.getProperties());\n  },\n\n  getCurrentState: function() {\n    return currentMovement;\n  },\n\n  completed: function() {\n    return spring.equilibrium || stopped;\n  },\n\n  restart: function() {\n    // Restart spring\n    spring = createSpringEasing(options);\n  }\n};\n};\n\n\n/**********\n* Easings *\n***********/\n\nvar linearEasing = function(value) {\nreturn value;\n};\n\nvar ease = function(value) {\nreturn (Math.cos(value*Math.PI + Math.PI) + 1)/2;\n};\n\nvar easeIn = function(value) {\nreturn value*value;\n};\n\nvar easeOut = function(value) {\nreturn -Math.pow(value - 1, 2) + 1;\n};\n\nvar createSpringEasing = function(options) {\nvar position = optionOrDefault(options.startPosition, 0);\nvar equilibriumPosition = optionOrDefault(options.equilibriumPosition, 1);\nvar velocity = optionOrDefault(options.initialVelocity, 0);\nvar springConstant = optionOrDefault(options.springConstant, 0.8);\nvar deceleration = optionOrDefault(options.springDeceleration, 0.9);\nvar mass = optionOrDefault(options.springMass, 10);\n\nvar equilibrium = false;\n\n// Public API\nreturn {\n\n  tick: function(value) {\n    if(value === 0.0)\n      return;\n    if(equilibrium)\n      return;\n    var springForce = -(position - equilibriumPosition) * springConstant;\n    // f = m * a\n    // a = f / m\n    var a = springForce / mass;\n    // s = v * t\n    // t = 1 ( for now )\n    velocity += a;\n    position += velocity;\n\n    // Deceleration\n    velocity *= deceleration;\n\n    if(Math.abs(position - equilibriumPosition) < 0.001 && Math.abs(velocity) < 0.001) {\n      equilibrium = true;\n    }\n  },\n\n  resetFrom: function(value) {\n    position = value;\n    velocity = 0;\n  },\n\n\n  getValue: function() {\n    if(equilibrium)\n      return equilibriumPosition;\n    return position;\n  },\n\n  completed: function() {\n    return equilibrium;\n  }\n};\n};\n\nvar EASING_FUNCS = {\n'linear': linearEasing,\n'ease': ease,\n'easeIn': easeIn,\n'easeOut': easeOut,\n};\n\n\nvar createEaser = function(easerName, options) {\nif(easerName == 'spring') {\n  return createSpringEasing(options);\n}\nvar easeFunction = easerName;\nif(!isFunction(easerName)) {\n  easeFunction = EASING_FUNCS[easerName];\n}\n\nvar easer = easeFunction;\nvar value = 0;\nvar lastValue;\n\n// Public API\nreturn {\n  tick: function(v) {\n    value = easer(v);\n    lastValue = v;\n  },\n\n  resetFrom: function(value) {\n    lastValue = 0;\n  },\n\n  getValue: function() {\n    return value;\n  },\n\n  completed: function() {\n    if(lastValue >= 1) {\n      return lastValue;\n    }\n    return false;\n  }\n};\n};\n\n/***\n* Matrix related\n*/\n\nvar assignTranslate = function(matrix, x, y, z) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = x;\nmatrix[13] = y;\nmatrix[14] = z;\nmatrix[15] = 1;\n};\n\nvar assignRotateX = function(matrix, rad) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = Math.cos(rad);\nmatrix[6] = -Math.sin(rad);\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = Math.sin(rad);\nmatrix[10] = Math.cos(rad);\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\n\nvar assignRotateY = function(matrix, rad) {\nmatrix[0] = Math.cos(rad);\nmatrix[1] = 0;\nmatrix[2] = Math.sin(rad);\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = -Math.sin(rad);\nmatrix[9] = 0;\nmatrix[10] = Math.cos(rad);\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignRotateZ = function(matrix, rad) {\nmatrix[0] = Math.cos(rad);\nmatrix[1] = -Math.sin(rad);\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = Math.sin(rad);\nmatrix[5] = Math.cos(rad);\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignSkew = function(matrix, ax, ay) {\nmatrix[0] = 1;\nmatrix[1] = Math.tan(ax);\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = Math.tan(ay);\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\n\nvar assignScale = function(matrix, x, y) {\nmatrix[0] = x;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = y;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar assignIdentity = function(matrix) {\nmatrix[0] = 1;\nmatrix[1] = 0;\nmatrix[2] = 0;\nmatrix[3] = 0;\nmatrix[4] = 0;\nmatrix[5] = 1;\nmatrix[6] = 0;\nmatrix[7] = 0;\nmatrix[8] = 0;\nmatrix[9] = 0;\nmatrix[10] = 1;\nmatrix[11] = 0;\nmatrix[12] = 0;\nmatrix[13] = 0;\nmatrix[14] = 0;\nmatrix[15] = 1;\n};\n\nvar copyArray = function(a, b) {\nb[0] = a[0];\nb[1] = a[1];\nb[2] = a[2];\nb[3] = a[3];\nb[4] = a[4];\nb[5] = a[5];\nb[6] = a[6];\nb[7] = a[7];\nb[8] = a[8];\nb[9] = a[9];\nb[10] = a[10];\nb[11] = a[11];\nb[12] = a[12];\nb[13] = a[13];\nb[14] = a[14];\nb[15] = a[15];\n};\n\nvar createMatrix = function() {\nvar data = new Float32Array(16);\nvar a = new Float32Array(16);\nvar b = new Float32Array(16);\nassignIdentity(data);\n\nreturn {\n  data: data,\n\n  asCSS: function() {\n    var css = 'matrix3d(';\n    for(var i=0;i<15;++i) {\n      if(Math.abs(data[i]) < 0.0001)\n        css += '0,';\n      else\n        css += data[i].toFixed(10) + ',';\n    }\n    if(Math.abs(data[15]) < 0.0001)\n      css += '0)';\n    else\n      css += data[15].toFixed(10) + ')';\n    return css;\n  },\n\n  clear: function() {\n    assignIdentity(data);\n  },\n\n  translate: function(x, y, z) {\n    copyArray(data, a);\n    assignTranslate(b, x, y, z);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateX: function(radians) {\n    copyArray(data, a);\n    assignRotateX(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateY: function(radians) {\n    copyArray(data, a);\n    assignRotateY(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  rotateZ: function(radians) {\n    copyArray(data, a);\n    assignRotateZ(b, radians);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  scale: function(x, y) {\n    copyArray(data, a);\n    assignScale(b, x, y);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  },\n\n  skew: function(ax, ay) {\n    copyArray(data, a);\n    assignSkew(b, ax, ay);\n    assignedMatrixMultiplication(a, b, data);\n    return this;\n  }\n};\n};\n\nvar assignedMatrixMultiplication = function(a, b, res) {\n// Unrolled loop\nres[0] = a[0] * b[0] + a[1] * b[4] + a[2] * b[8] + a[3] * b[12];\nres[1] = a[0] * b[1] + a[1] * b[5] + a[2] * b[9] + a[3] * b[13];\nres[2] = a[0] * b[2] + a[1] * b[6] + a[2] * b[10] + a[3] * b[14];\nres[3] = a[0] * b[3] + a[1] * b[7] + a[2] * b[11] + a[3] * b[15];\n\nres[4] = a[4] * b[0] + a[5] * b[4] + a[6] * b[8] + a[7] * b[12];\nres[5] = a[4] * b[1] + a[5] * b[5] + a[6] * b[9] + a[7] * b[13];\nres[6] = a[4] * b[2] + a[5] * b[6] + a[6] * b[10] + a[7] * b[14];\nres[7] = a[4] * b[3] + a[5] * b[7] + a[6] * b[11] + a[7] * b[15];\n\nres[8] = a[8] * b[0] + a[9] * b[4] + a[10] * b[8] + a[11] * b[12];\nres[9] = a[8] * b[1] + a[9] * b[5] + a[10] * b[9] + a[11] * b[13];\nres[10] = a[8] * b[2] + a[9] * b[6] + a[10] * b[10] + a[11] * b[14];\nres[11] = a[8] * b[3] + a[9] * b[7] + a[10] * b[11] + a[11] * b[15];\n\nres[12] = a[12] * b[0] + a[13] * b[4] + a[14] * b[8] + a[15] * b[12];\nres[13] = a[12] * b[1] + a[13] * b[5] + a[14] * b[9] + a[15] * b[13];\nres[14] = a[12] * b[2] + a[13] * b[6] + a[14] * b[10] + a[15] * b[14];\nres[15] = a[12] * b[3] + a[13] * b[7] + a[14] * b[11] + a[15] * b[15];\n\nreturn res;\n};\n\nvar createState = function(config) {\n// Caching of matrix and properties so we don't have to create new ones everytime they are needed\nvar matrix = createMatrix();\nvar properties = {\n  opacity: undefined,\n  width: undefined,\n  height: undefined\n};\n\n// Public API\nreturn {\n  position: config.position,\n  rotation: config.rotation,\n  rotationPost: config.rotationPost,\n  skew: config.skew,\n  scale: config.scale,\n  scalePost: config.scalePost,\n  opacity: config.opacity,\n  width: config.width,\n  height: config.height,\n\n\n  clone: function() {\n    return createState({\n      position: this.position ? this.position.slice(0) : undefined,\n      rotation: this.rotation ? this.rotation.slice(0) : undefined,\n      rotationPost: this.rotationPost ? this.rotationPost.slice(0) : undefined,\n      skew: this.skew ? this.skew.slice(0) : undefined,\n      scale: this.scale ? this.scale.slice(0) : undefined,\n      scalePost: this.scalePost ? this.scalePost.slice(0) : undefined,\n      height: this.height,\n      width: this.width,\n      opacity: this.opacity\n    });\n  },\n\n  asMatrix: function() {\n    var m = matrix;\n    m.clear();\n\n    if(this.transformOrigin)\n      m.translate(-this.transformOrigin[0], -this.transformOrigin[1], -this.transformOrigin[2]);\n\n    if(this.scale) {\n      m.scale(this.scale[0], this.scale[1]);\n    }\n\n    if(this.skew) {\n      m.skew(this.skew[0], this.skew[1]);\n    }\n\n    if(this.rotation) {\n      m.rotateX(this.rotation[0]);\n      m.rotateY(this.rotation[1]);\n      m.rotateZ(this.rotation[2]);\n    }\n\n    if(this.position) {\n      m.translate(this.position[0], this.position[1], this.position[2]);\n    }\n\n    if(this.rotationPost) {\n      m.rotateX(this.rotationPost[0]);\n      m.rotateY(this.rotationPost[1]);\n      m.rotateZ(this.rotationPost[2]);\n    }\n\n    if(this.scalePost) {\n      m.scale(this.scalePost[0], this.scalePost[1]);\n    }\n\n    if(this.transformOrigin)\n      m.translate(this.transformOrigin[0], this.transformOrigin[1], this.transformOrigin[2]);\n    return m;\n  },\n\n  getProperties: function() {\n    properties.opacity = this.opacity;\n    properties.width = this.width + 'px';\n    properties.height = this.height + 'px';\n    return properties;\n  }\n};\n};\n// ------------------\n// -- StateTweener -- \n// -------------------\n\nvar createStateTweener = function(startState, endState, resultState) {\nvar start = startState;\nvar end = endState;\nvar result = resultState;\n\nvar tweenPosition = end.position !== undefined;\nvar tweenRotation = end.rotation !== undefined;\nvar tweenRotationPost = end.rotationPost !== undefined;\nvar tweenScale = end.scale !== undefined;\nvar tweenSkew = end.skew !== undefined;\nvar tweenWidth = end.width !== undefined;\nvar tweenHeight = end.height !== undefined;\nvar tweenOpacity = end.opacity !== undefined;\n\n// Public API\nreturn {\n\n  tween: function(tweenValue) {\n\n    if(tweenPosition) {\n      var dX = (end.position[0] - start.position[0]);\n      var dY = (end.position[1] - start.position[1]);\n      var dZ = (end.position[2] - start.position[2]);\n      result.position[0] = start.position[0] + tweenValue*dX;\n      result.position[1] = start.position[1] + tweenValue*dY;\n      result.position[2] = start.position[2] + tweenValue*dZ;\n    }\n\n    if(tweenRotation) {\n      var dAX = (end.rotation[0] - start.rotation[0]);\n      var dAY = (end.rotation[1] - start.rotation[1]);\n      var dAZ = (end.rotation[2] - start.rotation[2]);\n      result.rotation[0] = start.rotation[0] + tweenValue*dAX;\n      result.rotation[1] = start.rotation[1] + tweenValue*dAY;\n      result.rotation[2] = start.rotation[2] + tweenValue*dAZ;\n    }\n\n    if(tweenRotationPost) {\n      var dBX = (end.rotationPost[0] - start.rotationPost[0]);\n      var dBY = (end.rotationPost[1] - start.rotationPost[1]);\n      var dBZ = (end.rotationPost[2] - start.rotationPost[2]);\n      result.rotationPost[0] = start.rotationPost[0] + tweenValue*dBX;\n      result.rotationPost[1] = start.rotationPost[1] + tweenValue*dBY;\n      result.rotationPost[2] = start.rotationPost[2] + tweenValue*dBZ;\n    }\n\n    if(tweenSkew) {\n      var dSX = (end.scale[0] - start.scale[0]);\n      var dSY = (end.scale[1] - start.scale[1]);\n\n      result.scale[0] = start.scale[0] + tweenValue*dSX;\n      result.scale[1] = start.scale[1] + tweenValue*dSY;\n    }\n\n    if(tweenScale) {\n      var dSkewX = (end.skew[0] - start.skew[0]);\n      var dSkewY = (end.skew[1] - start.skew[1]);\n\n      result.skew[0] = start.skew[0] + tweenValue*dSkewX;\n      result.skew[1] = start.skew[1] + tweenValue*dSkewY;\n    }\n\n    if(tweenWidth) {\n      var dWidth = (end.width - start.width);\n      result.width = start.width + tweenValue*dWidth;\n    }\n\n\n    if(tweenHeight) {\n      var dHeight = (end.height - start.height);\n      result.height = start.height + tweenValue*dHeight;\n    }\n\n    if(tweenOpacity) {\n      var dOpacity = (end.opacity - start.opacity);\n      result.opacity = start.opacity + tweenValue*dOpacity;\n    }\n\n  },\n\n  asMatrix: function() {\n    return result.asMatrix();\n  },\n\n  getProperties: function() {\n    return result.getProperties();\n  },\n\n  setReverse: function() {\n    var oldStart = start;\n    start = end;\n    end = oldStart;\n  }\n};\n};\n\n// ------------------------\n// -- ValueFeederTweener -- \n// ------------------------\n\nvar createValueFeederTweener = function(valueFeeder, startState, endState, resultState) {\nvar currentMatrix = valueFeeder(0, createMatrix());\nvar start = startState;\nvar end = endState;\nvar result = resultState;\nvar reverse = false;\n\n\n// Public API\nreturn {\n\n  tween: function(tweenValue) {\n    if(reverse)\n      tweenValue = 1 - tweenValue;\n    currentMatrix.clear();\n    currentMatrix = valueFeeder(tweenValue, currentMatrix);\n\n    var dWidth = (end.width - start.width);\n    var dHeight = (end.height - start.height);\n    var dOpacity = (end.opacity - start.opacity);\n\n    if(end.width !== undefined)\n      result.width = start.width + tweenValue*dWidth;\n    if(end.height !== undefined)\n      result.height = start.height + tweenValue*dHeight;\n    if(end.opacity !== undefined)\n      result.opacity = start.opacity + tweenValue*dOpacity;\n  },\n\n  asMatrix: function() {\n    return currentMatrix;\n  },\n\n  getProperties: function() {\n    return result.getProperties();\n  },\n\n  setReverse: function() {\n    reverse = true;\n  }\n\n};\n};\n\nvar optionOrDefault = function(option, def) {\nif(typeof option == 'undefined') {\n  return def;\n}\nreturn option;\n};\n\nvar updateElementTransform = function(element, matrix, perspective) {\nvar cssPerspective = '';\nif(perspective) {\n  cssPerspective = 'perspective(' + perspective + 'px) ';\n}\nvar cssMatrix = matrix.asCSS();\nelement.style[transformProperty] = cssPerspective + cssMatrix;\n};\n\nvar updateElementProperties = function(element, properties) {\nfor(var key in properties) {\n  element.style[key] = properties[key];\n}\n};\n\nvar isFunction = function(object) {\nreturn (typeof object === \"function\");\n};\n\nvar cloneObject = function(object) {\nif(!object)\n  return object;\nvar clone = {};\nfor(var key in object) {\n  clone[key] = object[key];\n}\nreturn clone;\n};\n\nsnabbt.createMatrix = createMatrix;\nsnabbt.setElementTransform = updateElementTransform;\nreturn snabbt;\n}());\nvar stackBlur = (function(){\n\nvar mul_table = [\n    512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,\n    454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,\n    482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,\n    437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,\n    497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,\n    320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,\n    446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,\n    329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,\n    505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,\n    399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,\n    324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,\n    268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,\n    451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,\n    385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,\n    332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,\n    289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];\n\n\nvar shg_table = [\n    9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\n    17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\n    19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n    20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n    21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n    22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n    23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n    24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];\n\nfunction getImageDataFromCanvas(canvas, top_x, top_y, width, height)\n{\n    if (typeof(canvas) == 'string')\n        canvas  = document.getElementById(canvas);\n    else if (!canvas instanceof HTMLCanvasElement)\n        return;\n\n    var context = canvas.getContext('2d');\n    var imageData;\n\n    try {\n        try {\n            imageData = context.getImageData(top_x, top_y, width, height);\n        } catch(e) {\n            throw new Error(\"unable to access local image data: \" + e);\n            return;\n        }\n    } catch(e) {\n        throw new Error(\"unable to access image data: \" + e);\n    }\n\n    return imageData;\n}\n\nfunction processCanvasRGBA(canvas, top_x, top_y, width, height, radius)\n{\n    if (isNaN(radius) || radius < 1) return;\n    radius |= 0;\n\n    var imageData = getImageDataFromCanvas(canvas, top_x, top_y, width, height);\n\n    imageData = processImageDataRGBA(imageData, top_x, top_y, width, height, radius);\n\n    canvas.getContext('2d').putImageData(imageData, top_x, top_y);\n}\n\nfunction processImageDataRGBA(imageData, top_x, top_y, width, height, radius)\n{\n    var pixels = imageData.data;\n\n    var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum,\n        r_out_sum, g_out_sum, b_out_sum, a_out_sum,\n        r_in_sum, g_in_sum, b_in_sum, a_in_sum,\n        pr, pg, pb, pa, rbs;\n\n    var div = radius + radius + 1;\n    var w4 = width << 2;\n    var widthMinus1  = width - 1;\n    var heightMinus1 = height - 1;\n    var radiusPlus1  = radius + 1;\n    var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n\n    var stackStart = new BlurStack();\n    var stack = stackStart;\n    for (i = 1; i < div; i++)\n    {\n        stack = stack.next = new BlurStack();\n        if (i == radiusPlus1) var stackEnd = stack;\n    }\n    stack.next = stackStart;\n    var stackIn = null;\n    var stackOut = null;\n\n    yw = yi = 0;\n\n    var mul_sum = mul_table[radius];\n    var shg_sum = shg_table[radius];\n\n    for (y = 0; y < height; y++)\n    {\n        r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;\n\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);\n\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n\n        stack = stackStart;\n\n        for (i = 0; i < radiusPlus1; i++)\n        {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n\n        for (i = 1; i < radiusPlus1; i++)\n        {\n            p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n            r_sum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = (pg = pixels[p+1])) * rbs;\n            b_sum += (stack.b = (pb = pixels[p+2])) * rbs;\n            a_sum += (stack.a = (pa = pixels[p+3])) * rbs;\n\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n\n            stack = stack.next;\n        }\n\n\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (x = 0; x < width; x++)\n        {\n            pixels[yi+3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa != 0)\n            {\n                pa = 255 / pa;\n                pixels[yi]   = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi+1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[yi+2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            } else {\n                pixels[yi] = pixels[yi+1] = pixels[yi+2] = 0;\n            }\n\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n\n            p =  (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n\n            r_in_sum += (stackIn.r = pixels[p]);\n            g_in_sum += (stackIn.g = pixels[p+1]);\n            b_in_sum += (stackIn.b = pixels[p+2]);\n            a_in_sum += (stackIn.a = pixels[p+3]);\n\n            r_sum += r_in_sum;\n            g_sum += g_in_sum;\n            b_sum += b_in_sum;\n            a_sum += a_in_sum;\n\n            stackIn = stackIn.next;\n\n            r_out_sum += (pr = stackOut.r);\n            g_out_sum += (pg = stackOut.g);\n            b_out_sum += (pb = stackOut.b);\n            a_out_sum += (pa = stackOut.a);\n\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n\n            stackOut = stackOut.next;\n\n            yi += 4;\n        }\n        yw += width;\n    }\n\n\n    for (x = 0; x < width; x++)\n    {\n        g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;\n\n        yi = x << 2;\n        r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n        g_out_sum = radiusPlus1 * (pg = pixels[yi+1]);\n        b_out_sum = radiusPlus1 * (pb = pixels[yi+2]);\n        a_out_sum = radiusPlus1 * (pa = pixels[yi+3]);\n\n        r_sum += sumFactor * pr;\n        g_sum += sumFactor * pg;\n        b_sum += sumFactor * pb;\n        a_sum += sumFactor * pa;\n\n        stack = stackStart;\n\n        for (i = 0; i < radiusPlus1; i++)\n        {\n            stack.r = pr;\n            stack.g = pg;\n            stack.b = pb;\n            stack.a = pa;\n            stack = stack.next;\n        }\n\n        yp = width;\n\n        for (i = 1; i <= radius; i++)\n        {\n            yi = (yp + x) << 2;\n\n            r_sum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);\n            g_sum += (stack.g = (pg = pixels[yi+1])) * rbs;\n            b_sum += (stack.b = (pb = pixels[yi+2])) * rbs;\n            a_sum += (stack.a = (pa = pixels[yi+3])) * rbs;\n\n            r_in_sum += pr;\n            g_in_sum += pg;\n            b_in_sum += pb;\n            a_in_sum += pa;\n\n            stack = stack.next;\n\n            if(i < heightMinus1)\n            {\n                yp += width;\n            }\n        }\n\n        yi = x;\n        stackIn = stackStart;\n        stackOut = stackEnd;\n        for (y = 0; y < height; y++)\n        {\n            p = yi << 2;\n            pixels[p+3] = pa = (a_sum * mul_sum) >> shg_sum;\n            if (pa > 0)\n            {\n                pa = 255 / pa;\n                pixels[p]   = ((r_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p+1] = ((g_sum * mul_sum) >> shg_sum) * pa;\n                pixels[p+2] = ((b_sum * mul_sum) >> shg_sum) * pa;\n            } else {\n                pixels[p] = pixels[p+1] = pixels[p+2] = 0;\n            }\n\n            r_sum -= r_out_sum;\n            g_sum -= g_out_sum;\n            b_sum -= b_out_sum;\n            a_sum -= a_out_sum;\n\n            r_out_sum -= stackIn.r;\n            g_out_sum -= stackIn.g;\n            b_out_sum -= stackIn.b;\n            a_out_sum -= stackIn.a;\n\n            p = (x + (((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width)) << 2;\n\n            r_sum += (r_in_sum += (stackIn.r = pixels[p]));\n            g_sum += (g_in_sum += (stackIn.g = pixels[p+1]));\n            b_sum += (b_in_sum += (stackIn.b = pixels[p+2]));\n            a_sum += (a_in_sum += (stackIn.a = pixels[p+3]));\n\n            stackIn = stackIn.next;\n\n            r_out_sum += (pr = stackOut.r);\n            g_out_sum += (pg = stackOut.g);\n            b_out_sum += (pb = stackOut.b);\n            a_out_sum += (pa = stackOut.a);\n\n            r_in_sum -= pr;\n            g_in_sum -= pg;\n            b_in_sum -= pb;\n            a_in_sum -= pa;\n\n            stackOut = stackOut.next;\n\n            yi += width;\n        }\n    }\n    return imageData;\n}\n\nfunction BlurStack()\n{\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = 0;\n    this.next = null;\n}\n\nreturn processCanvasRGBA;\n\n}());\n// canvas to blob polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob#Polyfill\nif (!HTMLCanvasElement.prototype.toBlob) {\n\tObject.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n\t\tvalue: function (callback, type, quality) {\n\n\t\t\tvar binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\n\t\t\t\tlen = binStr.length,\n\t\t\t\tarr = new Uint8Array(len);\n\n\t\t\tfor (var i=0; i<len; i++ ) {\n\t\t\t\tarr[i] = binStr.charCodeAt(i);\n\t\t\t}\n\t\t\tcallback( new Blob( [arr], {type: type || 'image/png'} ) );\n\t\t}\n\t});\n}\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _arguments = arguments;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar copyString = function copyString(str) {\n\treturn str + '';\n};\n\nvar getDataset = function getDataset(el) {\n\n\tif (typeof el.dataset === 'undefined') {\n\t\tvar res = {};\n\t\tvar attr;\n\t\tvar attrName;\n\t\tvar attrs = el.attributes;\n\t\tfor (attr in attrs) {\n\t\t\tif (attrs.hasOwnProperty(attr) && attrs[attr].name && /^data-[a-z_\\-\\d]*$/i.test(attrs[attr].name)) {\n\t\t\t\tattrName = toCamelCase(attrs[attr].name.substr(5));\n\t\t\t\tres[attrName] = attrs[attr].value;\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t}\n\treturn el.dataset;\n};\n\nvar toCamelCase = function toCamelCase(str) {\n\treturn str.replace(/\\-./g, function (substr) {\n\t\treturn substr.charAt(1).toUpperCase();\n\t});\n};\n\nvar getElementAttributes = function getElementAttributes(el) {\n\t// is a for loop on purpose as this should still function when Slim not supported\n\tvar result = [];\n\tvar attributes = Array.prototype.slice.call(el.attributes);\n\tvar l = attributes.length;\n\tfor (var i = 0; i < l; i++) {\n\t\tresult.push({\n\t\t\tname: attributes[i].name,\n\t\t\tvalue: attributes[i].value\n\t\t});\n\t}\n\treturn result;\n};\n\n// helper method\nvar getOffsetByEvent = function getOffsetByEvent(e) {\n\treturn {\n\t\tx: typeof e.offsetX === 'undefined' ? e.layerX : e.offsetX,\n\t\ty: typeof e.offsetY === 'undefined' ? e.layerY : e.offsetY\n\t};\n};\n\n// merge two objects together\nvar mergeOptions = function mergeOptions(base, additives) {\n\n\tvar key;\n\tvar options = {};\n\tvar optionsToMerge = additives || {};\n\n\tfor (key in base) {\n\t\tif (!base.hasOwnProperty(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\toptions[key] = typeof optionsToMerge[key] === 'undefined' ? base[key] : optionsToMerge[key];\n\t}\n\n\treturn options;\n};\n\n// keys\nvar Key = {\n\tESC: 27,\n\tRETURN: 13\n};\n\n// pointer events\nvar Events = {\n\tDOWN: ['touchstart', 'pointerdown', 'mousedown'],\n\tMOVE: ['touchmove', 'pointermove', 'mousemove'],\n\tUP: ['touchend', 'touchcancel', 'pointerup', 'mouseup']\n};\n\nvar MimeTypes = {\n\t'jpeg': 'image/jpeg',\n\t'jpg': 'image/jpeg',\n\t'jpe': 'image/jpeg',\n\t'png': 'image/png',\n\t'gif': 'image/gif',\n\t'bmp': 'image/bmp',\n\t'svg': 'image/svg+xml'\n};\n\nvar ImageExtensionsRegex = /(\\.png|\\.bmp|\\.gif|\\.jpg|\\.jpe|\\.jpg|\\.jpeg)$/;\n\nvar CanvasExportExtensions = /(jpe|jpg|jpeg|png)/;\n\n// shortcuts\nvar create = function create(name, className) {\n\tvar node = document.createElement(name);\n\tif (className) {\n\t\tnode.className = className;\n\t}\n\treturn node;\n};\n\n// events\nvar addEvents = function addEvents(obj, events, scope) {\n\tevents.forEach(function (event) {\n\t\tobj.addEventListener(event, scope, false);\n\t});\n};\n\nvar removeEvents = function removeEvents(obj, events, scope) {\n\tevents.forEach(function (event) {\n\t\tobj.removeEventListener(event, scope, false);\n\t});\n};\n\nvar getEventOffset = function getEventOffset(e) {\n\n\tvar event = e.changedTouches ? e.changedTouches[0] : e;\n\n\t// no event found, quit!\n\tif (!event) {\n\t\treturn;\n\t}\n\n\t// get offset from events\n\treturn {\n\t\tx: event.pageX,\n\t\ty: event.pageY\n\t};\n};\n\nvar rotate = function rotate(rect, angle) {\n\n\tvar cx = .5;\n\tvar cy = .5;\n\n\tvar radians = Math.PI / 180 * angle;\n\tvar cos = Math.cos(radians);\n\tvar sin = Math.sin(radians);\n\n\tvar x1 = rect.x;\n\tvar y1 = rect.y;\n\tvar x2 = rect.x + rect.width;\n\tvar y2 = rect.y + rect.height;\n\n\tvar rx1 = cos * (x1 - cx) + sin * (y1 - cy) + cx;\n\tvar ry1 = cos * (y1 - cy) - sin * (x1 - cx) + cy;\n\n\tvar rx2 = cos * (x2 - cx) + sin * (y2 - cy) + cx;\n\tvar ry2 = cos * (y2 - cy) - sin * (x2 - cx) + cy;\n\n\tif (rx1 <= rx2) {\n\t\trect.x = rx1;\n\t\trect.width = rx2 - rx1;\n\t} else {\n\t\trect.x = rx2;\n\t\trect.width = rx1 - rx2;\n\t}\n\n\tif (ry1 <= ry2) {\n\t\trect.y = ry1;\n\t\trect.height = ry2 - ry1;\n\t} else {\n\t\trect.y = ry2;\n\t\trect.height = ry1 - ry2;\n\t}\n};\n\nvar getEventOffsetScroll = function getEventOffsetScroll(e) {\n\tvar offset = getEventOffset(e);\n\toffset.x -= window.pageXOffset || document.documentElement.scrollLeft;\n\toffset.y -= window.pageYOffset || document.documentElement.scrollTop;\n\treturn offset;\n};\n\nvar lowercaseFirstLetter = function lowercaseFirstLetter(string) {\n\treturn string.charAt(0).toLowerCase() + string.slice(1);\n};\n\nvar capitalizeFirstLetter = function capitalizeFirstLetter(string) {\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nvar last = function last(array) {\n\treturn array[array.length - 1];\n};\n\nvar limit = function limit(value, min, max) {\n\treturn Math.max(min, Math.min(max, value));\n};\n\nvar inArray = function inArray(needle, arr) {\n\t// is for loop so we can use this method on older browsers to render fallback message\n\tif (!arr) {\n\t\treturn false;\n\t}\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (arr[i] === needle) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nvar send = function send(url, data, requestDecorator, progress, success, err) {\n\n\tvar xhr = new XMLHttpRequest();\n\n\t// if progress callback defined handle progress events\n\tif (progress) {\n\t\txhr.upload.addEventListener('progress', function (e) {\n\t\t\tprogress(e.loaded, e.total);\n\t\t});\n\t}\n\n\t// open the request\n\txhr.open('POST', url, true);\n\n\t// if request decorator defined pass XMLHttpRequest instance to decorator\n\tif (requestDecorator) {\n\t\trequestDecorator(xhr);\n\t}\n\n\t// handle state changes\n\txhr.onreadystatechange = function () {\n\n\t\tif (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {\n\n\t\t\tvar text = xhr.responseText;\n\n\t\t\t// if no data returned from server assume success\n\t\t\tif (!text.length) {\n\t\t\t\tsuccess();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// catch possible PHP content length problem\n\t\t\tif (text.indexOf('Content-Length') !== -1) {\n\t\t\t\terr('file-too-big');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if data returned it should be in suggested JSON format\n\t\t\tvar obj = void 0;\n\t\t\ttry {\n\t\t\t\tobj = JSON.parse(xhr.responseText);\n\t\t\t} catch (e) {}\n\n\t\t\t// if is failure response\n\t\t\tif ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.status === 'failure') {\n\t\t\t\terr(obj.message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsuccess(obj || text);\n\t\t} else if (xhr.readyState === 4) {\n\n\t\t\tvar _obj = void 0;\n\t\t\ttry {\n\t\t\t\t_obj = JSON.parse(xhr.responseText);\n\t\t\t} catch (e) {}\n\n\t\t\t// if is clean failure response\n\t\t\tif ((typeof _obj === 'undefined' ? 'undefined' : _typeof(_obj)) === 'object' && _obj.status === 'failure') {\n\t\t\t\terr(_obj.message);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\terr('fail');\n\t\t}\n\t};\n\n\t// do request\n\txhr.send(data);\n};\n\nvar resetTransforms = function resetTransforms(element) {\n\tif (!element) {\n\t\treturn;\n\t}\n\telement.style.webkitTransform = '';\n\telement.style.transform = '';\n};\n\nvar bytesToMegaBytes = function bytesToMegaBytes(b) {\n\treturn b / 1000000;\n};\n\nvar megaBytesToBytes = function megaBytesToBytes(mb) {\n\treturn mb * 1000000;\n};\n\nvar getCommonMimeTypes = function getCommonMimeTypes() {\n\tvar types = [];\n\tvar type = void 0;\n\tvar mimeType = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tmimeType = MimeTypes[type];\n\t\tif (types.indexOf(mimeType) == -1) {\n\t\t\ttypes.push(mimeType);\n\t\t}\n\t}\n\treturn types;\n};\n\nvar isJPEGMimeType = function isJPEGMimeType(type) {\n\treturn type === 'image/jpeg';\n};\n\nvar getExtensionByMimeType = function getExtensionByMimeType(mimetype) {\n\tvar type = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (MimeTypes[type] === mimetype) {\n\t\t\treturn type;\n\t\t}\n\t}\n\treturn mimetype;\n};\n\nvar getMimeTypeFromResponseType = function getMimeTypeFromResponseType(responseType) {\n\tvar type = void 0;\n\tfor (type in MimeTypes) {\n\t\tif (!MimeTypes.hasOwnProperty(type)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (responseType.indexOf(MimeTypes[type]) !== -1) {\n\t\t\treturn MimeTypes[type];\n\t\t}\n\t}\n\treturn null;\n};\n\nvar getFileName = function getFileName(path) {\n\treturn path.split('/').pop().split('?').shift();\n};\n\nvar leftPad = function leftPad(value) {\n\tvar padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\treturn (padding + value).slice(-padding.length);\n};\n\nvar getDateString = function getDateString(date) {\n\treturn date.getFullYear() + '-' + leftPad(date.getMonth() + 1, '00') + '-' + leftPad(date.getDate(), '00') + '_' + leftPad(date.getHours(), '00') + '-' + leftPad(date.getMinutes(), '00') + '-' + leftPad(date.getSeconds(), '00');\n};\n\nvar getFileNameByFile = function getFileNameByFile(file) {\n\tif (typeof file.name === 'undefined') {\n\t\treturn getDateString(new Date()) + '.' + getExtensionByMimeType(getFileTypeByFile(file));\n\t}\n\treturn file.name;\n};\n\nvar getFileTypeByFile = function getFileTypeByFile(file) {\n\treturn file.type || 'image/jpeg';\n};\n\nvar getFileNameWithoutExtension = function getFileNameWithoutExtension(path) {\n\tif (typeof path !== 'string') {\n\t\treturn getDateString(new Date());\n\t}\n\tvar name = getFileName(path);\n\treturn name.split('.').shift();\n};\n\nvar blobToFile = function blobToFile(blob, name) {\n\tif ('lastModified' in File.prototype) {\n\t\tblob.lastModified = new Date();\n\t} else {\n\t\tblob.lastModifiedDate = new Date();\n\t}\n\tblob.name = name;\n\treturn blob;\n};\n\nvar resourceIsFetchURL = function resourceIsFetchURL(resource) {\n\treturn (/^fetch\\//.test(resource)\n\t);\n};\n\nvar resourceIsBase64Data = function resourceIsBase64Data(resource) {\n\treturn (/^data:image/.test(resource)\n\t);\n};\n\nvar loadRemoteURL = function loadRemoteURL(fetcher, url, err, cb) {\n\n\tfetcher = '' + fetcher + (fetcher.indexOf('?') !== -1 ? '&' : '?') + 'url=' + url;\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.open('GET', fetcher, true);\n\txhr.responseType = 'json';\n\txhr.onload = function () {\n\n\t\tif (this.response.status === 'failure') {\n\t\t\terr(this.response.message);\n\t\t\treturn;\n\t\t}\n\n\t\tloadURL(this.response.body, cb);\n\t};\n\n\txhr.send();\n};\n\nvar loadURL = function loadURL(url, cb) {\n\n\tvar xhr = new XMLHttpRequest();\n\txhr.open('GET', url, true);\n\txhr.responseType = 'blob';\n\txhr.onload = function (e) {\n\n\t\tvar name = getFileName(url);\n\t\tvar type = getMimeTypeFromResponseType(this.response.type);\n\t\tif (!ImageExtensionsRegex.test(name)) {\n\t\t\tname += '.' + getExtensionByMimeType(type);\n\t\t}\n\n\t\t// get as file\n\t\tvar file = blobToFile(this.response, name);\n\n\t\t// need to set correct type\n\t\tcb(cloneFile(file, type));\n\t};\n\n\txhr.send();\n};\n\nvar base64ToByteString = function base64ToByteString(dataURI) {\n\n\t// get data part of string (remove data:image/jpeg...,)\n\tvar dataPart = dataURI.split(',')[1];\n\n\t// remove any whitespace as that causes InvalidCharacterError in IE\n\tvar dataPartCleaned = dataPart.replace(/\\s/g, '');\n\n\t// to bytestring\n\treturn atob(dataPartCleaned);\n};\n\nvar base64ToArrayBuffer = function base64ToArrayBuffer(dataURI) {\n\n\tvar byteString = base64ToByteString(dataURI);\n\tvar ab = new ArrayBuffer(byteString.length);\n\tvar ia = new Uint8Array(ab);\n\n\tfor (var i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\treturn ab;\n};\n\nvar base64ToBlob = function base64ToBlob(dataURI, filename) {\n\n\tvar byteString = base64ToByteString(dataURI);\n\tvar ab = new ArrayBuffer(byteString.length);\n\tvar ia = new Uint8Array(ab);\n\n\tfor (var i = 0; i < byteString.length; i++) {\n\t\tia[i] = byteString.charCodeAt(i);\n\t}\n\n\tvar mimeType = getMimeTypeFromDataURI(dataURI);\n\n\tif (typeof filename === 'undefined') {\n\t\tfilename = getDateString(new Date()) + '.' + getExtensionByMimeType(mimeType);\n\t}\n\n\treturn blobToFile(createBlob(ab, mimeType), filename);\n};\n\nvar createBlob = function createBlob(data, mimeType) {\n\tvar BB = window.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\tif (BB) {\n\t\tvar bb = new BB();\n\t\tbb.append(data);\n\t\treturn bb.getBlob(mimeType);\n\t}\n\n\treturn new Blob([data], {\n\t\ttype: mimeType\n\t});\n};\n\nvar arrayBufferConcat = function arrayBufferConcat(buffers) {\n\tvar length = 0;\n\tvar buffer = null;\n\n\tfor (var i in buffers) {\n\t\tif (!_arguments.hasOwnProperty(i)) {\n\t\t\tcontinue;\n\t\t}\n\t\tbuffer = buffers[i];\n\t\tlength += buffer.byteLength;\n\t}\n\n\tvar joined = new Uint8Array(length);\n\tvar offset = 0;\n\n\tfor (var _i in buffers) {\n\t\tif (!_arguments.hasOwnProperty(_i)) {\n\t\t\tcontinue;\n\t\t}\n\t\tbuffer = buffers[_i];\n\t\tjoined.set(new Uint8Array(buffer), offset);\n\t\toffset += buffer.byteLength;\n\t}\n\n\treturn joined.buffer;\n};\n\nvar getImageAsCanvas = function getImageAsCanvas(src, size, callback) {\n\n\t// only cross origin when it's not base64 data, to prevent errors in Safari\n\t// http://stackoverflow.com/questions/31643096/why-does-safari-throw-cors-error-when-setting-base64-data-on-a-crossorigin-an\n\tvar crossOrigin = typeof src === 'string' ? src.indexOf('data:image') !== 0 : true;\n\n\tloadImage.parseMetaData(src, function (meta) {\n\n\t\tvar options = {\n\t\t\tcanvas: true,\n\t\t\tcrossOrigin: crossOrigin\n\t\t};\n\n\t\tif (size) {\n\t\t\toptions.maxWidth = size.width;\n\t\t\toptions.maxHeight = size.height;\n\t\t}\n\n\t\tif (meta.exif) {\n\t\t\toptions.orientation = meta.exif.get('Orientation');\n\t\t}\n\n\t\tloadImage(src, function (res) {\n\n\t\t\tif (res.type === 'error') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcallback(res, meta);\n\t\t}, options);\n\t});\n};\n\nvar getAutoCropRect = function getAutoCropRect(width, height, ratioOut) {\n\n\tvar x,\n\t    y,\n\t    w,\n\t    h,\n\t    ratioIn = height / width;\n\n\t// if input is portrait and required is landscape\n\t// width is portrait width, height is width times outputRatio\n\tif (ratioIn < ratioOut) {\n\t\th = height;\n\t\tw = h / ratioOut;\n\t\tx = (width - w) * .5;\n\t\ty = 0;\n\t}\n\n\t// if input is landscape and required is portrait\n\t// height is landscape height, width is height divided by outputRatio\n\telse {\n\t\t\tw = width;\n\t\t\th = w * ratioOut;\n\t\t\tx = 0;\n\t\t\ty = (height - h) * .5;\n\t\t}\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\theight: h,\n\t\twidth: w\n\t};\n};\n\nvar transformCanvas = function transformCanvas(canvas) {\n\tvar transforms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tvar cb = arguments[2];\n\n\n\tvar result = create('canvas');\n\n\tvar rotation = transforms.rotation,\n\t    crop = transforms.crop,\n\t    size = transforms.size,\n\t    filters = transforms.filters,\n\t    minSize = transforms.minSize;\n\n\t// do crop transforms\n\n\tif (crop) {\n\n\t\t// do crop\n\t\tvar isTilted = rotation % 180 !== 0;\n\t\tvar space = {\n\t\t\twidth: isTilted ? canvas.height : canvas.width,\n\t\t\theight: isTilted ? canvas.width : canvas.height\n\t\t};\n\n\t\t// limit crop to size of canvas else safari might return transparent image\n\t\tif (crop.x < 0) {\n\t\t\tcrop.x = 0;\n\t\t}\n\n\t\tif (crop.y < 0) {\n\t\t\tcrop.y = 0;\n\t\t}\n\n\t\tif (crop.width > space.width) {\n\t\t\tcrop.width = space.width;\n\t\t}\n\n\t\tif (crop.height > space.height) {\n\t\t\tcrop.height = space.height;\n\t\t}\n\n\t\tif (crop.y + crop.height > space.height) {\n\t\t\tcrop.y = Math.max(0, space.height - crop.height);\n\t\t}\n\n\t\tif (crop.x + crop.width > space.width) {\n\t\t\tcrop.x = Math.max(0, space.width - crop.width);\n\t\t}\n\n\t\t// crop offsets in percentages\n\t\tvar px = crop.x / space.width;\n\t\tvar py = crop.y / space.height;\n\t\tvar pw = crop.width / space.width;\n\t\tvar ph = crop.height / space.height;\n\n\t\t// resize canvas to the final crop result size\n\t\tresult.width = crop.width;\n\t\tresult.height = crop.height;\n\n\t\t// draw the crop\n\t\tvar ctx = result.getContext('2d');\n\n\t\tif (rotation === 90) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-90 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\t(1 - py) * canvas.width - canvas.width * ph, crop.x, crop.height, crop.width,\n\n\t\t\t// target area (cover)\n\t\t\t-result.height * .5, -result.width * .5, result.height, result.width);\n\t\t} else if (rotation === 180) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-180 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\t(1 - (px + pw)) * space.width, (1 - (py + ph)) * space.height, pw * space.width, ph * space.height,\n\n\t\t\t// target area (cover)\n\t\t\t-result.width * .5, -result.height * .5, result.width, result.height);\n\t\t} else if (rotation === 270) {\n\n\t\t\tctx.translate(result.width * .5, result.height * .5);\n\t\t\tctx.rotate(-270 * Math.PI / 180);\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\tcrop.y, (1 - px) * canvas.height - canvas.height * pw, crop.height, crop.width,\n\n\t\t\t// target area (cover)\n\t\t\t-result.height * .5, -result.width * .5, result.height, result.width);\n\t\t} else {\n\n\t\t\tctx.drawImage(canvas,\n\n\t\t\t// source rectangle (crop area)\n\t\t\tcrop.x, crop.y, crop.width, crop.height,\n\n\t\t\t// target area (cover)\n\t\t\t0, 0, result.width, result.height);\n\t\t}\n\t}\n\n\t// do size transforms\n\tif (size) {\n\n\t\tvar scalarX = size.width / result.width;\n\t\tvar scalarY = size.height / result.height;\n\t\tvar scalar = Math.min(scalarX, scalarY);\n\n\t\tscaleCanvas(result, scalar, size, minSize);\n\n\t\t// sharpen result\n\t\tif (filters.sharpen > 0) {\n\t\t\tfilter(result, sharpen(filters.sharpen));\n\t\t}\n\t}\n\n\tcb(result);\n};\n\nfunction scaleCanvas(canvas, scalar, bounds, min) {\n\n\t// if not scaling down, bail out\n\tif (scalar >= 1) {\n\t\treturn;\n\t}\n\n\tvar targetWidth = Math.max(min.width, Math.min(bounds.width, Math.round(canvas.width * scalar)));\n\tvar targetHeight = Math.max(min.height, Math.min(bounds.height, Math.round(canvas.height * scalar)));\n\tvar w = canvas.width;\n\tvar h = canvas.height;\n\tvar tmp = canvas;\n\tvar c = void 0;\n\tvar ctx = void 0;\n\n\twhile (w > targetWidth && h > targetHeight) {\n\n\t\tc = document.createElement('canvas');\n\t\tw = Math.round(tmp.width * .5);\n\t\th = Math.round(tmp.height * .5);\n\n\t\tif (w < targetWidth) {\n\t\t\tw = targetWidth;\n\t\t}\n\n\t\tif (h < targetHeight) {\n\t\t\th = targetHeight;\n\t\t}\n\n\t\tc.width = w;\n\t\tc.height = h;\n\t\tctx = c.getContext('2d');\n\t\tctx.drawImage(tmp, 0, 0, w, h);\n\n\t\ttmp = cloneCanvas(c);\n\t}\n\n\tcanvas.width = targetWidth;\n\tcanvas.height = targetHeight;\n\n\tctx = canvas.getContext('2d');\n\tctx.drawImage(tmp, 0, 0, targetWidth, targetHeight);\n}\n\nvar getPixels = function getPixels(canvas) {\n\tvar ctx = canvas.getContext('2d');\n\treturn ctx.getImageData(0, 0, canvas.width, canvas.height);\n};\n\nvar filter = function filter(canvas, _filter) {\n\tvar ctx = canvas.getContext('2d');\n\tctx.putImageData(_filter(getPixels(canvas), canvas.width, canvas.height), 0, 0);\n};\n\nvar createImageData = function createImageData(w, h, pixels) {\n\tvar c = document.createElement('canvas');\n\tc.width = w;\n\tc.height = h;\n\tvar ctx = c.getContext('2d');\n\tvar data = ctx.createImageData(c.width, c.height);\n\tif (pixels) {\n\t\tdata.set(pixels.data);\n\t}\n\treturn data;\n};\n\nvar sharpen = function sharpen(mix) {\n\n\treturn function (pixels, w, h) {\n\n\t\tvar weights = [0, -1, 0, -1, 5, -1, 0, -1, 0],\n\t\t    katet = Math.round(Math.sqrt(weights.length)),\n\t\t    half = katet * 0.5 | 0,\n\t\t    dstData = createImageData(w, h),\n\t\t    dstBuff = dstData.data,\n\t\t    srcBuff = pixels.data,\n\t\t    y = h,\n\t\t    x = void 0;\n\n\t\twhile (y--) {\n\n\t\t\tx = w;\n\n\t\t\twhile (x--) {\n\n\t\t\t\tvar sy = y,\n\t\t\t\t    sx = x,\n\t\t\t\t    dstOff = (y * w + x) * 4,\n\t\t\t\t    r = 0,\n\t\t\t\t    g = 0,\n\t\t\t\t    b = 0,\n\t\t\t\t    a = 0;\n\n\t\t\t\tfor (var cy = 0; cy < katet; cy++) {\n\t\t\t\t\tfor (var cx = 0; cx < katet; cx++) {\n\n\t\t\t\t\t\tvar scy = sy + cy - half;\n\t\t\t\t\t\tvar scx = sx + cx - half;\n\n\t\t\t\t\t\tif (scy >= 0 && scy < h && scx >= 0 && scx < w) {\n\n\t\t\t\t\t\t\tvar srcOff = (scy * w + scx) * 4;\n\t\t\t\t\t\t\tvar wt = weights[cy * katet + cx];\n\n\t\t\t\t\t\t\tr += srcBuff[srcOff] * wt;\n\t\t\t\t\t\t\tg += srcBuff[srcOff + 1] * wt;\n\t\t\t\t\t\t\tb += srcBuff[srcOff + 2] * wt;\n\t\t\t\t\t\t\ta += srcBuff[srcOff + 3] * wt;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdstBuff[dstOff] = r * mix + srcBuff[dstOff] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 1] = g * mix + srcBuff[dstOff + 1] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 2] = b * mix + srcBuff[dstOff + 2] * (1 - mix);\n\t\t\t\tdstBuff[dstOff + 3] = srcBuff[dstOff + 3];\n\t\t\t}\n\t\t}\n\n\t\treturn dstData;\n\t};\n};\n\nvar sizeDist = function sizeDist(rect, canvas) {\n\n\tvar dx = Math.abs(rect.width - canvas.width);\n\tvar dy = Math.abs(rect.height - canvas.height);\n\n\treturn Math.max(dx, dy);\n};\n\nvar cloneCanvas = function cloneCanvas(original) {\n\treturn cloneCanvasScaled(original, 1);\n};\n\nvar cloneCanvasScaled = function cloneCanvasScaled(original, scalar) {\n\n\tif (!original) {\n\t\treturn null;\n\t}\n\n\tvar duplicate = document.createElement('canvas');\n\tvar ctx = duplicate.getContext('2d');\n\tduplicate.width = original.width;\n\tduplicate.height = original.height;\n\tctx.drawImage(original, 0, 0);\n\tif (scalar > 0 && scalar != 1) {\n\t\tscaleCanvas(duplicate, scalar, {\n\t\t\twidth: Math.round(original.width * scalar),\n\t\t\theight: Math.round(original.height * scalar)\n\t\t}, {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t});\n\t}\n\n\treturn duplicate;\n};\n\nvar canvasHasDimensions = function canvasHasDimensions(canvas) {\n\treturn canvas.width && canvas.height;\n};\n\nvar copyCanvas = function copyCanvas(original, destination) {\n\n\tvar ctx = destination.getContext('2d');\n\tif (canvasHasDimensions(destination)) {\n\t\tctx.drawImage(original, 0, 0, destination.width, destination.height);\n\t} else {\n\t\tdestination.width = original.width;\n\t\tdestination.height = original.height;\n\t\tctx.drawImage(original, 0, 0);\n\t}\n};\n\nvar clearCanvas = function clearCanvas(canvas) {\n\tvar ctx = canvas.getContext('2d');\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n};\n\nvar blurCanvas = function blurCanvas(canvas) {\n\tstackBlur(canvas, 0, 0, canvas.width, canvas.height, 3);\n};\n\nvar covers = function covers(image, rect) {\n\treturn parseInt(image.width, 10) >= rect.width && parseInt(image.height, 10) >= rect.height;\n};\n\nvar scaleRect = function scaleRect(rect, w, h) {\n\treturn {\n\t\tx: rect.x * w,\n\t\ty: rect.y * h,\n\t\twidth: rect.width * w,\n\t\theight: rect.height * h\n\t};\n};\n\nvar divideRect = function divideRect(rect, w, h) {\n\treturn {\n\t\tx: rect.x / w,\n\t\ty: rect.y / h,\n\t\twidth: rect.width / w,\n\t\theight: rect.height / h\n\t};\n};\n\nvar resetFileInput = function resetFileInput(input) {\n\n\t// no value, no need to reset\n\tif (!input || input.value === '') {\n\t\treturn;\n\t}\n\n\ttry {\n\t\t// for modern browsers\n\t\tinput.value = '';\n\t} catch (err) {}\n\n\t// for IE10\n\tif (input.value) {\n\n\t\t// quickly append input to temp form and reset form\n\t\tvar form = document.createElement('form');\n\t\tvar parentNode = input.parentNode;\n\t\tvar ref = input.nextSibling;\n\t\tform.appendChild(input);\n\t\tform.reset();\n\n\t\t// re-inject input where it originally was\n\t\tif (ref) {\n\t\t\tparentNode.insertBefore(input, ref);\n\t\t} else {\n\t\t\tparentNode.appendChild(input);\n\t\t}\n\t}\n};\n\nvar clone = function clone(obj) {\n\tif ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null) {\n\t\treturn JSON.parse(JSON.stringify(obj));\n\t}\n\treturn obj;\n};\n\nvar cloneFile = function cloneFile(file) {\n\tvar type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\tif (!file) {\n\t\treturn null;\n\t}\n\tvar dupe = file.slice(0, file.size, type || file.type);\n\tdupe.name = file.name;\n\n\tif ('lastModified' in File.prototype && file.lastModified) {\n\t\tdupe.lastModified = new Date(file.lastModified);\n\t} else if (file.lastModifiedDate) {\n\t\tdupe.lastModifiedDate = new Date(file.lastModifiedDate);\n\t}\n\treturn dupe;\n};\n\nvar cloneData = function cloneData(obj) {\n\tvar dupe = clone(obj);\n\tdupe.input.file = cloneFile(obj.input.file);\n\tdupe.output.image = cloneCanvas(obj.output.image);\n\treturn dupe;\n};\n\n/**\n * @param image\n * @param type\n * @param jpegCompression - value between 0 and 100 or undefined/null to use default compression\n * @returns {*}\n */\nvar toDataURL = function toDataURL(image, type, jpegCompression) {\n\tif (!image || !type) {\n\t\treturn null;\n\t}\n\treturn image.toDataURL(type, isJPEGMimeType(type) && typeof jpegCompression === 'number' ? jpegCompression / 100 : undefined);\n};\n\nvar getMimeTypeFromDataURI = function getMimeTypeFromDataURI(dataUri) {\n\tif (!dataUri) {\n\t\treturn null;\n\t}\n\tvar matches = dataUri.substr(0, 16).match(/^.+;/);\n\tif (matches.length) {\n\t\treturn matches[0].substring(5, matches[0].length - 1);\n\t}\n\treturn null;\n};\n\nvar flattenData = function flattenData(obj) {\n\tvar props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\tvar jpegCompression = arguments[2];\n\tvar forcedType = arguments[3];\n\tvar async = arguments[4];\n\n\n\tvar data = {\n\t\tserver: clone(obj.server),\n\t\tmeta: clone(obj.meta),\n\t\tinput: {\n\t\t\tname: obj.input.name,\n\t\t\ttype: obj.input.type,\n\t\t\tsize: obj.input.size,\n\t\t\twidth: obj.input.width,\n\t\t\theight: obj.input.height,\n\t\t\tfield: obj.input.field\n\t\t}\n\t};\n\n\tif (inArray('input', props) && !async) {\n\t\tdata.input.image = toDataURL(obj.input.image, obj.input.type);\n\t}\n\n\tif (inArray('output', props)) {\n\n\t\tdata.output = {\n\t\t\tname: forcedType ? getFileNameWithoutExtension(obj.input.name) + '.' + forcedType : obj.input.name,\n\t\t\ttype: MimeTypes[forcedType] || obj.input.type,\n\t\t\twidth: obj.output.width,\n\t\t\theight: obj.output.height\n\t\t};\n\n\t\tdata.output.image = toDataURL(obj.output.image, data.output.type, jpegCompression);\n\t\tdata.output.type = getMimeTypeFromDataURI(data.output.image);\n\n\t\t// browser problem:\n\t\t// if output is of type png and input was of type jpeg we need to fix extension of filename\n\t\t// so instead of testing the above situation we just always fix extension when handling PNGs\n\t\tif (data.output.type === 'image/png') {\n\t\t\tdata.output.name = getFileNameWithoutExtension(data.input.name) + '.png';\n\t\t}\n\t}\n\n\tif (inArray('actions', props)) {\n\t\tdata.actions = clone(obj.actions);\n\t}\n\n\treturn data;\n};\n\nvar downloadCanvas = function downloadCanvas(data, jpegCompression, forcedType) {\n\tvar canvas = data.output.image;\n\tvar filename = forcedType ? getFileNameWithoutExtension(data.input.name) + '.' + forcedType : data.input.name;\n\tvar type = MimeTypes[forcedType] || data.input.type;\n\n\t// browser problem:\n\t// if output is of type png and input was of type jpeg we need to fix extension of filename\n\t// so instead of testing the above situation we just always fix extension when handling PNGs\n\tif (type === 'image/png') {\n\t\tfilename = getFileNameWithoutExtension(data.input.name) + '.png';\n\t}\n\n\tcanvas.toBlob(function (blob) {\n\n\t\tif ('msSaveBlob' in window.navigator) {\n\t\t\twindow.navigator.msSaveBlob(blob, filename);\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = (window.URL || window.webkitURL).createObjectURL(blob);\n\n\t\t// setup hidden link\n\t\tvar link = create('a');\n\t\tlink.style.display = 'none';\n\t\tlink.download = filename;\n\t\tlink.href = url;\n\n\t\t// attach to DOM otherwise this does not work in Firefox\n\t\tdocument.body.appendChild(link);\n\n\t\t// fire click\n\t\tlink.click();\n\n\t\t// delay on remove otherwise does not work in Firefox\n\t\tsetTimeout(function () {\n\t\t\tdocument.body.removeChild(link);\n\t\t\t(window.URL || window.webkitURL).revokeObjectURL(url);\n\t\t}, 0);\n\t}, type, typeof jpegCompression === 'number' ? jpegCompression / 100 : undefined);\n};\n\nvar toggleDisplayBySelector = function toggleDisplayBySelector(selector, enabled, root) {\n\tvar node = root.querySelector(selector);\n\tif (!node) {\n\t\treturn;\n\t}\n\tnode.style.display = enabled ? '' : 'none';\n};\n\nvar nodeListToArray = function nodeListToArray(nl) {\n\treturn Array.prototype.slice.call(nl);\n};\n\nvar removeElement = function removeElement(el) {\n\tel.parentNode.removeChild(el);\n};\n\nvar wrap = function wrap(element) {\n\tvar wrapper = create('div');\n\tif (element.parentNode) {\n\t\tif (element.nextSibling) {\n\t\t\telement.parentNode.insertBefore(wrapper, element.nextSibling);\n\t\t} else {\n\t\t\telement.parentNode.appendChild(wrapper);\n\t\t}\n\t}\n\twrapper.appendChild(element);\n\treturn wrapper;\n};\n\nvar polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n\tvar angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n\n\treturn {\n\t\tx: centerX + radius * Math.cos(angleInRadians),\n\t\ty: centerY + radius * Math.sin(angleInRadians)\n\t};\n};\n\nvar describeArc = function describeArc(x, y, radius, startAngle, endAngle) {\n\n\tvar start = polarToCartesian(x, y, radius, endAngle);\n\tvar end = polarToCartesian(x, y, radius, startAngle);\n\n\tvar arcSweep = endAngle - startAngle <= 180 ? '0' : '1';\n\n\tvar d = ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n\n\treturn d;\n};\n\nvar percentageArc = function percentageArc(x, y, radius, p) {\n\treturn describeArc(x, y, radius, 0, p * 360);\n};\nvar CropArea = function () {\n\n\tvar resizers = {\n\t\t'n': function n(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// bottom is fixed\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended top\n\t\t\tt = limit(offset.y, 0, b);\n\n\t\t\t// if is too small vertically\n\t\t\tif (b - t < space.min.height) {\n\t\t\t\tt = b - space.min.height;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick width by ratio of new height\n\t\t\tw = ratio ? (b - t) / ratio : rect.width;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (w < space.min.width) {\n\t\t\t\tw = space.min.width;\n\t\t\t\tt = b - w * ratio;\n\t\t\t}\n\n\t\t\t// add half to left and half to right edge\n\t\t\tp = (w - rect.width) * .5;\n\t\t\tl = rect.x - p;\n\t\t\tr = rect.x + rect.width + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (l < 0 || r > space.width) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.x, space.width - (rect.x + rect.width));\n\n\t\t\t\t// new left and right offsets\n\t\t\t\tl = rect.x - d;\n\t\t\t\tr = rect.x + rect.width + d;\n\n\t\t\t\t// resulting width\n\t\t\t\tw = r - l;\n\n\t\t\t\t// resulting height based on ratio\n\t\t\t\th = w * ratio;\n\n\t\t\t\t// new top position\n\t\t\t\tt = b - h;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t's': function s(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// top is fixed\n\t\t\tt = rect.y;\n\n\t\t\t// intended bottom\n\t\t\tb = limit(offset.y, t, space.height);\n\n\t\t\t// if is too small vertically\n\t\t\tif (b - t < space.min.height) {\n\t\t\t\tb = t + space.min.height;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick width by ratio of new height\n\t\t\tw = ratio ? (b - t) / ratio : rect.width;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (w < space.min.width) {\n\t\t\t\tw = space.min.width;\n\t\t\t\tb = t + w * ratio;\n\t\t\t}\n\n\t\t\t// add half to left and half to right edge\n\t\t\tp = (w - rect.width) * .5;\n\t\t\tl = rect.x - p;\n\t\t\tr = rect.x + rect.width + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (l < 0 || r > space.width) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.x, space.width - (rect.x + rect.width));\n\n\t\t\t\t// new left and right offsets\n\t\t\t\tl = rect.x - d;\n\t\t\t\tr = rect.x + rect.width + d;\n\n\t\t\t\t// resulting width\n\t\t\t\tw = r - l;\n\n\t\t\t\t// resulting height based on ratio\n\t\t\t\th = w * ratio;\n\n\t\t\t\t// new bottom position\n\t\t\t\tb = t + h;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'e': function e(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// left is fixed\n\t\t\tl = rect.x;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : rect.height;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add half to top and bottom\n\t\t\tp = (h - rect.height) * .5;\n\t\t\tt = rect.y - p;\n\t\t\tb = rect.y + rect.height + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'w': function w(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, p, d;\n\n\t\t\t// right is fixed\n\t\t\tr = rect.x + rect.width;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : rect.height;\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add half to top and bottom\n\t\t\tp = (h - rect.height) * .5;\n\t\t\tt = rect.y - p;\n\t\t\tb = rect.y + rect.height + p;\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'ne': function ne(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// left and bottom are fixed\n\t\t\tl = rect.x;\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(b - offset.y, space.min.height, b);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to top\n\t\t\tt = rect.y - (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new top and bottom offsets\n\t\t\t\tt = rect.y - d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'se': function se(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// left and top are fixed\n\t\t\tl = rect.x;\n\t\t\tt = rect.y;\n\n\t\t\t// intended right edge\n\t\t\tr = limit(offset.x, l, space.width);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tr = l + space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(offset.y - rect.y, space.min.height, space.height - t);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tr = l + h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tb = rect.y + rect.height + (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new right position\n\t\t\t\tr = l + w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'sw': function sw(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// right and top are fixed\n\t\t\tr = rect.x + rect.width;\n\t\t\tt = rect.y;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(offset.y - rect.y, space.min.height, space.height - t);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tb = rect.y + rect.height + (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tb = rect.y + rect.height + d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new left position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t},\n\t\t'nw': function nw(rect, offset, space, ratio) {\n\n\t\t\tvar t, r, b, l, w, h, d;\n\n\t\t\t// right and bottom are fixed\n\t\t\tr = rect.x + rect.width;\n\t\t\tb = rect.y + rect.height;\n\n\t\t\t// intended left edge\n\t\t\tl = limit(offset.x, 0, r);\n\n\t\t\t// if is too small vertically\n\t\t\tif (r - l < space.min.width) {\n\t\t\t\tl = r - space.min.width;\n\t\t\t}\n\n\t\t\t// if should scale by ratio, pick height by ratio of new width\n\t\t\th = ratio ? (r - l) * ratio : limit(b - offset.y, space.min.height, b);\n\n\t\t\t// check if has fallen below min width or height\n\t\t\tif (h < space.min.height) {\n\t\t\t\th = space.min.height;\n\t\t\t\tl = r - h / ratio;\n\t\t\t}\n\n\t\t\t// add height difference with original height to bottom\n\t\t\tt = rect.y - (h - rect.height);\n\n\t\t\t// check if any of the edges has moved out of the available space, if so,\n\t\t\t// set max size of rectangle from original position\n\t\t\tif (t < 0 || b > space.height) {\n\n\t\t\t\t// smallest distance to edge of space\n\t\t\t\td = Math.min(rect.y, space.height - (rect.y + rect.height));\n\n\t\t\t\t// new bottom offset\n\t\t\t\tt = rect.y - d;\n\n\t\t\t\t// resulting height\n\t\t\t\th = b - t;\n\n\t\t\t\t// resulting width based on ratio\n\t\t\t\tw = h / ratio;\n\n\t\t\t\t// new left position\n\t\t\t\tl = r - w;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: l,\n\t\t\t\ty: t,\n\t\t\t\twidth: r - l,\n\t\t\t\theight: b - t\n\t\t\t};\n\t\t}\n\n\t};\n\n\t/**\n  * CropArea\n  */\n\treturn function () {\n\t\tfunction CropArea() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\n\t\t\t_classCallCheck(this, CropArea);\n\n\t\t\tthis._element = element;\n\n\t\t\tthis._interaction = null;\n\n\t\t\tthis._minWidth = 0;\n\t\t\tthis._minHeight = 0;\n\n\t\t\tthis._ratio = null;\n\n\t\t\tthis._rect = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tthis._space = {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\n\t\t\tthis._rectChanged = false;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(CropArea, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\n\t\t\t\tthis._element.className = 'slim-crop-area';\n\n\t\t\t\t// lines\n\t\t\t\tvar lines = create('div', 'grid');\n\t\t\t\tthis._element.appendChild(lines);\n\n\t\t\t\t// corner & edge resize buttons\n\t\t\t\tfor (var handler in resizers) {\n\t\t\t\t\tif (!resizers.hasOwnProperty(handler)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar _btn = create('button', handler);\n\t\t\t\t\tthis._element.appendChild(_btn);\n\t\t\t\t}\n\t\t\t\tvar btn = create('button', 'c');\n\t\t\t\tthis._element.appendChild(btn);\n\n\t\t\t\taddEvents(document, Events.DOWN, this);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rect = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t};\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'rescale',\n\t\t\tvalue: function rescale(scale) {\n\n\t\t\t\t// no rescale\n\t\t\t\tif (scale === 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._rect.x *= scale;\n\t\t\t\tthis._rect.y *= scale;\n\t\t\t\tthis._rect.width *= scale;\n\t\t\t\tthis._rect.height *= scale;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'limit',\n\t\t\tvalue: function limit(width, height) {\n\t\t\t\tthis._space.width = width;\n\t\t\t\tthis._space.height = height;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offset',\n\t\t\tvalue: function offset(x, y) {\n\t\t\t\tthis._space.x = x;\n\t\t\t\tthis._space.y = y;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'resize',\n\t\t\tvalue: function resize(x, y, width, height) {\n\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\tthis._rect = {\n\t\t\t\t\tx: limit(x, 0, this._space.width - this._minWidth),\n\t\t\t\t\ty: limit(y, 0, this._space.height - this._minHeight),\n\t\t\t\t\twidth: limit(width, this._minWidth, this._space.width),\n\t\t\t\t\theight: limit(height, this._minHeight, this._space.height)\n\t\t\t\t};\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\n\t\t\t\t\tcase 'touchstart':\n\t\t\t\t\tcase 'pointerdown':\n\t\t\t\t\tcase 'mousedown':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onStartDrag(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchmove':\n\t\t\t\t\tcase 'pointermove':\n\t\t\t\t\tcase 'mousemove':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onDrag(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'touchend':\n\t\t\t\t\tcase 'touchcancel':\n\t\t\t\t\tcase 'pointerup':\n\t\t\t\t\tcase 'mouseup':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._onStopDrag(e);\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onStartDrag',\n\t\t\tvalue: function _onStartDrag(e) {\n\n\t\t\t\t// is not my event?\n\t\t\t\tif (!this._element.contains(e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// listen to drag related events\n\t\t\t\taddEvents(document, Events.MOVE, this);\n\t\t\t\taddEvents(document, Events.UP, this);\n\n\t\t\t\tthis._interaction = {\n\t\t\t\t\ttype: e.target.className,\n\t\t\t\t\toffset: getEventOffsetScroll(e)\n\t\t\t\t};\n\n\t\t\t\tthis._interaction.offset.x -= this._rect.x;\n\t\t\t\tthis._interaction.offset.y -= this._rect.y;\n\n\t\t\t\t// now dragging\n\t\t\t\tthis._element.setAttribute('data-dragging', 'true');\n\n\t\t\t\t// start the redraw update loop\n\t\t\t\tthis._redraw();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDrag',\n\t\t\tvalue: function _onDrag(e) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// get local offset for this event\n\t\t\t\tvar offset = getEventOffsetScroll(e);\n\t\t\t\tvar type = this._interaction.type;\n\n\t\t\t\t// drag\n\t\t\t\tif (type === 'c') {\n\n\t\t\t\t\tthis._rect.x = limit(offset.x - this._interaction.offset.x, 0, this._space.width - this._rect.width);\n\t\t\t\t\tthis._rect.y = limit(offset.y - this._interaction.offset.y, 0, this._space.height - this._rect.height);\n\t\t\t\t}\n\n\t\t\t\t// resize\n\t\t\t\telse if (resizers[type]) {\n\t\t\t\t\t\tthis._rect = resizers[type](this._rect, {\n\t\t\t\t\t\t\tx: offset.x - this._space.x,\n\t\t\t\t\t\t\ty: offset.y - this._space.y\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\t\twidth: this._space.width,\n\t\t\t\t\t\t\theight: this._space.height,\n\t\t\t\t\t\t\tmin: {\n\t\t\t\t\t\t\t\twidth: this._minWidth,\n\t\t\t\t\t\t\t\theight: this._minHeight\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, this._ratio);\n\t\t\t\t\t}\n\n\t\t\t\tthis._rectChanged = true;\n\n\t\t\t\t// dispatch\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('input'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onStopDrag',\n\t\t\tvalue: function _onStopDrag(e) {\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// stop listening to drag related events\n\t\t\t\tremoveEvents(document, Events.MOVE, this);\n\t\t\t\tremoveEvents(document, Events.UP, this);\n\n\t\t\t\t// no longer interacting, so no need to redraw\n\t\t\t\tthis._interaction = null;\n\n\t\t\t\t// now dragging\n\t\t\t\tthis._element.setAttribute('data-dragging', 'false');\n\n\t\t\t\t// fire change event\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redraw',\n\t\t\tvalue: function _redraw() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tif (this._rectChanged) {\n\n\t\t\t\t\tvar transform = 'translate(' + this._rect.x + 'px,' + this._rect.y + 'px);';\n\t\t\t\t\tthis._element.style.cssText = '\\n\\t\\t\\t\\t\\t-webkit-transform: ' + transform + ';\\n\\t\\t\\t\\t\\ttransform: ' + transform + ';\\n\\t\\t\\t\\t\\twidth:' + this._rect.width + 'px;\\n\\t\\t\\t\\t\\theight:' + this._rect.height + 'px;\\n\\t\\t\\t\\t';\n\n\t\t\t\t\tthis._rectChanged = false;\n\t\t\t\t}\n\n\t\t\t\t// if no longer interacting with crop area stop here\n\t\t\t\tif (!this._interaction) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// redraw\n\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\treturn _this._redraw();\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\n\t\t\t\tthis._interaction = false;\n\t\t\t\tthis._rectChanged = false;\n\n\t\t\t\tremoveEvents(document, Events.DOWN, this);\n\t\t\t\tremoveEvents(document, Events.MOVE, this);\n\t\t\t\tremoveEvents(document, Events.UP, this);\n\n\t\t\t\tremoveElement(this._element);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'space',\n\t\t\tget: function get() {\n\t\t\t\treturn this._space;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'area',\n\t\t\tget: function get() {\n\n\t\t\t\tvar x = this._rect.x / this._space.width;\n\t\t\t\tvar y = this._rect.y / this._space.height;\n\t\t\t\tvar width = this._rect.width / this._space.width;\n\t\t\t\tvar height = this._rect.height / this._space.height;\n\n\t\t\t\treturn {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t};\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dirty',\n\t\t\tget: function get() {\n\t\t\t\treturn this._rect.x !== 0 || this._rect.y !== 0 || this._rect.width !== 0 || this._rect.height !== 0;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'minWidth',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._minWidth = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'minHeight',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._minHeight = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ratio',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._ratio = value;\n\t\t\t}\n\t\t}]);\n\n\t\treturn CropArea;\n\t}();\n}();\nvar ImageEditor = function () {\n\n\t/**\n  * ImageEditor\n  * @param element\n  * @param options\n  * @constructor\n  */\n\n\tvar CropAreaEvents = ['input', 'change'];\n\n\tvar ImageEditor = function () {\n\t\tfunction ImageEditor() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t_classCallCheck(this, ImageEditor);\n\n\t\t\tthis._element = element;\n\t\t\tthis._options = mergeOptions(ImageEditor.options(), options);\n\n\t\t\tthis._ratio = null;\n\t\t\tthis._output = null;\n\n\t\t\tthis._input = null;\n\n\t\t\tthis._preview = null;\n\t\t\tthis._previewBlurred = null;\n\n\t\t\tthis._blurredPreview = false;\n\n\t\t\tthis._cropper = null;\n\t\t\tthis._straightCrop = null;\n\t\t\tthis._previewWrapper = null;\n\t\t\tthis._currentWindowSize = {};\n\n\t\t\tthis._btnGroup = null;\n\t\t\tthis._maskFrame = null;\n\n\t\t\tthis._dirty = false;\n\n\t\t\tthis._wrapperRotation = 0;\n\t\t\tthis._wrapperScale = 1.0;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(ImageEditor, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tthis._element.className = 'slim-image-editor';\n\n\t\t\t\t// container\n\t\t\t\tthis._container = create('div', 'slim-container');\n\n\t\t\t\t// wrapper\n\t\t\t\tthis._wrapper = create('div', 'slim-wrapper');\n\n\t\t\t\t// photo crop mark container\n\t\t\t\tthis._stage = create('div', 'slim-stage');\n\t\t\t\tthis._container.appendChild(this._stage);\n\n\t\t\t\t// create crop marks\n\t\t\t\tthis._cropper = new CropArea();\n\t\t\t\tCropAreaEvents.forEach(function (e) {\n\t\t\t\t\t_this2._cropper.element.addEventListener(e, _this2);\n\t\t\t\t});\n\t\t\t\tthis._stage.appendChild(this._cropper.element);\n\n\t\t\t\t// canvas ghost\n\t\t\t\tthis._previewWrapper = create('div', 'slim-image-editor-preview slim-crop-preview');\n\t\t\t\tthis._previewBlurred = create('canvas', 'slim-crop-blur');\n\t\t\t\tthis._previewWrapper.appendChild(this._previewBlurred);\n\t\t\t\tthis._wrapper.appendChild(this._previewWrapper);\n\n\t\t\t\tthis._previewMask = create('div', 'slim-crop-mask');\n\t\t\t\tthis._preview = create('img');\n\t\t\t\tthis._previewMask.appendChild(this._preview);\n\t\t\t\t//this._previewWrapper.appendChild(this._preview);\n\t\t\t\tthis._cropper.element.appendChild(this._previewMask);\n\n\t\t\t\t// buttons\n\t\t\t\tthis._btnGroup = create('div', 'slim-editor-btn-group');\n\t\t\t\tImageEditor.Buttons.forEach(function (c) {\n\t\t\t\t\tvar prop = capitalizeFirstLetter(c);\n\t\t\t\t\tvar label = _this2._options['button' + prop + 'Label'];\n\t\t\t\t\tvar title = _this2._options['button' + prop + 'Title'];\n\t\t\t\t\tvar className = _this2._options['button' + prop + 'ClassName'];\n\t\t\t\t\tvar btn = create('button', 'slim-editor-btn slim-btn-' + c + (className ? ' ' + className : ''));\n\t\t\t\t\tbtn.innerHTML = label;\n\t\t\t\t\tbtn.title = title || label;\n\t\t\t\t\tbtn.type = 'button';\n\t\t\t\t\tbtn.setAttribute('data-action', c);\n\t\t\t\t\tbtn.addEventListener('click', _this2);\n\t\t\t\t\t_this2._btnGroup.appendChild(btn);\n\t\t\t\t});\n\n\t\t\t\t// utils\n\t\t\t\tthis._utilsGroup = create('div', 'slim-editor-utils-group');\n\n\t\t\t\t// create rotation button\n\t\t\t\tvar btn = create('button', 'slim-editor-utils-btn slim-btn-rotate' + (this._options.buttonRotateClassName ? ' ' + this._options.buttonRotateClassName : ''));\n\t\t\t\tbtn.setAttribute('data-action', 'rotate');\n\t\t\t\tbtn.addEventListener('click', this);\n\t\t\t\tbtn.title = this._options.buttonRotateTitle;\n\t\t\t\tthis._utilsGroup.appendChild(btn);\n\n                //crop size\n                var cropSize = document.createElement('DIV');\n                cropSize.classList.add('cropSize');\n                cropSize.id = \"slimCropSize\";\n\n                this._utilsGroup.appendChild(cropSize);\n\n\t\t\t\tthis._container.appendChild(this._wrapper);\n\n\t\t\t\tthis._element.appendChild(this._container);\n\t\t\t\tthis._element.appendChild(this._utilsGroup);\n\t\t\t\tthis._element.appendChild(this._btnGroup);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dirty',\n\t\t\tvalue: function dirty() {\n\t\t\t\tthis._dirty = true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'click':\n\t\t\t\t\t\tthis._onClick(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'change':\n\t\t\t\t\t\tthis._onGridChange(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'input':\n\t\t\t\t\t\tthis._onGridInput(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'keydown':\n\t\t\t\t\t\tthis._onKeyDown(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'resize':\n\t\t\t\t\t\tthis._onResize(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onKeyDown',\n\t\t\tvalue: function _onKeyDown(e) {\n\n\t\t\t\tswitch (e.keyCode) {\n\t\t\t\t\tcase Key.RETURN:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\tcase Key.ESC:\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis._cancel();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onClick',\n\t\t\tvalue: function _onClick(e) {\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-cancel')) {\n\t\t\t\t\tthis._cancel();\n\t\t\t\t}\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-confirm')) {\n\t\t\t\t\tthis._confirm();\n\t\t\t\t}\n\n\t\t\t\tif (e.target.classList.contains('slim-btn-rotate')) {\n\t\t\t\t\tthis._rotate();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onResize',\n\t\t\tvalue: function _onResize() {\n\n\t\t\t\t// remember window size\n\t\t\t\tthis._currentWindowSize = {\n\t\t\t\t\twidth: window.innerWidth,\n\t\t\t\t\theight: window.innerHeight\n\t\t\t\t};\n\n\t\t\t\t// redraw the image editor based on new dimensions\n\t\t\t\tthis._redraw();\n\n\t\t\t\tthis._redrawCropper(this._cropper.area);\n\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// apply rotation and scale\n\t\t\t\tthis._redrawWrapper();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawWrapper',\n\t\t\tvalue: function _redrawWrapper() {\n\t\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\t\tmatrix.scale(this._wrapperScale, this._wrapperScale);\n\t\t\t\tmatrix.rotateZ(this._wrapperRotation * (Math.PI / 180));\n\t\t\t\tsnabbt.setElementTransform(this._previewWrapper, matrix);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onGridInput',\n\t\t\tvalue: function _onGridInput() {\n\n\t\t\t\tthis._redrawCropMask();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onGridChange',\n\t\t\tvalue: function _onGridChange() {\n\n\t\t\t\tthis._redrawCropMask();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateWrapperRotation',\n\t\t\tvalue: function _updateWrapperRotation() {\n\n\t\t\t\tif (this._options.minSize.width > this._input.height || this._options.minSize.height > this._input.width) {\n\t\t\t\t\tthis._wrapperRotation += 180;\n\t\t\t\t} else {\n\t\t\t\t\tthis._wrapperRotation += 90;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_updateWrapperScale',\n\t\t\tvalue: function _updateWrapperScale() {\n\n\t\t\t\t// test if is tilted\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\n\t\t\t\t// if tilted determine correct scale factor\n\t\t\t\tif (isTilted) {\n\n\t\t\t\t\t// maximum size\n\t\t\t\t\tvar maxWidth = this._container.offsetWidth;\n\t\t\t\t\tvar maxHeight = this._container.offsetHeight;\n\n\t\t\t\t\t// get wrapper size\n\t\t\t\t\tvar wrapperWidth = this._wrapper.offsetHeight;\n\t\t\t\t\tvar wrapperHeight = this._wrapper.offsetWidth;\n\n\t\t\t\t\tvar scalar = maxWidth / wrapperWidth;\n\t\t\t\t\tif (scalar * wrapperHeight > maxHeight) {\n\t\t\t\t\t\tscalar = maxHeight / wrapperHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._wrapperScale = scalar;\n\t\t\t\t} else {\n\t\t\t\t\tthis._wrapperScale = 1.0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/**\n    * Action handlers\n    */\n\n\t\t}, {\n\t\t\tkey: '_cancel',\n\t\t\tvalue: function _cancel() {\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('cancel'));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_confirm',\n\t\t\tvalue: function _confirm() {\n\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\t\t\t\tvar area = this._cropper.area;\n\n\t\t\t\tvar result = scaleRect(area, isTilted ? this._input.height : this._input.width, isTilted ? this._input.width : this._input.height);\n\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('confirm', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\trotation: this._wrapperRotation % 360,\n\t\t\t\t\t\tcrop: result\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_rotate',\n\t\t\tvalue: function _rotate() {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\t// rotate!\n\t\t\t\tthis._updateWrapperRotation();\n\n\t\t\t\t// only pass current rect if is 1:1 or free\n\t\t\t\tvar rect = this.ratio === 1 || this._ratio === null ? this._cropper.area : null;\n\t\t\t\tif (rect) {\n\t\t\t\t\trotate(rect, 90);\n\t\t\t\t}\n\n\t\t\t\t// wrapper might also need to be scaled\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// hide the cropper\n\t\t\t\tthis._hideCropper();\n\n\t\t\t\t// rotation effect\n\t\t\t\tsnabbt(this._previewWrapper, {\n\t\t\t\t\trotation: [0, 0, this._wrapperRotation * (Math.PI / 180)],\n\t\t\t\t\tscale: [this._wrapperScale, this._wrapperScale],\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .8,\n\t\t\t\t\tspringDeceleration: .65,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// redraws auto cropper\n\t\t\t\t\t\t_this3._redrawCropper(rect);\n\n\t\t\t\t\t\t// shows the cropper\n\t\t\t\t\t\t_this3._showCropper();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_showCropper',\n\t\t\tvalue: function _showCropper() {\n\n\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\teasing: 'ease',\n\t\t\t\t\tduration: 250,\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1.0\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_hideCropper',\n\t\t\tvalue: function _hideCropper() {\n\n\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\tduration: 0,\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 0\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawCropMask',\n\t\t\tvalue: function _redrawCropMask() {\n\n\t\t\t\tvar _this4 = this;\n\n                //console.log(_this4._cropper._rect.width, _this4._cropper._rect.height);\n                //console.log(_this4);\n                var cropSize = document.getElementById('slimCropSize');\n                var factor = _this4._input.width / _this4._previewSize.width;\n\n                cropSize.innerText = Math.round(_this4._cropper._rect.width*factor) + \" x \" + Math.round(_this4._cropper._rect.height*factor);\n\n\t\t\t\t// get rotation\n\t\t\t\tvar rotation = this._wrapperRotation % 360;\n\n\t\t\t\t// get scale\n\t\t\t\tvar scale = this._wrapperScale;\n\n\t\t\t\t// get image size\n\t\t\t\tvar canvas = {\n\t\t\t\t\twidth: this._wrapper.offsetWidth,\n\t\t\t\t\theight: this._wrapper.offsetHeight\n\t\t\t\t};\n\n\t\t\t\t// get default mask cropper area\n\t\t\t\tvar mask = this._cropper.area;\n\t\t\t\tvar preview = {\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t};\n\n\t\t\t\tif (rotation === 0) {\n\t\t\t\t\tpreview.x = -mask.x;\n\t\t\t\t\tpreview.y = -mask.y;\n\t\t\t\t} else if (rotation === 90) {\n\t\t\t\t\tpreview.x = -(1 - mask.y);\n\t\t\t\t\tpreview.y = -mask.x;\n\t\t\t\t} else if (rotation === 180) {\n\t\t\t\t\tpreview.x = -(1 - mask.x);\n\t\t\t\t\tpreview.y = -(1 - mask.y);\n\t\t\t\t} else if (rotation === 270) {\n\t\t\t\t\tpreview.x = -mask.y;\n\t\t\t\t\tpreview.y = -(1 - mask.x);\n\t\t\t\t}\n\n\t\t\t\t// scale rect to fit canvas\n\t\t\t\tpreview.x *= canvas.width;\n\t\t\t\tpreview.y *= canvas.height;\n\n\t\t\t\t// update on next frame (so it's in sync with crop area redraw)\n\t\t\t\tcancelAnimationFrame(this._maskFrame);\n\t\t\t\tthis._maskFrame = requestAnimationFrame(function () {\n\n\t\t\t\t\tvar transform = 'scale(' + scale + ') rotate(' + -rotation + 'deg) translate(' + preview.x + 'px, ' + preview.y + 'px);';\n\t\t\t\t\t_this4._preview.style.cssText = '\\n\\t\\t\\t\\t\\twidth: ' + _this4._previewSize.width + 'px;\\n\\t\\t\\t\\t\\theight: ' + _this4._previewSize.height + 'px;\\n\\t\\t\\t\\t\\t-webkit-transform: ' + transform + ';\\n\\t\\t\\t\\t\\ttransform: ' + transform + ';\\n\\t\\t\\t\\t';\n\t\t\t\t});\n\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'open',\n\t\t\tvalue: function open(image, ratio, crop, rotation, complete) {\n\t\t\t\tvar _this5 = this;\n\n\t\t\t\t// test if is same image\n\t\t\t\tif (this._input && !this._dirty && this._ratio === ratio) {\n\t\t\t\t\tcomplete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// remember current window size\n\t\t\t\tthis._currentWindowSize = {\n\t\t\t\t\twidth: window.innerWidth,\n\t\t\t\t\theight: window.innerHeight\n\t\t\t\t};\n\n\t\t\t\t// reset dirty value\n\t\t\t\tthis._dirty = false;\n\n\t\t\t\t// reset rotation\n\t\t\t\tthis._wrapperRotation = rotation || 0;\n\n\t\t\t\t// we'll always have to blur the preview of a newly opened image\n\t\t\t\tthis._blurredPreview = false;\n\n\t\t\t\t// set ratio\n\t\t\t\tthis._ratio = ratio;\n\n\t\t\t\t// reset preview size\n\t\t\t\tthis._previewSize = null;\n\n\t\t\t\t// hide editor\n\t\t\t\tthis._element.style.opacity = '0';\n\n\t\t\t\t// set as new input image\n\t\t\t\tthis._input = image;\n\n\t\t\t\t// calculate crop\n\t\t\t\tvar tilted = rotation % 180 !== 0;\n\t\t\t\tvar relativeCrop = divideRect(crop, tilted ? image.height : image.width, tilted ? image.width : image.height);\n\n\t\t\t\t// preview has now loaded\n\t\t\t\tthis._preview.onload = function () {\n\n\t\t\t\t\t// reset onload listener\n\t\t\t\t\t_this5._preview.onload = null;\n\n\t\t\t\t\t// setup cropper\n\t\t\t\t\t_this5._cropper.ratio = _this5.ratio;\n\n\t\t\t\t\t// redraw view (for first time)\n\t\t\t\t\t_this5._redraw();\n\n\t\t\t\t\t// redraw cropper\n\t\t\t\t\t_this5._redrawCropper(relativeCrop);\n\n\t\t\t\t\t// done\n\t\t\t\t\tcomplete();\n\n\t\t\t\t\t// fade in\n\t\t\t\t\t_this5._element.style.opacity = '';\n\t\t\t\t};\n\n\t\t\t\t// load lower resolution preview image\n\t\t\t\tthis._preview.src = cloneCanvasScaled(this._input, Math.min(this._container.offsetWidth / this._input.width, this._container.offsetHeight / this._input.height)).toDataURL();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redrawCropper',\n\t\t\tvalue: function _redrawCropper(rect) {\n\n\t\t\t\tvar isTilted = this._wrapperRotation % 180 !== 0;\n\n\t\t\t\t// image ratio\n\t\t\t\tvar imageRatio = isTilted ? this._input.height / this._input.width : this._input.width / this._input.height;\n\n\t\t\t\t// get dimensions of image wrapper\n\t\t\t\tvar width = this._wrapper.offsetWidth;\n\t\t\t\tvar height = this._wrapper.offsetHeight;\n\n\t\t\t\t// get space\n\t\t\t\tvar maxWidth = this._container.offsetWidth;\n\t\t\t\tvar maxHeight = this._container.offsetHeight;\n\n\t\t\t\t// rescale wrapper\n\t\t\t\tthis._updateWrapperScale();\n\n\t\t\t\t// position cropper container to fit wrapper\n\t\t\t\tvar sw = this._wrapperScale * (isTilted ? height : width);\n\t\t\t\tvar sh = this._wrapperScale * (isTilted ? width : height);\n\t\t\t\tvar sx = isTilted ? (maxWidth - sw) * .5 : this._wrapper.offsetLeft;\n\t\t\t\tvar sy = isTilted ? (maxHeight - sh) * .5 : this._wrapper.offsetTop;\n\n\t\t\t\tthis._stage.style.cssText = '\\n\\t\\t\\t\\tleft:' + sx + 'px;\\n\\t\\t\\t\\ttop:' + sy + 'px;\\n\\t\\t\\t\\twidth:' + sw + 'px;\\n\\t\\t\\t\\theight:' + sh + 'px;\\n\\t\\t\\t';\n\n\t\t\t\t// set new size limit for crops\n\t\t\t\t// use image ratio so we have exact amount of pixels\n\t\t\t\tthis._cropper.limit(sw, sw / imageRatio);\n\t\t\t\tthis._cropper.offset(sx + this._element.offsetLeft, sy + this._element.offsetTop);\n\n\t\t\t\t// set min and max height of cropper\n\t\t\t\tthis._cropper.minWidth = this._wrapperScale * this._options.minSize.width * this.scalar;\n\t\t\t\tthis._cropper.minHeight = this._wrapperScale * this._options.minSize.height * this.scalar;\n\n\t\t\t\t// set crop rect\n\t\t\t\tvar crop = null;\n\t\t\t\tif (rect) {\n\t\t\t\t\tcrop = {\n\t\t\t\t\t\tx: rect.x * sw,\n\t\t\t\t\t\ty: rect.y * sh,\n\t\t\t\t\t\twidth: rect.width * sw,\n\t\t\t\t\t\theight: rect.height * sh\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcrop = getAutoCropRect(sw, sh, this._ratio || sh / sw);\n\t\t\t\t}\n\n\t\t\t\tthis._cropper.resize(crop.x, crop.y, crop.width, crop.height);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_redraw',\n\t\t\tvalue: function _redraw() {\n\n\t\t\t\t// image ratio\n\t\t\t\tvar ratio = this._input.height / this._input.width;\n\n\t\t\t\t// determine rounded size\n\t\t\t\tvar maxWidth = this._container.clientWidth;\n\t\t\t\tvar maxHeight = this._container.clientHeight;\n\n\t\t\t\tvar width = maxWidth;\n\t\t\t\tvar height = width * ratio;\n\n\t\t\t\tif (height > maxHeight) {\n\t\t\t\t\theight = maxHeight;\n\t\t\t\t\twidth = height / ratio;\n\t\t\t\t}\n\n\t\t\t\twidth = Math.round(width);\n\t\t\t\theight = Math.round(height);\n\n\t\t\t\t// rescale and recenter wrapper\n\t\t\t\tvar x = (maxWidth - width) / 2;\n\t\t\t\tvar y = (maxHeight - height) / 2;\n\n\t\t\t\tthis._wrapper.style.cssText = '\\n\\t\\t\\t\\tleft:' + x + 'px;\\n\\t\\t\\t\\ttop:' + y + 'px;\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\t// set image size based on container dimensions\n\t\t\t\tthis._previewBlurred.style.cssText = '\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\tthis._preview.style.cssText = '\\n\\t\\t\\t\\twidth:' + width + 'px;\\n\\t\\t\\t\\theight:' + height + 'px;\\n\\t\\t\\t';\n\n\t\t\t\tthis._previewSize = {\n\t\t\t\t\twidth: width,\n\t\t\t\t\theight: height\n\t\t\t\t};\n\n\t\t\t\t// scale and blur the blurry preview\n\t\t\t\tif (!this._blurredPreview) {\n\n\t\t\t\t\tthis._previewBlurred.width = 300;\n\t\t\t\t\tthis._previewBlurred.height = this._previewBlurred.width * ratio;\n\n\t\t\t\t\tcopyCanvas(this._input, this._previewBlurred);\n\n\t\t\t\t\tblurCanvas(this._previewBlurred, 3);\n\n\t\t\t\t\tthis._blurredPreview = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'show',\n\t\t\tvalue: function show() {\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// test if window size has changed since previous showing\n\t\t\t\tif (this._currentWindowSize.width !== window.innerWidth || this._currentWindowSize.height !== window.innerHeight) {\n\n\t\t\t\t\t// if so, reposition elements\n\t\t\t\t\tthis._redraw();\n\n\t\t\t\t\t// redraw cropper position\n\t\t\t\t\tthis._redrawCropper(this._cropper.area);\n\t\t\t\t}\n\n\t\t\t\t// listen to keydown so we can close or confirm with RETURN / ESC\n\t\t\t\tdocument.addEventListener('keydown', this);\n\n\t\t\t\t// when window is scaled we want to resize the editor\n\t\t\t\twindow.addEventListener('resize', this);\n\n\t\t\t\t// fade in preview\n\t\t\t\tvar rotation = this._wrapperRotation * (Math.PI / 180);\n\t\t\t\tsnabbt(this._previewWrapper, {\n\t\t\t\t\tfromRotation: [0, 0, rotation],\n\t\t\t\t\trotation: [0, 0, rotation],\n\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tfromScale: [this._wrapperScale - .02, this._wrapperScale - .02],\n\t\t\t\t\tscale: [this._wrapperScale, this._wrapperScale],\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tdelay: 450,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t// don't reset transforms because we need rotation to stick\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (this._cropper.dirty) {\n\n\t\t\t\t\t// now show cropper\n\t\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tdelay: 850,\n\t\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\n\t\t\t\t\t// now show cropper\n\t\t\t\t\tsnabbt(this._stage, {\n\t\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\t\tposition: [0, 0, 0],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\tdelay: 1000,\n\t\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// now show buttons\n\t\t\t\tsnabbt(this._btnGroup.childNodes, {\n\t\t\t\t\tfromScale: [.9, .9],\n\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tdelay: function delay(i) {\n\t\t\t\t\t\treturn 1000 + i * 100;\n\t\t\t\t\t},\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsnabbt(this._utilsGroup.childNodes, {\n\t\t\t\t\tfromScale: [.9, .9],\n\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .85,\n\t\t\t\t\tdelay: 1250,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\tresetTransforms(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hide',\n\t\t\tvalue: function hide() {\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// no more need to listen to keydown\n\t\t\t\tdocument.removeEventListener('keydown', this);\n\n\t\t\t\t// no more need to resize editor when window is scaled\n\t\t\t\twindow.removeEventListener('resize', this);\n\n\t\t\t\t// fade out buttons\n\t\t\t\tsnabbt(this._utilsGroup.childNodes, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tduration: 250\n\t\t\t\t});\n\n\t\t\t\tsnabbt(this._btnGroup.childNodes, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tdelay: 200,\n\t\t\t\t\tduration: 350\n\t\t\t\t});\n\n\t\t\t\tsnabbt([this._stage, this._previewWrapper], {\n\t\t\t\t\tfromPosition: [0, 0, 0],\n\t\t\t\t\tposition: [0, -250, 0],\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\teasing: 'spring',\n\t\t\t\t\tspringConstant: .3,\n\t\t\t\t\tspringDeceleration: .75,\n\t\t\t\t\tdelay: 250,\n\t\t\t\t\tallDone: function allDone() {\n\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tvar _this6 = this;\n\n\t\t\t\tnodeListToArray(this._btnGroup.children).forEach(function (btn) {\n\t\t\t\t\tbtn.removeEventListener('click', _this6);\n\t\t\t\t});\n\n\t\t\t\tCropAreaEvents.forEach(function (e) {\n\t\t\t\t\t_this6._cropper.element.removeEventListener(e, _this6);\n\t\t\t\t});\n\n\t\t\t\tthis._cropper.destroy();\n\n\t\t\t\t// if still attached to DOM, detach\n\t\t\t\tif (this._element.parentNode) {\n\t\t\t\t\tremoveElement(this._element);\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'showRotateButton',\n\t\t\tset: function set(enabled) {\n\t\t\t\tif (enabled) {\n\t\t\t\t\tthis._element.classList.remove('slim-rotation-disabled');\n\t\t\t\t} else {\n\t\t\t\t\tthis._element.classList.add('slim-rotation-disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'ratio',\n\t\t\tget: function get() {\n\t\t\t\tif (this._ratio === 'input') {\n\t\t\t\t\treturn this._input.height / this._input.width;\n\t\t\t\t}\n\t\t\t\treturn this._ratio;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'offset',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element.getBoundingClientRect();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'original',\n\t\t\tget: function get() {\n\t\t\t\treturn this._input;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'scalar',\n\t\t\tget: function get() {\n\t\t\t\treturn this._previewSize.width / this._input.width;\n\t\t\t}\n\t\t}], [{\n\t\t\tkey: 'options',\n\t\t\tvalue: function options() {\n\n\t\t\t\treturn {\n\t\t\t\t\tbuttonCancelClassName: null,\n\t\t\t\t\tbuttonConfirmClassName: null,\n\t\t\t\t\tbuttonCancelLabel: 'Cancel',\n\t\t\t\t\tbuttonConfirmLabel: 'Confirm',\n\t\t\t\t\tbuttonCancelTitle: null,\n\t\t\t\t\tbuttonConfirmTitle: null,\n\n\t\t\t\t\tbuttonRotateTitle: 'Rotate',\n\t\t\t\t\tbuttonRotateClassName: null,\n\n\t\t\t\t\tminSize: {\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\theight: 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}]);\n\n\t\treturn ImageEditor;\n\t}();\n\n\tImageEditor.Buttons = ['cancel', 'confirm'];\n\n\treturn ImageEditor;\n}(CropArea);\nvar FileHopper = function () {\n\n\t/**\n  * FileHopper\n  * @param element\n  * @param options\n  * @constructor\n  */\n\tvar DragDropEvents = ['dragenter', 'dragover', 'dragleave', 'drop'];\n\n\treturn function () {\n\t\tfunction FileHopper() {\n\t\t\tvar element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n\n\t\t\t_classCallCheck(this, FileHopper);\n\n\t\t\tthis._element = element;\n\t\t\tthis._accept = [];\n\t\t\tthis._allowURLs = false;\n\n\t\t\tthis._dragPath = null;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t// public properties\n\n\n\t\t_createClass(FileHopper, [{\n\t\t\tkey: 'isValidDataTransfer',\n\t\t\tvalue: function isValidDataTransfer(dataTransfer) {\n\n\t\t\t\tif (dataTransfer.files && dataTransfer.files.length) {\n\t\t\t\t\treturn this.areValidDataTransferFiles(dataTransfer.files);\n\t\t\t\t}\n\n\t\t\t\tif (dataTransfer.items && dataTransfer.items.length) {\n\t\t\t\t\treturn this.areValidDataTransferItems(dataTransfer.items);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'areValidDataTransferFiles',\n\t\t\tvalue: function areValidDataTransferFiles(files) {\n\t\t\t\tif (this._accept.length && files) {\n\t\t\t\t\treturn this._accept.indexOf(files[0].type) !== -1;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'areValidDataTransferItems',\n\t\t\tvalue: function areValidDataTransferItems(items) {\n\n\t\t\t\tif (this._accept.length && items) {\n\n\t\t\t\t\t// is possibly dropping url\n\t\t\t\t\tif (this._allowURLs && items[0].kind === 'string') {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// is http website so firefox will not return file type\n\t\t\t\t\tif (items[0].type && items[0].type.indexOf('application') === 0) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this._accept.indexOf(items[0].type) !== -1;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// public methods\n\n\t\t}, {\n\t\t\tkey: 'reset',\n\t\t\tvalue: function reset() {\n\t\t\t\tthis._element.files = null;\n\t\t\t}\n\n\t\t\t// private\n\n\t\t}, {\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\t\t\t\tvar _this7 = this;\n\n\t\t\t\tthis._element.className = 'slim-file-hopper';\n\n\t\t\t\tDragDropEvents.forEach(function (e) {\n\t\t\t\t\t_this7._element.addEventListener(e, _this7);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// the input has changed\n\n\t\t}, {\n\t\t\tkey: 'handleEvent',\n\t\t\tvalue: function handleEvent(e) {\n\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase 'dragenter':\n\t\t\t\t\tcase 'dragover':\n\t\t\t\t\t\tthis._onDragOver(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'dragleave':\n\t\t\t\t\t\tthis._onDragLeave(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'drop':\n\t\t\t\t\t\tthis._onDrop(e);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDrop',\n\t\t\tvalue: function _onDrop(e) {\n\n\t\t\t\t// prevents browser from opening image\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// test if a url was dropped\n\t\t\t\tvar remote = null;\n\n\t\t\t\tif (this._allowURLs) {\n\n\t\t\t\t\tvar url = void 0;\n\t\t\t\t\tvar meta = void 0;\n\t\t\t\t\ttry {\n\t\t\t\t\t\turl = e.dataTransfer.getData('url');\n\t\t\t\t\t\tmeta = e.dataTransfer.getData('text/html');\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// nope nope nope (ie11 trouble)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (meta && meta.length) {\n\t\t\t\t\t\tvar parsed = meta.match(/src\\s*=\\s*\"(.+?)\"/);\n\t\t\t\t\t\tif (parsed) {\n\t\t\t\t\t\t\tremote = parsed[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (url && url.length) {\n\t\t\t\t\t\tremote = url;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (remote) {\n\t\t\t\t\tthis._element.files = [{ remote: remote }];\n\t\t\t\t}\n\t\t\t\t// nope, must have been a file\n\t\t\t\telse {\n\n\t\t\t\t\t\t// test type in older browsers\n\t\t\t\t\t\tvar filesValidity = this.isValidDataTransfer(e.dataTransfer);\n\t\t\t\t\t\tif (!filesValidity) {\n\n\t\t\t\t\t\t\t// invalid files, stop here\n\t\t\t\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-invalid-drop'));\n\n\t\t\t\t\t\t\t// no longer hovering\n\t\t\t\t\t\t\tthis._dragPath = null;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// store dropped files on element files property, so can be accessed by same function as file input handler\n\t\t\t\t\t\tthis._element.files = e.dataTransfer.files;\n\t\t\t\t\t}\n\n\t\t\t\t// file has been dropped\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-drop', {\n\t\t\t\t\tdetail: getOffsetByEvent(e)\n\t\t\t\t}));\n\n\t\t\t\t// file list has changed, let's notify others\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('change'));\n\n\t\t\t\t// no longer hovering\n\t\t\t\tthis._dragPath = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDragOver',\n\t\t\tvalue: function _onDragOver(e) {\n\n\t\t\t\t// prevents browser from opening image\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// set drop effect\n\t\t\t\te.dataTransfer.dropEffect = 'copy';\n\n\t\t\t\t// determin if is valid data\n\t\t\t\tvar dataValidity = this.isValidDataTransfer(e.dataTransfer);\n\t\t\t\t// if validity is null is undetermined\n\t\t\t\tif (dataValidity !== null && !dataValidity) {\n\n\t\t\t\t\t// indicate drop mode to user\n\t\t\t\t\te.dataTransfer.dropEffect = 'none';\n\n\t\t\t\t\t// invalid files, stop here\n\t\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-invalid'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// now hovering file over the area\n\t\t\t\tif (!this._dragPath) {\n\t\t\t\t\tthis._dragPath = [];\n\t\t\t\t}\n\n\t\t\t\t// push location\n\t\t\t\tthis._dragPath.push(getOffsetByEvent(e));\n\n\t\t\t\t// file is hovering over element\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-over', {\n\t\t\t\t\tdetail: {\n\t\t\t\t\t\tx: last(this._dragPath).x,\n\t\t\t\t\t\ty: last(this._dragPath).y\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_onDragLeave',\n\t\t\tvalue: function _onDragLeave(e) {\n\n\t\t\t\t// user has dragged file out of element area\n\t\t\t\tthis._element.dispatchEvent(new CustomEvent('file-out', {\n\t\t\t\t\tdetail: getOffsetByEvent(e)\n\t\t\t\t}));\n\n\t\t\t\t// now longer hovering file\n\t\t\t\tthis._dragPath = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tvar _this8 = this;\n\n\t\t\t\tDragDropEvents.forEach(function (e) {\n\t\t\t\t\t_this8._element.removeEventListener(e, _this8);\n\t\t\t\t});\n\n\t\t\t\tremoveElement(this._element);\n\n\t\t\t\tthis._element = null;\n\t\t\t\tthis._dragPath = null;\n\t\t\t\tthis._accept = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'element',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'dragPath',\n\t\t\tget: function get() {\n\t\t\t\treturn this._dragPath;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tget: function get() {\n\t\t\t\treturn this._element.style.display === '';\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tthis._element.style.display = value ? '' : 'none';\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'allowURLs',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._allowURLs = value;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'accept',\n\t\t\tset: function set(mimetypes) {\n\t\t\t\tthis._accept = mimetypes;\n\t\t\t},\n\t\t\tget: function get() {\n\t\t\t\treturn this._accept;\n\t\t\t}\n\t\t}]);\n\n\t\treturn FileHopper;\n\t}();\n}();\nvar Popover = function () {\n\n\t/**\n  * Popover\n  */\n\treturn function () {\n\t\tfunction Popover() {\n\t\t\t_classCallCheck(this, Popover);\n\n\t\t\tthis._element = null;\n\t\t\tthis._inner = null;\n\n\t\t\tthis._init();\n\t\t}\n\n\t\t_createClass(Popover, [{\n\t\t\tkey: '_init',\n\t\t\tvalue: function _init() {\n\n\t\t\t\tthis._element = create('div', 'slim-popover');\n\t\t\t\tthis._element.setAttribute('data-state', 'off');\n\t\t\t\tdocument.body.appendChild(this._element);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'show',\n\t\t\tvalue: function show() {\n\t\t\t\tvar _this9 = this;\n\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// turn on\n\t\t\t\tthis._element.setAttribute('data-state', 'on');\n\n\t\t\t\t// show and animate in\n\t\t\t\tsnabbt(this._element, {\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tduration: 350,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// clean up transforms\n\t\t\t\t\t\tresetTransforms(_this9._element);\n\n\t\t\t\t\t\t// ready!\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'hide',\n\t\t\tvalue: function hide() {\n\t\t\t\tvar _this10 = this;\n\n\t\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n\n\t\t\t\t// animate out and hide\n\t\t\t\tsnabbt(this._element, {\n\t\t\t\t\tfromOpacity: 1,\n\t\t\t\t\topacity: 0,\n\t\t\t\t\tduration: 500,\n\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t// clean up transforms\n\t\t\t\t\t\tresetTransforms(_this10._element);\n\n\t\t\t\t\t\t// hide the editor\n\t\t\t\t\t\t_this10._element.setAttribute('data-state', 'off');\n\n\t\t\t\t\t\t// ready!\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'destroy',\n\t\t\tvalue: function destroy() {\n\t\t\t\tif (!this._element.parentNode) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._element.parentNode.removeChild(this._element);\n\t\t\t\tthis._element = null;\n\t\t\t\tthis._inner = null;\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'inner',\n\t\t\tset: function set(element) {\n\n\t\t\t\tthis._inner = element;\n\t\t\t\tif (this._element.firstChild) {\n\t\t\t\t\tthis._element.removeChild(this._element.firstChild);\n\t\t\t\t}\n\t\t\t\tthis._element.appendChild(this._inner);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'className',\n\t\t\tset: function set(value) {\n\t\t\t\tthis._element.className = 'slim-popover' + (value === null ? '' : ' ' + value);\n\t\t\t}\n\t\t}]);\n\n\t\treturn Popover;\n\t}();\n}();\nvar intSplit = function intSplit(v, c) {\n\treturn v.split(c).map(function (v) {\n\t\treturn parseInt(v, 10);\n\t});\n};\n\nvar isWrapper = function isWrapper(element) {\n\treturn element.nodeName === 'DIV' || element.nodeName === 'SPAN';\n};\n\nvar CropType = {\n\tAUTO: 'auto',\n\tINITIAL: 'initial',\n\tMANUAL: 'manual'\n};\n\nvar Rect = ['x', 'y', 'width', 'height'];\n\nvar HopperEvents = ['file-invalid-drop', 'file-invalid', 'file-drop', 'file-over', 'file-out', 'click'];\n\nvar ImageEditorEvents = ['cancel', 'confirm'];\n\nvar SlimButtons = ['remove', 'edit', 'download', 'upload'];\n\nvar SlimPopover = null;\nvar SlimCount = 0;\n\nvar SlimLoaderHTML = '\\n<div class=\"slim-loader\">\\n\\t<svg>\\n\\t\\t<path class=\"slim-loader-background\" fill=\"none\" stroke-width=\"3\" />\\n\\t\\t<path class=\"slim-loader-foreground\" fill=\"none\" stroke-width=\"3\" />\\n\\t</svg>\\n</div>\\n';\n\nvar SlimUploadStatusHTML = '\\n<div class=\"slim-upload-status\"></div>\\n';\n\nvar stringToSize = function stringToSize(str) {\n\tvar size = str.split(',');\n\treturn {\n\t\twidth: parseInt(size[0], 10),\n\t\theight: parseInt(size[1], 10)\n\t};\n};\n\nvar Slim = function () {\n\tfunction Slim(element) {\n\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t_classCallCheck(this, Slim);\n\n\t\t// create popover element if not already created\n\t\tif (!SlimPopover) {\n\t\t\tSlimPopover = new Popover();\n\t\t}\n\n\t\t// we create a new counter, we use this counter to determine if we need to clean up the popover\n\t\tthis._uid = SlimCount++;\n\n\t\t// the options to use\n\t\tthis._options = mergeOptions(Slim.options(), options);\n\n\t\t// test options correctness\n\t\tif (this._options.forceSize) {\n\t\t\tif (typeof this._options.forceSize === 'string') {\n\t\t\t\tthis._options.forceSize = stringToSize(this._options.forceSize);\n\t\t\t}\n\t\t\tthis._options.ratio = this._options.forceSize.width + ':' + this._options.forceSize.height;\n\t\t\tthis._options.size = clone(this._options.forceSize);\n\t\t}\n\n\t\t// test for size set as string\n\t\tif (typeof this._options.size === 'string') {\n\t\t\tthis._options.size = stringToSize(this._options.size);\n\t\t}\n\n\t\t// test for size set as string\n\t\tif (typeof this._options.minSize === 'string') {\n\t\t\tthis._options.minSize = stringToSize(this._options.minSize);\n\t\t}\n\n\t\t// reference to original element so we can restore original situation\n\t\tthis._originalElement = element;\n\t\tthis._originalElementInner = element.innerHTML;\n\t\tthis._originalElementAttributes = getElementAttributes(element);\n\n\t\t// should be file input, image or slim wrapper, if not wrapper, wrap\n\t\tif (!isWrapper(element)) {\n\n\t\t\tthis._element = wrap(element);\n\t\t\tthis._element.className = element.className;\n\t\t\telement.className = '';\n\n\t\t\t// ratio is used for CSS so let's set default attribute\n\t\t\tthis._element.setAttribute('data-ratio', this._options.ratio);\n\t\t} else {\n\t\t\tthis._element = element;\n\t\t}\n\t\tthis._element.classList.add('slim');\n\t\tthis._element.setAttribute('data-state', 'init');\n\n\t\t// editor state\n\t\tthis._state = [];\n\n\t\t// internal timer array for async processes\n\t\tthis._timers = [];\n\n\t\t// the source element (can either be an input or an img)\n\t\tthis._input = null;\n\n\t\t// the source element unique name if is input type file\n\t\tthis._inputReference = null;\n\n\t\t// the output element (hidden input that contains the resulting json object)\n\t\tthis._output = null;\n\n\t\t// current image ratio\n\t\tthis._ratio = null;\n\n\t\t// was required field\n\t\tthis._isRequired = false;\n\n\t\t// components\n\t\tthis._imageHopper = null;\n\t\tthis._imageEditor = null;\n\n\t\t// progress path\n\t\tthis._progressEnabled = true;\n\n\t\t// resulting data\n\t\tthis._data = {};\n\t\tthis._resetData();\n\n\t\t// the circle below the mouse hover point\n\t\tthis._drip = null;\n\n\t\t// had initial image\n\t\tthis._hasInitialImage = false;\n\n\t\t// initial crop\n\t\tthis._initialCrop = this._options.crop;\n\n\t\t// initial rotation\n\t\tthis._initialRotation = this._options.rotation && this._options.rotation % 90 === 0 ? this._options.rotation : null;\n\n\t\t// set to true when destroy method is called, used to halt any timeouts or async processes\n\t\tthis._isBeingDestroyed = false;\n\n\t\t// stop here if not supported\n\t\tif (!Slim.supported) {\n\t\t\tthis._fallback();\n\t\t} else {\n\t\t\t// let's go!\n\t\t\tthis._init();\n\t\t}\n\t}\n\n\t_createClass(Slim, [{\n\t\tkey: 'setRotation',\n\t\tvalue: function setRotation(rotation, callback) {\n\n\t\t\tif (typeof rotation !== 'number' && rotation % 90 !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._data.actions.rotation = rotation;\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\tif (this._data.input.image) {\n\t\t\t\tvar w = isTilted ? this._data.input.image.height : this._data.input.image.width;\n\t\t\t\tvar h = isTilted ? this._data.input.image.width : this._data.input.image.height;\n\t\t\t\tthis._data.actions.crop = getAutoCropRect(w, h, this._ratio);\n\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t}\n\n\t\t\tif (this._data.input.image && callback) {\n\t\t\t\tthis._manualTransform(callback);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setSize',\n\t\tvalue: function setSize(dimensions, callback) {\n\n\t\t\tif (typeof dimensions === 'string') {\n\t\t\t\tdimensions = stringToSize(dimensions);\n\t\t\t}\n\n\t\t\tif (!dimensions || !dimensions.width || !dimensions.height) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._options.size = clone(dimensions);\n\t\t\tthis._data.actions.size = clone(dimensions);\n\n\t\t\t// if a crop area is set do re-crop to conform to size\n\t\t\tif (this._data.input.image && callback) {\n\t\t\t\tthis._manualTransform(callback);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'setRatio',\n\t\tvalue: function setRatio(ratio, callback) {\n\t\t\tvar _this11 = this;\n\n\t\t\tif (!ratio || typeof ratio !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._options.ratio = ratio;\n\n\t\t\tif (this._isFixedRatio()) {\n\n\t\t\t\tvar parts = intSplit(this._options.ratio, ':');\n\t\t\t\tthis._ratio = parts[1] / parts[0];\n\n\t\t\t\tif (this._data.input.image && callback) {\n\t\t\t\t\tthis._cropAuto(function (data) {\n\t\t\t\t\t\t_this11._scaleDropArea(_this11._ratio);\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\n\t\t\t\t\tif (this._data.input.image) {\n\t\t\t\t\t\tthis._data.actions.crop = getAutoCropRect(this._data.input.image.width, this._data.input.image.height, this._ratio);\n\t\t\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._scaleDropArea(this._ratio);\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback(null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// methods\n\t\t// Test if this Slim object has been bound to the given element\n\n\t}, {\n\t\tkey: 'isAttachedTo',\n\t\tvalue: function isAttachedTo(element) {\n\t\t\treturn this._element === element || this._originalElement === element;\n\t\t}\n\t}, {\n\t\tkey: 'isDetached',\n\t\tvalue: function isDetached() {\n\t\t\treturn this._element.parentNode === null;\n\t\t}\n\t}, {\n\t\tkey: 'load',\n\t\tvalue: function load(src) {\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\t\tvar callback = arguments[2];\n\n\n\t\t\tif (typeof options === 'function') {\n\t\t\t\tcallback = options;\n\t\t\t} else {\n\n\t\t\t\t// store in options\n\t\t\t\tthis._options.crop = options.crop;\n\n\t\t\t\t// set rotation\n\t\t\t\tthis._options.rotation = options.rotation;\n\n\t\t\t\t// initial rotation\n\t\t\t\tthis._initialRotation = options.rotation && options.rotation % 90 === 0 ? options.rotation : null;\n\n\t\t\t\t// set initial crop\n\t\t\t\tthis._initialCrop = this._options.crop;\n\t\t\t}\n\n\t\t\tthis._load(src, callback);\n\t\t}\n\t}, {\n\t\tkey: 'upload',\n\t\tvalue: function upload(callback) {\n\t\t\tthis._doUpload(callback);\n\t\t}\n\t}, {\n\t\tkey: 'download',\n\t\tvalue: function download() {\n\t\t\tthis._doDownload();\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove() {\n\t\t\treturn this._doRemove();\n\t\t}\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\tthis._doDestroy();\n\t\t}\n\t}, {\n\t\tkey: 'edit',\n\t\tvalue: function edit() {\n\t\t\tthis._doEdit();\n\t\t}\n\t}, {\n\t\tkey: 'crop',\n\t\tvalue: function crop(rect, callback) {\n\t\t\tthis._crop(rect.x, rect.y, rect.width, rect.height, callback);\n\t\t}\n\t}, {\n\t\tkey: 'containsImage',\n\t\tvalue: function containsImage() {\n\t\t\treturn this._data.input.name !== null;\n\t\t}\n\n\t\t/**\n   * State Related\n   */\n\n\t}, {\n\t\tkey: '_canInstantEdit',\n\t\tvalue: function _canInstantEdit() {\n\t\t\treturn this._options.instantEdit && !this._isInitialising;\n\t\t}\n\t}, {\n\t\tkey: '_getFileInput',\n\t\tvalue: function _getFileInput() {\n\t\t\treturn this._element.querySelector('input[type=file]');\n\t\t}\n\t}, {\n\t\tkey: '_getInitialImage',\n\t\tvalue: function _getInitialImage() {\n\t\t\treturn this._element.querySelector('img');\n\t\t}\n\t}, {\n\t\tkey: '_getInputElement',\n\t\tvalue: function _getInputElement() {\n\t\t\treturn this._getFileInput() || this._getInitialImage();\n\t\t}\n\t}, {\n\t\tkey: '_getRatioSpacerElement',\n\t\tvalue: function _getRatioSpacerElement() {\n\t\t\treturn this._element.children[0];\n\t\t}\n\t}, {\n\t\tkey: '_isImageOnly',\n\t\tvalue: function _isImageOnly() {\n\t\t\treturn this._input.nodeName !== 'INPUT';\n\t\t}\n\t}, {\n\t\tkey: '_isFixedRatio',\n\t\tvalue: function _isFixedRatio() {\n\t\t\treturn this._options.ratio.indexOf(':') !== -1;\n\t\t}\n\t}, {\n\t\tkey: '_isAutoCrop',\n\t\tvalue: function _isAutoCrop() {\n\t\t\treturn this._data.actions.crop.type === CropType.AUTO;\n\t\t}\n\t}, {\n\t\tkey: '_toggleButton',\n\t\tvalue: function _toggleButton(action, state) {\n\t\t\ttoggleDisplayBySelector('.slim-btn[data-action=\"' + action + '\"]', state, this._element);\n\t\t}\n\t}, {\n\t\tkey: '_clearState',\n\t\tvalue: function _clearState() {\n\t\t\tthis._state = [];\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_removeState',\n\t\tvalue: function _removeState(state) {\n\t\t\tthis._state = this._state.filter(function (item) {\n\t\t\t\treturn item !== state;\n\t\t\t});\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_addState',\n\t\tvalue: function _addState(state) {\n\t\t\tif (inArray(state, this._state)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._state.push(state);\n\t\t\tthis._updateState();\n\t\t}\n\t}, {\n\t\tkey: '_updateState',\n\t\tvalue: function _updateState() {\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._element.setAttribute('data-state', this._state.join(','));\n\t\t}\n\t}, {\n\t\tkey: '_resetData',\n\t\tvalue: function _resetData() {\n\n\t\t\t// resets data object\n\t\t\tthis._data = {\n\t\t\t\tserver: null,\n\t\t\t\tmeta: clone(this._options.meta),\n\t\t\t\tinput: {\n\t\t\t\t\tfield: this._inputReference,\n\t\t\t\t\tname: null,\n\t\t\t\t\ttype: null,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tfile: null\n\t\t\t\t},\n\t\t\t\toutput: {\n\t\t\t\t\timage: null,\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\trotation: null,\n\t\t\t\t\tcrop: null,\n\t\t\t\t\tsize: null\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// resets hidden input clone (has not yet been created when reset call in constructor, hence the check)\n\t\t\tif (this._output) {\n\t\t\t\tthis._output.value = '';\n\t\t\t}\n\n\t\t\t// should reset file input\n\t\t\tresetFileInput(this._getFileInput());\n\t\t}\n\n\t\t/**\n   * Initialisation\n   */\n\n\t}, {\n\t\tkey: '_init',\n\t\tvalue: function _init() {\n\t\t\tvar _this12 = this;\n\n\t\t\t// busy initialising\n\t\t\tthis._isInitialising = true;\n\n\t\t\t// cropper root is not file input\n\t\t\tthis._addState('empty');\n\n\t\t\t// define input reference field name\n\t\t\tif (inArray('input', this._options.post)) {\n\t\t\t\tthis._inputReference = 'slim_input_' + this._uid;\n\t\t\t}\n\n\t\t\t// get input element\n\t\t\tthis._input = this._getInputElement();\n\n\t\t\t// if no input supplied we'll automatically create one\n\t\t\tif (!this._input) {\n\t\t\t\tthis._input = create('input');\n\t\t\t\tthis._input.type = 'file';\n\t\t\t\tthis._element.appendChild(this._input);\n\t\t\t}\n\n\t\t\t// get required state of input element\n\t\t\tthis._isRequired = this._input.required === true;\n\n\t\t\t// set or create output field\n\t\t\tthis._output = this._element.querySelector('input[type=hidden]');\n\n\t\t\t// if no output element defined we'll create one automagically\n\t\t\tif (!this._output) {\n\t\t\t\tthis._output = create('input');\n\t\t\t\tthis._output.type = 'hidden';\n\t\t\t\tthis._output.name = this._input.name || this._options.defaultInputName;\n\t\t\t\tthis._element.appendChild(this._output);\n\t\t\t} else {\n\t\t\t\tvar initialData = null;\n\t\t\t\ttry {\n\t\t\t\t\tinitialData = JSON.parse(this._output.value);\n\t\t\t\t} catch (e) {}\n\t\t\t\tif (initialData) {\n\t\t\t\t\tvar img = new Image();\n\t\t\t\t\timg.src = initialData.output.image;\n\t\t\t\t\timg.setAttribute('data-filename', initialData.output.name);\n\t\t\t\t\tthis._element.insertBefore(img, this._element.firstChild);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prevent the original file input field from posting (value will be duplicated to output field)\n\t\t\tthis._input.removeAttribute('name');\n\n\t\t\t// create drop area\n\t\t\tvar area = create('div', 'slim-area');\n\n\t\t\t// test if contains initial image\n\t\t\tvar initialImage = this._getInitialImage();\n\t\t\tvar initialImageSrc = (initialImage || {}).src;\n\t\t\tvar initialImageName = initialImage ? initialImage.getAttribute('data-filename') : null;\n\n\t\t\tif (initialImageSrc) {\n\t\t\t\tthis._hasInitialImage = true;\n\t\t\t} else {\n\t\t\t\tthis._initialCrop = null;\n\t\t\t\tthis._initialRotation = null;\n\t\t\t}\n\n\t\t\tvar resultHTML = '\\n\\t\\t<div class=\"slim-result\">\\n\\t\\t\\t<img class=\"in\" style=\"opacity:0\" ' + (initialImageSrc ? 'src=\"' + initialImageSrc + '\"' : '') + '><img><img style=\"opacity:0\">\\n\\t\\t</div>';\n\n\t\t\t// add drop overlay\n\t\t\tif (this._isImageOnly()) {\n\t\t\t\tarea.innerHTML = '\\n\\t\\t\\t\\t' + SlimLoaderHTML + '\\n\\t\\t\\t\\t' + SlimUploadStatusHTML + '\\n\\t\\t\\t\\t' + resultHTML + '\\n\\t\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label-loading\">' + (this._options.labelLoading || '') + '</div></div>\\n\\t\\t\\t';\n\t\t\t} else {\n\n\t\t\t\t// if should post input data\n\t\t\t\tif (inArray('input', this._options.post)) {\n\n\t\t\t\t\tthis._data.input.field = this._inputReference;\n\n\t\t\t\t\t// if is sync post\n\t\t\t\t\t// and should post input data\n\t\t\t\t\tif (!this._options.service) {\n\t\t\t\t\t\tthis._input.name = this._inputReference;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set common image mime type to the accept attribute\n\t\t\t\tvar mimetypes = void 0;\n\t\t\t\tif (!this._input.hasAttribute('accept') || this._input.getAttribute('accept') === 'image/*') {\n\t\t\t\t\tmimetypes = getCommonMimeTypes();\n\t\t\t\t\tthis._input.setAttribute('accept', mimetypes.join(','));\n\t\t\t\t} else {\n\t\t\t\t\tmimetypes = this._input.accept.split(',').map(function (mimetype) {\n\t\t\t\t\t\treturn mimetype.trim();\n\t\t\t\t\t}).filter(function (mimetype) {\n\t\t\t\t\t\treturn mimetype.length > 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// setup hopper\n\t\t\t\tthis._imageHopper = new FileHopper();\n\t\t\t\tthis._imageHopper.accept = mimetypes;\n\t\t\t\tthis._imageHopper.allowURLs = typeof this._options.fetcher === 'string';\n\t\t\t\tthis._element.appendChild(this._imageHopper.element);\n\t\t\t\tHopperEvents.forEach(function (e) {\n\t\t\t\t\t_this12._imageHopper.element.addEventListener(e, _this12);\n\t\t\t\t});\n\n\t\t\t\t// render area\n\t\t\t\tarea.innerHTML = '\\n\\t\\t\\t\\t' + SlimLoaderHTML + '\\n\\t\\t\\t\\t' + SlimUploadStatusHTML + '\\n\\t\\t\\t\\t<div class=\"slim-drip\"><span><span></span></span></div>\\n\\t\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label\">' + (this._options.label || '') + '</div><div class=\"slim-label-loading\">' + (this._options.labelLoading || '') + '</div></div>\\n\\t\\t\\t\\t' + resultHTML + '\\n\\t\\t\\t';\n\n\t\t\t\t// start listening for events so we can load image on file input change\n\t\t\t\tthis._input.addEventListener('change', this);\n\t\t\t}\n\n\t\t\t// add area node\n\t\t\tthis._element.appendChild(area);\n\n\t\t\t// add button group\n\t\t\tthis._btnGroup = create('div', 'slim-btn-group');\n\t\t\tthis._btnGroup.style.display = 'none';\n\t\t\tthis._element.appendChild(this._btnGroup);\n\t\t\tSlimButtons.filter(function (c) {\n\t\t\t\treturn _this12._isButtonAllowed(c);\n\t\t\t}).forEach(function (c) {\n\t\t\t\tvar prop = capitalizeFirstLetter(c);\n\t\t\t\tvar label = _this12._options['button' + prop + 'Label'];\n\t\t\t\tvar title = _this12._options['button' + prop + 'Title'] || label;\n\t\t\t\tvar className = _this12._options['button' + prop + 'ClassName'];\n\t\t\t\tvar btn = create('button', 'slim-btn slim-btn-' + c + (className ? ' ' + className : ''));\n\t\t\t\tbtn.innerHTML = label;\n\t\t\t\tbtn.title = title;\n\t\t\t\tbtn.type = 'button';\n\t\t\t\tbtn.addEventListener('click', _this12);\n\t\t\t\tbtn.setAttribute('data-action', c);\n\t\t\t\t_this12._btnGroup.appendChild(btn);\n\t\t\t});\n\n\t\t\t// add ratio padding\n\t\t\tif (this._isFixedRatio()) {\n\t\t\t\tvar parts = intSplit(this._options.ratio, ':');\n\t\t\t\tthis._ratio = parts[1] / parts[0];\n\t\t\t\tthis._scaleDropArea(this._ratio);\n\t\t\t}\n\n\t\t\t// setup loader\n\t\t\tthis._updateProgress(.5);\n\n\t\t\t// preload source\n\t\t\tif (initialImageSrc) {\n\n\t\t\t\tthis._load(initialImageSrc, function () {\n\t\t\t\t\t_this12._onInit();\n\t\t\t\t}, { name: initialImageName });\n\t\t\t} else {\n\t\t\t\tthis._onInit();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onInit',\n\t\tvalue: function _onInit() {\n\t\t\tvar _this13 = this;\n\n\t\t\t// we're done initialising\n\t\t\tthis._isInitialising = false;\n\n\t\t\t// done initialising now, else is only called after image load\n\t\t\tvar done = function done() {\n\t\t\t\t// we call this async so the constructor of Slim has returned before the onInit is called, allowing clean immidiate destroy\n\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t_this13._options.didInit.apply(_this13, [_this13.data, _this13]);\n\t\t\t\t}, 0);\n\t\t\t\t_this13._timers.push(timer);\n\t\t\t};\n\n\t\t\t// save initial image\n\t\t\tif (this._options.saveInitialImage && this.containsImage()) {\n\n\t\t\t\tif (!this._options.service) {\n\t\t\t\t\tthis._save(function () {\n\t\t\t\t\t\tdone();\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// by default upload button is disabled for existing images\n\t\t\t\tif (this._options.service && this.containsImage()) {\n\t\t\t\t\tthis._toggleButton('upload', false);\n\t\t\t\t}\n\n\t\t\t\tdone();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_updateProgress',\n\t\tvalue: function _updateProgress(progress) {\n\n\t\t\tprogress = Math.min(.99999, progress);\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._progressEnabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar size = loader.offsetWidth;\n\t\t\tvar paths = loader.querySelectorAll('path');\n\t\t\tvar ringWidth = parseInt(paths[0].getAttribute('stroke-width'), 10);\n\n\t\t\tpaths[0].setAttribute('d', percentageArc(size * .5, size * .5, size * .5 - ringWidth, .9999));\n\n\t\t\tpaths[1].setAttribute('d', percentageArc(size * .5, size * .5, size * .5 - ringWidth, progress));\n\t\t}\n\t}, {\n\t\tkey: '_startProgress',\n\t\tvalue: function _startProgress(cb) {\n\t\t\tvar _this14 = this;\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._progressEnabled = false;\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tthis._stopProgressLoop(function () {\n\n\t\t\t\tloader.removeAttribute('style');\n\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t_this14._progressEnabled = true;\n\n\t\t\t\t_this14._updateProgress(0);\n\n\t\t\t\t_this14._progressEnabled = false;\n\n\t\t\t\tsnabbt(ring, {\n\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: 1,\n\t\t\t\t\tduration: 250,\n\t\t\t\t\tcomplete: function complete() {\n\t\t\t\t\t\t_this14._progressEnabled = true;\n\t\t\t\t\t\tif (cb) {\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_stopProgress',\n\t\tvalue: function _stopProgress() {\n\t\t\tvar _this15 = this;\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tthis._updateProgress(1);\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 250,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tloader.removeAttribute('style');\n\t\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t\t_this15._updateProgress(.5);\n\n\t\t\t\t\t_this15._progressEnabled = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_startProgressLoop',\n\t\tvalue: function _startProgressLoop() {\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// start loading animation\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar ring = loader.children[0];\n\t\t\tloader.removeAttribute('style');\n\t\t\tring.removeAttribute('style');\n\n\t\t\t// set infinite load state\n\t\t\tthis._updateProgress(.5);\n\n\t\t\t// repeat!\n\t\t\tvar repeat = 1000;\n\n\t\t\tsnabbt(loader, 'stop');\n\n\t\t\tsnabbt(loader, {\n\t\t\t\trotation: [0, 0, -(Math.PI * 2) * repeat],\n\t\t\t\teasing: 'linear',\n\t\t\t\tduration: repeat * 1000\n\t\t\t});\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\t\t\t\tduration: 250\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_stopProgressLoop',\n\t\tvalue: function _stopProgressLoop(callback) {\n\n\t\t\tif (!this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar loader = this._element.querySelector('.slim-loader');\n\t\t\tif (!loader) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar ring = loader.children[0];\n\n\t\t\tsnabbt(ring, {\n\t\t\t\tfromOpacity: parseFloat(ring.style.opacity),\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 250,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tsnabbt(loader, 'stop');\n\n\t\t\t\t\tloader.removeAttribute('style');\n\t\t\t\t\tring.removeAttribute('style');\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_isButtonAllowed',\n\t\tvalue: function _isButtonAllowed(button) {\n\n\t\t\tif (button === 'edit') {\n\t\t\t\treturn this._options.edit;\n\t\t\t}\n\n\t\t\tif (button === 'download') {\n\t\t\t\treturn this._options.download;\n\t\t\t}\n\n\t\t\tif (button === 'upload') {\n\n\t\t\t\t// if no service defined upload button makes no sense\n\t\t\t\tif (!this._options.service) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// if push mode is set, no need for upload button\n\t\t\t\tif (this._options.push) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// set upload button\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (button === 'remove') {\n\t\t\t\treturn !this._isImageOnly();\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: '_fallback',\n\t\tvalue: function _fallback() {\n\n\t\t\t// create status area\n\t\t\tvar area = create('div', 'slim-area');\n\t\t\tarea.innerHTML = '\\n\\t\\t\\t<div class=\"slim-status\"><div class=\"slim-label\">' + (this._options.label || '') + '</div></div>\\n\\t\\t';\n\t\t\tthis._element.appendChild(area);\n\n\t\t\tthis._throwError(this._options.statusNoSupport);\n\t\t}\n\n\t\t/**\n   * Event routing\n   */\n\n\t}, {\n\t\tkey: 'handleEvent',\n\t\tvalue: function handleEvent(e) {\n\n\t\t\tswitch (e.type) {\n\t\t\t\tcase 'click':\n\t\t\t\t\tthis._onClick(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'change':\n\t\t\t\t\tthis._onChange(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'cancel':\n\t\t\t\t\tthis._onCancel(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'confirm':\n\t\t\t\t\tthis._onConfirm(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-over':\n\t\t\t\t\tthis._onFileOver(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-out':\n\t\t\t\t\tthis._onFileOut(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-drop':\n\t\t\t\t\tthis._onDropFile(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-invalid':\n\t\t\t\t\tthis._onInvalidFile(e);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'file-invalid-drop':\n\t\t\t\t\tthis._onInvalidFileDrop(e);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_getIntro',\n\t\tvalue: function _getIntro() {\n\t\t\treturn this._element.querySelector('.slim-result .in');\n\t\t}\n\t}, {\n\t\tkey: '_getOutro',\n\t\tvalue: function _getOutro() {\n\t\t\treturn this._element.querySelector('.slim-result .out');\n\t\t}\n\t}, {\n\t\tkey: '_getInOut',\n\t\tvalue: function _getInOut() {\n\t\t\treturn this._element.querySelectorAll('.slim-result img');\n\t\t}\n\t}, {\n\t\tkey: '_getDrip',\n\t\tvalue: function _getDrip() {\n\t\t\tif (!this._drip) {\n\t\t\t\tthis._drip = this._element.querySelector('.slim-drip > span');\n\t\t\t}\n\t\t\treturn this._drip;\n\t\t}\n\n\t\t// errors\n\n\t}, {\n\t\tkey: '_throwError',\n\t\tvalue: function _throwError(error) {\n\n\t\t\tthis._addState('error');\n\n\t\t\tthis._element.querySelector('.slim-label').style.display = 'none';\n\n\t\t\tvar node = this._element.querySelector('.slim-error');\n\t\t\tif (!node) {\n\t\t\t\tnode = create('div', 'slim-error');\n\t\t\t\tthis._element.querySelector('.slim-status').appendChild(node);\n\t\t\t}\n\n\t\t\tnode.innerHTML = error;\n\t\t}\n\t}, {\n\t\tkey: '_removeError',\n\t\tvalue: function _removeError() {\n\n\t\t\tthis._removeState('error');\n\t\t\tthis._element.querySelector('.slim-label').style.display = '';\n\n\t\t\tvar error = this._element.querySelector('.slim-error');\n\t\t\tif (error) {\n\t\t\t\terror.parentNode.removeChild(error);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_openFileDialog',\n\t\tvalue: function _openFileDialog() {\n\t\t\tthis._removeError();\n\t\t\tthis._input.click();\n\t\t}\n\n\t\t// drop area clicked\n\n\t}, {\n\t\tkey: '_onClick',\n\t\tvalue: function _onClick(e) {\n\t\t\tvar _this16 = this;\n\n\t\t\tvar list = e.target.classList;\n\t\t\tvar target = e.target;\n\n\t\t\t// no preview, so possible to drop file\n\t\t\tif (list.contains('slim-file-hopper')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._openFileDialog();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// decide what button was clicked\n\t\t\tswitch (target.getAttribute('data-action')) {\n\t\t\t\tcase 'remove':\n\t\t\t\t\tthis._options.willRemove.apply(this, [this.data, function () {\n\t\t\t\t\t\t_this16._doRemove();\n\t\t\t\t\t}]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'edit':\n\t\t\t\t\tthis._doEdit();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'download':\n\t\t\t\t\tthis._doDownload();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'upload':\n\t\t\t\t\tthis._doUpload();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onInvalidFileDrop',\n\t\tvalue: function _onInvalidFileDrop() {\n\n\t\t\tthis._onInvalidFile();\n\n\t\t\tthis._removeState('file-over');\n\n\t\t\t// animate out drip\n\t\t\tvar drip = this._getDrip();\n\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [0, 0],\n\t\t\t\tfromOpacity: .5,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 150,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_onInvalidFile',\n\t\tvalue: function _onInvalidFile() {\n\n\t\t\tvar types = this._imageHopper.accept.map(getExtensionByMimeType);\n\t\t\tvar error = this._options.statusFileType.replace('$0', types.join(', '));\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onImageTooSmall',\n\t\tvalue: function _onImageTooSmall() {\n\n\t\t\tvar error = this._options.statusImageTooSmall.replace('$0', this._options.minSize.width + ' \\xD7 ' + this._options.minSize.height);\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onOverWeightFile',\n\t\tvalue: function _onOverWeightFile() {\n\n\t\t\tvar error = this._options.statusFileSize.replace('$0', this._options.maxFileSize);\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onRemoteURLProblem',\n\t\tvalue: function _onRemoteURLProblem(error) {\n\t\t\tthis._throwError(error);\n\t\t}\n\t}, {\n\t\tkey: '_onFileOver',\n\t\tvalue: function _onFileOver(e) {\n\n\t\t\tthis._addState('file-over');\n\t\t\tthis._removeError();\n\n\t\t\t// animations\n\t\t\tvar drip = this._getDrip();\n\n\t\t\t// move around drip\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// on first entry fade in blob\n\t\t\tif (this._imageHopper.dragPath.length == 1) {\n\n\t\t\t\t// show\n\t\t\t\tdrip.style.opacity = 1;\n\n\t\t\t\t// animate in\n\t\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\topacity: .5,\n\t\t\t\t\tfromScale: [0, 0],\n\t\t\t\t\tscale: [.5, .5],\n\t\t\t\t\tduration: 150\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: '_onFileOut',\n\t\tvalue: function _onFileOut(e) {\n\n\t\t\tthis._removeState('file-over');\n\t\t\tthis._removeState('file-invalid');\n\t\t\tthis._removeError();\n\n\t\t\t// move to last position\n\t\t\tvar drip = this._getDrip();\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// animate out\n\t\t\tsnabbt(drip.firstChild, {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [0, 0],\n\t\t\t\tfromOpacity: .5,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 150,\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * When a file was literally dropped on the drop area\n   * @param e\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_onDropFile',\n\t\tvalue: function _onDropFile(e) {\n\t\t\tvar _this17 = this;\n\n\t\t\tthis._removeState('file-over');\n\n\t\t\t// get drip node reference and set to last position\n\t\t\tvar drip = this._getDrip();\n\t\t\tvar matrix = snabbt.createMatrix();\n\t\t\tmatrix.translate(e.detail.x, e.detail.y, 0);\n\t\t\tsnabbt.setElementTransform(drip, matrix);\n\n\t\t\t// get element minimum 10 entries distant from the last entry so we can calculate velocity of movement\n\t\t\tvar l = this._imageHopper.dragPath.length;\n\t\t\tvar jump = this._imageHopper.dragPath[l - Math.min(10, l)];\n\n\t\t\t// velocity\n\t\t\tvar dx = e.detail.x - jump.x;\n\t\t\tvar dy = e.detail.y - jump.y;\n\n\t\t\tsnabbt(drip, {\n\t\t\t\tfromPosition: [e.detail.x, e.detail.y, 0],\n\t\t\t\tposition: [e.detail.x + dx, e.detail.y + dy, 0],\n\t\t\t\tduration: 200\n\t\t\t});\n\n\t\t\t// animate out drip\n\t\t\tsnabbt(drip.firstChild, {\n\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [2, 2],\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tduration: 200,\n\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t// clean up transforms\n\t\t\t\t\tresetTransforms(drip.firstChild);\n\n\t\t\t\t\t// load dropped resource\n\t\t\t\t\t_this17._load(e.target.files[0]);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n   * When a file has been selected after a click on the drop area\n   * @param e\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_onChange',\n\t\tvalue: function _onChange(e) {\n\t\t\tif (e.target.files.length) {\n\t\t\t\tthis._load(e.target.files[0]);\n\t\t\t}\n\t\t}\n\n\t\t/**\n   * Loads a resource (blocking operation)\n   * @param resource\n   * @param callback(err)\n   * @param options\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_load',\n\t\tvalue: function _load(resource, callback, options) {\n\t\t\tvar _this18 = this;\n\n\t\t\t// stop here\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if currently contains image, remove it\n\t\t\tif (this.containsImage()) {\n\n\t\t\t\tclearTimeout(this._replaceTimeout);\n\n\t\t\t\tthis._doRemove(function () {\n\n\t\t\t\t\t_this18._replaceTimeout = setTimeout(function () {\n\t\t\t\t\t\t_this18._load(resource, callback, options);\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// no longer empty\n\t\t\tthis._removeState('empty');\n\t\t\tthis._addState('busy');\n\n\t\t\t// start loading indicator\n\t\t\tthis._startProgressLoop();\n\n\t\t\t// can't drop any other image while loading\n\t\t\tif (this._imageHopper) {\n\t\t\t\tthis._imageHopper.enabled = false;\n\t\t\t}\n\n\t\t\tclearTimeout(this._loadTimeout);\n\t\t\tvar load = function load() {\n\t\t\t\tclearTimeout(_this18._loadTimeout);\n\t\t\t\t_this18._loadTimeout = setTimeout(function () {\n\n\t\t\t\t\tif (_this18._isBeingDestroyed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._addState('loading');\n\n\t\t\t\t\tsnabbt(_this18._element.querySelector('.slim-label-loading'), {\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tduration: 250\n\t\t\t\t\t});\n\t\t\t\t}, 500);\n\t\t\t};\n\n\t\t\t// early exit\n\t\t\tvar exit = function exit() {\n\t\t\t\tif (_this18._imageHopper) {\n\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t}\n\t\t\t\t_this18._removeState('loading');\n\t\t\t\t_this18._removeState('busy');\n\t\t\t\t_this18._addState('empty');\n\t\t\t\t_this18._stopProgressLoop();\n\t\t\t};\n\n\t\t\t// turn string based resources (url / base64) into file objects\n\t\t\tif (typeof resource === 'string') {\n\n\t\t\t\tif (resourceIsBase64Data(resource)) {\n\t\t\t\t\t// resource is base64 data, turn into file\n\t\t\t\t\tthis._load(base64ToBlob(resource), callback, options);\n\t\t\t\t} else {\n\n\t\t\t\t\t// will take a while, show loading indicator\n\t\t\t\t\tload();\n\n\t\t\t\t\t// resource is url, load with XHR\n\t\t\t\t\tloadURL(resource, function (file) {\n\t\t\t\t\t\t// continue with file object\n\t\t\t\t\t\t_this18._load(file, callback, options);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// don't continue, wait for load\n\t\t\t\treturn;\n\t\t\t} else if (typeof resource.remote !== 'undefined' && this._options.fetcher) {\n\n\t\t\t\tloadRemoteURL(this._options.fetcher, resource.remote, function (error) {\n\n\t\t\t\t\texit();\n\n\t\t\t\t\t_this18._onRemoteURLProblem('<p>' + error + '</p>');\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, ['remote-url-problem']);\n\t\t\t\t\t}\n\t\t\t\t}, function (file) {\n\t\t\t\t\t// continue with file object\n\t\t\t\t\t_this18._load(file, callback, options);\n\t\t\t\t});\n\n\t\t\t\t// don't continue wait for server fetch\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// let's continue with file resource\n\t\t\tvar file = resource;\n\n\t\t\t// re-test if is valid file type\n\t\t\t// in case of loading base64 data or url\n\t\t\tif (this._imageHopper && this._imageHopper.accept.indexOf(file.type) === -1) {\n\n\t\t\t\texit();\n\n\t\t\t\tthis._onInvalidFile();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback.apply(this, ['file-invalid']);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// test if too big\n\t\t\tif (file.size && this._options.maxFileSize && bytesToMegaBytes(file.size) > this._options.maxFileSize) {\n\n\t\t\t\texit();\n\n\t\t\t\tthis._onOverWeightFile();\n\t\t\t\tif (callback) {\n\t\t\t\t\tcallback.apply(this, ['file-too-big']);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if has loaded image editor set to dirty\n\t\t\tif (this._imageEditor) {\n\t\t\t\tthis._imageEditor.dirty();\n\t\t\t}\n\n\t\t\t// continue\n\t\t\tthis._data.input.name = options && options.name ? options.name : getFileNameByFile(file);\n\t\t\tthis._data.input.type = getFileTypeByFile(file);\n\t\t\tthis._data.input.size = file.size;\n\t\t\tthis._data.input.file = file;\n\n\n\t\t\t// fetch resource\n\t\t\tgetImageAsCanvas(file, this._options.internalCanvasSize, function (image, meta) {\n\n\t\t\t\tvar rewind = function rewind() {\n\n\t\t\t\t\t// rewind state\n\t\t\t\t\tif (_this18._imageHopper) {\n\t\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._removeState('loading');\n\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t\t_this18._addState('empty');\n\t\t\t\t\t_this18._stopProgressLoop();\n\t\t\t\t\t_this18._resetData();\n\t\t\t\t};\n\n\t\t\t\t// if no image, something went wrong\n\t\t\t\tif (!image) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, ['file-not-found']);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// test if image is too small\n\t\t\t\tif (!covers(image, _this18._options.minSize)) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\t_this18._onImageTooSmall();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, ['image-too-small']);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar status = _this18._options.didLoad.apply(_this18, [file, image, meta, _this18]);\n\t\t\t\tif (status !== true) {\n\n\t\t\t\t\trewind();\n\n\t\t\t\t\tif (status !== false) {\n\t\t\t\t\t\t_this18._throwError(status);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this18, [status]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// done loading file\n\t\t\t\t_this18._removeState('loading');\n\n\t\t\t\tvar revealCanvas = function revealCanvas(done) {\n\n\t\t\t\t\t// done, enable hopper\n\t\t\t\t\tif (_this18._imageHopper && _this18._options.dropReplace) {\n\t\t\t\t\t\t_this18._imageHopper.enabled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// do intro stuff\n\t\t\t\t\tvar intro = _this18._getIntro();\n\n\t\t\t\t\t// setup base animation\n\t\t\t\t\tvar animation = {\n\t\t\t\t\t\tfromScale: [1.25, 1.25],\n\t\t\t\t\t\tscale: [1, 1],\n\t\t\t\t\t\tfromOpacity: 0,\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\t\t\tresetTransforms(intro);\n\n\t\t\t\t\t\t\tintro.style.opacity = 1;\n\n\t\t\t\t\t\t\tdone();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t};\n\n\t\t\t\t\t// if not attached to DOM, don't animate\n\t\t\t\t\tif (_this18.isDetached()) {\n\t\t\t\t\t\tanimation.duration = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tanimation.easing = 'spring';\n\t\t\t\t\t\tanimation.springConstant = .3;\n\t\t\t\t\t\tanimation.springDeceleration = .7;\n\t\t\t\t\t}\n\n\t\t\t\t\t// if is instant edit mode don't zoom out but zoom in\n\t\t\t\t\tif (_this18._canInstantEdit()) {\n\t\t\t\t\t\tanimation.delay = 500;\n\t\t\t\t\t\tanimation.duration = 1;\n\n\t\t\t\t\t\t// instant edit mode just fire up the editor immidiately\n\t\t\t\t\t\t_this18._doEdit();\n\t\t\t\t\t}\n\n\t\t\t\t\t// reveal loaded image\n\t\t\t\t\tsnabbt(intro, animation);\n\t\t\t\t};\n\n\t\t\t\t// load the image\n\t\t\t\t_this18._loadCanvas(image,\n\n\t\t\t\t// done loading the canvas\n\t\t\t\tfunction (isUploading) {\n\n\t\t\t\t\t_this18._addState('preview');\n\n\t\t\t\t\trevealCanvas(function () {\n\n\t\t\t\t\t\t// don't show buttons when instant editing\n\t\t\t\t\t\t// the buttons will be triggered by the closing of the popup\n\t\t\t\t\t\tif (!_this18._canInstantEdit() && !isUploading) {\n\t\t\t\t\t\t\t_this18._showButtons();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!isUploading) {\n\t\t\t\t\t\t\t_this18._stopProgressLoop();\n\t\t\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback.apply(_this18, [null, _this18.data]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t// done uploading\n\t\t\t\tfunction () {\n\n\t\t\t\t\t// don't show buttons when instant editing\n\t\t\t\t\tif (!_this18._canInstantEdit()) {\n\t\t\t\t\t\t_this18._showButtons();\n\t\t\t\t\t}\n\n\t\t\t\t\t_this18._removeState('busy');\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_loadCanvas',\n\t\tvalue: function _loadCanvas(image, ready, complete) {\n\t\t\tvar _this19 = this;\n\n\t\t\t// halt here if cropper is currently being destroyed\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// store raw data\n\t\t\tthis._data.input.image = image;\n\t\t\tthis._data.input.width = image.width;\n\t\t\tthis._data.input.height = image.height;\n\n\t\t\tif (this._initialRotation) {\n\t\t\t\tthis._data.actions.rotation = this._initialRotation;\n\t\t\t\tthis._initialRotation = null;\n\t\t\t}\n\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\t// scales the drop area\n\t\t\t// if is 'input' or 'free' parameter\n\t\t\tif (!this._isFixedRatio()) {\n\t\t\t\tif (this._initialCrop) {\n\t\t\t\t\tthis._ratio = this._initialCrop.height / this._initialCrop.width;\n\t\t\t\t} else {\n\t\t\t\t\tthis._ratio = isTilted ? image.width / image.height : image.height / image.width;\n\t\t\t\t}\n\t\t\t\tthis._scaleDropArea(this._ratio);\n\t\t\t}\n\n\t\t\tif (this._initialCrop) {\n\n\t\t\t\t// use initial supplied crop rectangle\n\t\t\t\tthis._data.actions.crop = clone(this._initialCrop);\n\t\t\t\tthis._data.actions.crop.type = CropType.INITIAL;\n\n\t\t\t\t// clear initial crop, it's no longer useful\n\t\t\t\tthis._initialCrop = null;\n\t\t\t} else {\n\t\t\t\t// get automagical crop rectangle\n\t\t\t\tthis._data.actions.crop = getAutoCropRect(isTilted ? image.height : image.width, isTilted ? image.width : image.height, this._ratio);\n\t\t\t\tthis._data.actions.crop.type = CropType.AUTO;\n\t\t\t}\n\n\t\t\t// if max size set\n\t\t\tif (this._options.size) {\n\t\t\t\tthis._data.actions.size = {\n\t\t\t\t\twidth: this._options.size.width,\n\t\t\t\t\theight: this._options.size.height\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// do initial auto transform\n\t\t\tthis._applyTransforms(image, function (transformedImage) {\n\n\t\t\t\tvar intro = _this19._getIntro();\n\t\t\t\tvar scalar = intro.offsetWidth / transformedImage.width;\n\n\t\t\t\t// store data, if has preview image this prevents initial load from pushing\n\t\t\t\tvar willUpload = false;\n\n\t\t\t\t// can only do auto upload when service is defined and push is enabled...\n\t\t\t\tif (_this19._options.service && _this19._options.push) {\n\n\t\t\t\t\t// ...and is not transformation of initial image\n\t\t\t\t\t// + is not instant edit mode\n\t\t\t\t\tif (!_this19._hasInitialImage && !_this19._canInstantEdit()) {\n\t\t\t\t\t\twillUpload = true;\n\t\t\t\t\t\t_this19._stopProgressLoop(function () {\n\t\t\t\t\t\t\t_this19._startProgress(function () {\n\t\t\t\t\t\t\t\t_this19._updateProgress(.1);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// no service set, and instant edit\n\t\t\t\tif (!_this19._canInstantEdit()) {\n\n\t\t\t\t\t// store data (possibly)\n\t\t\t\t\t_this19._save(function () {\n\t\t\t\t\t\tif (_this19._isBeingDestroyed) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t\t_this19._stopProgress();\n\t\t\t\t\t\t\tcomplete();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, willUpload);\n\t\t\t\t}\n\n\t\t\t\t// show intro animation\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, scalar).toDataURL();\n\t\t\t\tintro.onload = function () {\n\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// bail out if we've been cleaned up\n\t\t\t\t\tif (_this19._isBeingDestroyed) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ready) {\n\t\t\t\t\t\tready(willUpload);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_applyTransforms',\n\t\tvalue: function _applyTransforms(image, ready) {\n\t\t\tvar _this20 = this;\n\n\t\t\tvar actions = clone(this._data.actions);\n\t\t\tactions.filters = {\n\t\t\t\tsharpen: this._options.filterSharpen / 100\n\t\t\t};\n\t\t\tactions.minSize = this._options.minSize;\n\n\t\t\ttransformCanvas(image, actions, function (transformedImage) {\n\n\t\t\t\tvar outputImage = transformedImage;\n\n\t\t\t\t// if should force/correct output size?\n\t\t\t\t// - is forced size set?\n\t\t\t\t// - is a discrepancy found between requested output size and transformed size\n\t\t\t\tif (_this20._options.forceSize || _this20._options.size && sizeDist(_this20._options.size, transformedImage) == 1) {\n\t\t\t\t\toutputImage = create('canvas');\n\t\t\t\t\toutputImage.width = _this20._options.size.width;\n\t\t\t\t\toutputImage.height = _this20._options.size.height;\n\t\t\t\t\tvar ctx = outputImage.getContext('2d');\n\t\t\t\t\tctx.drawImage(transformedImage, 0, 0, _this20._options.size.width, _this20._options.size.height);\n\t\t\t\t}\n\n\t\t\t\t// make sure min size is respected when size is equal to min size\n\t\t\t\tif (_this20._options.size && _this20._options.minSize.width === _this20._options.size.width && _this20._options.minSize.height === _this20._options.size.height && (outputImage.width < _this20._options.minSize.width || outputImage.height < _this20._options.minSize.height)) {\n\n\t\t\t\t\tvar w = Math.max(outputImage.width, _this20._options.minSize.width);\n\t\t\t\t\tvar h = Math.max(outputImage.height, _this20._options.minSize.height);\n\t\t\t\t\toutputImage = create('canvas');\n\t\t\t\t\toutputImage.width = w;\n\t\t\t\t\toutputImage.height = h;\n\t\t\t\t\tvar _ctx = outputImage.getContext('2d');\n\t\t\t\t\t_ctx.drawImage(transformedImage, 0, 0, w, h);\n\t\t\t\t}\n\n\t\t\t\t// store output\n\t\t\t\t_this20._data.output.width = outputImage.width;\n\t\t\t\t_this20._data.output.height = outputImage.height;\n\t\t\t\t_this20._data.output.image = outputImage;\n\n\t\t\t\t_this20._onTransformCanvas(function (transformedData) {\n\n\t\t\t\t\t_this20._data = transformedData;\n\n\t\t\t\t\t_this20._options.didTransform.apply(_this20, [_this20.data, _this20]);\n\n\t\t\t\t\tready(_this20._data.output.image);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_onTransformCanvas',\n\t\tvalue: function _onTransformCanvas(ready) {\n\n\t\t\tthis._options.willTransform.apply(this, [this.data, ready, this]);\n\t\t}\n\n\t\t/**\n   * Creates the editor nodes\n   * @private\n   */\n\n\t}, {\n\t\tkey: '_appendEditor',\n\t\tvalue: function _appendEditor() {\n\t\t\tvar _this21 = this;\n\n\t\t\t// we already have an editor\n\t\t\tif (this._imageEditor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// add editor\n\t\t\tthis._imageEditor = new ImageEditor(create('div'), {\n\t\t\t\tminSize: this._options.minSize,\n\n\t\t\t\tbuttonConfirmClassName: this._options.buttonConfirmClassName,\n\t\t\t\tbuttonCancelClassName: this._options.buttonCancelClassName,\n\t\t\t\tbuttonRotateClassName: this._options.buttonRotateClassName,\n\n\t\t\t\tbuttonConfirmLabel: this._options.buttonConfirmLabel,\n\t\t\t\tbuttonCancelLabel: this._options.buttonCancelLabel,\n\t\t\t\tbuttonRotateLabel: this._options.buttonRotateLabel,\n\n\t\t\t\tbuttonConfirmTitle: this._options.buttonConfirmTitle,\n\t\t\t\tbuttonCancelTitle: this._options.buttonCancelTitle,\n\t\t\t\tbuttonRotateTitle: this._options.buttonRotateTitle\n\n\t\t\t});\n\n\t\t\t// listen to events\n\t\t\tImageEditorEvents.forEach(function (e) {\n\t\t\t\t_this21._imageEditor.element.addEventListener(e, _this21);\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_scaleDropArea',\n\t\tvalue: function _scaleDropArea(ratio) {\n\t\t\tvar node = this._getRatioSpacerElement();\n\t\t\tif (!node || !this._element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnode.style.marginBottom = ratio * 100 + '%';\n\t\t\tthis._element.setAttribute('data-ratio', '1:' + ratio);\n\t\t}\n\n\t\t/**\n   * Data Layer\n   * @private\n   */\n\t\t// image editor closed\n\n\t}, {\n\t\tkey: '_onCancel',\n\t\tvalue: function _onCancel(e) {\n\n\t\t\tthis._removeState('editor');\n\n\t\t\tthis._options.didCancel.apply(this, [this]);\n\n\t\t\tthis._showButtons();\n\n\t\t\tthis._hideEditor();\n\n\t\t\tif (this._options.instantEdit && !this._hasInitialImage && this._isAutoCrop()) {\n\t\t\t\tthis._doRemove();\n\t\t\t}\n\t\t}\n\n\t\t// user confirmed changes\n\n\t}, {\n\t\tkey: '_onConfirm',\n\t\tvalue: function _onConfirm(e) {\n\t\t\tvar _this22 = this;\n\n\t\t\t// if\n\t\t\t// - service set\n\t\t\t// - and we are pushing\n\t\t\t// - and we don't instant edit\n\t\t\t// we will upload\n\t\t\tvar willUpload = this._options.service && this._options.push;\n\t\t\tif (willUpload) {\n\t\t\t\tthis._startProgress(function () {\n\t\t\t\t\t_this22._updateProgress(.1);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._startProgressLoop();\n\t\t\t}\n\n\t\t\tthis._removeState('editor');\n\n\t\t\tthis._addState('busy');\n\n\t\t\t// clear data\n\t\t\tthis._output.value = '';\n\n\t\t\t// apply new action object to this._data\n\t\t\tthis._data.actions.rotation = e.detail.rotation;\n\t\t\tthis._data.actions.crop = e.detail.crop;\n\t\t\tthis._data.actions.crop.type = CropType.MANUAL;\n\n\t\t\t// do transforms\n\t\t\tthis._applyTransforms(this._data.input.image, function (transformedImage) {\n\n\t\t\t\t// user confirmed the crop (and changes have been applied to data)\n\t\t\t\t_this22._options.didConfirm.apply(_this22, [_this22.data, _this22]);\n\n\t\t\t\t// set new image result\n\t\t\t\tvar images = _this22._getInOut();\n\t\t\t\tvar intro = images[0].className === 'out' ? images[0] : images[1];\n\t\t\t\tvar outro = intro === images[0] ? images[1] : images[0];\n\n\t\t\t\tintro.className = 'in';\n\t\t\t\tintro.style.opacity = '0';\n\t\t\t\tintro.style.zIndex = '2';\n\t\t\t\toutro.className = 'out';\n\t\t\t\toutro.style.zIndex = '1';\n\n\t\t\t\t// new image get's\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, intro.offsetWidth / transformedImage.width).toDataURL();\n\t\t\t\tintro.onload = function () {\n\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// scale the dropzone\n\t\t\t\t\tif (_this22._options.ratio === 'free') {\n\t\t\t\t\t\t_this22._ratio = intro.naturalHeight / intro.naturalWidth;\n\t\t\t\t\t\t_this22._scaleDropArea(_this22._ratio);\n\t\t\t\t\t}\n\n\t\t\t\t\t// close the editor\n\t\t\t\t\t_this22._hideEditor();\n\n\t\t\t\t\t// wait a tiny bit so animations sync up nicely\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\t// show the preview\n\t\t\t\t\t\t_this22._showPreview(intro, function () {\n\n\t\t\t\t\t\t\t// save the data\n\t\t\t\t\t\t\t_this22._save(function (err, data, res) {\n\n\t\t\t\t\t\t\t\t// done!\n\t\t\t\t\t\t\t\t_this22._toggleButton('upload', true);\n\n\t\t\t\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t\t\t\t_this22._stopProgress();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t_this22._stopProgressLoop();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_this22._removeState('busy');\n\n\t\t\t\t\t\t\t\t_this22._showButtons();\n\t\t\t\t\t\t\t}, willUpload);\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this22._timers.push(timer);\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_cropAuto',\n\t\tvalue: function _cropAuto() {\n\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function (data) {};\n\n\n\t\t\tvar isTilted = this._data.actions.rotation % 180 !== 0;\n\n\t\t\tvar rect = getAutoCropRect(isTilted ? this._data.input.image.width : this._data.input.image.height, isTilted ? this._data.input.image.height : this._data.input.image.width, this._ratio);\n\n\t\t\tthis._crop(rect.x, rect.y, rect.width, rect.height, callback, CropType.AUTO);\n\t\t}\n\t}, {\n\t\tkey: '_crop',\n\t\tvalue: function _crop(x, y, width, height) {\n\t\t\tvar callback = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function (data) {};\n\t\t\tvar cropType = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : CropType.MANUAL;\n\n\n\t\t\t// clear data\n\t\t\tthis._output.value = '';\n\n\t\t\t// apply new action object to this._data\n\t\t\tthis._data.actions.crop = {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis._data.actions.crop.type = cropType;\n\n\t\t\tthis._manualTransform(callback);\n\t\t}\n\t}, {\n\t\tkey: '_manualTransform',\n\t\tvalue: function _manualTransform(callback) {\n\t\t\tvar _this23 = this;\n\n\t\t\tthis._startProgressLoop();\n\t\t\tthis._addState('busy');\n\n\t\t\t// do transforms\n\t\t\tthis._applyTransforms(this._data.input.image, function (transformedImage) {\n\n\t\t\t\t// set new image result\n\t\t\t\tvar images = _this23._getInOut();\n\t\t\t\tvar intro = images[0].className === 'out' ? images[0] : images[1];\n\t\t\t\tvar outro = intro === images[0] ? images[1] : images[0];\n\n\t\t\t\tintro.className = 'in';\n\t\t\t\tintro.style.opacity = '1';\n\t\t\t\tintro.style.zIndex = '2';\n\t\t\t\toutro.className = 'out';\n\t\t\t\toutro.style.zIndex = '0';\n\n\t\t\t\t// new image\n\t\t\t\tintro.src = '';\n\t\t\t\tintro.src = cloneCanvasScaled(transformedImage, intro.offsetWidth / transformedImage.width).toDataURL();\n\t\t\t\tintro.onload = function () {\n\t\t\t\t\tintro.onload = null;\n\n\t\t\t\t\t// scale the dropzone\n\t\t\t\t\tif (_this23._options.ratio === 'free') {\n\t\t\t\t\t\t_this23._ratio = intro.naturalHeight / intro.naturalWidth;\n\t\t\t\t\t\t_this23._scaleDropArea(_this23._ratio);\n\t\t\t\t\t}\n\n\t\t\t\t\t// determine if will also upload\n\t\t\t\t\tvar willUpload = _this23._options.service && _this23._options.push;\n\n\t\t\t\t\tvar save = function save() {\n\n\t\t\t\t\t\t// save the data\n\t\t\t\t\t\t_this23._save(function (err, data, res) {\n\n\t\t\t\t\t\t\t// stop loader\n\t\t\t\t\t\t\tif (!willUpload) {\n\t\t\t\t\t\t\t\t_this23._stopProgressLoop();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t_this23._removeState('busy');\n\n\t\t\t\t\t\t\tcallback.apply(_this23, [_this23.data]);\n\t\t\t\t\t\t}, willUpload);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (willUpload) {\n\t\t\t\t\t\t_this23._startProgress(save);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_save',\n\t\tvalue: function _save() {\n\t\t\tvar _this24 = this;\n\n\t\t\tvar callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\t\t\tvar allowUpload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// flatten data also turns output canvas into data uri\n\t\t\t// removes input file object and image object\n\t\t\tvar data = this.dataBase64;\n\n\t\t\t// decide if we need to\n\t\t\t// - A. Store the data in an output field\n\t\t\t// - B. Upload the data and store the response in output field\n\n\t\t\t// - we are not doing async uploading (in which case output is used for response)\n\t\t\t// - we are not initialising a replaceable image\n\t\t\tif (!this._options.service && !(this._isInitialising && !this._isImageOnly())) {\n\n\t\t\t\tthis._options.willSave.apply(this, [data, function (data) {\n\n\t\t\t\t\t_this24._store(data);\n\n\t\t\t\t\t_this24._options.didSave.apply(_this24, [data, _this24]);\n\t\t\t\t}, this]);\n\t\t\t}\n\n\t\t\tif (this._isBeingDestroyed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// is remote service defined upload async\n\t\t\tif (this._options.service && allowUpload) {\n\n\t\t\t\t// allow user to modify the data\n\t\t\t\tthis._options.willSave.apply(this, [data, function (data) {\n\n\t\t\t\t\t_this24._addState('upload');\n\n\t\t\t\t\tif (_this24._imageHopper && _this24._options.dropReplace) {\n\t\t\t\t\t\t_this24._imageHopper.enabled = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// do the actual uploading\n\t\t\t\t\t_this24._upload(data, function (err, res) {\n\n\t\t\t\t\t\tif (_this24._imageHopper && _this24._options.dropReplace) {\n\t\t\t\t\t\t\t_this24._imageHopper.enabled = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// store response\n\t\t\t\t\t\tif (!err) {\n\t\t\t\t\t\t\t_this24._storeServerResponse(res);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// we did upload data\n\t\t\t\t\t\t_this24._options.didUpload.apply(_this24, [err, data, res, _this24]);\n\n\t\t\t\t\t\t_this24._removeState('upload');\n\n\t\t\t\t\t\t// done!\n\t\t\t\t\t\tcallback(err, data, res);\n\t\t\t\t\t});\n\t\t\t\t}, this]);\n\t\t\t}\n\n\t\t\t// if no service, we're done here\n\t\t\tif (!this._options.service || !allowUpload) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\n\t\t// stores active file information in hidden output field\n\n\t}, {\n\t\tkey: '_storeServerResponse',\n\t\tvalue: function _storeServerResponse(data) {\n\n\t\t\t// remove required flag\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = false;\n\t\t\t}\n\n\t\t\t// store data returned from server\n\t\t\tthis._data.server = data;\n\n\t\t\t// sync with output value\n\t\t\tthis._output.value = (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' ? JSON.stringify(this._data.server) : data;\n\t\t}\n\n\t\t// stores data in output field\n\n\t}, {\n\t\tkey: '_store',\n\t\tvalue: function _store(data) {\n\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = false;\n\t\t\t}\n\n\t\t\tthis._output.value = JSON.stringify(data);\n\t\t}\n\n\t\t// uploads given data to server\n\n\t}, {\n\t\tkey: '_upload',\n\t\tvalue: function _upload(data, callback) {\n\t\t\tvar _this25 = this;\n\n\t\t\t// done parsing input file\n\t\t\tvar inputParsed = function inputParsed(imageData) {\n\n\t\t\t\tvar fileData = [];\n\t\t\t\tvar formData = new FormData();\n\n\t\t\t\t// if input should be posted along, append data\n\t\t\t\t// to FormData object as file\n\t\t\t\tif (inArray('input', _this25._options.post)) {\n\n\t\t\t\t\t// add to data array\n\t\t\t\t\tfileData.push(_this25._data.input.file);\n\n\t\t\t\t\t// add to formdata\n\t\t\t\t\tformData.append(_this25._inputReference, _this25._data.input.file, _this25._data.input.file.name);\n\t\t\t\t}\n\n\t\t\t\t// if image data is defined, turn it into a file object (we can send files if we're uploading)\n\t\t\t\tif (inArray('output', _this25._options.post) && _this25._data.output.image !== null && _this25._options.uploadBase64 === false) {\n\t\t\t\t\tvar output = base64ToBlob(data.output.image, data.output.name);\n\n\t\t\t\t\t// if image head available, inject in output\n\t\t\t\t\tif (imageData.imageHead && _this25._options.copyImageHead) {\n\n\t\t\t\t\t\ttry {\n\n\t\t\t\t\t\t\toutput = new Blob([imageData.imageHead, loadImage.blobSlice.call(output, 20)], { type: getMimeTypeFromDataURI(data.output.image) });\n\n\t\t\t\t\t\t\toutput = blobToFile(output, data.output.name);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add to data array\n\t\t\t\t\tfileData.push(output);\n\n\t\t\t\t\t// add to formdata\n\t\t\t\t\tvar field = 'slim_output_' + _this25._uid;\n\t\t\t\t\tdata.output.image = null;\n\t\t\t\t\tdata.output.field = field;\n\t\t\t\t\tformData.append(field, output, data.output.name);\n\t\t\t\t}\n\n\t\t\t\t// output dataset\n\t\t\t\tformData.append(_this25._output.name, JSON.stringify(data));\n\n\t\t\t\tvar statusNode = _this25._element.querySelector('.slim-upload-status');\n\n\t\t\t\tvar requestDecorator = _this25._options.willRequest;\n\n\t\t\t\t// callback methods\n\t\t\t\tvar onProgress = function onProgress(loaded, total) {\n\t\t\t\t\t_this25._updateProgress(Math.max(.1, loaded / total));\n\t\t\t\t};\n\n\t\t\t\tvar onSuccess = function onSuccess(obj) {\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\t// it's possible that Slim has been destroyed in the mean time.\n\t\t\t\t\t\tif (_this25._isBeingDestroyed) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstatusNode.innerHTML = _this25._options.statusUploadSuccess;\n\t\t\t\t\t\tstatusNode.setAttribute('data-state', 'success');\n\t\t\t\t\t\tstatusNode.style.opacity = 1;\n\n\t\t\t\t\t\t// hide status update after 2 seconds\n\t\t\t\t\t\tvar timer = setTimeout(function () {\n\t\t\t\t\t\t\tstatusNode.style.opacity = 0;\n\t\t\t\t\t\t}, 2000);\n\n\t\t\t\t\t\t_this25._timers.push(timer);\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this25._timers.push(timer);\n\n\t\t\t\t\tcallback(null, obj);\n\t\t\t\t};\n\n\t\t\t\tvar onError = function onError(status) {\n\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (status === 'file-too-big') {\n\t\t\t\t\t\thtml = _this25._options.statusContentLength;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = _this25._options.didReceiveServerError.apply(_this25, [status, _this25._options.statusUnknownResponse, _this25]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// when an error occurs the status update is not automatically hidden\n\t\t\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\t\t\tstatusNode.innerHTML = html;\n\t\t\t\t\t\tstatusNode.setAttribute('data-state', 'error');\n\t\t\t\t\t\tstatusNode.style.opacity = 1;\n\t\t\t\t\t}, 250);\n\n\t\t\t\t\t_this25._timers.push(timer);\n\n\t\t\t\t\tcallback(status);\n\t\t\t\t};\n\n\t\t\t\t// use default send method or custom implementation\n\t\t\t\tif (typeof _this25._options.service === 'string') {\n\t\t\t\t\tsend(_this25._options.service, formData, requestDecorator, onProgress, onSuccess, onError);\n\t\t\t\t} else if (typeof _this25._options.service === 'function') {\n\t\t\t\t\t_this25._options.service.apply(_this25, [_this25._options.serviceFormat === 'file' ? fileData : formData, onProgress, // function(loaded, total) {}   // loaded bytes (number), total bytes (number)\n\t\t\t\t\tonSuccess, // function(response) {} \t\t// response (object or string)\n\t\t\t\t\tonError // function(error) {} \t\t\t// error message (string)\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// copy the meta data of the original file to the output\n\t\t\tloadImage.parseMetaData(this._data.input.file, inputParsed, {\n\t\t\t\tmaxMetaDataSize: 262144,\n\t\t\t\tdisableImageHead: false\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_showEditor',\n\t\tvalue: function _showEditor() {\n\n\t\t\tSlimPopover.className = this._options.popoverClassName;\n\n\t\t\tSlimPopover.show();\n\n\t\t\tthis._imageEditor.show();\n\t\t}\n\t}, {\n\t\tkey: '_hideEditor',\n\t\tvalue: function _hideEditor() {\n\n\t\t\tthis._imageEditor.hide();\n\n\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\tSlimPopover.hide();\n\t\t\t}, 250);\n\n\t\t\tthis._timers.push(timer);\n\t\t}\n\n\t\t/**\n   * Animations\n   */\n\n\t}, {\n\t\tkey: '_showPreview',\n\t\tvalue: function _showPreview(intro, callback) {\n\n\t\t\tsnabbt(intro, {\n\n\t\t\t\tfromPosition: [0, 50, 0],\n\t\t\t\tposition: [0, 0, 0],\n\n\t\t\t\tfromScale: [1.5, 1.5],\n\t\t\t\tscale: [1, 1],\n\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\n\t\t\t\teasing: 'spring',\n\t\t\t\tspringConstant: .3,\n\t\t\t\tspringDeceleration: .7,\n\n\t\t\t\tcomplete: function complete() {\n\n\t\t\t\t\tresetTransforms(intro);\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_hideResult',\n\t\tvalue: function _hideResult(callback) {\n\n\t\t\tvar intro = this._getIntro();\n\t\t\tif (!intro) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsnabbt(intro, {\n\n\t\t\t\tfromScale: [1, 1],\n\t\t\t\tscale: [.5, .5],\n\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\n\t\t\t\teasing: 'spring',\n\t\t\t\tspringConstant: .3,\n\t\t\t\tspringDeceleration: .75,\n\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\tresetTransforms(intro);\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_showButtons',\n\t\tvalue: function _showButtons(callback) {\n\n\t\t\tif (!this._btnGroup) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._btnGroup.style.display = '';\n\n\t\t\t// setup animation\n\t\t\tvar animation = {\n\t\t\t\tfromScale: [.5, .5],\n\t\t\t\tscale: [1, 1],\n\t\t\t\tfromPosition: [0, 10, 0],\n\t\t\t\tposition: [0, 0, 0],\n\t\t\t\tfromOpacity: 0,\n\t\t\t\topacity: 1,\n\t\t\t\tcomplete: function complete() {\n\t\t\t\t\tresetTransforms(this);\n\t\t\t\t},\n\t\t\t\tallDone: function allDone() {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// don't animate when detached\n\t\t\tif (this.isDetached()) {\n\t\t\t\tanimation.duration = 1;\n\t\t\t} else {\n\t\t\t\tanimation.delay = function (i) {\n\t\t\t\t\treturn 250 + i * 50;\n\t\t\t\t};\n\t\t\t\tanimation.easing = 'spring';\n\t\t\t\tanimation.springConstant = .3;\n\t\t\t\tanimation.springDeceleration = .85;\n\t\t\t}\n\n\t\t\tsnabbt(this._btnGroup.childNodes, animation);\n\t\t}\n\t}, {\n\t\tkey: '_hideButtons',\n\t\tvalue: function _hideButtons(callback) {\n\t\t\tvar _this26 = this;\n\n\t\t\tif (!this._btnGroup) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar animation = {\n\t\t\t\tfromScale: [1, 1],\n\t\t\t\tscale: [.85, .85],\n\t\t\t\tfromOpacity: 1,\n\t\t\t\topacity: 0,\n\t\t\t\tallDone: function allDone() {\n\t\t\t\t\t_this26._btnGroup.style.display = 'none';\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// don't animate when detached\n\t\t\tif (this.isDetached()) {\n\t\t\t\tanimation.duration = 1;\n\t\t\t} else {\n\t\t\t\tanimation.easing = 'spring';\n\t\t\t\tanimation.springConstant = .3;\n\t\t\t\tanimation.springDeceleration = .75;\n\t\t\t}\n\n\t\t\t// go hide the buttons\n\t\t\tsnabbt(this._btnGroup.childNodes, animation);\n\t\t}\n\t}, {\n\t\tkey: '_hideStatus',\n\t\tvalue: function _hideStatus() {\n\n\t\t\tvar statusNode = this._element.querySelector('.slim-upload-status');\n\t\t\tstatusNode.style.opacity = 0;\n\t\t}\n\t}, {\n\t\tkey: '_doEdit',\n\t\tvalue: function _doEdit() {\n\t\t\tvar _this27 = this;\n\n\t\t\t// if no input data available, can't edit anything\n\t\t\tif (!this._data.input.image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// now in editor mode\n\t\t\tthis._addState('editor');\n\n\t\t\t// create editor (if not already created)\n\t\t\tif (!this._imageEditor) {\n\t\t\t\tthis._appendEditor();\n\t\t\t}\n\n\t\t\t// hide or show rotate button\n\t\t\tthis._imageEditor.showRotateButton = this._options.rotateButton;\n\n\t\t\t// append to popover\n\t\t\tSlimPopover.inner = this._imageEditor.element;\n\n\t\t\t// read the data\n\t\t\tthis._imageEditor.open(\n\n\t\t\t// send copy of canvas to the editor\n\t\t\tcloneCanvas(this._data.input.image),\n\n\t\t\t// determine ratio\n\t\t\tthis._options.ratio === 'free' ? null : this._ratio,\n\n\t\t\t// the initial crop to show\n\t\t\tthis._data.actions.crop,\n\n\t\t\t// the initial rotation of the image\n\t\t\tthis._data.actions.rotation,\n\n\t\t\t// handle editor load\n\t\t\tfunction () {\n\n\t\t\t\t_this27._showEditor();\n\n\t\t\t\t_this27._hideButtons();\n\n\t\t\t\t_this27._hideStatus();\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_doRemove',\n\t\tvalue: function _doRemove(done) {\n\t\t\tvar _this28 = this;\n\n\t\t\t// cannot remove when is only one image\n\t\t\tif (this._isImageOnly()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._clearState();\n\t\t\tthis._addState('empty');\n\n\t\t\tthis._hasInitialImage = false;\n\t\t\tif (this._imageHopper) {\n\t\t\t\tthis._imageHopper.enabled = true;\n\t\t\t}\n\n\t\t\tif (this._isRequired) {\n\t\t\t\tthis._input.required = true;\n\t\t\t}\n\n\t\t\tvar out = this._getOutro();\n\t\t\tif (out) {\n\t\t\t\tout.style.opacity = '0';\n\t\t\t}\n\n\t\t\t// get public available clone of data\n\t\t\tvar data = this.data;\n\n\t\t\t// now reset all data\n\t\t\tthis._resetData();\n\n\t\t\tvar timer = setTimeout(function () {\n\n\t\t\t\tif (_this28._isBeingDestroyed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this28._hideButtons(function () {\n\n\t\t\t\t\t_this28._toggleButton('upload', true);\n\t\t\t\t});\n\n\t\t\t\t_this28._hideStatus();\n\n\t\t\t\t_this28._hideResult();\n\n\t\t\t\t_this28._options.didRemove.apply(_this28, [data, _this28]);\n\n\t\t\t\tif (done) {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\t\t\t}, this.isDetached() ? 0 : 250);\n\n\t\t\tthis._timers.push(timer);\n\n\t\t\treturn data;\n\t\t}\n\t}, {\n\t\tkey: '_doUpload',\n\t\tvalue: function _doUpload(callback) {\n\t\t\tvar _this29 = this;\n\n\t\t\t// if no input data available, can't upload anything\n\t\t\tif (!this._data.input.image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._addState('upload');\n\t\t\tthis._startProgress();\n\n\t\t\tthis._hideButtons(function () {\n\n\t\t\t\t// block upload button\n\t\t\t\t_this29._toggleButton('upload', false);\n\n\t\t\t\t_this29._save(function (err, data, res) {\n\n\t\t\t\t\t_this29._removeState('upload');\n\t\t\t\t\t_this29._stopProgress();\n\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(_this29, [err, data, res]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\t_this29._toggleButton('upload', true);\n\t\t\t\t\t}\n\n\t\t\t\t\t_this29._showButtons();\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '_doDownload',\n\t\tvalue: function _doDownload() {\n\n\t\t\tvar image = this._data.output.image;\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdownloadCanvas(this._data, this._options.jpegCompression, this._options.forceType);\n\t\t}\n\t}, {\n\t\tkey: '_doDestroy',\n\t\tvalue: function _doDestroy() {\n\t\t\tvar _this30 = this;\n\n\t\t\t// set destroy flag to halt any running functionality\n\t\t\tthis._isBeingDestroyed = true;\n\n\t\t\t// clear timers\n\t\t\tthis._timers.forEach(function (timer) {\n\t\t\t\tclearTimeout(timer);\n\t\t\t});\n\t\t\tthis._timers = [];\n\n\t\t\t// clean up snabbt animations\n\t\t\tsnabbt(this._element, 'detach');\n\n\t\t\t// this removes the image hopper if it's attached\n\t\t\tif (this._imageHopper) {\n\t\t\t\tHopperEvents.forEach(function (e) {\n\t\t\t\t\t_this30._imageHopper.element.removeEventListener(e, _this30);\n\t\t\t\t});\n\t\t\t\tthis._imageHopper.destroy();\n\t\t\t\tthis._imageHopper = null;\n\t\t\t}\n\n\t\t\t// this block removes the image editor\n\t\t\tif (this._imageEditor) {\n\t\t\t\tImageEditorEvents.forEach(function (e) {\n\t\t\t\t\t_this30._imageEditor.element.removeEventListener(e, _this30);\n\t\t\t\t});\n\t\t\t\tthis._imageEditor.destroy();\n\t\t\t\tthis._imageEditor = null;\n\t\t\t}\n\n\t\t\t// remove button event listeners\n\t\t\tnodeListToArray(this._btnGroup.children).forEach(function (btn) {\n\t\t\t\tbtn.removeEventListener('click', _this30);\n\t\t\t});\n\n\t\t\t// stop listening to input\n\t\t\tthis._input.removeEventListener('change', this);\n\n\t\t\t// detect if was wrapped, if so, remove wrapping (needs to have parent node)\n\t\t\tif (this._element !== this._originalElement && this._element.parentNode) {\n\t\t\t\tthis._element.parentNode.replaceChild(this._originalElement, this._element);\n\t\t\t}\n\n\t\t\t// restore HTML of original element\n\t\t\tthis._originalElement.innerHTML = this._originalElementInner;\n\n\t\t\t// get current attributes and remove all, then add original attributes\n\t\t\tfunction matchesAttributeInList(a, attributes) {\n\t\t\t\treturn attributes.filter(function (attr) {\n\t\t\t\t\treturn a.name === attr.name && a.value === attr.value;\n\t\t\t\t}).length !== 0;\n\t\t\t}\n\n\t\t\tvar attributes = getElementAttributes(this._originalElement);\n\t\t\tattributes.forEach(function (attribute) {\n\n\t\t\t\t// if attribute  is contained in original element attribute list and is the same, don't remove\n\t\t\t\tif (matchesAttributeInList(attribute, _this30._originalElementAttributes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// else remove\n\t\t\t\t_this30._originalElement.removeAttribute(attribute.name);\n\t\t\t});\n\n\t\t\tthis._originalElementAttributes.forEach(function (attribute) {\n\n\t\t\t\t// attribute was never removed\n\t\t\t\tif (matchesAttributeInList(attribute, attributes)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// add attribute\n\t\t\t\t_this30._originalElement.setAttribute(attribute.name, attribute.value);\n\t\t\t});\n\n\t\t\t// now destroyed this counter so the total Slim count can be lowered\n\t\t\tSlimCount = Math.max(0, SlimCount - 1);\n\n\t\t\t// if slim count has reached 0 it's time to clean up the popover\n\t\t\tif (SlimPopover && SlimCount === 0) {\n\t\t\t\tSlimPopover.destroy();\n\t\t\t\tSlimPopover = null;\n\t\t\t}\n\n\t\t\tthis._originalElement = null;\n\t\t\tthis._element = null;\n\t\t\tthis._input = null;\n\t\t\tthis._output = null;\n\t\t\tthis._btnGroup = null;\n\t\t\tthis._options = null;\n\t\t}\n\t}, {\n\t\tkey: 'dataBase64',\n\n\n\t\t/**\n   * Public API\n   */\n\t\t// properties\n\t\tget: function get() {\n\t\t\treturn flattenData(this._data, this._options.post, this._options.jpegCompression, this._options.forceType, this._options.service !== null);\n\t\t}\n\t}, {\n\t\tkey: 'data',\n\t\tget: function get() {\n\t\t\treturn cloneData(this._data);\n\t\t}\n\t}, {\n\t\tkey: 'element',\n\t\tget: function get() {\n\t\t\treturn this._element;\n\t\t}\n\t}, {\n\t\tkey: 'service',\n\t\tset: function set(service) {\n\t\t\tthis._options.service = service;\n\t\t}\n\t}, {\n\t\tkey: 'size',\n\t\tset: function set(dimensions) {\n\t\t\tthis.setSize(dimensions, null);\n\t\t}\n\t}, {\n\t\tkey: 'rotation',\n\t\tset: function set(rotation) {\n\t\t\tthis.setRotation(rotation, null);\n\t\t}\n\t}, {\n\t\tkey: 'ratio',\n\t\tset: function set(ratio) {\n\t\t\tthis.setRatio(ratio, null);\n\t\t}\n\t}], [{\n\t\tkey: 'options',\n\t\tvalue: function options() {\n\n\t\t\tvar defaults = {\n\n\t\t\t\t// edit button is enabled by default\n\t\t\t\tedit: true,\n\n\t\t\t\t// immidiately summons editor on load\n\t\t\t\tinstantEdit: false,\n\n\t\t\t\t// set to true to upload data as base64 string\n\t\t\t\tuploadBase64: false,\n\n\t\t\t\t// metadata values\n\t\t\t\tmeta: {},\n\n\t\t\t\t// ratio of crop by default is the same as input image ratio\n\t\t\t\tratio: 'free',\n\n\t\t\t\t// dimensions to resize the resulting image to\n\t\t\t\tsize: null,\n\n\t\t\t\t// set initial rotation\n\t\t\t\trotation: null,\n\n\t\t\t\t// initial crop settings for example: {x:0, y:0, width:100, height:100}\n\t\t\t\tcrop: null,\n\n\t\t\t\t// post these values\n\t\t\t\tpost: ['output', 'actions'],\n\n\t\t\t\t// call this service to submit cropped data\n\t\t\t\tservice: null,\n\t\t\t\tserviceFormat: null,\n\n\t\t\t\t// sharpen filter value, really low values might improve image output\n\t\t\t\tfilterSharpen: 0,\n\n\t\t\t\t// when service is set, and this is set to true, Soon will auto upload all crops (also auto crops)\n\t\t\t\tpush: false,\n\n\t\t\t\t// default fallback name for field\n\t\t\t\tdefaultInputName: 'slim[]',\n\n\t\t\t\t// minimum size of cropped area object with width and height property\n\t\t\t\tminSize: {\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0\n\t\t\t\t},\n\n\t\t\t\t// maximum file size in MB to upload\n\t\t\t\tmaxFileSize: null,\n\n\t\t\t\t// compression of JPEG (between 0 and 100)\n\t\t\t\tjpegCompression: null,\n\n\t\t\t\t// render download link\n\t\t\t\tdownload: false,\n\n\t\t\t\t// save initially loaded image\n\t\t\t\tsaveInitialImage: false,\n\n\t\t\t\t// the type to force (jpe|jpg|jpeg or png)\n\t\t\t\tforceType: false,\n\n\t\t\t\t// the forced output size of the image\n\t\t\t\tforceSize: null,\n\n\t\t\t\t// disable drop to replace\n\t\t\t\tdropReplace: true,\n\n\t\t\t\t// remote URL service\n\t\t\t\tfetcher: null,\n\n\t\t\t\t// set the internal canvas size\n\t\t\t\tinternalCanvasSize: {\n\t\t\t\t\twidth: 4096,\n\t\t\t\t\theight: 4096\n\t\t\t\t},\n\n\t\t\t\t// copies the input image meta data to the output image\n\t\t\t\tcopyImageHead: false,\n\n\t\t\t\t// enable or disable rotation\n\t\t\t\trotateButton: true,\n\n\t\t\t\t// popover classname\n\t\t\t\tpopoverClassName: null,\n\n\t\t\t\t// label HTML to show inside drop area\n\t\t\t\tlabel: '<p>Drop your image here</p>',\n\t\t\t\tlabelLoading: '<p>Loading image...</p>',\n\n\t\t\t\t// error messages\n\t\t\t\tstatusFileType: '<p>Invalid file type, expects: $0.</p>',\n\t\t\t\tstatusFileSize: '<p>File is too big, maximum file size: $0 MB.</p>',\n\t\t\t\tstatusNoSupport: '<p>Your browser does not support image cropping.</p>',\n\t\t\t\tstatusImageTooSmall: '<p>Image is too small, minimum size is: $0 pixels.</p>',\n\t\t\t\tstatusContentLength: '<span class=\"slim-upload-status-icon\"></span> The file is probably too big',\n\t\t\t\tstatusUnknownResponse: '<span class=\"slim-upload-status-icon\"></span> An unknown error occurred',\n\t\t\t\tstatusUploadSuccess: '<span class=\"slim-upload-status-icon\"></span> Saved',\n\n\t\t\t\t// callback methods\n\t\t\t\tdidInit: function didInit(data) {},\n\t\t\t\tdidLoad: function didLoad(file, image, meta) {\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tdidSave: function didSave(data) {},\n\t\t\t\tdidUpload: function didUpload(err, data, res) {},\n\t\t\t\tdidReceiveServerError: function didReceiveServerError(err, defaultError) {\n\t\t\t\t\treturn defaultError;\n\t\t\t\t},\n\t\t\t\tdidRemove: function didRemove(data) {},\n\t\t\t\tdidTransform: function didTransform(data) {},\n\t\t\t\tdidConfirm: function didConfirm(data) {},\n\t\t\t\tdidCancel: function didCancel() {},\n\n\t\t\t\twillTransform: function willTransform(data, cb) {\n\t\t\t\t\tcb(data);\n\t\t\t\t},\n\t\t\t\twillSave: function willSave(data, cb) {\n\t\t\t\t\tcb(data);\n\t\t\t\t},\n\t\t\t\twillRemove: function willRemove(data, cb) {\n\t\t\t\t\tcb();\n\t\t\t\t},\n\t\t\t\twillRequest: function willRequest(xhr) {}\n\n\t\t\t};\n\n\t\t\t// add default button labels\n\t\t\tSlimButtons.concat(ImageEditor.Buttons).concat('rotate').forEach(function (btn) {\n\t\t\t\tvar capitalized = capitalizeFirstLetter(btn);\n\t\t\t\tdefaults['button' + capitalized + 'ClassName'] = null;\n\t\t\t\tdefaults['button' + capitalized + 'Label'] = capitalized;\n\t\t\t\tdefaults['button' + capitalized + 'Title'] = capitalized;\n\t\t\t});\n\n\t\t\treturn defaults;\n\t\t}\n\t}]);\n\n\treturn Slim;\n}();\n\n/**\n * Slim Static Methods\n */\n\n\n(function () {\n\n\tvar instances = [];\n\n\tvar indexOfElement = function indexOfElement(element) {\n\t\tvar i = 0;\n\t\tvar l = instances.length;\n\t\tfor (; i < l; i++) {\n\t\t\tif (instances[i].isAttachedTo(element)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n\n\tfunction toLabel(v) {\n\t\t// if value set, use as label\n\t\tif (v) {\n\t\t\treturn '<p>' + v + '</p>';\n\t\t}\n\n\t\t// else use default text\n\t\treturn null;\n\t}\n\n\tfunction toFunctionReference(name) {\n\t\tvar ref = window;\n\t\tvar levels = name.split('.');\n\t\tlevels.forEach(function (level, index) {\n\t\t\tif (!ref[levels[index]]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tref = ref[levels[index]];\n\t\t});\n\t\treturn ref !== window ? ref : null;\n\t}\n\n\tvar passThrough = function passThrough(v) {\n\t\treturn v;\n\t};\n\tvar defaultFalse = function defaultFalse(v) {\n\t\treturn v === 'true';\n\t};\n\tvar defaultTrue = function defaultTrue(v) {\n\t\treturn v ? v === 'true' : true;\n\t};\n\tvar defaultLabel = function defaultLabel(v) {\n\t\treturn toLabel(v);\n\t};\n\tvar defaultFunction = function defaultFunction(v) {\n\t\treturn v ? toFunctionReference(v) : null;\n\t};\n\tvar defaultSize = function defaultSize(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\tvar parts = intSplit(v, ',');\n\t\treturn {\n\t\t\twidth: parts[0],\n\t\t\theight: parts[1]\n\t\t};\n\t};\n\n\tvar toFloat = function toFloat(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\treturn parseFloat(v);\n\t};\n\n\tvar toInt = function toInt(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\treturn parseInt(v, 10);\n\t};\n\n\tvar toRect = function toRect(v) {\n\t\tif (!v) {\n\t\t\treturn null;\n\t\t}\n\t\tvar obj = {};\n\t\tv.split(',').map(function (p) {\n\t\t\treturn parseInt(p, 10);\n\t\t}).forEach(function (v, i) {\n\t\t\tobj[Rect[i]] = v;\n\t\t});\n\t\treturn obj;\n\t};\n\n\tvar defaults = {\n\n\t\t// is user allowed to download the cropped image?\n\t\t'download': defaultFalse,\n\n\t\t// is user allowed to edit the cropped image?\n\t\t'edit': defaultTrue,\n\n\t\t// open editor immidiately on file drop\n\t\t'instantEdit': defaultFalse,\n\n\t\t// minimum crop size in pixels of original image\n\t\t'minSize': defaultSize,\n\n\t\t// the final bounding box of the output image\n\t\t'size': defaultSize,\n\n\t\t// the forced output size of the image\n\t\t'forceSize': defaultSize,\n\n\t\t// the internal data canvas size\n\t\t'internalCanvasSize': defaultSize,\n\n\t\t// url to post to\n\t\t'service': function service(v) {\n\t\t\tif (typeof v === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar fn = toFunctionReference(v);\n\t\t\tif (fn) {\n\t\t\t\treturn fn;\n\t\t\t}\n\t\t\treturn v;\n\t\t},\n\n\t\t// format of service data\n\t\t'serviceFormat': function serviceFormat(v) {\n\t\t\treturn typeof v === 'undefined' ? null : v;\n\t\t},\n\n\t\t// url to fetch service\n\t\t'fetcher': function fetcher(v) {\n\t\t\treturn typeof v === 'undefined' ? null : v;\n\t\t},\n\n\t\t// set auto push mode\n\t\t'push': defaultFalse,\n\n\t\t// initial rotation\n\t\t'rotation': function rotation(v) {\n\t\t\treturn typeof v === 'undefined' ? null : parseInt(v, 10);\n\t\t},\n\n\t\t// set crop rect\n\t\t'crop': toRect,\n\n\t\t// what to post\n\t\t'post': function post(v) {\n\t\t\tif (!v) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn v.split(',').map(function (item) {\n\t\t\t\treturn item.trim();\n\t\t\t});\n\t\t},\n\n\t\t// default input name\n\t\t'defaultInputName': passThrough,\n\n\t\t// the ratio of the crop\n\t\t'ratio': function ratio(v) {\n\t\t\tif (!v) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn v;\n\t\t},\n\n\t\t// maximum file size\n\t\t'maxFileSize': toFloat,\n\n\t\t// sharpen filter\n\t\t'filterSharpen': toInt,\n\n\t\t// jpeg compression\n\t\t'jpegCompression': toInt,\n\n\t\t// base64 data uploading\n\t\t'uploadBase64': defaultFalse,\n\n\t\t// sets file type to force output to\n\t\t'forceType': passThrough,\n\n\t\t// drop to replace\n\t\t'dropReplace': defaultTrue,\n\n\t\t// bool determining if initial image should be saved\n\t\t'saveInitialImage': defaultFalse,\n\n\t\t// copies input image head to output image\n\t\t'copyImageHead': defaultFalse,\n\n\t\t// rotate button\n\t\t'rotateButton': defaultTrue,\n\n\t\t// default labels\n\t\t'label': defaultLabel,\n\t\t'labelLoading': defaultLabel,\n\n\t\t// class name to put on popover element\n\t\t'popoverClassName': passThrough\n\n\t};\n\n\t// labels\n\t['FileSize', 'FileType', 'NoSupport', 'ImageTooSmall'].forEach(function (status) {\n\t\tdefaults['status' + status] = defaultLabel;\n\t});\n\n\t// status\n\t['ContentLength', 'UnknownResponse', 'UploadSuccess'].forEach(function (status) {\n\t\tdefaults['status' + status] = passThrough;\n\t});\n\n\t// the did callbacks\n\t['Init', 'Load', 'Save', 'Upload', 'Remove', 'Transform', 'ReceiveServerError', 'Confirm', 'Cancel'].forEach(function (cb) {\n\t\tdefaults['did' + cb] = defaultFunction;\n\t});\n\n\t// the will callbacks\n\t['Transform', 'Save', 'Remove', 'Request'].forEach(function (cb) {\n\t\tdefaults['will' + cb] = defaultFunction;\n\t});\n\n\t// button defaults\n\tvar buttonOptions = ['ClassName', 'Label', 'Title'];\n\tSlimButtons.concat(ImageEditor.Buttons).concat('rotate').forEach(function (btn) {\n\t\tvar capitalized = capitalizeFirstLetter(btn);\n\t\tbuttonOptions.forEach(function (opt) {\n\t\t\tdefaults['button' + capitalized + opt] = passThrough;\n\t\t});\n\t});\n\n\tSlim.supported = function () {\n\n\t\treturn !(\n\n\t\t// is opera mini\n\t\tObject.prototype.toString.call(window.operamini) === '[object OperaMini]' ||\n\n\t\t// no event listener support\n\t\ttypeof window.addEventListener === 'undefined' ||\n\n\t\t// no file reader support\n\t\ttypeof window.FileReader === 'undefined' ||\n\n\t\t// no blob slicing (can't dupe files)\n\t\t!('slice' in Blob.prototype) ||\n\n\t\t// no .createObjectURL support, used by download method but also convenient to exclude Android 4.3 and lower\n\t\t// Android 4.3 and lower don't support XHR2 responseType blob\n\t\ttypeof window.URL === 'undefined' || typeof window.URL.createObjectURL === 'undefined');\n\t}();\n\n\tSlim.parse = function (context) {\n\t\tvar elements;\n\t\tvar element;\n\t\tvar i;\n\t\tvar croppers = [];\n\n\t\t// find all crop elements and bind Crop behavior\n\t\telements = context.querySelectorAll('.slim:not([data-state])');\n\t\ti = elements.length;\n\n\t\twhile (i--) {\n\t\t\telement = elements[i];\n\t\t\tcroppers.push(Slim.create(element, Slim.getOptionsFromAttributes(element)));\n\t\t}\n\n\t\treturn croppers;\n\t};\n\n\tSlim.getOptionsFromAttributes = function (element) {\n\n\t\tvar dataset = getDataset(element);\n\n\t\tvar options = {\n\t\t\tmeta: {}\n\t\t};\n\n\t\tfor (var prop in dataset) {\n\n\t\t\tvar valueTransformer = defaults[prop];\n\t\t\tvar _value = dataset[prop];\n\n\t\t\tif (valueTransformer) {\n\t\t\t\t_value = valueTransformer(_value);\n\t\t\t\t_value = _value === null ? clone(Slim.options()[prop]) : _value;\n\t\t\t\toptions[prop] = _value;\n\t\t\t} else if (prop.indexOf('meta') === 0) {\n\t\t\t\toptions['meta'][lowercaseFirstLetter(prop.substr(4))] = _value;\n\t\t\t}\n\t\t}\n\n\t\treturn options;\n\t};\n\n\tSlim.find = function (element) {\n\t\tvar result = instances.filter(function (instance) {\n\t\t\treturn instance.isAttachedTo(element);\n\t\t});\n\t\treturn result ? result[0] : null;\n\t};\n\n\tSlim.create = function (element, options) {\n\n\t\t// if already in array, can't create another slim\n\t\tif (Slim.find(element)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// if no options supplied, try to get the options from the element\n\t\tif (!options) {\n\t\t\toptions = Slim.getOptionsFromAttributes(element);\n\t\t}\n\n\t\t// instance\n\t\tvar slim = new Slim(element, options);\n\n\t\t// add new slim\n\t\tinstances.push(slim);\n\n\t\t// return the slim instance\n\t\treturn slim;\n\t};\n\n\tSlim.destroy = function (element) {\n\t\tvar index = indexOfElement(element);\n\n\t\tif (index < 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tinstances[index].destroy();\n\t\tinstances.splice(index, 1);\n\n\t\treturn true;\n\t};\n})();\n    return Slim;\n}());\n\n    // Don't load on really old browsers / Also cut some mustard for Opera Mini / clear up slim classes\n    if (!root.Slim.supported) {\n        var slims = root.getElementsByClassName('slim');\n        var i = 0;\n        var l = slims.length;\n        for(i=0;i<l;i++) {\n            slims[i].className = '';\n        }\n        return;\n    }\n\n    // Auto parses document for Slim croppers\n    function kick() {\n        root.Slim.parse(document);\n    }\n\n    if (document.readyState !== 'loading') {\n        kick();\n    }\n    else {\n        document.addEventListener('DOMContentLoaded',kick);\n    }\n\n}(window));"},function(e,t,n){n(6)(n(301))},function(e,t){e.exports='/*!\n * hoverIntent v1.9.0 // 2017.09.01 // jQuery v1.7.0+\n * http://briancherne.github.io/jquery-hoverIntent/\n *\n * You may use hoverIntent under the terms of the MIT license. Basically that\n * means you are free to use hoverIntent as long as this header is left intact.\n * Copyright 2007-2017 Brian Cherne\n */\n!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):jQuery&&!jQuery.fn.hoverIntent&&factory(jQuery)}(function($){"use strict";var cX,cY,_cfg={interval:100,sensitivity:6,timeout:0},INSTANCE_COUNT=0,track=function(ev){cX=ev.pageX,cY=ev.pageY},compare=function(ev,$el,s,cfg){if(Math.sqrt((s.pX-cX)*(s.pX-cX)+(s.pY-cY)*(s.pY-cY))<cfg.sensitivity)return $el.off(s.event,track),delete s.timeoutId,s.isActive=!0,ev.pageX=cX,ev.pageY=cY,delete s.pX,delete s.pY,cfg.over.apply($el[0],[ev]);s.pX=cX,s.pY=cY,s.timeoutId=setTimeout(function(){compare(ev,$el,s,cfg)},cfg.interval)},delay=function(ev,$el,s,out){return delete $el.data("hoverIntent")[s.id],out.apply($el[0],[ev])};$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var instanceId=INSTANCE_COUNT++,cfg=$.extend({},_cfg);$.isPlainObject(handlerIn)?(cfg=$.extend(cfg,handlerIn),$.isFunction(cfg.out)||(cfg.out=cfg.over)):cfg=$.isFunction(handlerOut)?$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector}):$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});var handleHover=function(e){var ev=$.extend({},e),$el=$(this),hoverIntentData=$el.data("hoverIntent");hoverIntentData||$el.data("hoverIntent",hoverIntentData={});var state=hoverIntentData[instanceId];state||(hoverIntentData[instanceId]=state={id:instanceId}),state.timeoutId&&(state.timeoutId=clearTimeout(state.timeoutId));var mousemove=state.event="mousemove.hoverIntent.hoverIntent"+instanceId;if("mouseenter"===e.type){if(state.isActive)return;state.pX=ev.pageX,state.pY=ev.pageY,$el.off(mousemove,track).on(mousemove,track),state.timeoutId=setTimeout(function(){compare(ev,$el,state,cfg)},cfg.interval)}else{if(!state.isActive)return;$el.off(mousemove,track),state.timeoutId=setTimeout(function(){delay(ev,$el,state,cfg.out)},cfg.timeout)}};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}});'},function(e,t,n){n(6)(n(303))},function(e,t){e.exports='/*!\n * Bootstrap-select v1.13.2 (https://developer.snapappointments.com/bootstrap-select)\n *\n * Copyright 2012-2018 SnapAppointments, LLC\n * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)\n */\n\n!function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(F){"use strict";var e,a,t,i=document.createElement("_");if(i.classList.toggle("c3",!1),i.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:s.call(this,e)}}function S(e){var t,i=[],s=e&&e.options;if(e.multiple)for(var n=0,o=s.length;n<o;n++)(t=s[n]).selected&&i.push(t.value||t.text);else i=e.value;return i}String.prototype.startsWith||(e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),a={}.toString,t=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==a.call(e))throw new TypeError;var i=t.length,s=String(e),n=s.length,o=1<arguments.length?arguments[1]:void 0,l=o?Number(o):0;l!=l&&(l=0);var r=Math.min(Math.max(l,0),i);if(i<n+r)return!1;for(var c=-1;++c<n;)if(t.charCodeAt(r+c)!=s.charCodeAt(c))return!1;return!0},e?e(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var n={useDefault:!1,_set:F.valHooks.select.set};F.valHooks.select.set=function(e,t){return t&&!n.useDefault&&F(e).data("selected",!0),n._set.apply(this,arguments)};var y=null,o=function(){try{return new Event("change"),!0}catch(e){return!1}}();function $(e,t,i,s){for(var n=["content","subtext","tokens"],o=!1,l=0;l<n.length;l++){var r=n[l],c=e[r];if(c&&(c=c.toString(),"content"===r&&(c=c.replace(/<[^>]+>/g,"")),s&&(c=d(c)),c=c.toUpperCase(),o="contains"===i?0<=c.indexOf(t):c.startsWith(t)))break}return o}function O(e){return parseInt(e,10)||0}function d(e){return F.each([{re:/[\\xC0-\\xC6]/g,ch:"A"},{re:/[\\xE0-\\xE6]/g,ch:"a"},{re:/[\\xC8-\\xCB]/g,ch:"E"},{re:/[\\xE8-\\xEB]/g,ch:"e"},{re:/[\\xCC-\\xCF]/g,ch:"I"},{re:/[\\xEC-\\xEF]/g,ch:"i"},{re:/[\\xD2-\\xD6]/g,ch:"O"},{re:/[\\xF2-\\xF6]/g,ch:"o"},{re:/[\\xD9-\\xDC]/g,ch:"U"},{re:/[\\xF9-\\xFC]/g,ch:"u"},{re:/[\\xC7-\\xE7]/g,ch:"c"},{re:/[\\xD1]/g,ch:"N"},{re:/[\\xF1]/g,ch:"n"}],function(){e=e?e.replace(this.re,this.ch):""}),e}F.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(o?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var l=function(t){var i=function(e){return t[e]},e="(?:"+Object.keys(t).join("|")+")",s=RegExp(e),n=RegExp(e,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(n,i):e}},G=l({"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"}),f=l({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":\'"\',"&#x27;":"\'","&#x60;":"`"}),E={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},C=27,z=13,T=32,D=9,H=38,L=40,_={success:!1,major:"3"};try{_.full=(F.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),_.major=_.full[0],_.success=!0}catch(e){console.warn("There was an issue retrieving Bootstrap\'s version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",e)}var q={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},N={MENU:"."+q.MENU};"4"===_.major&&(q.DIVIDER="dropdown-divider",q.SHOW="show",q.BUTTONCLASS="btn-light",q.POPOVERHEADER="popover-header");var A=new RegExp(H+"|"+L),P=new RegExp("^"+D+"$|"+C),c=(new RegExp(z+"|"+T),function(e,t){var i=this;n.useDefault||(F.valHooks.select.set=n._set,n.useDefault=!0),this.$element=F(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=t,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=c.prototype.val,this.render=c.prototype.render,this.refresh=c.prototype.refresh,this.setStyle=c.prototype.setStyle,this.selectAll=c.prototype.selectAll,this.deselectAll=c.prototype.deselectAll,this.destroy=c.prototype.destroy,this.remove=c.prototype.remove,this.show=c.prototype.show,this.hide=c.prototype.hide,this.init()});function r(e){var o,l=arguments,r=e;if([].shift.apply(l),!_.success){try{_.full=(F.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(e){_.full=c.BootstrapVersion.split(" ")[0].split(".")}_.major=_.full[0],_.success=!0,"4"===_.major&&(q.DIVIDER="dropdown-divider",q.SHOW="show",q.BUTTONCLASS="btn-light",c.DEFAULTS.style=q.BUTTONCLASS="btn-light",q.POPOVERHEADER="popover-header")}var t=this.each(function(){var e=F(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==typeof r&&r;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var n=F.extend({},c.DEFAULTS,F.fn.selectpicker.defaults||{},e.data(),i);n.template=F.extend({},c.DEFAULTS.template,F.fn.selectpicker.defaults?F.fn.selectpicker.defaults.template:{},e.data().template,i.template),e.data("selectpicker",t=new c(this,n))}"string"==typeof r&&(o=t[r]instanceof Function?t[r].apply(t,l):t.options[r])}});return void 0!==o?o:t}c.VERSION="1.13.2",c.BootstrapVersion=_.major,c.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:q.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:\'<span class="caret"></span>\'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1},"4"===_.major&&(c.DEFAULTS.style="btn-light",c.DEFAULTS.iconBase="",c.DEFAULTS.tickIcon="bs-ok-default"),c.prototype={constructor:c,init:function(){var i=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(N.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(q.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(i.isVirtual()){var e=i.$menuInner[0],t=e.firstChild.cloneNode(!1);e.replaceChild(t,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!1),i.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){i.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){i.$menuInner.attr("aria-expanded",!0),i.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){i.$element.trigger("shown.bs.select",e)}}),i.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){i.$button.addClass("bs-invalid"),i.$element.on({"shown.bs.select":function(){i.$element.val(i.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&i.$button.removeClass("bs-invalid"),i.$element.off("rendered.bs.select")}}),i.$button.on("blur.bs.select",function(){i.$element.focus().blur(),i.$button.off("blur.bs.select")})}),setTimeout(function(){i.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.autofocus?" autofocus":"",i=this.options.header?\'<div class="\'+q.POPOVERHEADER+\'"><button type="button" class="close" aria-hidden="true">&times;</button>\'+this.options.header+"</div>":"",s=this.options.liveSearch?\'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"\'+(null===this.options.liveSearchPlaceholder?"":\' placeholder="\'+G(this.options.liveSearchPlaceholder)+\'"\')+\' role="textbox" aria-label="Search"></div>\':"",n=this.multiple&&this.options.actionsBox?\'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn \'+q.BUTTONCLASS+\'">\'+this.options.selectAllText+\'</button><button type="button" class="actions-btn bs-deselect-all btn \'+q.BUTTONCLASS+\'">\'+this.options.deselectAllText+"</button></div></div>":"",o=this.multiple&&this.options.doneButton?\'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm \'+q.BUTTONCLASS+\'">\'+this.options.doneButtonText+"</button></div></div>":"",l=\'<div class="dropdown bootstrap-select\'+e+\'"><button type="button" class="\'+this.options.styleBase+\' dropdown-toggle" \'+("static"===this.options.display?\'data-display="static"\':"")+\'data-toggle="dropdown"\'+t+\' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>\'+("4"===_.major?"":\'<span class="bs-caret">\'+this.options.template.caret+"</span>")+\'</button><div class="\'+q.MENU+" "+("4"===_.major?"":q.SHOW)+\'" role="combobox">\'+i+s+n+\'<div class="inner \'+q.SHOW+\'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="\'+q.MENU+" inner "+("4"===_.major?q.SHOW:"")+\'"></ul></div>\'+o+"</div></div>";return F(l)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(C,e){e=e||0;var O=this;this.selectpicker.current=C?this.selectpicker.search:this.selectpicker.main;var z,T,D=[];function i(e,t){var i,s,n,o,l,r,c,a,d,h=O.selectpicker.current.elements.length,p=[],u=void 0,f=!0,m=O.isVirtual();O.selectpicker.view.scrollTop=e,!0===m&&O.sizeInfo.hasScrollBar&&O.$menu[0].offsetWidth>O.sizeInfo.totalMenuWidth&&(O.sizeInfo.menuWidth=O.$menu[0].offsetWidth,O.sizeInfo.totalMenuWidth=O.sizeInfo.menuWidth+O.sizeInfo.scrollBarWidth,O.$menu.css("min-width",O.sizeInfo.menuWidth)),i=Math.ceil(O.sizeInfo.menuInnerHeight/O.sizeInfo.liHeight*1.5),s=Math.round(h/i)||1;for(var v=0;v<s;v++){var g=(v+1)*i;if(v===s-1&&(g=h),p[v]=[v*i+(v?1:0),g],!h)break;void 0===u&&e<=O.selectpicker.current.data[g-1].position-O.sizeInfo.menuInnerHeight&&(u=v)}if(void 0===u&&(u=0),l=[O.selectpicker.view.position0,O.selectpicker.view.position1],n=Math.max(0,u-1),o=Math.min(s-1,u+1),O.selectpicker.view.position0=Math.max(0,p[n][0])||0,O.selectpicker.view.position1=Math.min(h,p[o][1])||0,r=l[0]!==O.selectpicker.view.position0||l[1]!==O.selectpicker.view.position1,void 0!==O.activeIndex&&(T=O.selectpicker.current.elements[O.selectpicker.current.map.newIndex[O.prevActiveIndex]],D=O.selectpicker.current.elements[O.selectpicker.current.map.newIndex[O.activeIndex]],z=O.selectpicker.current.elements[O.selectpicker.current.map.newIndex[O.selectedIndex]],t&&(O.activeIndex!==O.selectedIndex&&(D.classList.remove("active"),D.firstChild&&D.firstChild.classList.remove("active")),O.activeIndex=void 0),O.activeIndex&&O.activeIndex!==O.selectedIndex&&z&&z.length&&(z.classList.remove("active"),z.firstChild&&z.firstChild.classList.remove("active"))),void 0!==O.prevActiveIndex&&O.prevActiveIndex!==O.activeIndex&&O.prevActiveIndex!==O.selectedIndex&&T&&T.length&&(T.classList.remove("active"),T.firstChild&&T.firstChild.classList.remove("active")),(t||r)&&(c=O.selectpicker.view.visibleElements?O.selectpicker.view.visibleElements.slice():[],O.selectpicker.view.visibleElements=O.selectpicker.current.elements.slice(O.selectpicker.view.position0,O.selectpicker.view.position1),O.setOptionStatus(),(C||!1===m&&t)&&(a=c,d=O.selectpicker.view.visibleElements,f=!(a.length===d.length&&a.every(function(e,t){return e===d[t]}))),(t||!0===m)&&f)){var b,w,x=O.$menuInner[0],I=document.createDocumentFragment(),k=x.firstChild.cloneNode(!1),$=!0===m?O.selectpicker.view.visibleElements:O.selectpicker.current.elements;x.replaceChild(k,x.firstChild);v=0;for(var E=$.length;v<E;v++)I.appendChild($[v]);!0===m&&(b=0===O.selectpicker.view.position0?0:O.selectpicker.current.data[O.selectpicker.view.position0-1].position,w=O.selectpicker.view.position1>h-1?0:O.selectpicker.current.data[h-1].position-O.selectpicker.current.data[O.selectpicker.view.position1-1].position,x.firstChild.style.marginTop=b+"px",x.firstChild.style.marginBottom=w+"px"),x.firstChild.appendChild(I)}if(O.prevActiveIndex=O.activeIndex,O.options.liveSearch){if(C&&t){var S,y=0;O.selectpicker.view.canHighlight[y]||(y=1+O.selectpicker.view.canHighlight.slice(1).indexOf(!0)),S=O.selectpicker.view.visibleElements[y],O.selectpicker.view.currentActive&&(O.selectpicker.view.currentActive.classList.remove("active"),O.selectpicker.view.currentActive.firstChild&&O.selectpicker.view.currentActive.firstChild.classList.remove("active")),S&&(S.classList.add("active"),S.firstChild&&S.firstChild.classList.add("active")),O.activeIndex=O.selectpicker.current.map.originalIndex[y]}}else O.$menuInner.focus()}this.setPositionData(),i(e,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){O.noScroll||i(this.scrollTop,t),O.noScroll=!1}),F(window).off("resize.createView").on("resize.createView",function(){i(O.$menuInner[0].scrollTop)})},createLi:function(){var z,T=this,D=[],H=0,L=0,N=[],A=0,P=0,R=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var W={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("")},e=W.span.cloneNode(!1),B=document.createDocumentFragment();e.className=T.options.iconBase+" "+T.options.tickIcon+" check-mark",W.a.appendChild(e),W.a.setAttribute("role","option"),W.subtext.className="text-muted",W.text=W.span.cloneNode(!1),W.text.className="text";var M=function(e,t,i,s){var n=W.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?n.appendChild(e):n.innerHTML=e),void 0!==i&&""!==i&&(n.className=i),null!=s&&n.classList.add("optgroup-"+s),n},U=function(e,t,i){var s=W.a.cloneNode(!0);return e&&(11===e.nodeType?s.appendChild(e):s.insertAdjacentHTML("beforeend",e)),void 0!==t&""!==t&&(s.className=t),"4"===_.major&&s.classList.add("dropdown-item"),i&&s.setAttribute("style",i),s},V=function(e){var t,i,s=W.text.cloneNode(!1);if(e.optionContent)s.innerHTML=e.optionContent;else{if(s.textContent=e.text,e.optionIcon){var n=W.whitespace.cloneNode(!1);(i=W.span.cloneNode(!1)).className=T.options.iconBase+" "+e.optionIcon,B.appendChild(i),B.appendChild(n)}e.optionSubtext&&((t=W.subtext.cloneNode(!1)).innerHTML=e.optionSubtext,s.appendChild(t))}return B.appendChild(s),B};if(this.options.title&&!this.multiple){R--;var t=this.$element[0],i=!1,s=!this.selectpicker.view.titleOption.parentNode;if(s)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===F(t.options[t.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");(s||0!==this.selectpicker.view.titleOption.index)&&t.insertBefore(this.selectpicker.view.titleOption,t.firstChild),i&&(t.selectedIndex=0)}var j=this.$element.find("option");j.each(function(e){var t=F(this);if(R++,!t.hasClass("bs-title-option")){var i,s,n=t.data(),o=this.className||"",l=G(this.style.cssText),r=n.content,c=this.textContent,a=n.tokens,d=n.subtext,h=n.icon,p=t.parent(),u=p[0],f="OPTGROUP"===u.tagName,m=f&&u.disabled,v=this.disabled||m,g=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,b=p.data();if(!0===n.hidden||T.options.hideDisabled&&(v&&!f||m)){i=n.prevHiddenIndex,t.next().data("prevHiddenIndex",void 0!==i?i:e),R--,g||void 0!==i&&(y=j[i].previousElementSibling)&&"OPTGROUP"===y.tagName&&!y.disabled&&(g=!0),g&&"divider"!==N[N.length-1].type&&(R++,D.push(M(!1,0,q.DIVIDER,A+"div")),N.push({type:"divider",optID:A}))}else{if(f&&!0!==n.divider){if(T.options.hideDisabled&&v){if(void 0===b.allOptionsDisabled){var w=p.children();p.data("allOptionsDisabled",w.filter(":disabled").length===w.length)}if(p.data("allOptionsDisabled"))return void R--}var x=" "+u.className||"";if(!this.previousElementSibling){A+=1;var I=u.label,k=G(I),$=b.subtext,E=b.icon;0!==e&&0<D.length&&(R++,D.push(M(!1,0,q.DIVIDER,A+"div")),N.push({type:"divider",optID:A})),R++;var S=function(e){var t,i,s=W.text.cloneNode(!1);if(s.innerHTML=e.labelEscaped,e.labelIcon){var n=W.whitespace.cloneNode(!1);(i=W.span.cloneNode(!1)).className=T.options.iconBase+" "+e.labelIcon,B.appendChild(i),B.appendChild(n)}return e.labelSubtext&&((t=W.subtext.cloneNode(!1)).textContent=e.labelSubtext,s.appendChild(t)),B.appendChild(s),B}({labelEscaped:k,labelSubtext:$,labelIcon:E});D.push(M(S,0,"dropdown-header"+x,A)),N.push({content:k,subtext:$,type:"optgroup-label",optID:A}),P=R-1}if(T.options.hideDisabled&&v||!0===n.hidden)return void R--;s=V({text:c,optionContent:r,optionSubtext:d,optionIcon:h}),D.push(M(U(s,"opt "+o+x,l),0,"",A)),N.push({content:r||c,subtext:d,tokens:a,type:"option",optID:A,headerIndex:P,lastIndex:P+u.childElementCount,originalIndex:e,data:n}),H++}else if(!0===n.divider)D.push(M(!1,0,q.DIVIDER)),N.push({type:"divider",originalIndex:e,data:n});else{var y;if(!g&&T.options.hideDisabled)if(void 0!==(i=n.prevHiddenIndex))(y=j[i].previousElementSibling)&&"OPTGROUP"===y.tagName&&!y.disabled&&(g=!0);g&&"divider"!==N[N.length-1].type&&(R++,D.push(M(!1,0,q.DIVIDER,A+"div")),N.push({type:"divider",optID:A})),s=V({text:c,optionContent:r,optionSubtext:d,optionIcon:h}),D.push(M(U(s,o,l))),N.push({content:r||c,subtext:d,tokens:a,type:"option",originalIndex:e,data:n}),H++}T.selectpicker.main.map.newIndex[e]=R,T.selectpicker.main.map.originalIndex[R]=e;var C=N[N.length-1];C.disabled=v;var O=0;C.content&&(O+=C.content.length),C.subtext&&(O+=C.subtext.length),h&&(O+=1),L<O&&(L=O,z=D[D.length-1])}}}),this.selectpicker.main.elements=D,this.selectpicker.main.data=N,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=z,this.selectpicker.view.availableOptionsCount=H},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e=this,t=this.$element.find("option"),i=[],s=[];this.togglePlaceholder(),this.tabIndex();for(var n=0,o=this.selectpicker.main.elements.length;n<o;n++){var l=t[this.selectpicker.main.map.originalIndex[n]];if(l&&l.selected&&(i.push(l),s.length<100&&"count"!==e.options.selectedTextFormat||1===i.length)){if(e.options.hideDisabled&&(l.disabled||"OPTGROUP"===l.parentNode.tagName&&l.parentNode.disabled))return;var r,c,a=this.selectpicker.main.data[n].data,d=a.icon&&e.options.showIcon?\'<i class="\'+e.options.iconBase+" "+a.icon+\'"></i> \':"";r=e.options.showSubtext&&a.subtext&&!e.multiple?\' <small class="text-muted">\'+a.subtext+"</small>":"",c=l.title?l.title:a.content&&e.options.showContent?a.content.toString():d+l.innerHTML.trim()+r,s.push(c)}}var h=this.multiple?s.join(this.options.multipleSeparator):s[0];if(50<i.length&&(h+="..."),this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")){var p=this.options.selectedTextFormat.split(">");if(1<p.length&&i.length>p[1]||1===p.length&&2<=i.length){var u=this.selectpicker.view.availableOptionsCount;h=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,u):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",u.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(h=this.options.title),h||(h=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button[0].title=f(h.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=h,this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var t=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("ul"),o=document.createElement("li"),l=document.createElement("li"),r=document.createElement("li"),c=document.createElement("a"),a=document.createElement("span"),d=this.options.header&&0<this.$menu.find("."+q.POPOVERHEADER).length?this.$menu.find("."+q.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,u=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,a.className="text",c.className="dropdown-item "+this.$element.find("option")[0].className,t.className=this.$menu[0].parentNode.className+" "+q.SHOW,t.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=q.MENU+" "+q.SHOW,s.className="inner "+q.SHOW,n.className=q.MENU+" inner "+("4"===_.major?q.SHOW:""),o.className=q.DIVIDER,l.className="dropdown-header",a.appendChild(document.createTextNode("Inner text")),c.appendChild(a),r.appendChild(c),l.appendChild(a.cloneNode(!0)),this.selectpicker.view.widestOption&&n.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),n.appendChild(r),n.appendChild(o),n.appendChild(l),d&&i.appendChild(d),h){var f=document.createElement("input");h.className="bs-searchbox",f.className="form-control",h.appendChild(f),i.appendChild(h)}p&&i.appendChild(p),s.appendChild(n),i.appendChild(s),u&&i.appendChild(u),t.appendChild(i),document.body.appendChild(t);var m,v=c.offsetHeight,g=l?l.offsetHeight:0,b=d?d.offsetHeight:0,w=h?h.offsetHeight:0,x=p?p.offsetHeight:0,I=u?u.offsetHeight:0,k=F(o).outerHeight(!0),$=!!window.getComputedStyle&&window.getComputedStyle(i),E=i.offsetWidth,S=$?null:F(i),y={vert:O($?$.paddingTop:S.css("paddingTop"))+O($?$.paddingBottom:S.css("paddingBottom"))+O($?$.borderTopWidth:S.css("borderTopWidth"))+O($?$.borderBottomWidth:S.css("borderBottomWidth")),horiz:O($?$.paddingLeft:S.css("paddingLeft"))+O($?$.paddingRight:S.css("paddingRight"))+O($?$.borderLeftWidth:S.css("borderLeftWidth"))+O($?$.borderRightWidth:S.css("borderRightWidth"))},C={vert:y.vert+O($?$.marginTop:S.css("marginTop"))+O($?$.marginBottom:S.css("marginBottom"))+2,horiz:y.horiz+O($?$.marginLeft:S.css("marginLeft"))+O($?$.marginRight:S.css("marginRight"))+2};s.style.overflowY="scroll",m=i.offsetWidth-E,document.body.removeChild(t),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=g,this.sizeInfo.headerHeight=b,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=x,this.sizeInfo.doneButtonHeight=I,this.sizeInfo.dividerHeight=k,this.sizeInfo.menuPadding=y,this.sizeInfo.menuExtras=C,this.sizeInfo.menuWidth=E,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=m,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,t=F(window),i=this.$newElement.offset(),s=F(this.options.container);this.options.container&&!s.is("body")?((e=s.offset()).top+=parseInt(s.css("borderTopWidth")),e.left+=parseInt(s.css("borderLeftWidth"))):e={top:0,left:0};var n=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-t.scrollTop(),this.sizeInfo.selectOffsetBot=t.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-n[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-t.scrollLeft(),this.sizeInfo.selectOffsetRight=t.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-n[1],this.sizeInfo.selectOffsetTop-=n[0],this.sizeInfo.selectOffsetLeft-=n[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,s,n,o,l,r,c=this.sizeInfo.selectWidth,a=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,p=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(r=a*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(q.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,s=n+d+h+p+u,l=Math.max(n-m.vert,0),this.$newElement.hasClass(q.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),t=(o=i)-d-h-p-u-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&v++;t=(i=a*this.options.size+v*f+m.vert)-m.vert,o=i+d+h+p+u,s=l=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(q.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-c),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":s+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":l+"px"}),this.sizeInfo.menuInnerHeight=t,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var t,i=this,s=F(window),n=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),s.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return i.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),s.off("resize.setMenuSize scroll.setMenuSize")),e?n=this.$menuInner[0].scrollTop:i.multiple||"number"==typeof(t=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex])&&!1!==i.options.size&&(n=(n=i.sizeInfo.liHeight*t)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2),i.createView(!1,n)}},setWidth:function(){var i=this;"auto"===this.options.width?requestAnimationFrame(function(){i.$menu.css("min-width","0"),i.liHeight(),i.setMenuSize();var e=i.$newElement.clone().appendTo("body"),t=e.css("width","auto").children("button").outerWidth();e.remove(),i.sizeInfo.selectWidth=Math.max(i.sizeInfo.totalMenuWidth,t),i.$newElement.css("width",i.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=F(\'<div class="bs-container" />\');var s,n,o,l=this,r=F(this.options.container),e=function(e){var t={},i=l.options.display||F.fn.dropdown.Constructor.Default.display;l.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(q.DROPUP,e.hasClass(q.DROPUP)),s=e.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),o=e.hasClass(q.DROPUP)?0:e[0].offsetHeight,(_.major<4||"static"===i)&&(t.top=s.top-n.top+o,t.left=s.left-n.left),t.width=e[0].offsetWidth,l.$bsContainer.css(t)};this.$button.on("click.bs.dropdown.data-api",function(){l.isDisabled()||(e(l.$newElement),l.$bsContainer.appendTo(l.options.container).toggleClass(q.SHOW,!l.$button.hasClass(q.SHOW)).append(l.$menu))}),F(window).on("resize scroll",function(){e(l.$newElement)}),this.$element.on("hide.bs.select",function(){l.$menu.data("height",l.$menu.height()),l.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element.find("option");if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var s=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],n=t[s];if(n){var o=this.selectpicker.main.map.newIndex[s],l=this.selectpicker.main.elements[o];e.setDisabled(s,n.disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled,o,l),e.setSelected(s,n.selected,o,l)}}},setSelected:function(e,t,i,s){var n,o,l,r=void 0!==this.activeIndex,c=this.activeIndex===e||t&&!this.multiple&&!r;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),l=s.firstChild,t&&(this.selectedIndex=e),s.classList.toggle("selected",t),s.classList.toggle("active",c),c&&(this.selectpicker.view.currentActive=s,this.activeIndex=e),l&&(l.classList.toggle("selected",t),l.classList.toggle("active",c),l.setAttribute("aria-selected",t)),c||!r&&t&&void 0!==this.prevActiveIndex&&(n=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[n]).classList.toggle("selected",t),o.classList.remove("active"),o.firstChild&&(o.firstChild.classList.toggle("selected",t),o.firstChild.classList.remove("active")))},setDisabled:function(e,t,i,s){var n;i||(i=this.selectpicker.main.map.newIndex[e]),s||(s=this.selectpicker.main.elements[i]),n=s.firstChild,s.classList.toggle(q.DISABLED,t),n&&("4"===_.major&&n.classList.toggle(q.DISABLED,t),n.setAttribute("aria-disabled",t),t?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass(q.DISABLED),this.$button.addClass(q.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(q.DISABLED)&&(this.$newElement.removeClass(q.DISABLED),this.$button.removeClass(q.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var E=this,t=F(document);function e(){E.options.liveSearch?E.$searchbox.focus():E.$menuInner.focus()}function i(){E.dropdown&&E.dropdown._popper&&E.dropdown._popper.state.isCreated?e():requestAnimationFrame(i)}t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<_.major&&!E.dropdown&&(E.dropdown=E.$button.data("bs.dropdown"),E.dropdown._menu=E.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){E.$newElement.hasClass(q.SHOW)||E.setSize()}),this.$element.on("shown.bs.select",function(){E.$menuInner[0].scrollTop!==E.selectpicker.view.scrollTop&&(E.$menuInner[0].scrollTop=E.selectpicker.view.scrollTop),3<_.major?requestAnimationFrame(i):e()}),this.$menuInner.on("click","li a",function(e,t){var i=F(this),s=E.isVirtual()?E.selectpicker.view.position0:0,n=E.selectpicker.current.map.originalIndex[i.parent().index()+s],o=S(E.$element[0]),l=E.$element.prop("selectedIndex"),r=!0;if(E.multiple&&1!==E.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!E.isDisabled()&&!i.parent().hasClass(q.DISABLED)){var c=E.$element.find("option"),a=c.eq(n),d=a.prop("selected"),h=a.parent("optgroup"),p=h.find("option"),u=E.options.maxOptions,f=h.data("maxOptions")||!1;if(n===E.activeIndex&&(t=!0),t||(E.prevActiveIndex=E.activeIndex,E.activeIndex=void 0),E.multiple){if(a.prop("selected",!d),E.setSelected(n,!d),i.blur(),!1!==u||!1!==f){var m=u<c.filter(":selected").length,v=f<h.find("option:selected").length;if(u&&m||f&&v)if(u&&1==u){c.prop("selected",!1),a.prop("selected",!0);for(var g=0;g<c.length;g++)E.setSelected(g,!1);E.setSelected(n,!0)}else if(f&&1==f){h.find("option:selected").prop("selected",!1),a.prop("selected",!0);for(g=0;g<p.length;g++){var b=p[g];E.setSelected(c.index(b),!1)}E.setSelected(n,!0)}else{var w="string"==typeof E.options.maxOptionsText?[E.options.maxOptionsText,E.options.maxOptionsText]:E.options.maxOptionsText,x="function"==typeof w?w(u,f):w,I=x[0].replace("{n}",u),k=x[1].replace("{n}",f),$=F(\'<div class="notify"></div>\');x[2]&&(I=I.replace("{var}",x[2][1<u?0:1]),k=k.replace("{var}",x[2][1<f?0:1])),a.prop("selected",!1),E.$menu.append($),u&&m&&($.append(F("<div>"+I+"</div>")),r=!1,E.$element.trigger("maxReached.bs.select")),f&&v&&($.append(F("<div>"+k+"</div>")),r=!1,E.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){E.setSelected(n,!1)},10),$.delay(750).fadeOut(300,function(){F(this).remove()})}}}else c.prop("selected",!1),a.prop("selected",!0),E.setSelected(n,!0);!E.multiple||E.multiple&&1===E.options.maxOptions?E.$button.focus():E.options.liveSearch&&E.$searchbox.focus(),r&&(o!=S(E.$element[0])&&E.multiple||l!=E.$element.prop("selectedIndex")&&!E.multiple)&&(y=[n,a.prop("selected"),o],E.$element.triggerNative("change"))}}),this.$menu.on("click","li."+q.DISABLED+" a, ."+q.POPOVERHEADER+", ."+q.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),E.options.liveSearch&&!F(e.target).hasClass("close")?E.$searchbox.focus():E.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),E.options.liveSearch?E.$searchbox.focus():E.$button.focus()}),this.$menu.on("click","."+q.POPOVERHEADER+" .close",function(){E.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){E.options.liveSearch?E.$searchbox.focus():E.$button.focus(),e.preventDefault(),e.stopPropagation(),F(this).hasClass("bs-select-all")?E.selectAll():E.deselectAll()}),this.$element.on({change:function(){E.render(),E.$element.trigger("changed.bs.select",y),y=null},focus:function(){E.$button.focus()}})},liveSearchListener:function(){var u=this,f=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){u.$searchbox.val()&&u.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=u.$searchbox.val();if(u.selectpicker.search.map.newIndex={},u.selectpicker.search.map.originalIndex={},u.selectpicker.search.elements=[],u.selectpicker.search.data=[],e){var t=[],i=e.toUpperCase(),s={},n=[],o=u._searchStyle(),l=u.options.liveSearchNormalize;u._$lisSelected=u.$menuInner.find(".selected");for(var r=0;r<u.selectpicker.main.data.length;r++){var c=u.selectpicker.main.data[r];s[r]||(s[r]=$(c,i,o,l)),s[r]&&void 0!==c.headerIndex&&-1===n.indexOf(c.headerIndex)&&(0<c.headerIndex&&(s[c.headerIndex-1]=!0,n.push(c.headerIndex-1)),s[c.headerIndex]=!0,n.push(c.headerIndex),s[c.lastIndex+1]=!0),s[r]&&"optgroup-label"!==c.type&&n.push(r)}r=0;for(var a=n.length;r<a;r++){var d=n[r],h=n[r-1],p=(c=u.selectpicker.main.data[d],u.selectpicker.main.data[h]);("divider"!==c.type||"divider"===c.type&&p&&"divider"!==p.type&&a-1!==r)&&(u.selectpicker.search.data.push(c),t.push(u.selectpicker.main.elements[d]),c.hasOwnProperty("originalIndex")&&(u.selectpicker.search.map.newIndex[c.originalIndex]=t.length-1,u.selectpicker.search.map.originalIndex[t.length-1]=c.originalIndex))}u.activeIndex=void 0,u.noScroll=!0,u.$menuInner.scrollTop(0),u.selectpicker.search.elements=t,u.createView(!0),t.length||(f.className="no-results",f.innerHTML=u.options.noneResultsText.replace("{0}",\'"\'+G(e)+\'"\'),u.$menuInner[0].firstChild.appendChild(f))}else u.$menuInner.scrollTop(0),u.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var t=this.$element.find("option"),i=0,s=0,n=S(this.$element[0]);this.$element.addClass("bs-select-hidden");for(var o=0;o<this.selectpicker.current.elements.length;o++){var l=this.selectpicker.current.data[o],r=t[this.selectpicker.current.map.originalIndex[o]];r&&!r.disabled&&"divider"!==l.type&&(r.selected&&i++,r.selected=e,r.selected&&s++)}this.$element.removeClass("bs-select-hidden"),i!==s&&(this.setOptionStatus(),this.togglePlaceholder(),y=[null,null,n],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var t,i,s,n,o,l=F(this),r=l.hasClass("dropdown-toggle"),c=(r?l.closest(".dropdown"):l.closest(N.MENU)).data("this"),a=c.findLis(),d=!1,h=e.which===D&&!r&&!c.options.selectOnTab,p=A.test(e.which)||h,u=c.$menuInner[0].scrollTop,f=c.isVirtual(),m=!0===f?c.selectpicker.view.position0:0;if(!(i=c.$newElement.hasClass(q.SHOW))&&(p||48<=e.which&&e.which<=57||96<=e.which&&e.which<=105||65<=e.which&&e.which<=90)&&c.$button.trigger("click.bs.dropdown.data-api"),e.which===C&&i&&(e.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").focus()),p){if(!a.length)return;void 0===(t=!0===f?a.index(a.filter(".active")):c.selectpicker.current.map.newIndex[c.activeIndex])&&(t=-1),-1!==t&&((s=c.selectpicker.current.elements[t+m]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),e.which===H?(-1!==t&&t--,t+m<0&&(t+=a.length),c.selectpicker.view.canHighlight[t+m]||-1===(t=c.selectpicker.view.canHighlight.slice(0,t+m).lastIndexOf(!0)-m)&&(t=a.length-1)):(e.which===L||h)&&(++t+m>=c.selectpicker.view.canHighlight.length&&(t=0),c.selectpicker.view.canHighlight[t+m]||(t=t+1+c.selectpicker.view.canHighlight.slice(t+m+1).indexOf(!0))),e.preventDefault();var v=m+t;e.which===H?0===m&&t===a.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,v=c.selectpicker.current.elements.length-1):d=(o=(n=c.selectpicker.current.data[v]).position-n.height)<u:(e.which===L||h)&&(0===t?v=c.$menuInner[0].scrollTop=0:d=u<(o=(n=c.selectpicker.current.data[v]).position-c.sizeInfo.menuInnerHeight)),(s=c.selectpicker.current.elements[v])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),c.activeIndex=c.selectpicker.current.map.originalIndex[v],c.selectpicker.view.currentActive=s,d&&(c.$menuInner[0].scrollTop=o),c.options.liveSearch?c.$searchbox.focus():l.focus()}else if(!l.is("input")&&!P.test(e.which)||e.which===T&&c.selectpicker.keydown.keyHistory){var g,b,w=[];e.preventDefault(),c.selectpicker.keydown.keyHistory+=E[e.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),b=c.selectpicker.keydown.keyHistory,/^(.)\\1+$/.test(b)&&(b=b.charAt(0));for(var x=0;x<c.selectpicker.current.data.length;x++){var I=c.selectpicker.current.data[x];$(I,b,"startsWith",!0)&&c.selectpicker.view.canHighlight[x]&&(I.index=x,w.push(I.originalIndex))}if(w.length){var k=0;a.removeClass("active").find("a").removeClass("active"),1===b.length&&(-1===(k=w.indexOf(c.activeIndex))||k===w.length-1?k=0:k++),g=c.selectpicker.current.map.newIndex[w[k]],0<u-(n=c.selectpicker.current.data[g]).position?(o=n.position-n.height,d=!0):(o=n.position-c.sizeInfo.menuInnerHeight,d=n.position>u+c.sizeInfo.menuInnerHeight),(s=c.selectpicker.current.elements[g]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),c.activeIndex=w[k],s.firstChild.focus(),d&&(c.$menuInner[0].scrollTop=o),l.focus()}}i&&(e.which===T&&!c.selectpicker.keydown.keyHistory||e.which===z||e.which===D&&c.options.selectOnTab)&&(e.which!==T&&e.preventDefault(),c.options.liveSearch&&e.which===T||(c.$menuInner.find(".active a").trigger("click",!0),l.focus(),c.options.liveSearch||(e.preventDefault(),F(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var e=F.extend({},this.options,this.$element.data());this.options=e,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var h=F.fn.selectpicker;F.fn.selectpicker=r,F.fn.selectpicker.Constructor=c,F.fn.selectpicker.noConflict=function(){return F.fn.selectpicker=h,this},F(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",\'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input\',c.prototype.keydown).on("focusin.modal",\'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input\',function(e){e.stopPropagation()}),F(window).on("load.bs.select.data-api",function(){F(".selectpicker").each(function(){var e=F(this);r.call(e,e.data())})})}(e)});\n//# sourceMappingURL=bootstrap-select.js.map'},function(e,t,n){n(6)(n(305))},function(e,t){e.exports='!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.swal=e():t.swal=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:o,CONFIRM_BUTTON:o+"--confirm",CANCEL_BUTTON:o+"--cancel",DANGER_BUTTON:o+"--danger",BUTTON_LOADING:o+"--loading",BUTTON_LOADER:o+"__loader"},e.default=e.CLASS_NAMES},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw t=t.replace(/ +(?= )/g,""),"SweetAlert: "+(t=t.trim())},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}},function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(25));var r=n(26);e.overlayMarkup=r.default,o(n(27)),o(n(28)),o(n(29));var i=n(0),a=i.default.MODAL_TITLE,s=i.default.MODAL_TEXT,c=i.default.ICON,l=i.default.FOOTER;e.iconMarkup=\'\\n  <div class="\'+c+\'"></div>\',e.titleMarkup=\'\\n  <div class="\'+a+\'"></div>\\n\',e.textMarkup=\'\\n  <div class="\'+s+\'"></div>\',e.footerMarkup=\'\\n  <div class="\'+l+\'"></div>\\n\'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var r={visible:!0,text:null,value:null,className:"",closeModal:!0},i=Object.assign({},r,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},r,{text:"OK",value:!0});e.defaultButtonList={cancel:i,confirm:a};var s=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return i;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},r,{text:n,value:t})}},c=function(t,e){var n=s(t);return!0===e?Object.assign({},n,{visible:!0}):"string"==typeof e?Object.assign({},n,{visible:!0,text:e}):o.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},l=function(t){for(var e={},n=0,o=Object.keys(t);n<o.length;n++){var r=o[n],a=t[r],s=c(r,a);e[r]=s}return e.cancel||(e.cancel=i),e},u=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},i,{visible:!1});break;case 2:n[e.CANCEL_KEY]=c(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t[1]);break;default:o.throwErr("Invalid number of \'buttons\' in array ("+t.length+").\\n      If you want more than 2 buttons, you need to use an object!")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return"string"==typeof t?n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t):Array.isArray(t)?n=u(t):o.isPlainObject(t)?n=l(t):!0===t?n=u([!0,!0]):!1===t?n=u([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=n(0),a=i.default.MODAL,s=i.default.OVERLAY,c=n(30),l=n(31),u=n(32),f=n(33);e.injectElIntoModal=function(t){var e=o.getNode(a),n=o.stringToNode(t);return e.appendChild(n),n};var d=function(t){t.className=a,t.textContent=""},p=function(t,e){d(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=o.getNode(a);p(e,t),c.default(t.icon),l.initTitle(t.title),l.initText(t.text),f.default(t.content),u.default(t.buttons,t.dangerMode)};var m=function(){var t=o.getNode(s),e=o.stringToNode(r.modalMarkup);t.appendChild(e)};e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},r);e.resetState=function(){i=Object.assign({},r)},e.setActionValue=function(t){if("string"==typeof t)return a(o.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){i.actions[t]||(i.actions[t]={}),Object.assign(i.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,o=void 0===n||n;Object.assign(i.actions[t],{closeModal:o})},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),i=n(0),a=i.default.OVERLAY,s=i.default.SHOW_MODAL,c=i.default.BUTTON,l=i.default.BUTTON_LOADING,u=n(5);e.openModal=function(){o.getNode(a).classList.add(s),u.default.isOpen=!0};var f=function(){o.getNode(a).classList.remove(s),u.default.isOpen=!1};e.onAction=function(t){void 0===t&&(t=r.CANCEL_KEY);var e=u.default.actions[t],n=e.value;if(!1===e.closeModal){var i=c+"--"+t;o.getNode(i).classList.add(l)}else f();u.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},u.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+c),e=0;e<t.length;e++){t[e].classList.remove(l)}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){"undefined"!=typeof window&&n(11),n(16);var o=n(23).default;t.exports=o},function(t,e,n){var o=n(12);"string"==typeof o&&(o=[[t.i,o,""]]);var r={insertAt:"top"};r.transform=void 0;n(14)(o,r);o.locals&&(t.exports=o.locals)},function(t,e,n){e=t.exports=n(13)(void 0),e.push([t.i,\'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}\',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([i]).join("\\n")}return[n].join("\\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=m[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],e))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(u(o.parts[i],e));m[o.id]={id:o.id,refs:1,parts:a}}}}function r(t,e){for(var n=[],o={},r=0;r<t.length;r++){var i=t[r],a=e.base?i[0]+e.base:i[0],s=i[1],c=i[2],l=i[3],u={css:s,media:c,sourceMap:l};o[a]?o[a].parts.push(u):n.push(o[a]={id:a,parts:[u]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");var o=w[w.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),i(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),i(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,o,r,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=h++;n=g||(g=s(e)),o=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),o=p.bind(null,n,e),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),o=d.bind(null,n),r=function(){a(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}function f(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var o=n.css,r=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||i)&&(o=y(o)),r&&(o+="\\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var m={},b=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),g=null,h=0,w=[],y=n(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=b()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=r(t,e);return o(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],c=m[s.id];c.refs--,i.push(c)}if(t){o(r(t,e),e)}for(var a=0;a<i.length;a++){var c=i[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete m[c.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\\/[^\\/]*$/,"/");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^\'(.*)\'$/,function(t,e){return e});if(/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(r))return t;var i;return i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\\.\\//,""),"url("+JSON.stringify(i)+")"})}},function(t,e,n){var o=n(17);"undefined"==typeof window||window.Promise||(window.Promise=o),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError(\'"this" is null or not defined\');var n=Object(this),o=n.length>>>0;if(0===o)return!1;for(var r=0|e,i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(n[i],t))return!0;i++}return!1}}),"undefined"!=typeof window&&function(t){t.forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(t,e,n){(function(e){!function(n){function o(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:c)(e.promise,t._value);var o;try{o=n(t._value)}catch(t){return void c(e.promise,t)}s(e.promise,o)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f(r(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var d=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new u(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(i,t)},n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,i=0;i<e.length;i++)o(i,e[i])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var o=0,r=t.length;o<r;o++)t[o].then(e,n)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){d(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(18).setImmediate)},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[c]=o,s(c),c++}function r(t){delete l[t]}function i(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(u)setTimeout(a,0,t);else{var e=l[t];if(e){u=!0;try{i(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var s,c=1,l={},u=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;s=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),d.setImmediate=o,d.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){b&&p&&(b=!1,p.length?m=p.concat(m):v=-1,m.length&&s())}function s(){if(!b){var t=r(a);b=!0;for(var e=m.length;e;){for(p=m,m=[];++v<e;)p&&p[v].run();v=-1,e=m.length}p=null,b=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,f,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var p,m=[],b=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||b||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";n(22).polyfill()},function(t,e,n){"use strict";function o(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),o=1;o<arguments.length;o++){var r=arguments[o];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(r,c);void 0!==l&&l.enumerable&&(n[c]=r[c])}}return n}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}t.exports={assign:o,polyfill:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(24),r=n(6),i=n(5),a=n(36),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise(function(t,e){i.default.promise={resolve:t,reject:e},o.default(n),setTimeout(function(){r.openModal()})})}};s.close=r.onAction,s.getState=r.getState,s.setActionValue=i.setActionValue,s.stopLoading=r.stopLoading,s.setDefaults=a.setDefaults,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(0),i=r.default.MODAL,a=n(4),s=n(34),c=n(35),l=n(1);e.init=function(t){o.getNode(i)||(document.body||l.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),s.default(),a.default()),a.initModalContent(t),c.default(t)},e.default=e.init},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.MODAL;e.modalMarkup=\'\\n  <div class="\'+r+\'" role="dialog" aria-modal="true"></div>\',e.default=e.modalMarkup},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.OVERLAY,i=\'<div \\n    class="\'+r+\'"\\n    tabIndex="-1">\\n  </div>\';e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.ICON;e.errorIconMarkup=function(){var t=r+"--error",e=t+"__line";return\'\\n    <div class="\'+t+\'__x-mark">\\n      <span class="\'+e+" "+e+\'--left"></span>\\n      <span class="\'+e+" "+e+\'--right"></span>\\n    </div>\\n  \'},e.warningIconMarkup=function(){var t=r+"--warning";return\'\\n    <span class="\'+t+\'__body">\\n      <span class="\'+t+\'__dot"></span>\\n    </span>\\n  \'},e.successIconMarkup=function(){var t=r+"--success";return\'\\n    <span class="\'+t+"__line "+t+\'__line--long"></span>\\n    <span class="\'+t+"__line "+t+\'__line--tip"></span>\\n\\n    <div class="\'+t+\'__ring"></div>\\n    <div class="\'+t+\'__hide-corners"></div>\\n  \'}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.CONTENT;e.contentMarkup=\'\\n  <div class="\'+r+\'">\\n\\n  </div>\\n\'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=o.default.BUTTON_CONTAINER,i=o.default.BUTTON,a=o.default.BUTTON_LOADER;e.buttonMarkup=\'\\n  <div class="\'+r+\'">\\n\\n    <button\\n      class="\'+i+\'"\\n    ></button>\\n\\n    <div class="\'+a+\'">\\n      <div></div>\\n      <div></div>\\n      <div></div>\\n    </div>\\n\\n  </div>\\n\'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=n(2),i=n(0),a=i.default.ICON,s=i.default.ICON_CUSTOM,c=["error","warning","success","info"],l={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()},u=function(t,e){var n=a+"--"+t;e.classList.add(n);var o=l[t];o&&(e.innerHTML=o)},f=function(t,e){e.classList.add(s);var n=document.createElement("img");n.src=t,e.appendChild(n)},d=function(t){if(t){var e=o.injectElIntoModal(r.iconMarkup);c.includes(t)?u(t,e):f(t,e)}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(4),i=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=r.injectElIntoModal(o.titleMarkup);e.textContent=t,i(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\\n").forEach(function(t,n,o){e.appendChild(document.createTextNode(t)),n<o.length-1&&e.appendChild(document.createElement("br"))});var n=r.injectElIntoModal(o.textMarkup);n.appendChild(e),i(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(4),i=n(0),a=i.default.BUTTON,s=i.default.DANGER_BUTTON,c=n(3),l=n(2),u=n(6),f=n(5),d=function(t,e,n){var r=e.text,i=e.value,d=e.className,p=e.closeModal,m=o.stringToNode(l.buttonMarkup),b=m.querySelector("."+a),v=a+"--"+t;if(b.classList.add(v),d){(Array.isArray(d)?d:d.split(" ")).filter(function(t){return t.length>0}).forEach(function(t){b.classList.add(t)})}n&&t===c.CONFIRM_KEY&&b.classList.add(s),b.textContent=r;var g={};return g[t]=i,f.setActionValue(g),f.setActionOptionsFor(t,{closeModal:p}),b.addEventListener("click",function(){return u.onAction(t)}),m},p=function(t,e){var n=r.injectElIntoModal(l.footerMarkup);for(var o in t){var i=t[o],a=d(o,i,e);i.visible&&n.appendChild(a)}0===n.children.length&&n.remove()};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(4),i=n(2),a=n(5),s=n(6),c=n(0),l=c.default.CONTENT,u=function(t){t.addEventListener("input",function(t){var e=t.target,n=e.value;a.setActionValue(n)}),t.addEventListener("keyup",function(t){if("Enter"===t.key)return s.onAction(o.CONFIRM_KEY)}),setTimeout(function(){t.focus(),a.setActionValue("")},0)},f=function(t,e,n){var o=document.createElement(e),r=l+"__"+e;o.classList.add(r);for(var i in n){var a=n[i];o[i]=a}"input"===e&&u(o),t.appendChild(o)},d=function(t){if(t){var e=r.injectElIntoModal(i.contentMarkup),n=t.element,o=t.attributes;"string"==typeof n?f(e,n,o):e.appendChild(n)}};e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(2),i=function(){var t=o.stringToNode(r.overlayMarkup);document.body.appendChild(t)};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),r=n(6),i=n(1),a=n(3),s=n(0),c=s.default.MODAL,l=s.default.BUTTON,u=s.default.OVERLAY,f=function(t){t.preventDefault(),v()},d=function(t){t.preventDefault(),g()},p=function(t){if(o.default.isOpen)switch(t.key){case"Escape":return r.onAction(a.CANCEL_KEY)}},m=function(t){if(o.default.isOpen)switch(t.key){case"Tab":return f(t)}},b=function(t){if(o.default.isOpen)return"Tab"===t.key&&t.shiftKey?d(t):void 0},v=function(){var t=i.getNode(l);t&&(t.tabIndex=0,t.focus())},g=function(){var t=i.getNode(c),e=t.querySelectorAll("."+l),n=e.length-1,o=e[n];o&&o.focus()},h=function(t){t[t.length-1].addEventListener("keydown",m)},w=function(t){t[0].addEventListener("keydown",b)},y=function(){var t=i.getNode(c),e=t.querySelectorAll("."+l);e.length&&(h(e),w(e))},x=function(t){if(i.getNode(u)===t.target)return r.onAction(a.CANCEL_KEY)},_=function(t){var e=i.getNode(u);e.removeEventListener("click",x),t&&e.addEventListener("click",x)},k=function(t){o.default.timer&&clearTimeout(o.default.timer),t&&(o.default.timer=window.setTimeout(function(){return r.onAction(a.CANCEL_KEY)},t))},O=function(t){t.closeOnEsc?document.addEventListener("keyup",p):document.removeEventListener("keyup",p),t.dangerMode?v():g(),y(),_(t.closeOnClickOutside),k(t.timer)};e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),i=n(37),a=n(38),s={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},s);e.setDefaults=function(t){c=Object.assign({},s,t)};var l=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&o.throwErr("Cannot set both \'button\' and \'buttons\' options!"),void 0!==e?{confirm:e}:n},u=function(t){return o.ordinalSuffixOf(t+1)},f=function(t,e){o.throwErr(u(e)+" argument (\'"+t+"\') is invalid")},d=function(t,e){var n=t+1,r=e[n];o.isPlainObject(r)||void 0===r||o.throwErr("Expected "+u(n)+" argument (\'"+r+"\') to be a plain object")},p=function(t,e){var n=t+1,r=e[n];void 0!==r&&o.throwErr("Unexpected "+u(n)+" argument ("+r+")")},m=function(t,e,n,r){var i=typeof e,a="string"===i,s=e instanceof Element;if(a){if(0===n)return{text:e};if(1===n)return{text:e,title:r[0]};if(2===n)return d(n,r),{icon:e};f(e,n)}else{if(s&&0===n)return d(n,r),{content:e};if(o.isPlainObject(e))return p(n,r),e;f(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach(function(e,o){var r=m(0,e,o,t);Object.assign(n,r)});var o=l(n);n.buttons=r.getButtonListOpts(o),delete n.button,n.content=i.getContentOpts(n.content);var u=Object.assign({},s,c,n);return Object.keys(u).forEach(function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)}),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){var e={};return o.isPlainObject(t)?Object.assign(e,t):t instanceof Element?{element:t}:"input"===t?r:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],o=n.onlyRename,r=n.replacement,i=n.subOption,a=n.link,s=o?"renamed":"deprecated",c=\'SweetAlert warning: "\'+t+\'" option has been \'+s+".";if(r){c+=" Please use"+(i?\' "\'+i+\'" in \':" ")+\'"\'+r+\'" instead.\'}var l="https://sweetalert.js.org";c+=a?" More details: "+l+a:" More details: "+l+"/guides/#upgrading-from-1x",console.warn(c)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])});'},function(e,t,n){n(6)(n(307))},function(e,t){e.exports='// Spectrum Colorpicker v1.1.0\n// https://github.com/bgrins/spectrum\n// Author: Brian Grinstead\n// License: MIT\n\n(function (window, $, undefined) {\n    var defaultOpts = {\n\n        // Callbacks\n        beforeShow: noop,\n        move: noop,\n        change: noop,\n        show: noop,\n        hide: noop,\n\n        // Options\n        color: false,\n        flat: false,\n        showInput: false,\n        showButtons: true,\n        clickoutFiresChange: false,\n        showInitial: false,\n        showPalette: false,\n        showPaletteOnly: false,\n        showSelectionPalette: true,\n        localStorageKey: false,\n        appendTo: "body",\n        maxSelectionSize: 7,\n        cancelText: "cancel",\n        chooseText: "choose",\n        preferredFormat: false,\n        className: "",\n        showAlpha: false,\n        theme: "sp-light",\n        palette: [\'fff\', \'000\'],\n        selectionPalette: [],\n        disabled: false\n    },\n    spectrums = [],\n    IE = !!/msie/i.exec( window.navigator.userAgent ),\n    rgbaSupport = (function() {\n        function contains( str, substr ) {\n            return !!~(\'\' + str).indexOf(substr);\n        }\n\n        var elem = document.createElement(\'div\');\n        var style = elem.style;\n        style.cssText = \'background-color:rgba(0,0,0,.5)\';\n        return contains(style.backgroundColor, \'rgba\') || contains(style.backgroundColor, \'hsla\');\n    })(),\n    replaceInput = [\n        "<div class=\'sp-replacer\'>",\n            "<div class=\'sp-preview\'><div class=\'sp-preview-inner\'></div></div>",\n            "<div class=\'sp-dd\'>&#9660;</div>",\n        "</div>"\n    ].join(\'\'),\n    markup = (function () {\n\n        // IE does not support gradients with multiple stops, so we need to simulate\n        //  that for the rainbow slider with 8 divs that each have a single gradient\n        var gradientFix = "";\n        if (IE) {\n            for (var i = 1; i <= 6; i++) {\n                gradientFix += "<div class=\'sp-" + i + "\'></div>";\n            }\n        }\n\n        return [\n            "<div class=\'sp-container sp-hidden\'>",\n                "<div class=\'sp-palette-container\'>",\n                    "<div class=\'sp-palette sp-thumb sp-cf\'></div>",\n                "</div>",\n                "<div class=\'sp-picker-container\'>",\n                    "<div class=\'sp-top sp-cf\'>",\n                        "<div class=\'sp-fill\'></div>",\n                        "<div class=\'sp-top-inner\'>",\n                            "<div class=\'sp-color\'>",\n                                "<div class=\'sp-sat\'>",\n                                    "<div class=\'sp-val\'>",\n                                        "<div class=\'sp-dragger\'></div>",\n                                    "</div>",\n                                "</div>",\n                            "</div>",\n                            "<div class=\'sp-hue\'>",\n                                "<div class=\'sp-slider\'></div>",\n                                gradientFix,\n                            "</div>",\n                        "</div>",\n                        "<div class=\'sp-alpha\'><div class=\'sp-alpha-inner\'><div class=\'sp-alpha-handle\'></div></div></div>",\n                    "</div>",\n                    "<div class=\'sp-input-container sp-cf\'>",\n                        "<input class=\'sp-input\' type=\'text\' spellcheck=\'false\'  />",\n                    "</div>",\n                    "<div class=\'sp-initial sp-thumb sp-cf\'></div>",\n                    "<div class=\'sp-button-container sp-cf\'>",\n                        "<a class=\'sp-cancel\' href=\'#\'></a>",\n                        "<button class=\'sp-choose\'></button>",\n                    "</div>",\n                "</div>",\n            "</div>"\n        ].join("");\n    })();\n\n    function paletteTemplate (p, color, className) {\n        var html = [];\n        for (var i = 0; i < p.length; i++) {\n            var tiny = tinycolor(p[i]);\n            var c = tiny.toHsl().l < 0.5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";\n            c += (tinycolor.equals(color, p[i])) ? " sp-thumb-active" : "";\n\n            var swatchStyle = rgbaSupport ? ("background-color:" + tiny.toRgbString()) : "filter:" + tiny.toFilter();\n            html.push(\'<span title="\' + tiny.toRgbString() + \'" data-color="\' + tiny.toRgbString() + \'" class="\' + c + \'"><span class="sp-thumb-inner" style="\' + swatchStyle + \';" /></span>\');\n        }\n        return "<div class=\'sp-cf " + className + "\'>" + html.join(\'\') + "</div>";\n    }\n\n    function hideAll() {\n        for (var i = 0; i < spectrums.length; i++) {\n            if (spectrums[i]) {\n                spectrums[i].hide();\n            }\n        }\n    }\n\n    function instanceOptions(o, callbackContext) {\n        var opts = $.extend({}, defaultOpts, o);\n        opts.callbacks = {\n            \'move\': bind(opts.move, callbackContext),\n            \'change\': bind(opts.change, callbackContext),\n            \'show\': bind(opts.show, callbackContext),\n            \'hide\': bind(opts.hide, callbackContext),\n            \'beforeShow\': bind(opts.beforeShow, callbackContext)\n        };\n\n        return opts;\n    }\n\n    function spectrum(element, o) {\n\n        var opts = instanceOptions(o, element),\n            flat = opts.flat,\n            showSelectionPalette = opts.showSelectionPalette,\n            localStorageKey = opts.localStorageKey,\n            theme = opts.theme,\n            callbacks = opts.callbacks,\n            resize = throttle(reflow, 10),\n            visible = false,\n            dragWidth = 0,\n            dragHeight = 0,\n            dragHelperHeight = 0,\n            slideHeight = 0,\n            slideWidth = 0,\n            alphaWidth = 0,\n            alphaSlideHelperWidth = 0,\n            slideHelperHeight = 0,\n            currentHue = 0,\n            currentSaturation = 0,\n            currentValue = 0,\n            currentAlpha = 1,\n            palette = opts.palette.slice(0),\n            paletteArray = $.isArray(palette[0]) ? palette : [palette],\n            selectionPalette = opts.selectionPalette.slice(0),\n            maxSelectionSize = opts.maxSelectionSize,\n            draggingClass = "sp-dragging";\n\n        var doc = element.ownerDocument,\n            body = doc.body,\n            boundElement = $(element),\n            disabled = false,\n            container = $(markup, doc).addClass(theme),\n            dragger = container.find(".sp-color"),\n            dragHelper = container.find(".sp-dragger"),\n            slider = container.find(".sp-hue"),\n            slideHelper = container.find(".sp-slider"),\n            alphaSliderInner = container.find(".sp-alpha-inner"),\n            alphaSlider = container.find(".sp-alpha"),\n            alphaSlideHelper = container.find(".sp-alpha-handle"),\n            textInput = container.find(".sp-input"),\n            paletteContainer = container.find(".sp-palette"),\n            initialColorContainer = container.find(".sp-initial"),\n            cancelButton = container.find(".sp-cancel"),\n            chooseButton = container.find(".sp-choose"),\n            isInput = boundElement.is("input"),\n            shouldReplace = isInput && !flat,\n            replacer = (shouldReplace) ? $(replaceInput).addClass(theme).addClass(opts.className) : $([]),\n            offsetElement = (shouldReplace) ? replacer : boundElement,\n            previewElement = replacer.find(".sp-preview-inner"),\n            initialColor = opts.color || (isInput && boundElement.val()),\n            colorOnShow = false,\n            preferredFormat = opts.preferredFormat,\n            currentPreferredFormat = preferredFormat,\n            clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange;\n\n\n        function applyOptions() {\n\n            container.toggleClass("sp-flat", flat);\n            container.toggleClass("sp-input-disabled", !opts.showInput);\n            container.toggleClass("sp-alpha-enabled", opts.showAlpha);\n            container.toggleClass("sp-buttons-disabled", !opts.showButtons);\n            container.toggleClass("sp-palette-disabled", !opts.showPalette);\n            container.toggleClass("sp-palette-only", opts.showPaletteOnly);\n            container.toggleClass("sp-initial-disabled", !opts.showInitial);\n            container.addClass(opts.className);\n\n            reflow();\n        }\n\n        function initialize() {\n\n            if (IE) {\n                container.find("*:not(input)").attr("unselectable", "on");\n            }\n\n            applyOptions();\n\n            if (shouldReplace) {\n                boundElement.after(replacer).hide();\n            }\n\n            if (flat) {\n                boundElement.after(container).hide();\n            }\n            else {\n\n                var appendTo = opts.appendTo === "parent" ? boundElement.parent() : $(opts.appendTo);\n                if (appendTo.length !== 1) {\n                    appendTo = $("body");\n                }\n\n                appendTo.append(container);\n            }\n\n            if (localStorageKey && window.localStorage) {\n\n                // Migrate old palettes over to new format.  May want to remove this eventually.\n                try {\n                    var oldPalette = window.localStorage[localStorageKey].split(",#");\n                    if (oldPalette.length > 1) {\n                        delete window.localStorage[localStorageKey];\n                        $.each(oldPalette, function(i, c) {\n                             addColorToSelectionPalette(c);\n                        });\n                    }\n                }\n                catch(e) { }\n\n                try {\n                    selectionPalette = window.localStorage[localStorageKey].split(";");\n                }\n                catch (e) { }\n            }\n\n            offsetElement.bind("click.spectrum touchstart.spectrum", function (e) {\n                if (!disabled) {\n                    toggle();\n                }\n\n                e.stopPropagation();\n\n                if (!$(e.target).is("input")) {\n                    e.preventDefault();\n                }\n            });\n\n            if(boundElement.is(":disabled") || (opts.disabled === true)) {\n                disable();\n            }\n\n            // Prevent clicks from bubbling up to document.  This would cause it to be hidden.\n            container.click(stopPropagation);\n\n            // Handle user typed input\n            textInput.change(setFromTextInput);\n            textInput.bind("paste", function () {\n                setTimeout(setFromTextInput, 1);\n            });\n            textInput.keydown(function (e) { if (e.keyCode == 13) { setFromTextInput(); } });\n\n            cancelButton.text(opts.cancelText);\n            cancelButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                hide("cancel");\n            });\n\n            chooseButton.text(opts.chooseText);\n            chooseButton.bind("click.spectrum", function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                if (isValid()) {\n                    updateOriginalInput(true);\n\t\t\t\t\thide();\n                }\n            });\n\n            draggable(alphaSlider, function (dragX, dragY, e) {\n                currentAlpha = (dragX / alphaWidth);\n                if (e.shiftKey) {\n                    currentAlpha = Math.round(currentAlpha * 10) / 10;\n                }\n\n                move();\n            });\n\n            draggable(slider, function (dragX, dragY) {\n                currentHue = parseFloat(dragY / slideHeight);\n                move();\n            }, dragStart, dragStop);\n\n            draggable(dragger, function (dragX, dragY) {\n                currentSaturation = parseFloat(dragX / dragWidth);\n                currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                move();\n            }, dragStart, dragStop);\n\n            if (!!initialColor) {\n                set(initialColor);\n\n                // In case color was black - update the preview UI and set the format\n                // since the set function will not run (default color is black).\n                updateUI();\n                currentPreferredFormat = preferredFormat || tinycolor(initialColor).format;\n\n                addColorToSelectionPalette(initialColor);\n            }\n            else {\n                updateUI();\n            }\n\n            if (flat) {\n                show();\n            }\n\n            function palletElementClick(e) {\n                if (e.data && e.data.ignore) {\n                    set($(this).data("color"));\n                    move();\n                }\n                else {\n                    set($(this).data("color"));\n                    updateOriginalInput(true);\n                    move();\n                    hide();\n                }\n\n                return false;\n            }\n\n            var paletteEvent = IE ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";\n            paletteContainer.delegate(".sp-thumb-el", paletteEvent, palletElementClick);\n            initialColorContainer.delegate(".sp-thumb-el:nth-child(1)", paletteEvent, { ignore: true }, palletElementClick);\n        }\n\n        function addColorToSelectionPalette(color) {\n            if (showSelectionPalette) {\n                var colorRgb = tinycolor(color).toRgbString();\n                if ($.inArray(colorRgb, selectionPalette) === -1) {\n                    selectionPalette.push(colorRgb);\n                    while(selectionPalette.length > maxSelectionSize) {\n                        selectionPalette.shift();\n                    }\n                }\n\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        window.localStorage[localStorageKey] = selectionPalette.join(";");\n                    }\n                    catch(e) { }\n                }\n            }\n        }\n\n        function getUniqueSelectionPalette() {\n            var unique = [];\n            var p = selectionPalette;\n            var paletteLookup = {};\n            var rgb;\n\n            if (opts.showPalette) {\n\n                for (var i = 0; i < paletteArray.length; i++) {\n                    for (var j = 0; j < paletteArray[i].length; j++) {\n                        rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                        paletteLookup[rgb] = true;\n                    }\n                }\n\n                for (i = 0; i < p.length; i++) {\n                    rgb = tinycolor(p[i]).toRgbString();\n\n                    if (!paletteLookup.hasOwnProperty(rgb)) {\n                        unique.push(p[i]);\n                        paletteLookup[rgb] = true;\n                    }\n                }\n            }\n\n            return unique.reverse().slice(0, opts.maxSelectionSize);\n        }\n\n        function drawPalette() {\n\n            var currentColor = get();\n\n            var html = $.map(paletteArray, function (palette, i) {\n                return paletteTemplate(palette, currentColor, "sp-palette-row sp-palette-row-" + i);\n            });\n\n            if (selectionPalette) {\n                html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, "sp-palette-row sp-palette-row-selection"));\n            }\n\n            paletteContainer.html(html.join(""));\n        }\n\n        function drawInitial() {\n            if (opts.showInitial) {\n                var initial = colorOnShow;\n                var current = get();\n                initialColorContainer.html(paletteTemplate([initial, current], current, "sp-palette-row-initial"));\n            }\n        }\n\n        function dragStart() {\n            if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                reflow();\n            }\n            container.addClass(draggingClass);\n        }\n\n        function dragStop() {\n            container.removeClass(draggingClass);\n        }\n\n        function setFromTextInput() {\n            var tiny = tinycolor(textInput.val());\n            if (tiny.ok) {\n                set(tiny);\n            }\n            else {\n                textInput.addClass("sp-validation-error");\n            }\n        }\n\n        function toggle() {\n            if (visible) {\n                hide();\n            }\n            else {\n                show();\n            }\n        }\n\n        function show() {\n            var event = $.Event(\'beforeShow.spectrum\');\n\n            if (visible) {\n                reflow();\n                return;\n            }\n\n            boundElement.trigger(event, [ get() ]);\n\n            if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                return;\n            }\n\n            hideAll();\n            visible = true;\n\n            $(doc).bind("click.spectrum", hide);\n            $(window).bind("resize.spectrum", resize);\n            replacer.addClass("sp-active");\n            container.removeClass("sp-hidden");\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n            reflow();\n            updateUI();\n\n            colorOnShow = get();\n\n            drawInitial();\n            callbacks.show(colorOnShow);\n            boundElement.trigger(\'show.spectrum\', [ colorOnShow ]);\n        }\n\n        function hide(e) {\n\n            // Return on right click\n            if (e && e.type == "click" && e.button == 2) { return; }\n\n            // Return if hiding is unnecessary\n            if (!visible || flat) { return; }\n            visible = false;\n\n            $(doc).unbind("click.spectrum", hide);\n            $(window).unbind("resize.spectrum", resize);\n\n            replacer.removeClass("sp-active");\n            container.addClass("sp-hidden");\n\n            var colorHasChanged = !tinycolor.equals(get(), colorOnShow);\n\n            if (colorHasChanged) {\n                if (clickoutFiresChange && e !== "cancel") {\n                    updateOriginalInput(true);\n                }\n                else {\n                    revert();\n                }\n            }\n\n            callbacks.hide(get());\n            boundElement.trigger(\'hide.spectrum\', [ get() ]);\n        }\n\n        function revert() {\n            set(colorOnShow, true);\n        }\n\n        function set(color, ignoreFormatChange) {\n            if (tinycolor.equals(color, get())) {\n                return;\n            }\n\n            var newColor = tinycolor(color);\n            var newHsv = newColor.toHsv();\n\n            currentHue = newHsv.h;\n            currentSaturation = newHsv.s;\n            currentValue = newHsv.v;\n            currentAlpha = newHsv.a;\n\n            updateUI();\n\n            if (newColor.ok && !ignoreFormatChange) {\n                currentPreferredFormat = preferredFormat || newColor.format;\n            }\n        }\n\n        function get(opts) {\n            opts = opts || { };\n            return tinycolor.fromRatio({\n                h: currentHue,\n                s: currentSaturation,\n                v: currentValue,\n                a: Math.round(currentAlpha * 100) / 100\n            }, { format: opts.format || currentPreferredFormat });\n        }\n\n        function isValid() {\n            return !textInput.hasClass("sp-validation-error");\n        }\n\n        function move() {\n            updateUI();\n\n            callbacks.move(get());\n            boundElement.trigger(\'move.spectrum\', [ get() ]);\n        }\n\n        function updateUI() {\n\n            textInput.removeClass("sp-validation-error");\n\n            updateHelperLocations();\n\n            // Update dragger background color (gradients take care of saturation and value).\n            var flatColor = tinycolor.fromRatio({ h: currentHue, s: 1, v: 1 });\n            dragger.css("background-color", flatColor.toHexString());\n\n            // Get a format that alpha will be included in (hex and names ignore alpha)\n            var format = currentPreferredFormat;\n            if (currentAlpha < 1) {\n                if (format === "hex" || format === "hex3" || format === "hex6" || format === "name") {\n                    format = "rgb";\n                }\n            }\n\n            var realColor = get({ format: format }),\n                realHex = realColor.toHexString(),\n                realRgb = realColor.toRgbString();\n\n            // Update the replaced elements background color (with actual selected color)\n            if (rgbaSupport || realColor.alpha === 1) {\n                previewElement.css("background-color", realRgb);\n            }\n            else {\n                previewElement.css("background-color", "transparent");\n                previewElement.css("filter", realColor.toFilter());\n            }\n\n            if (opts.showAlpha) {\n                var rgb = realColor.toRgb();\n                rgb.a = 0;\n                var realAlpha = tinycolor(rgb).toRgbString();\n                var gradient = "linear-gradient(left, " + realAlpha + ", " + realHex + ")";\n\n                if (IE) {\n                    alphaSliderInner.css("filter", tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                }\n                else {\n                    alphaSliderInner.css("background", "-webkit-" + gradient);\n                    alphaSliderInner.css("background", "-moz-" + gradient);\n                    alphaSliderInner.css("background", "-ms-" + gradient);\n                    alphaSliderInner.css("background", gradient);\n                }\n            }\n\n\n            // Update the text entry input as it changes happen\n            if (opts.showInput) {\n                textInput.val(realColor.toString(format));\n            }\n\n            if (opts.showPalette) {\n                drawPalette();\n            }\n\n            drawInitial();\n        }\n\n        function updateHelperLocations() {\n            var s = currentSaturation;\n            var v = currentValue;\n\n            // Where to show the little circle in that displays your current selected color\n            var dragX = s * dragWidth;\n            var dragY = dragHeight - (v * dragHeight);\n            dragX = Math.max(\n                -dragHelperHeight,\n                Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight)\n            );\n            dragY = Math.max(\n                -dragHelperHeight,\n                Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight)\n            );\n            dragHelper.css({\n                "top": dragY,\n                "left": dragX\n            });\n\n            var alphaX = currentAlpha * alphaWidth;\n            alphaSlideHelper.css({\n                "left": alphaX - (alphaSlideHelperWidth / 2)\n            });\n\n            // Where to show the bar that displays your current selected hue\n            var slideY = (currentHue) * slideHeight;\n            slideHelper.css({\n                "top": slideY - slideHelperHeight\n            });\n        }\n\n        function updateOriginalInput(fireCallback) {\n            var color = get();\n\n            if (isInput) {\n                boundElement.val(color.toString(currentPreferredFormat)).change();\n            }\n\n            var hasChanged = !tinycolor.equals(color, colorOnShow);\n            colorOnShow = color;\n\n            // Update the selection palette with the current color\n            addColorToSelectionPalette(color);\n            if (fireCallback && hasChanged) {\n                callbacks.change(color);\n                boundElement.trigger(\'change.spectrum\', [ color ]);\n            }\n        }\n\n        function reflow() {\n            dragWidth = dragger.width();\n            dragHeight = dragger.height();\n            dragHelperHeight = dragHelper.height();\n            slideWidth = slider.width();\n            slideHeight = slider.height();\n            slideHelperHeight = slideHelper.height();\n            alphaWidth = alphaSlider.width();\n            alphaSlideHelperWidth = alphaSlideHelper.width();\n\n            if (!flat) {\n                container.css("position", "absolute");\n                container.offset(getOffset(container, offsetElement));\n            }\n\n            updateHelperLocations();\n        }\n\n        function destroy() {\n            boundElement.show();\n            offsetElement.unbind("click.spectrum touchstart.spectrum");\n            container.remove();\n            replacer.remove();\n            spectrums[spect.id] = null;\n        }\n\n        function option(optionName, optionValue) {\n            if (optionName === undefined) {\n                return $.extend({}, opts);\n            }\n            if (optionValue === undefined) {\n                return opts[optionName];\n            }\n\n            opts[optionName] = optionValue;\n            applyOptions();\n        }\n\n        function enable() {\n            disabled = false;\n            boundElement.attr("disabled", false);\n            offsetElement.removeClass("sp-disabled");\n        }\n\n        function disable() {\n            hide();\n            disabled = true;\n            boundElement.attr("disabled", true);\n            offsetElement.addClass("sp-disabled");\n        }\n\n        initialize();\n\n        var spect = {\n            show: show,\n            hide: hide,\n            toggle: toggle,\n            reflow: reflow,\n            option: option,\n            enable: enable,\n            disable: disable,\n            set: function (c) {\n                set(c);\n                updateOriginalInput();\n            },\n            get: get,\n            destroy: destroy,\n            container: container\n        };\n\n        spect.id = spectrums.push(spect) - 1;\n\n        return spect;\n    }\n\n    /**\n    * checkOffset - get the offset below/above and left/right element depending on screen position\n    * Thanks https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.datepicker.js\n    */\n    function getOffset(picker, input) {\n        var extraY = 0;\n        var dpWidth = picker.outerWidth();\n        var dpHeight = picker.outerHeight();\n        var inputHeight = input.outerHeight();\n        var doc = picker[0].ownerDocument;\n        var docElem = doc.documentElement;\n        var viewWidth = docElem.clientWidth + $(doc).scrollLeft();\n        var viewHeight = docElem.clientHeight + $(doc).scrollTop();\n        var offset = input.offset();\n        offset.top += inputHeight;\n\n        offset.left -=\n            Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?\n            Math.abs(offset.left + dpWidth - viewWidth) : 0);\n\n        offset.top -=\n            Math.min(offset.top, ((offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?\n            Math.abs(dpHeight + inputHeight - extraY) : extraY));\n\n        return offset;\n    }\n\n    /**\n    * noop - do nothing\n    */\n    function noop() {\n\n    }\n\n    /**\n    * stopPropagation - makes the code only doing this a little easier to read in line\n    */\n    function stopPropagation(e) {\n\t\te.stopPropagation();\n    }\n\n    /**\n    * Create a function bound to a given object\n    * Thanks to underscore.js\n    */\n    function bind(func, obj) {\n        var slice = Array.prototype.slice;\n        var args = slice.call(arguments, 2);\n        return function () {\n            return func.apply(obj, args.concat(slice.call(arguments)));\n        };\n    }\n\n    /**\n    * Lightweight drag helper.  Handles containment within the element, so that\n    * when dragging, the x is within [0,element.width] and y is within [0,element.height]\n    */\n    function draggable(element, onmove, onstart, onstop) {\n        onmove = onmove || function () { };\n        onstart = onstart || function () { };\n        onstop = onstop || function () { };\n        var doc = element.ownerDocument || document;\n        var dragging = false;\n        var offset = {};\n        var maxHeight = 0;\n        var maxWidth = 0;\n        var hasTouch = (\'ontouchstart\' in window);\n\n        var duringDragEvents = {};\n        duringDragEvents["selectstart"] = prevent;\n        duringDragEvents["dragstart"] = prevent;\n        duringDragEvents["touchmove mousemove"] = move;\n        duringDragEvents["touchend mouseup"] = stop;\n\n        function prevent(e) {\n            if (e.stopPropagation) {\n                e.stopPropagation();\n            }\n            if (e.preventDefault) {\n                e.preventDefault();\n            }\n            e.returnValue = false;\n        }\n\n        function move(e) {\n            if (dragging) {\n                // Mouseup happened outside of window\n                if (IE && document.documentMode < 9 && !e.button) {\n                    return stop();\n                }\n\n                var touches = e.originalEvent.touches;\n                var pageX = touches ? touches[0].pageX : e.pageX;\n                var pageY = touches ? touches[0].pageY : e.pageY;\n\n                var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n\n                if (hasTouch) {\n                    // Stop scrolling in iOS\n                    prevent(e);\n                }\n\n                onmove.apply(element, [dragX, dragY, e]);\n            }\n        }\n        function start(e) {\n            var rightclick = (e.which) ? (e.which == 3) : (e.button == 2);\n            var touches = e.originalEvent.touches;\n\n            if (!rightclick && !dragging) {\n                if (onstart.apply(element, arguments) !== false) {\n                    dragging = true;\n                    maxHeight = $(element).height();\n                    maxWidth = $(element).width();\n                    offset = $(element).offset();\n\n                    $(doc).bind(duringDragEvents);\n                    $(doc.body).addClass("sp-dragging");\n\n                    if (!hasTouch) {\n                        move(e);\n                    }\n\n                    prevent(e);\n                }\n            }\n        }\n        function stop() {\n            if (dragging) {\n                $(doc).unbind(duringDragEvents);\n                $(doc.body).removeClass("sp-dragging");\n                onstop.apply(element, arguments);\n            }\n            dragging = false;\n        }\n\n        $(element).bind("touchstart mousedown", start);\n    }\n\n    function throttle(func, wait, debounce) {\n        var timeout;\n        return function () {\n            var context = this, args = arguments;\n            var throttler = function () {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    }\n\n\n    function log(){/* jshint -W021 */if(window.console){if(Function.prototype.bind)log=Function.prototype.bind.call(console.log,console);else log=function(){Function.prototype.apply.call(console.log,console,arguments);};log.apply(this,arguments);}}\n\n    /**\n    * Define a jQuery plugin\n    */\n    var dataID = "spectrum.id";\n    $.fn.spectrum = function (opts, extra) {\n\n        if (typeof opts == "string") {\n\n            var returnValue = this;\n            var args = Array.prototype.slice.call( arguments, 1 );\n\n            this.each(function () {\n                var spect = spectrums[$(this).data(dataID)];\n                if (spect) {\n\n                    var method = spect[opts];\n                    if (!method) {\n                        throw new Error( "Spectrum: no such method: \'" + opts + "\'" );\n                    }\n\n                    if (opts == "get") {\n                        returnValue = spect.get();\n                    }\n                    else if (opts == "container") {\n                        returnValue = spect.container;\n                    }\n                    else if (opts == "option") {\n                        returnValue = spect.option.apply(spect, args);\n                    }\n                    else if (opts == "destroy") {\n                        spect.destroy();\n                        $(this).removeData(dataID);\n                    }\n                    else {\n                        method.apply(spect, args);\n                    }\n                }\n            });\n\n            return returnValue;\n        }\n\n        // Initializing a new instance of spectrum\n        return this.spectrum("destroy").each(function () {\n            var spect = spectrum(this, opts);\n            $(this).data(dataID, spect.id);\n        });\n    };\n\n    $.fn.spectrum.load = true;\n    $.fn.spectrum.loadOpts = {};\n    $.fn.spectrum.draggable = draggable;\n    $.fn.spectrum.defaults = defaultOpts;\n\n    $.spectrum = { };\n    $.spectrum.localization = { };\n    $.spectrum.palettes = { };\n\n    $.fn.spectrum.processNativeColorInputs = function () {\n        var colorInput = $("<input type=\'color\' value=\'!\' />")[0];\n        var supportsColor = colorInput.type === "color" && colorInput.value != "!";\n\n        if (!supportsColor) {\n            $("input[type=color]").spectrum({\n                preferredFormat: "hex6"\n            });\n        }\n    };\n    // TinyColor v0.9.14\n    // https://github.com/bgrins/TinyColor\n    // 2013-02-24, Brian Grinstead, MIT License\n\n    (function(root) {\n\n        var trimLeft = /^[\\s,#]+/,\n            trimRight = /\\s+$/,\n            tinyCounter = 0,\n            math = Math,\n            mathRound = math.round,\n            mathMin = math.min,\n            mathMax = math.max,\n            mathRandom = math.random;\n\n        function tinycolor (color, opts) {\n\n            color = (color) ? color : \'\';\n            opts = opts || { };\n\n            // If input is already a tinycolor, return itself\n            if (typeof color == "object" && color.hasOwnProperty("_tc_id")) {\n               return color;\n            }\n            var rgb = inputToRGB(color);\n            var r = rgb.r,\n                g = rgb.g,\n                b = rgb.b,\n                a = rgb.a,\n                roundA = mathRound(100*a) / 100,\n                format = opts.format || rgb.format;\n\n            // Don\'t let the range of [0,255] come back in [0,1].\n            // Potentially lose a little bit of precision here, but will fix issues where\n            // .5 gets interpreted as half of the total, instead of half of 1\n            // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n            if (r < 1) { r = mathRound(r); }\n            if (g < 1) { g = mathRound(g); }\n            if (b < 1) { b = mathRound(b); }\n\n            return {\n                ok: rgb.ok,\n                format: format,\n                _tc_id: tinyCounter++,\n                alpha: a,\n                toHsv: function() {\n                    var hsv = rgbToHsv(r, g, b);\n                    return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: a };\n                },\n                toHsvString: function() {\n                    var hsv = rgbToHsv(r, g, b);\n                    var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n                    return (a == 1) ?\n                      "hsv("  + h + ", " + s + "%, " + v + "%)" :\n                      "hsva(" + h + ", " + s + "%, " + v + "%, "+ roundA + ")";\n                },\n                toHsl: function() {\n                    var hsl = rgbToHsl(r, g, b);\n                    return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: a };\n                },\n                toHslString: function() {\n                    var hsl = rgbToHsl(r, g, b);\n                    var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n                    return (a == 1) ?\n                      "hsl("  + h + ", " + s + "%, " + l + "%)" :\n                      "hsla(" + h + ", " + s + "%, " + l + "%, "+ roundA + ")";\n                },\n                toHex: function(allow3Char) {\n                    return rgbToHex(r, g, b, allow3Char);\n                },\n                toHexString: function(allow3Char) {\n                    return \'#\' + rgbToHex(r, g, b, allow3Char);\n                },\n                toRgb: function() {\n                    return { r: mathRound(r), g: mathRound(g), b: mathRound(b), a: a };\n                },\n                toRgbString: function() {\n                    return (a == 1) ?\n                      "rgb("  + mathRound(r) + ", " + mathRound(g) + ", " + mathRound(b) + ")" :\n                      "rgba(" + mathRound(r) + ", " + mathRound(g) + ", " + mathRound(b) + ", " + roundA + ")";\n                },\n                toPercentageRgb: function() {\n                    return { r: mathRound(bound01(r, 255) * 100) + "%", g: mathRound(bound01(g, 255) * 100) + "%", b: mathRound(bound01(b, 255) * 100) + "%", a: a };\n                },\n                toPercentageRgbString: function() {\n                    return (a == 1) ?\n                      "rgb("  + mathRound(bound01(r, 255) * 100) + "%, " + mathRound(bound01(g, 255) * 100) + "%, " + mathRound(bound01(b, 255) * 100) + "%)" :\n                      "rgba(" + mathRound(bound01(r, 255) * 100) + "%, " + mathRound(bound01(g, 255) * 100) + "%, " + mathRound(bound01(b, 255) * 100) + "%, " + roundA + ")";\n                },\n                toName: function() {\n                    return hexNames[rgbToHex(r, g, b, true)] || false;\n                },\n                toFilter: function(secondColor) {\n                    var hex = rgbToHex(r, g, b);\n                    var secondHex = hex;\n                    var alphaHex = Math.round(parseFloat(a) * 255).toString(16);\n                    var secondAlphaHex = alphaHex;\n                    var gradientType = opts && opts.gradientType ? "GradientType = 1, " : "";\n\n                    if (secondColor) {\n                        var s = tinycolor(secondColor);\n                        secondHex = s.toHex();\n                        secondAlphaHex = Math.round(parseFloat(s.alpha) * 255).toString(16);\n                    }\n\n                    return "progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr=#" + pad2(alphaHex) + hex + ",endColorstr=#" + pad2(secondAlphaHex) + secondHex + ")";\n                },\n                toString: function(format) {\n                    format = format || this.format;\n                    var formattedString = false;\n                    if (format === "rgb") {\n                        formattedString = this.toRgbString();\n                    }\n                    if (format === "prgb") {\n                        formattedString = this.toPercentageRgbString();\n                    }\n                    if (format === "hex" || format === "hex6") {\n                        formattedString = this.toHexString();\n                    }\n                    if (format === "hex3") {\n                        formattedString = this.toHexString(true);\n                    }\n                    if (format === "name") {\n                        formattedString = this.toName();\n                    }\n                    if (format === "hsl") {\n                        formattedString = this.toHslString();\n                    }\n                    if (format === "hsv") {\n                        formattedString = this.toHsvString();\n                    }\n\n                    return formattedString || this.toHexString();\n                }\n            };\n        }\n\n        // If input is an object, force 1 into "1.0" to handle ratios properly\n        // String input requires "1.0" as input, so 1 will be treated as 1\n        tinycolor.fromRatio = function(color, opts) {\n            if (typeof color == "object") {\n                var newColor = {};\n                for (var i in color) {\n                    if (color.hasOwnProperty(i)) {\n                        if (i === "a") {\n                            newColor[i] = color[i];\n                        }\n                        else {\n                            newColor[i] = convertToPercentage(color[i]);\n                        }\n                    }\n                }\n                color = newColor;\n            }\n\n            return tinycolor(color, opts);\n        };\n\n        // Given a string or object, convert that input to RGB\n        // Possible string inputs:\n        //\n        //     "red"\n        //     "#f00" or "f00"\n        //     "#ff0000" or "ff0000"\n        //     "rgb 255 0 0" or "rgb (255, 0, 0)"\n        //     "rgb 1.0 0 0" or "rgb (1, 0, 0)"\n        //     "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"\n        //     "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"\n        //     "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"\n        //     "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"\n        //     "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"\n        //\n        function inputToRGB(color) {\n\n            var rgb = { r: 0, g: 0, b: 0 };\n            var a = 1;\n            var ok = false;\n            var format = false;\n\n            if (typeof color == "string") {\n                color = stringInputToObject(color);\n            }\n\n            if (typeof color == "object") {\n                if (color.hasOwnProperty("r") && color.hasOwnProperty("g") && color.hasOwnProperty("b")) {\n                    rgb = rgbToRgb(color.r, color.g, color.b);\n                    ok = true;\n                    format = String(color.r).substr(-1) === "%" ? "prgb" : "rgb";\n                }\n                else if (color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("v")) {\n                    color.s = convertToPercentage(color.s);\n                    color.v = convertToPercentage(color.v);\n                    rgb = hsvToRgb(color.h, color.s, color.v);\n                    ok = true;\n                    format = "hsv";\n                }\n                else if (color.hasOwnProperty("h") && color.hasOwnProperty("s") && color.hasOwnProperty("l")) {\n                    color.s = convertToPercentage(color.s);\n                    color.l = convertToPercentage(color.l);\n                    rgb = hslToRgb(color.h, color.s, color.l);\n                    ok = true;\n                    format = "hsl";\n                }\n\n                if (color.hasOwnProperty("a")) {\n                    a = color.a;\n                }\n            }\n\n            a = parseFloat(a);\n\n            // Handle invalid alpha characters by setting to 1\n            if (isNaN(a) || a < 0 || a > 1) {\n                a = 1;\n            }\n\n            return {\n                ok: ok,\n                format: color.format || format,\n                r: mathMin(255, mathMax(rgb.r, 0)),\n                g: mathMin(255, mathMax(rgb.g, 0)),\n                b: mathMin(255, mathMax(rgb.b, 0)),\n                a: a\n            };\n        }\n\n\n\n        // Conversion Functions\n        // --------------------\n\n        // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n        // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n        // `rgbToRgb`\n        // Handle bounds / percentage checking to conform to CSS color spec\n        // <http://www.w3.org/TR/css3-color/>\n        // *Assumes:* r, g, b in [0, 255] or [0, 1]\n        // *Returns:* { r, g, b } in [0, 255]\n        function rgbToRgb(r, g, b){\n            return {\n                r: bound01(r, 255) * 255,\n                g: bound01(g, 255) * 255,\n                b: bound01(b, 255) * 255\n            };\n        }\n\n        // `rgbToHsl`\n        // Converts an RGB color value to HSL.\n        // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n        // *Returns:* { h, s, l } in [0,1]\n        function rgbToHsl(r, g, b) {\n\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, l = (max + min) / 2;\n\n            if(max == min) {\n                h = s = 0; // achromatic\n            }\n            else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                switch(max) {\n                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                    case g: h = (b - r) / d + 2; break;\n                    case b: h = (r - g) / d + 4; break;\n                }\n\n                h /= 6;\n            }\n\n            return { h: h, s: s, l: l };\n        }\n\n        // `hslToRgb`\n        // Converts an HSL color value to RGB.\n        // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n        // *Returns:* { r, g, b } in the set [0, 255]\n        function hslToRgb(h, s, l) {\n            var r, g, b;\n\n            h = bound01(h, 360);\n            s = bound01(s, 100);\n            l = bound01(l, 100);\n\n            function hue2rgb(p, q, t) {\n                if(t < 0) t += 1;\n                if(t > 1) t -= 1;\n                if(t < 1/6) return p + (q - p) * 6 * t;\n                if(t < 1/2) return q;\n                if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n                return p;\n            }\n\n            if(s === 0) {\n                r = g = b = l; // achromatic\n            }\n            else {\n                var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n                var p = 2 * l - q;\n                r = hue2rgb(p, q, h + 1/3);\n                g = hue2rgb(p, q, h);\n                b = hue2rgb(p, q, h - 1/3);\n            }\n\n            return { r: r * 255, g: g * 255, b: b * 255 };\n        }\n\n        // `rgbToHsv`\n        // Converts an RGB color value to HSV\n        // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n        // *Returns:* { h, s, v } in [0,1]\n        function rgbToHsv(r, g, b) {\n\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, v = max;\n\n            var d = max - min;\n            s = max === 0 ? 0 : d / max;\n\n            if(max == min) {\n                h = 0; // achromatic\n            }\n            else {\n                switch(max) {\n                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                    case g: h = (b - r) / d + 2; break;\n                    case b: h = (r - g) / d + 4; break;\n                }\n                h /= 6;\n            }\n            return { h: h, s: s, v: v };\n        }\n\n        // `hsvToRgb`\n        // Converts an HSV color value to RGB.\n        // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n        // *Returns:* { r, g, b } in the set [0, 255]\n         function hsvToRgb(h, s, v) {\n\n            h = bound01(h, 360) * 6;\n            s = bound01(s, 100);\n            v = bound01(v, 100);\n\n            var i = math.floor(h),\n                f = h - i,\n                p = v * (1 - s),\n                q = v * (1 - f * s),\n                t = v * (1 - (1 - f) * s),\n                mod = i % 6,\n                r = [v, q, p, p, t, v][mod],\n                g = [t, v, v, q, p, p][mod],\n                b = [p, p, t, v, v, q][mod];\n\n            return { r: r * 255, g: g * 255, b: b * 255 };\n        }\n\n        // `rgbToHex`\n        // Converts an RGB color to hex\n        // Assumes r, g, and b are contained in the set [0, 255]\n        // Returns a 3 or 6 character hex\n        function rgbToHex(r, g, b, allow3Char) {\n\n            var hex = [\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n\n            // Return a 3 character hex if possible\n            if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n                return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n            }\n\n            return hex.join("");\n        }\n\n        // `equals`\n        // Can be called with any tinycolor input\n        tinycolor.equals = function (color1, color2) {\n            if (!color1 || !color2) { return false; }\n            return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n        };\n        tinycolor.random = function() {\n            return tinycolor.fromRatio({\n                r: mathRandom(),\n                g: mathRandom(),\n                b: mathRandom()\n            });\n        };\n\n\n        // Modification Functions\n        // ----------------------\n        // Thanks to less.js for some of the basics here\n        // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\n\n        tinycolor.desaturate = function (color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.s -= ((amount || 10) / 100);\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        };\n        tinycolor.saturate = function (color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.s += ((amount || 10) / 100);\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        };\n        tinycolor.greyscale = function(color) {\n            return tinycolor.desaturate(color, 100);\n        };\n        tinycolor.lighten = function(color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.l += ((amount || 10) / 100);\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        };\n        tinycolor.darken = function (color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.l -= ((amount || 10) / 100);\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        };\n        tinycolor.complement = function(color) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.h = (hsl.h + 180) % 360;\n            return tinycolor(hsl);\n        };\n\n\n        // Combination Functions\n        // ---------------------\n        // Thanks to jQuery xColor for some of the ideas behind these\n        // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\n        tinycolor.triad = function(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n            ];\n        };\n        tinycolor.tetrad = function(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n                tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n            ];\n        };\n        tinycolor.splitcomplement = function(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n                tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n            ];\n        };\n        tinycolor.analogous = function(color, results, slices) {\n            results = results || 6;\n            slices = slices || 30;\n\n            var hsl = tinycolor(color).toHsl();\n            var part = 360 / slices;\n            var ret = [tinycolor(color)];\n\n            for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n                hsl.h = (hsl.h + part) % 360;\n                ret.push(tinycolor(hsl));\n            }\n            return ret;\n        };\n        tinycolor.monochromatic = function(color, results) {\n            results = results || 6;\n            var hsv = tinycolor(color).toHsv();\n            var h = hsv.h, s = hsv.s, v = hsv.v;\n            var ret = [];\n            var modification = 1 / results;\n\n            while (results--) {\n                ret.push(tinycolor({ h: h, s: s, v: v}));\n                v = (v + modification) % 1;\n            }\n\n            return ret;\n        };\n\n        // Readability Functions\n        // ---------------------\n        // <http://www.w3.org/TR/AERT#color-contrast>\n\n        // `readability`\n        // Analyze the 2 colors and returns an object with the following properties:\n        //    `brightness`: difference in brightness between the two colors\n        //    `color`: difference in color/hue between the two colors\n        tinycolor.readability = function(color1, color2) {\n            var a = tinycolor(color1).toRgb();\n            var b = tinycolor(color2).toRgb();\n            var brightnessA = (a.r * 299 + a.g * 587 + a.b * 114) / 1000;\n            var brightnessB = (b.r * 299 + b.g * 587 + b.b * 114) / 1000;\n            var colorDiff = (\n                Math.max(a.r, b.r) - Math.min(a.r, b.r) +\n                Math.max(a.g, b.g) - Math.min(a.g, b.g) +\n                Math.max(a.b, b.b) - Math.min(a.b, b.b)\n            );\n\n            return {\n                brightness: Math.abs(brightnessA - brightnessB),\n                color: colorDiff\n            };\n        };\n\n        // `readable`\n        // http://www.w3.org/TR/AERT#color-contrast\n        // Ensure that foreground and background color combinations provide sufficient contrast.\n        // *Example*\n        //    tinycolor.readable("#000", "#111") => false\n        tinycolor.readable = function(color1, color2) {\n            var readability = tinycolor.readability(color1, color2);\n            return readability.brightness > 125 && readability.color > 500;\n        };\n\n        // `mostReadable`\n        // Given a base color and a list of possible foreground or background\n        // colors for that base, returns the most readable color.\n        // *Example*\n        //    tinycolor.mostReadable("#123", ["#fff", "#000"]) => "#000"\n        tinycolor.mostReadable = function(baseColor, colorList) {\n            var bestColor = null;\n            var bestScore = 0;\n            var bestIsReadable = false;\n            for (var i=0; i < colorList.length; i++) {\n\n                // We normalize both around the "acceptable" breaking point,\n                // but rank brightness constrast higher than hue.\n\n                var readability = tinycolor.readability(baseColor, colorList[i]);\n                var readable = readability.brightness > 125 && readability.color > 500;\n                var score = 3 * (readability.brightness / 125) + (readability.color / 500);\n\n                if ((readable && ! bestIsReadable) ||\n                    (readable && bestIsReadable && score > bestScore) ||\n                    ((! readable) && (! bestIsReadable) && score > bestScore)) {\n                    bestIsReadable = readable;\n                    bestScore = score;\n                    bestColor = tinycolor(colorList[i]);\n                }\n            }\n            return bestColor;\n        };\n\n\n        // Big List of Colors\n        // ------------------\n        // <http://www.w3.org/TR/css3-color/#svg-color>\n        var names = tinycolor.names = {\n            aliceblue: "f0f8ff",\n            antiquewhite: "faebd7",\n            aqua: "0ff",\n            aquamarine: "7fffd4",\n            azure: "f0ffff",\n            beige: "f5f5dc",\n            bisque: "ffe4c4",\n            black: "000",\n            blanchedalmond: "ffebcd",\n            blue: "00f",\n            blueviolet: "8a2be2",\n            brown: "a52a2a",\n            burlywood: "deb887",\n            burntsienna: "ea7e5d",\n            cadetblue: "5f9ea0",\n            chartreuse: "7fff00",\n            chocolate: "d2691e",\n            coral: "ff7f50",\n            cornflowerblue: "6495ed",\n            cornsilk: "fff8dc",\n            crimson: "dc143c",\n            cyan: "0ff",\n            darkblue: "00008b",\n            darkcyan: "008b8b",\n            darkgoldenrod: "b8860b",\n            darkgray: "a9a9a9",\n            darkgreen: "006400",\n            darkgrey: "a9a9a9",\n            darkkhaki: "bdb76b",\n            darkmagenta: "8b008b",\n            darkolivegreen: "556b2f",\n            darkorange: "ff8c00",\n            darkorchid: "9932cc",\n            darkred: "8b0000",\n            darksalmon: "e9967a",\n            darkseagreen: "8fbc8f",\n            darkslateblue: "483d8b",\n            darkslategray: "2f4f4f",\n            darkslategrey: "2f4f4f",\n            darkturquoise: "00ced1",\n            darkviolet: "9400d3",\n            deeppink: "ff1493",\n            deepskyblue: "00bfff",\n            dimgray: "696969",\n            dimgrey: "696969",\n            dodgerblue: "1e90ff",\n            firebrick: "b22222",\n            floralwhite: "fffaf0",\n            forestgreen: "228b22",\n            fuchsia: "f0f",\n            gainsboro: "dcdcdc",\n            ghostwhite: "f8f8ff",\n            gold: "ffd700",\n            goldenrod: "daa520",\n            gray: "808080",\n            green: "008000",\n            greenyellow: "adff2f",\n            grey: "808080",\n            honeydew: "f0fff0",\n            hotpink: "ff69b4",\n            indianred: "cd5c5c",\n            indigo: "4b0082",\n            ivory: "fffff0",\n            khaki: "f0e68c",\n            lavender: "e6e6fa",\n            lavenderblush: "fff0f5",\n            lawngreen: "7cfc00",\n            lemonchiffon: "fffacd",\n            lightblue: "add8e6",\n            lightcoral: "f08080",\n            lightcyan: "e0ffff",\n            lightgoldenrodyellow: "fafad2",\n            lightgray: "d3d3d3",\n            lightgreen: "90ee90",\n            lightgrey: "d3d3d3",\n            lightpink: "ffb6c1",\n            lightsalmon: "ffa07a",\n            lightseagreen: "20b2aa",\n            lightskyblue: "87cefa",\n            lightslategray: "789",\n            lightslategrey: "789",\n            lightsteelblue: "b0c4de",\n            lightyellow: "ffffe0",\n            lime: "0f0",\n            limegreen: "32cd32",\n            linen: "faf0e6",\n            magenta: "f0f",\n            maroon: "800000",\n            mediumaquamarine: "66cdaa",\n            mediumblue: "0000cd",\n            mediumorchid: "ba55d3",\n            mediumpurple: "9370db",\n            mediumseagreen: "3cb371",\n            mediumslateblue: "7b68ee",\n            mediumspringgreen: "00fa9a",\n            mediumturquoise: "48d1cc",\n            mediumvioletred: "c71585",\n            midnightblue: "191970",\n            mintcream: "f5fffa",\n            mistyrose: "ffe4e1",\n            moccasin: "ffe4b5",\n            navajowhite: "ffdead",\n            navy: "000080",\n            oldlace: "fdf5e6",\n            olive: "808000",\n            olivedrab: "6b8e23",\n            orange: "ffa500",\n            orangered: "ff4500",\n            orchid: "da70d6",\n            palegoldenrod: "eee8aa",\n            palegreen: "98fb98",\n            paleturquoise: "afeeee",\n            palevioletred: "db7093",\n            papayawhip: "ffefd5",\n            peachpuff: "ffdab9",\n            peru: "cd853f",\n            pink: "ffc0cb",\n            plum: "dda0dd",\n            powderblue: "b0e0e6",\n            purple: "800080",\n            red: "f00",\n            rosybrown: "bc8f8f",\n            royalblue: "4169e1",\n            saddlebrown: "8b4513",\n            salmon: "fa8072",\n            sandybrown: "f4a460",\n            seagreen: "2e8b57",\n            seashell: "fff5ee",\n            sienna: "a0522d",\n            silver: "c0c0c0",\n            skyblue: "87ceeb",\n            slateblue: "6a5acd",\n            slategray: "708090",\n            slategrey: "708090",\n            snow: "fffafa",\n            springgreen: "00ff7f",\n            steelblue: "4682b4",\n            tan: "d2b48c",\n            teal: "008080",\n            thistle: "d8bfd8",\n            tomato: "ff6347",\n            turquoise: "40e0d0",\n            violet: "ee82ee",\n            wheat: "f5deb3",\n            white: "fff",\n            whitesmoke: "f5f5f5",\n            yellow: "ff0",\n            yellowgreen: "9acd32"\n        };\n\n        // Make it easy to access colors via `hexNames[hex]`\n        var hexNames = tinycolor.hexNames = flip(names);\n\n\n        // Utilities\n        // ---------\n\n        // `{ \'name1\': \'val1\' }` becomes `{ \'val1\': \'name1\' }`\n        function flip(o) {\n            var flipped = { };\n            for (var i in o) {\n                if (o.hasOwnProperty(i)) {\n                    flipped[o[i]] = i;\n                }\n            }\n            return flipped;\n        }\n\n        // Take input from [0, n] and return it as [0, 1]\n        function bound01(n, max) {\n            if (isOnePointZero(n)) { n = "100%"; }\n\n            var processPercent = isPercentage(n);\n            n = mathMin(max, mathMax(0, parseFloat(n)));\n\n            // Automatically convert percentage into number\n            if (processPercent) {\n                n = parseInt(n * max, 10) / 100;\n            }\n\n            // Handle floating point rounding errors\n            if ((math.abs(n - max) < 0.000001)) {\n                return 1;\n            }\n\n            // Convert into [0, 1] range if it isn\'t already\n            return (n % max) / parseFloat(max);\n        }\n\n        // Force a number between 0 and 1\n        function clamp01(val) {\n            return mathMin(1, mathMax(0, val));\n        }\n\n        // Parse an integer into hex\n        function parseHex(val) {\n            return parseInt(val, 16);\n        }\n\n        // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n        // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\n        function isOnePointZero(n) {\n            return typeof n == "string" && n.indexOf(\'.\') != -1 && parseFloat(n) === 1;\n        }\n\n        // Check to see if string passed in is a percentage\n        function isPercentage(n) {\n            return typeof n === "string" && n.indexOf(\'%\') != -1;\n        }\n\n        // Force a hex value to have 2 characters\n        function pad2(c) {\n            return c.length == 1 ? \'0\' + c : \'\' + c;\n        }\n\n        // Replace a decimal with it\'s percentage value\n        function convertToPercentage(n) {\n            if (n <= 1) {\n                n = (n * 100) + "%";\n            }\n\n            return n;\n        }\n\n        var matchers = (function() {\n\n            // <http://www.w3.org/TR/css3-values/#integers>\n            var CSS_INTEGER = "[-\\\\+]?\\\\d+%?";\n\n            // <http://www.w3.org/TR/css3-values/#number-value>\n            var CSS_NUMBER = "[-\\\\+]?\\\\d*\\\\.\\\\d+%?";\n\n            // Allow positive/negative integer/number.  Don\'t capture the either/or, just the entire outcome.\n            var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";\n\n            // Actual matching.\n            // Parentheses and commas are optional, but not required.\n            // Whitespace can take the place of commas or opening paren\n            var PERMISSIVE_MATCH3 = "[\\\\s|\\\\(]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")\\\\s*\\\\)?";\n            var PERMISSIVE_MATCH4 = "[\\\\s|\\\\(]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")[,|\\\\s]+(" + CSS_UNIT + ")\\\\s*\\\\)?";\n\n            return {\n                rgb: new RegExp("rgb" + PERMISSIVE_MATCH3),\n                rgba: new RegExp("rgba" + PERMISSIVE_MATCH4),\n                hsl: new RegExp("hsl" + PERMISSIVE_MATCH3),\n                hsla: new RegExp("hsla" + PERMISSIVE_MATCH4),\n                hsv: new RegExp("hsv" + PERMISSIVE_MATCH3),\n                hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n                hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n            };\n        })();\n\n        // `stringInputToObject`\n        // Permissive string parsing.  Take in a number of formats, and output an object\n        // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\n        function stringInputToObject(color) {\n\n            color = color.replace(trimLeft,\'\').replace(trimRight, \'\').toLowerCase();\n            var named = false;\n            if (names[color]) {\n                color = names[color];\n                named = true;\n            }\n            else if (color == \'transparent\') {\n                return { r: 0, g: 0, b: 0, a: 0 };\n            }\n\n            // Try to match string input using regular expressions.\n            // Keep most of the number bounding out of this function - don\'t worry about [0,1] or [0,100] or [0,360]\n            // Just return an object and let the conversion functions handle that.\n            // This way the result will be the same whether the tinycolor is initialized with string or object.\n            var match;\n            if ((match = matchers.rgb.exec(color))) {\n                return { r: match[1], g: match[2], b: match[3] };\n            }\n            if ((match = matchers.rgba.exec(color))) {\n                return { r: match[1], g: match[2], b: match[3], a: match[4] };\n            }\n            if ((match = matchers.hsl.exec(color))) {\n                return { h: match[1], s: match[2], l: match[3] };\n            }\n            if ((match = matchers.hsla.exec(color))) {\n                return { h: match[1], s: match[2], l: match[3], a: match[4] };\n            }\n            if ((match = matchers.hsv.exec(color))) {\n                return { h: match[1], s: match[2], v: match[3] };\n            }\n            if ((match = matchers.hex6.exec(color))) {\n                return {\n                    r: parseHex(match[1]),\n                    g: parseHex(match[2]),\n                    b: parseHex(match[3]),\n                    format: named ? "name" : "hex"\n                };\n            }\n            if ((match = matchers.hex3.exec(color))) {\n                return {\n                    r: parseHex(match[1] + \'\' + match[1]),\n                    g: parseHex(match[2] + \'\' + match[2]),\n                    b: parseHex(match[3] + \'\' + match[3]),\n                    format: named ? "name" : "hex"\n                };\n            }\n\n            return false;\n        }\n\n        root.tinycolor = tinycolor;\n\n    })(this);\n\n    $(function () {\n        if ($.fn.spectrum.load) {\n            $.fn.spectrum.processNativeColorInputs();\n        }\n    });\n\n})(window, jQuery);'},function(e,t,n){n(6)(n(309))},function(e,t){e.exports='/**************************************************\n * dom-drag.js\n * 09.25.2001\n * www.youngpup.net\n **************************************************\n * 10.28.2001 - fixed minor bug where events\n * sometimes fired off the handle, not the root.\n **************************************************/\n\nvar Drag = {\n\n    obj : null,\n\n    init : function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper)\n    {\n        o.onmousedown\t= Drag.start;\n\n        o.hmode\t\t\t= bSwapHorzRef ? false : true ;\n        o.vmode\t\t\t= bSwapVertRef ? false : true ;\n\n        o.root = oRoot && oRoot != null ? oRoot : o ;\n\n        if (o.hmode  && isNaN(parseInt(o.root.style.left  ))) o.root.style.left   = "0px";\n       //if (o.vmode  && isNaN(parseInt(o.root.style.top   ))) o.root.style.top    = "0px";\n        if (!o.hmode && isNaN(parseInt(o.root.style.right ))) o.root.style.right  = "0px";\n       // if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = "0px";\n\n        o.minX\t= typeof minX != \'undefined\' ? minX : null;\n        o.minY\t= typeof minY != \'undefined\' ? minY : null;\n        o.maxX\t= typeof maxX != \'undefined\' ? maxX : null;\n        o.maxY\t= typeof maxY != \'undefined\' ? maxY : null;\n\n        o.xMapper = fXMapper ? fXMapper : null;\n        o.yMapper = fYMapper ? fYMapper : null;\n\n        o.root.onDragStart\t= new Function();\n        o.root.onDragEnd\t= new Function();\n        o.root.onDrag\t\t= new Function();\n    },\n\n    start : function(e)\n    {\n        gradx.current_slider_id = "#"+this.id;\n\n        var o = Drag.obj = this;\n        e = Drag.fixE(e);\n        var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\n        var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\n        o.root.onDragStart(x, y);\n\n        o.lastMouseX\t= e.clientX;\n        o.lastMouseY\t= e.clientY;\n\n        if (o.hmode) {\n            if (o.minX != null)\to.minMouseX\t= e.clientX - x + o.minX;\n            if (o.maxX != null)\to.maxMouseX\t= o.minMouseX + o.maxX - o.minX;\n        } else {\n            if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\n            if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\n        }\n\n        if (o.vmode) {\n            if (o.minY != null)\to.minMouseY\t= e.clientY - y + o.minY;\n            if (o.maxY != null)\to.maxMouseY\t= o.minMouseY + o.maxY - o.minY;\n        }\n        else {\n            if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\n            if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\n        }\n\n        document.onmousemove\t= Drag.drag;\n        document.onmouseup\t= Drag.end;\n\n        return false;\n    },\n\n    drag : function(e)\n    {\n        e = Drag.fixE(e);\n        var o = Drag.obj;\n\n        gradx.update_style_array();\n        gradx.apply_style(gradx.panel, gradx.get_style_value());\n        var left = gradx.gx("#"+o.id).css("left");\n\n\n        if(parseInt(left) > 60 && parseInt(left) < 390) {\n            gradx.gx("#gradx_slider_info") //info element cached before\n            .css("left",left)\n            .show();\n                     \n        }/*else {\n            if(parseInt(left) > 120) {\n                left = "272px";\n            }else{\n                left = "120px";\n            }\n                \n            gradx.gx("#gradx_slider_info") //info element cached before\n            .css("left",left)\n            .show();\n                 \n        }*/\n         var color = gradx.gx("#"+o.id).css("backgroundColor");\n        //but what happens if @color is not in RGB ? :(\n        var rgb = gradx.get_rgb_obj(color);\n        gradx.cp.spectrum("set",rgb);\n\n\n        var ey\t= e.clientY;\n        var ex\t= e.clientX;\n        var y = parseInt(o.vmode ? o.root.style.top  : o.root.style.bottom);\n        var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right );\n        var nx, ny;\n\n        if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\n        if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\n        if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\n        if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\n\n        nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\n        ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\n\n        if (o.xMapper)\t\tnx = o.xMapper(y)\n        else if (o.yMapper)\tny = o.yMapper(x)\n\n        Drag.obj.root.style[o.hmode ? "left" : "right"] = nx + "px";\n        //Drag.obj.root.style[o.vmode ? "top" : "bottom"] = ny + "px";\n        Drag.obj.lastMouseX\t= ex;\n        Drag.obj.lastMouseY\t= ey;\n\n        Drag.obj.root.onDrag(nx, ny);\n        return false;\n    },\n\n    end : function()\n    {\n        document.onmousemove = null;\n        document.onmouseup   = null;\n        Drag.obj.root.onDragEnd(\tparseInt(Drag.obj.root.style[Drag.obj.hmode ? "left" : "right"]), \n            parseInt(Drag.obj.root.style[Drag.obj.vmode ? "top" : "bottom"]));\n        Drag.obj = null;\n    },\n\n    fixE : function(e)\n    {\n        if (typeof e == \'undefined\') e = window.event;\n        if (typeof e.layerX == \'undefined\') e.layerX = e.offsetX;\n        if (typeof e.layerY == \'undefined\') e.layerY = e.offsetY;\n        return e;\n    }\n};'},function(e,t,n){n(6)(n(311))},function(e,t){e.exports='\'use strict\';\n\n//make me jquery UI  independent\nif (typeof jQuery.fn.draggable === "undefined") {\n\n\t(function($) {\n\n\t\t$.fn.draggable = function() {\n\t\t\tvar ele = document.getElementById(this.attr("id"));\n\t\t\tele.style.top = "121px";\n\t\t\tDrag.init(ele, null, 26, 536, 86, 86);\n\t\t\treturn this;\n\t\t};\n\n\t}(jQuery));\n\n}\n\nwindow.gradX = function(id, _options) {\n\n\n\tvar options = {\n\t\ttargets: [], //[element selector] -> array\n\t\tsliders: [],\n\t\tdirection: \'270deg\',\n\t\t//if linear left | top | right | bottom\n\t\t//if radial left | center | right , top | center | bottom \n\t\ttype: \'linear\', //linear | circle | ellipse\n\t\tcode_shown: false, //false | true\n\t\tchange: function(sliders, styles) {\n\t\t\t//nothing to do here by default\n\t\t}\n\t};\n\t\n\t//make global\t\n\tvar gradx = {\n\t\trand_RGB: [],\n\t\trand_pos: [],\n\t\tid: null,\n\t\tslider_ids: [],\n\t\tslider_index: 0, //global index for sliders\n\t\tsliders: [], //contains styles of each slider\n\t\tdirection: "270deg", //direction of gradient or position of centre in case of radial gradients\n\t\ttype: "linear", //linear or radial\n\t\tshape: "cover", //radial gradient size\n\t\tslider_hovered: [],\n\t\tjQ_present: true,\n\t\tcode_shown: false,\n\t\tload_jQ: function() {\n\n\t\t\t//handle any library conflicts here\n\t\t\tthis.gx = jQuery;\n\t\t},\n\t\t//very lazy to replace this by jQuery\n\t\tadd_event: function(el, evt, evt_func) {\n\t\t\tadd_event(el, evt, evt_func);\n\t\t},\n\t\tget_random_position: function() {\n\t\t\tvar pos;\n\n\t\t\tdo {\n\t\t\t\tpos = parseInt(Math.random() * 100);\n\t\t\t}\n\t\t\twhile (this.rand_pos.indexOf(pos) > -1);\n\n\t\t\tthis.rand_pos.push(pos);\n\t\t\treturn pos;\n\n\t\t},\n\t\tget_random_rgb: function() {\n\n\t\t\tvar R, G, B, color;\n\n\t\t\tdo {\n\t\t\t\tR = parseInt(Math.random() * 255);\n\t\t\t\tG = parseInt(Math.random() * 255);\n\t\t\t\tB = parseInt(Math.random() * 255);\n\n\t\t\t\tcolor = "rgb(" + R + ", " + G + ", " + B + ")";\n\t\t\t}\n\t\t\twhile (this.rand_RGB.indexOf(color) > -1);\n\n\t\t\tthis.rand_RGB.push(color);\n\t\t\treturn color;\n\n\t\t},\n\t\t//if target element is specified the target\'s style (background) is updated\n\t\tupdate_target: function(values) {\n\n\t\t\tif (this.targets.length > 0) {\n\t\t\t\t//target elements exist\n\n\t\t\t\tvar i, j, ele, len = this.targets.length, v_len = values.length;\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tele = gradx.gx(this.targets[i]);\n\n\t\t\t\t\tfor (j = 0; j < v_len; j++) {\n\t\t\t\t\t\tele.css("background-image", values[j]);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t//apply styles on fly\n\t\tapply_style: function(ele, value) {\n\t\t\tvar type = \'linear\';\n\n\t\t\tif (gradx.type != \'linear\') {\n\t\t\t\ttype = \'radial\';\n\t\t\t\tthis.direction = \'center\';\n\t\t\t}\n\n\t\t\tif (value.indexOf(this.direction) > -1) {\n\t\t\t\t//add cross-browser compatibility\n\t\t\t\tvar values = [\n\t\t\t\t\t"-webkit-" + type + "-gradient(" + value + ")",\n\t\t\t\t\t"-moz-" + type + "-gradient(" + value + ")",\n\t\t\t\t\t"-ms-" + type + "-gradient(" + value + ")",\n\t\t\t\t\t"-o-" + type + "-gradient(" + value + ")",\n\t\t\t\t\ttype + "-gradient(" + value + ")"\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t//normal color\n\t\t\t\tvalues = [value];\n\t\t\t}\n\n\n\n\t\t\tvar len = values.length, css = \'\';\n\n\t\t\twhile (len > 0) {\n\t\t\t\tlen--;\n\t\t\t\tele.css("background", values[len]);\n\t\t\t\tcss += "background: " + values[len] + ";";\n\t\t\t}\n\n\t\t\t//call the userdefined change function\n\t\t\tthis.change(this.sliders, values);\n\t\t\tthis.update_target(values);\n\n\t\t\tgradx.gx(\'#gradx_code\')\n\t\t\t\t.html(css)\n\t\t\t\t.data(\'option\', btoa(JSON.stringify({sliders: this.sliders, direction: this.direction, type: this.type})));\n\t\t},\n\t\t//on load\n\t\tapply_default_styles: function() {\n\t\t\tthis.update_style_array()\n\t\t\tvar value = this.get_style_value();\n\t\t\tthis.apply_style(this.panel, value);\n\t\t},\n\t\t//update the slider_values[] while dragging\n\t\tupdate_style_array: function() {\n\n\t\t\tthis.sliders = [];\n\n\t\t\tvar len = gradx.slider_ids.length,\n\t\t\t\t\ti, offset, position, id;\n\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tid = "#" + gradx.slider_ids[i];\n\t\t\t\toffset = parseInt(gradx.gx(id).css("left"));\n\t\t\t\tposition = parseInt((offset / gradx.container_width) * 100);\n\t\t\t\tposition -= 6; //TODO: find why this is required\n\t\t\t\tgradx.sliders.push([gradx.gx(id).css("background-color"), position]);\n\n\t\t\t}\n\n\t\t\tthis.sliders.sort(function(A, B) {\n\t\t\t\tif (A[1] > B[1])\n\t\t\t\t\treturn 1;\n\t\t\t\telse\n\t\t\t\t\treturn -1;\n\t\t\t});\n\t\t},\n\t\t//creates the complete css background value to later apply style\n\t\tget_style_value: function() {\n\n\t\t\tvar len = gradx.slider_ids.length;\n\n\t\t\tif (len === 1) {\n\t\t\t\t//since only one slider , so simple background\n\n\t\t\t\tstyle_str = this.sliders[0][0];\n\t\t\t} else {\n\t\t\t\tvar style_str = "", suffix = "";\n\t\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\t\tif (this.sliders[i][1] == "") {\n\t\t\t\t\t\tstyle_str += suffix + (this.sliders[i][0]);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.sliders[i][1] > 100) {\n\t\t\t\t\t\t\tthis.sliders[i][1] = 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle_str += suffix + (this.sliders[i][0] + " " + this.sliders[i][1] + "%");\n\n\t\t\t\t\t}\n\t\t\t\t\tsuffix = " , "; //add , from next iteration\n\t\t\t\t}\n\n\t\t\t\tif (this.type == \'linear\') {\n\t\t\t\t\t//direction, [color stoppers]\n\t\t\t\t\tstyle_str = this.direction + " , " + style_str; //add direction for gradient\n\t\t\t\t} else {\n\t\t\t\t\t//position, type size, [color stoppers]\n\t\t\t\t\tstyle_str = "ellipse at center , " + style_str;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn style_str;\n\t\t},\n\t\t//@input rgb string rgb(<red>,<green>,<blue>)\n\t\t//@output rgb object of form { r: <red> , g: <green> , b : <blue>}\n\t\tget_rgb_obj: function(rgb) {\n\n\t\t\t//rgb(r,g,b)\n\t\t\trgb = rgb.split("(");\n\t\t\t//r,g,b)\n\t\t\trgb = rgb[1];\n\t\t\t//r g b)\n\t\t\trgb = rgb.split(",");\n\n\t\t\treturn {\n\t\t\t\tr: parseInt(rgb[0]),\n\t\t\t\tg: parseInt(rgb[1]),\n\t\t\t\tb: parseInt(rgb[2])\n\t\t\t};\n\n\t\t},\n\t\tload_info: function(ele) {\n\t\t\tvar id = "#" + ele.id;\n\t\t\tthis.current_slider_id = id;\n\t\t\t//check if current clicked element is an slider\n\t\t\tif (this.slider_ids.indexOf(ele.id) > -1) { //javascript does not has # in its id\n\n\t\t\t\tvar color = gradx.gx(id).css("backgroundColor");\n\t\t\t\t//but what happens if @color is not in RGB ? :(\n\t\t\t\tvar rgb = this.get_rgb_obj(color);\n\n\t\t\t\tvar left = gradx.gx(id).css("left");\n\t\t\t\tif (parseInt(left) > 26 && parseInt(left) < 536) {\n\t\t\t\t\tgradx.gx("#gradx_slider_info") //info element cached before\n\t\t\t\t\t\t\t.css("left", left)\n\t\t\t\t\t\t\t.show();\n\n\t\t\t\t} \n\t\t\t\t\n\t\t\t\tthis.set_colorpicker(rgb);\n\t\t\t}\n\n\t\t},\n\t\t//add slider\n\t\tadd_slider: function(sliders) {\n\n\t\t\tvar id, slider, k, position, value, delta;\n\n\n\t\t\tif (sliders.length === 0) {\n\t\t\t\tsliders = [//default sliders\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: gradx.get_random_rgb(),\n\t\t\t\t\t\tposition: gradx.get_random_position() //x percent of gradient panel(400px)\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: gradx.get_random_rgb(),\n\t\t\t\t\t\tposition: gradx.get_random_position()\n\t\t\t\t\t}\n\t\t\t\t];\n\n\t\t\t}\n\n\n\t\t\tvar obj = sliders;\n\n\t\t\tfor (k in obj) {\n\n\t\t\t\tif (typeof obj[k].position === "undefined")\n\t\t\t\t\tbreak;\n\n\t\t\t\t//convert % to px based on containers width\n\t\t\t\tvar delta = 26; //range: 26px tp 426px\n\t\t\t\tposition = parseInt((obj[k].position * this.container_width) / 100) + delta + "px";\n\n\t\t\t\tid = "gradx_slider_" + (this.slider_index); //create an id for this slider\n\t\t\t\tthis.sliders.push(\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\tobj[k].color,\n\t\t\t\t\t\t\tobj[k].position\n\t\t\t\t\t\t]\n\t\t\t\t\t\t);\n\n\t\t\t\tthis.slider_ids.push(id); //for reference wrt to id\n\n\t\t\t\tslider = "<div class=\'gradx_slider\' id=\'" + id + "\'></div>";\n\t\t\t\tgradx.gx("#gradx_start_sliders_" + this.id).append(slider);\n\n\t\t\t\tgradx.gx(\'#\' + id).css("backgroundColor", obj[k].color).css("left", position);\n\t\t\t\tthis.slider_index++;\n\t\t\t}\n\n\t\t\tfor (var i = 0, len = this.slider_ids.length; i < len; i++) {\n\n\t\t\t\tgradx.gx(\'#\' + this.slider_ids[i]).draggable({\n\t\t\t\t\tcontainment: \'parent\',\n\t\t\t\t\taxis: \'x\',\n\t\t\t\t\tstart: function() {\n\t\t\t\t\t\tif (gradx.jQ_present)\n\t\t\t\t\t\t\tgradx.current_slider_id = "#" + gradx.gx(this).attr("id"); //got full jQuery power here !\n\t\t\t\t\t},\n\t\t\t\t\tdrag: function() {\n\n\t\t\t\t\t\tgradx.update_style_array();\n\t\t\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());\n\t\t\t\t\t\tvar left = gradx.gx(gradx.current_slider_id).css("left");\n\n\n\t\t\t\t\t\tif (parseInt(left) > 26 && parseInt(left) < 536) {\n\t\t\t\t\t\t\tgradx.gx("#gradx_slider_info") //info element cached before\n\t\t\t\t\t\t\t\t\t.css("left", left)\n\t\t\t\t\t\t\t\t\t.show();\n\n\t\t\t\t\t\t} /*else {\n\t\t\t\t\t\t if (parseInt(left) > 120) {\n\t\t\t\t\t\t left = "272px";\n\t\t\t\t\t\t } else {\n\t\t\t\t\t\t left = "120px";\n\t\t\t\t\t\t }\n\t\t\t\t\t\t \n\t\t\t\t\t\t gradx.gx("#gradx_slider_info") //info element cached before\n\t\t\t\t\t\t .css("left", left)\n\t\t\t\t\t\t .show();\n\t\t\t\t\t\t \n\t\t\t\t\t\t }*/\n\t\t\t\t\t\tvar color = gradx.gx(gradx.current_slider_id).css("backgroundColor");\n\t\t\t\t\t\t//but what happens if @color is not in RGB ? :(\n\t\t\t\t\t\tvar rgb = gradx.get_rgb_obj(color);\n\t\t\t\t\t\tgradx.cp.spectrum("set", rgb);\n\n\t\t\t\t\t}\n\n\t\t\t\t}).click(function() {\n\t\t\t\t\tgradx.load_info(this);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t},\n\t\tset_colorpicker: function(clr) {\n\t\t\tgradx.cp.spectrum({\n\t\t\t\tmove: function(color) {\n\t\t\t\t\tif (gradx.current_slider_id != false) {\n\t\t\t\t\t\tvar rgba = color.toRgbString();\n\t\t\t\t\t\tgradx.gx(gradx.current_slider_id).css(\'background-color\', rgba);\n\t\t\t\t\t\tgradx.update_style_array();\n\t\t\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tchange: function() {\n\t\t\t\t\tgradx.gx("#gradx_slider_info").hide();\n\t\t\t\t},\n\t\t\t\tflat: true,\n\t\t\t\tshowAlpha: true,\n\t\t\t\tcolor: clr,\n\t\t\t\tclickoutFiresChange: true,\n\t\t\t\tshowInput: true,\n\t\t\t\tshowButtons: false\n\n\t\t\t});\n\t\t},\n\t\tgenerate_options: function(options) {\n\n\t\t\tvar len = options.length,\n\t\t\t\t\tname, state,\n\t\t\t\t\tstr = \'\';\n\n\t\t\tfor (var i = 0; i < len; i++) {\n\n\t\t\t\tname = options[i].split(" ");\n\n\t\t\t\tname = name[0];\n\n\t\t\t\tif (i < 2) {\n\t\t\t\t\tstate = name[1];\n\t\t\t\t} else {\n\t\t\t\t\tstate = \'\';\n\t\t\t\t}\n\n\t\t\t\tname = name.replace("-", " ");\n\n\t\t\t\tstr += \'<option value=\' + options[i] + \' \' + state + \'>\' + name + \'</option>\';\n\n\t\t\t}\n\n\t\t\treturn str;\n\t\t},\n\t\tgenerate_radial_options: function() {\n\n\t\t\tvar options;\n\t\t\toptions = ["center selected", "left", "right"];\n\n\t\t\t//gradx.gx(\'#gradx_gradient_subtype\').prev().prev().html(\'Horizontal center\');\n\t\t\tgradx.gx(\'#gradx_gradient_subtype\').html(gradx.generate_options(options));\n\n\t\t\toptions = ["center selected", "top", "bottom"];\n\t\t\tgradx.gx(\'#gradx_gradient_subtype2\').html(gradx.generate_options(options)).prop(\'disabled\', false);\n\n\t\t},\n\t\tgenerate_linear_options: function() {\n\n\t\t\tvar options;\n\t\t\toptions = ["left selected", "right", "top", "bottom"];\t\t\t\n\t\t\tgradx.gx(\'#gradx_gradient_subtype\').html(gradx.generate_options(options));\n\n\t\t\tgradx.gx(\'#gradx_gradient_subtype2\').prop(\'disabled\', true);\n\t\t},\n\t\tdestroy: function() {\n\t\t\tvar options = {\n\t\t\t\ttargets: [], //[element selector] -> array\n\t\t\t\tsliders: [],\n\t\t\t\tdirection: \'left\',\n\t\t\t\t//if linear left | top | right | bottom\n\t\t\t\t//if radial left | center | right , top | center | bottom \n\t\t\t\ttype: \'linear\', //linear | circle | ellipse\n\t\t\t\tcode_shown: false, //false | true\n\t\t\t\tchange: function(sliders, styles) {\n\t\t\t\t\t//nothing to do here by default\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfor (var k in options) {\n\t\t\t\tgradx[k] = options[k];\n\t\t\t}\n\t\t},\n\t\tload_gradx: function(id, sliders) {\n\t\t\tthis.me = gradx.gx(id);\n\t\t\tthis.id = id.replace("#", "");\n\t\t\tid = this.id;\n\t\t\tthis.current_slider_id = false;\n\t\t\tvar html = `<div class=\'gradx\'>\n\t\t\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t\t\t<div class="gradx_slectboxes">\n\t\t\t\t\t\t\t\t\t<label>Orientation</label>\n\t\t\t\t\t\t\t\t\t<select id="gradx_gradient_type" class="gradx_gradient_type form-control select select-primary btn-block mbl">\n\t\t\t\t\t\t\t\t\t\t<option value="linear" ${gradx.type === \'linear\' ? \'selected="selected"\' : \'\'}>Linear</option>\n\t\t\t\t\t\t\t\t\t\t<option value="circle" ${gradx.type === \'circle\' ? \'selected="selected"\' : \'\'}>Radial - Circle</option>\n\t\t\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t\t\t<label>Gradient direction</label>\n\t\t\t\t\t\t\t\t\t<select id="gradx_gradient_subtype" class="gradx_gradient_type form-control select select-primary btn-block mbl">\n\t\t\t\t\t\t\t\t\t\t<option value="270deg" selected>Left</option>\n\t\t\t\t\t\t\t\t\t\t<option value="90deg">Right</option>\n\t\t\t\t\t\t\t\t\t\t<option value="0deg">Top</option>\n\t\t\t\t\t\t\t\t\t\t<option value="180deg">Bottom</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id="gradx_add_slider" class="gradx_add_slider gradx_btn btn btn-primary btn-embossed">Add new color</div>\n\t\t\t\t\t\t   \n\t\t\t\t\t\t\t<div class="gradx_container" id="gradx_${id}">\n\t\t\t\t\t\t\t\t<div id="gradx_stop_sliders_${id}"></div>\n\t\t\t\t\t\t\t\t<div class="gradx_panel" id="gradx_panel_${id}"></div>\n\t\t\t\t\t\t\t\t<div class="gradx_start_sliders" id="gradx_start_sliders_${id}">\n\t\t\t\t\t\t\t\t\t<div class="cp-default" id="gradx_slider_info">\n\t\t\t\t\t\t\t\t\t\t<div id="gradx_slider_controls">\n\t\t\t\t\t\t\t\t\t\t\t<div id="gradx_delete_slider" class="gradx_btn"><i class="icon icon-remove"></i>delete</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div id="gradx_slider_content"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<textarea class="gradx_code" id="gradx_code"></textarea>\n\t\t\t\t\t\t</div>`;\n\n\t\t\tthis.me.html(html);\n\n\n\t\t\t//generates html to select the different gradient sizes\n\t\t\t// *only available for radial gradients\n\t\t\tvar gradient_size_val = ["gradient-size disabled", "closest-side selected", "closest-corner", "farthest-side", "farthest-corner", "contain", "cover"],\n\t\t\t\t\toption_str = \'\';\n\n\n\t\t\toption_str = gradx.generate_options(gradient_size_val);\n\n\t\t\tgradx.gx(\'#gradx_radial_gradient_size\').html(option_str);\n\n\n\t\t\t//cache divs for fast reference\n\n\t\t\tthis.container = gradx.gx("#gradx_" + id);\n\t\t\tthis.panel = gradx.gx("#gradx_panel_" + id);\n\t\t\tthis.container_width = 536 //HARDCODE;\n\t\t\tthis.add_slider(sliders);\n\n\n\t\t\tgradx.add_event(document, \'click\', function() {\n//            if(!gradx.jQ_present){\n\t\t\t\tif (!gradx.slider_hovered[id]) {\n\t\t\t\t\tgradx.gx("#gradx_slider_info").hide();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\n\n\t\t\tgradx.gx(\'#gradx_add_slider\').click(function() {\n\t\t\t\tgradx.add_slider([\n\t\t\t\t\t{\n\t\t\t\t\t\tcolor: gradx.get_random_rgb(),\n\t\t\t\t\t\tposition: gradx.get_random_position() //no % symbol\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t\tgradx.update_style_array();\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n\t\t\t});\n\n\t\t\t//cache the element\n\t\t\tgradx.cp = gradx.gx(\'#gradx_slider_content\');\n\n\t\t\t//call the colorpicker plugin\n\t\t\tgradx.set_colorpicker("blue");\n\n\t\t\tgradx.gx(\'#gradx_delete_slider\').click(function() {\n\t\t\t\tgradx.gx(gradx.current_slider_id).remove();\n\t\t\t\tgradx.gx("#gradx_slider_info").hide();\n\t\t\t\tvar id = gradx.current_slider_id.replace("#", "");\n\n\t\t\t\t//remove all references from array for current deleted slider\n\n\t\t\t\tfor (var i = 0; i < gradx.slider_ids.length; i++) {\n\t\t\t\t\tif (gradx.slider_ids[i] == id) {\n\t\t\t\t\t\tgradx.slider_ids.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//apply modified style after removing the slider\n\t\t\t\tgradx.update_style_array();\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());\n\n\t\t\t\tgradx.current_slider_id = false; //no slider is selected\n\n\t\t\t});\n\n\t\t\tgradx.gx(\'#gradx_code\').focus(function() {\n\t\t\t\tvar $this = gradx.gx(this);\n\t\t\t\t$this.select();\n\n\t\t\t\t// Work around Chrome\'s little problem\n\t\t\t\t$this.mouseup(function() {\n\t\t\t\t\t// Prevent further mouseup intervention\n\t\t\t\t\t$this.unbind("mouseup");\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tgradx.gx(\'#gradx_gradient_type\').change(function() {\n\t\t\t\tvar type = gradx.gx(this).val(), options, option_str = \'\';\n\t\t\t\tgradx.type = type;\n\t\t\t\tgradx.direction = gradx.gx(\'#gradx_gradient_subtype\').val();\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n\t\t\t\tif(gradx.type === \'circle\'){\n\t\t\t\t\tgradx.gx(\'#gradx_gradient_subtype\').prop(\'disabled\', true);\n\t\t\t\t} else {\n\t\t\t\t\tgradx.gx(\'#gradx_gradient_subtype\').prop(\'disabled\', false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//change type onload userdefined\n\t\t\tif (this.type !== "linear") {\n\t\t\t\tgradx.gx(\'#gradx_gradient_type\').val(this.type);\n\t\t\t\tvar h, v;\n\n\t\t\t\tif (this.direction !== \'left\') {\n\t\t\t\t\t//user has passed his own direction\n\t\t\t\t\tvar center;\n\t\t\t\t\tif (this.direction.indexOf(",") > -1) {\n\t\t\t\t\t\tcenter = this.direction.split(",");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//tolerate user mistakes\n\t\t\t\t\t\tcenter = this.direction.split(" ");\n\t\t\t\t\t}\n\n\t\t\t\t\th = center[0];\n\t\t\t\t\tv = center[1];\n\n\t\t\t\t\t//update the center points in the corr. select boxes\n\t\t\t\t\tgradx.gx(\'#gradx_gradient_subtype\').prop(\'disabled\', true);\n\t\t\t\t\t//gradx.gx(\'#gradx_gradient_subtype2\').val(v);\n\t\t\t\t} else {\n\t\t\t\t\tvar h = gradx.gx(\'#gradx_gradient_subtype\').val();\n\t\t\t\t\tvar v = gradx.gx(\'#gradx_gradient_subtype2\').val();\n\t\t\t\t}\n\n\t\t\t\tgradx.direction = h + " " + v;\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\t\t\t} else {\n\n\t\t\t\t//change direction if not left\n\t\t\t\tif (this.direction !== \'left\') {\n\t\t\t\t\tgradx.gx(\'#gradx_gradient_subtype\').val(this.direction);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgradx.gx(\'#gradx_gradient_subtype\').change(function() {\n\n\t\t\t\tif (gradx.type === \'linear\') {\n\t\t\t\t\tgradx.direction = gradx.gx(this).val();\n\t\t\t\t} else {\n\t\t\t\t\tvar h = gradx.gx(this).val();\n\t\t\t\t\tvar v = gradx.gx(\'#gradx_gradient_subtype2\').val();\n\t\t\t\t\tgradx.direction = h + " " + v;\n\t\t\t\t}\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n\t\t\t});\n\n\t\t\tgradx.gx(\'#gradx_gradient_subtype2\').change(function() {\n\n\t\t\t\tvar h = gradx.gx(\'#gradx_gradient_subtype\').val();\n\t\t\t\tvar v = gradx.gx(this).val();\n\t\t\t\tgradx.direction = h + " " + v;\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n\t\t\t});\n\n\t\t\t//not visible\n\t\t\tgradx.gx(\'#gradx_radial_gradient_size\').change(function() {\n\t\t\t\tgradx.shape = gradx.gx(this).val();\n\t\t\t\tgradx.apply_style(gradx.panel, gradx.get_style_value());//(where,style)\n\n\t\t\t});\n\n\t\t\tgradx.gx(\'#gradx_show_code\').click(function() {\n\n\t\t\t\tif (gradx.code_shown) {\n\t\t\t\t\t//hide it\n\n\t\t\t\t\tgradx.code_shown = false;\n\t\t\t\t\tgradx.gx(\'#gradx_show_code span\').text("show the code");\n\t\t\t\t\tgradx.gx("#gradx_code").hide();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//show it\n\n\t\t\t\t\tgradx.gx(\'#gradx_show_code span\').text("hide the code");\n\t\t\t\t\tgradx.gx("#gradx_code").show();\n\t\t\t\t\tgradx.code_shown = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//show or hide onload\n\t\t\tif (gradx.code_shown) {\n\t\t\t\t//show it\n\n\t\t\t\tgradx.gx(\'#gradx_show_code span\').text("hide the code");\n\t\t\t\tgradx.gx("#gradx_code").show();\n\n\t\t\t}\n\n\t\t\tgradx.add_event(document.getElementById(\'gradx_slider_info\'), \'mouseout\', function() {\n\t\t\t\tgradx.slider_hovered[id] = false;\n\t\t\t});\n\t\t\tgradx.add_event(document.getElementById(\'gradx_slider_info\'), \'mouseover\', function() {\n\t\t\t\tgradx.slider_hovered[id] = true;\n\n\t\t\t});\n\n\t\t}\n\t};\n\n\n\n\tfunction  add_event(element, event, event_function)\n\t{\n\t\tif (element.attachEvent) //Internet Explorer\n\t\t\telement.attachEvent("on" + event, function() {\n\t\t\t\tevent_function.call(element);\n\t\t\t});\n\t\telse if (element.addEventListener) //Firefox & company\n\t\t\telement.addEventListener(event, event_function, false); //don\'t need the \'call\' trick because in FF everything already works in the right way\n\t}\n\t;\n\n\n\n\t//load jQuery library into gradx.gx\n\tgradx.load_jQ();\n\n\n\t/* merge _options into options */\n\tgradx.gx.extend(options, _options);\n\n\t//apply options to gradx object\n\n\tfor (var k in options) {\n\n\t\t//load the options into gradx object\n\t\tgradx[k] = options[k];\n\n\t}\n\n\tgradx.load_gradx(id, gradx.sliders);\n\tgradx.apply_default_styles();\n};\n'},function(e,t,n){n(6)(n(313))},function(e,t){e.exports='// Snap.svg 0.5.1\n//\n// Copyright (c) 2013  2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// build: 2017-02-07\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//  \\\\\n//  Eve 0.5.0 - JavaScript Events Library                       \\\\\n//  \\\\\n//  Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)  \\\\\n//  \\\\\n\n(function (glob) {\n    var version = "0.5.0",\n        has = "hasOwnProperty",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = "*",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == "[object Array]";\n        };\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     > Arguments\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        eve = function (name, scope) {\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if ("zIndex" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if ("zIndex" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     > Arguments\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you dont like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, "\\\\");\n            sep = "[" + sep + "]";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards `*` for the names:\n     | eve.on("*.under.*", f);\n     | eve("mouse.under.floor"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you dont want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n     > Example:\n     | eve.on("mouse", eatIt)(2);\n     | eve.on("mouse", scream);\n     | eve.on("mouse", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you dont need to worry about z-index, but its nice to have this feature just in case.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != "function") {\n            return function () {};\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f("click", 1, 2);\n     | eve.on("click", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     > Arguments\n     - event (string) event name\n     - varargs () and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     > Arguments\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current events name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(".") : current_event;\n        if (subname) {\n            return new RegExp("(?:\\\\.|\\\\/|^)" + subname + "(?:\\\\.|\\\\/|$)").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events],\n            inodes = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                        inodes.unshift({\n                            n: e,\n                            name: names[i]\n                        });\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                        inodes.unshift({\n                            n: e,\n                            name: key\n                        });\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n        // prune inner nodes in path\n        prune: for (i = 0, ii = inodes.length; i < ii; i++) {\n            e = inodes[i];\n            for (key in e.n[e.name].f) {\n                // not empty (has listeners)\n                continue prune;\n            }\n            for (key in e.n[e.name].n) {\n                // not empty (has children)\n                continue prune;\n            }\n            // is empty\n            delete e.n[e.name];\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once("login", f);\n     | eve("login"); // triggers f\n     | eve("login"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.off(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return "You are running Eve " + version;\n    };\n    (typeof module != "undefined" && module.exports) ? (module.exports = eve) : (typeof define === "function" && define.amd ? (define("eve", [], function() { return eve; })) : (glob.eve = eve));\n})(this);\n\n(function (glob, factory) {\n    // AMD support\n    if (typeof define == "function" && define.amd) {\n        // Define as an anonymous module\n        define(["eve"], function (eve) {\n            return factory(glob, eve);\n        });\n    } else if (typeof exports != "undefined") {\n        // Next for Node.js or CommonJS\n        var eve = require("eve");\n        module.exports = factory(glob, eve);\n    } else {\n        // Browser globals (glob is window)\n        // Snap adds itself to window\n        factory(glob, glob.eve);\n    }\n}(window || this, function (window, eve) {\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar mina = (function (eve) {\n    var animations = {},\n    requestAnimFrame = window.requestAnimationFrame       ||\n                       window.webkitRequestAnimationFrame ||\n                       window.mozRequestAnimationFrame    ||\n                       window.oRequestAnimationFrame      ||\n                       window.msRequestAnimationFrame     ||\n                       function (callback) {\n                           setTimeout(callback, 16, new Date().getTime());\n                           return true;\n                       },\n    requestID,\n    isArray = Array.isArray || function (a) {\n        return a instanceof Array ||\n            Object.prototype.toString.call(a) == "[object Array]";\n    },\n    idgen = 0,\n    idprefix = "M" + (+new Date).toString(36),\n    ID = function () {\n        return idprefix + (idgen++).toString(36);\n    },\n    diff = function (a, b, A, B) {\n        if (isArray(a)) {\n            res = [];\n            for (var i = 0, ii = a.length; i < ii; i++) {\n                res[i] = diff(a[i], b, A[i], B);\n            }\n            return res;\n        }\n        var dif = (A - a) / (B - b);\n        return function (bb) {\n            return a + dif * (bb - b);\n        };\n    },\n    timer = Date.now || function () {\n        return +new Date;\n    },\n    sta = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.s;\n        }\n        var ds = a.s - val;\n        a.b += a.dur * ds;\n        a.B += a.dur * ds;\n        a.s = val;\n    },\n    speed = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.spd;\n        }\n        a.spd = val;\n    },\n    duration = function (val) {\n        var a = this;\n        if (val == null) {\n            return a.dur;\n        }\n        a.s = a.s * val / a.dur;\n        a.dur = val;\n    },\n    stopit = function () {\n        var a = this;\n        delete animations[a.id];\n        a.update();\n        eve("mina.stop." + a.id, a);\n    },\n    pause = function () {\n        var a = this;\n        if (a.pdif) {\n            return;\n        }\n        delete animations[a.id];\n        a.update();\n        a.pdif = a.get() - a.b;\n    },\n    resume = function () {\n        var a = this;\n        if (!a.pdif) {\n            return;\n        }\n        a.b = a.get() - a.pdif;\n        delete a.pdif;\n        animations[a.id] = a;\n        frame();\n    },\n    update = function () {\n        var a = this,\n            res;\n        if (isArray(a.start)) {\n            res = [];\n            for (var j = 0, jj = a.start.length; j < jj; j++) {\n                res[j] = +a.start[j] +\n                    (a.end[j] - a.start[j]) * a.easing(a.s);\n            }\n        } else {\n            res = +a.start + (a.end - a.start) * a.easing(a.s);\n        }\n        a.set(res);\n    },\n    frame = function (timeStamp) {\n        // Manual invokation?\n        if (!timeStamp) {\n            // Frame loop stopped?\n            if (!requestID) {\n                // Start frame loop...\n                requestID = requestAnimFrame(frame);\n            }\n            return;\n        }\n        var len = 0;\n        for (var i in animations) if (animations.hasOwnProperty(i)) {\n            var a = animations[i],\n                b = a.get(),\n                res;\n            len++;\n            a.s = (b - a.b) / (a.dur / a.spd);\n            if (a.s >= 1) {\n                delete animations[i];\n                a.s = 1;\n                len--;\n                (function (a) {\n                    setTimeout(function () {\n                        eve("mina.finish." + a.id, a);\n                    });\n                }(a));\n            }\n            a.update();\n        }\n        requestID = len ? requestAnimFrame(frame) : false;\n    },\n    /*\\\n     * mina\n     [ method ]\n     **\n     * Generic animation of numbers\n     **\n     - a (number) start _slave_ number\n     - A (number) end _slave_ number\n     - b (number) start _master_ number (start time in general case)\n     - B (number) end _master_ number (end time in general case)\n     - get (function) getter of _master_ number (see @mina.time)\n     - set (function) setter of _slave_ number\n     - easing (function) #optional easing function, default is @mina.linear\n     = (object) animation descriptor\n     o {\n     o         id (string) animation id,\n     o         start (number) start _slave_ number,\n     o         end (number) end _slave_ number,\n     o         b (number) start _master_ number,\n     o         s (number) animation status (0..1),\n     o         dur (number) animation duration,\n     o         spd (number) animation speed,\n     o         get (function) getter of _master_ number (see @mina.time),\n     o         set (function) setter of _slave_ number,\n     o         easing (function) easing function, default is @mina.linear,\n     o         status (function) status getter/setter,\n     o         speed (function) speed getter/setter,\n     o         duration (function) duration getter/setter,\n     o         stop (function) animation stopper\n     o         pause (function) pauses the animation\n     o         resume (function) resumes the animation\n     o         update (function) calles setter with the right value of the animation\n     o }\n    \\*/\n    mina = function (a, A, b, B, get, set, easing) {\n        var anim = {\n            id: ID(),\n            start: a,\n            end: A,\n            b: b,\n            s: 0,\n            dur: B - b,\n            spd: 1,\n            get: get,\n            set: set,\n            easing: easing || mina.linear,\n            status: sta,\n            speed: speed,\n            duration: duration,\n            stop: stopit,\n            pause: pause,\n            resume: resume,\n            update: update\n        };\n        animations[anim.id] = anim;\n        var len = 0, i;\n        for (i in animations) if (animations.hasOwnProperty(i)) {\n            len++;\n            if (len == 2) {\n                break;\n            }\n        }\n        len == 1 && frame();\n        return anim;\n    };\n    /*\\\n     * mina.time\n     [ method ]\n     **\n     * Returns the current time. Equivalent to:\n     | function () {\n     |     return (new Date).getTime();\n     | }\n    \\*/\n    mina.time = timer;\n    /*\\\n     * mina.getById\n     [ method ]\n     **\n     * Returns an animation by its id\n     - id (string) animation\'s id\n     = (object) See @mina\n    \\*/\n    mina.getById = function (id) {\n        return animations[id] || null;\n    };\n\n    /*\\\n     * mina.linear\n     [ method ]\n     **\n     * Default linear easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.linear = function (n) {\n        return n;\n    };\n    /*\\\n     * mina.easeout\n     [ method ]\n     **\n     * Easeout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeout = function (n) {\n        return Math.pow(n, 1.7);\n    };\n    /*\\\n     * mina.easein\n     [ method ]\n     **\n     * Easein easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easein = function (n) {\n        return Math.pow(n, .48);\n    };\n    /*\\\n     * mina.easeinout\n     [ method ]\n     **\n     * Easeinout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.easeinout = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        if (n == 0) {\n            return 0;\n        }\n        var q = .48 - n / 1.04,\n            Q = Math.sqrt(.1734 + q * q),\n            x = Q - q,\n            X = Math.pow(Math.abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n            y = -Q - q,\n            Y = Math.pow(Math.abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n            t = X + Y + .5;\n        return (1 - t) * 3 * t * t + t * t * t;\n    };\n    /*\\\n     * mina.backin\n     [ method ]\n     **\n     * Backin easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backin = function (n) {\n        if (n == 1) {\n            return 1;\n        }\n        var s = 1.70158;\n        return n * n * ((s + 1) * n - s);\n    };\n    /*\\\n     * mina.backout\n     [ method ]\n     **\n     * Backout easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.backout = function (n) {\n        if (n == 0) {\n            return 0;\n        }\n        n = n - 1;\n        var s = 1.70158;\n        return n * n * ((s + 1) * n + s) + 1;\n    };\n    /*\\\n     * mina.elastic\n     [ method ]\n     **\n     * Elastic easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.elastic = function (n) {\n        if (n == !!n) {\n            return n;\n        }\n        return Math.pow(2, -10 * n) * Math.sin((n - .075) *\n            (2 * Math.PI) / .3) + 1;\n    };\n    /*\\\n     * mina.bounce\n     [ method ]\n     **\n     * Bounce easing\n     - n (number) input 0..1\n     = (number) output 0..1\n    \\*/\n    mina.bounce = function (n) {\n        var s = 7.5625,\n            p = 2.75,\n            l;\n        if (n < 1 / p) {\n            l = s * n * n;\n        } else {\n            if (n < 2 / p) {\n                n -= 1.5 / p;\n                l = s * n * n + .75;\n            } else {\n                if (n < 2.5 / p) {\n                    n -= 2.25 / p;\n                    l = s * n * n + .9375;\n                } else {\n                    n -= 2.625 / p;\n                    l = s * n * n + .984375;\n                }\n            }\n        }\n        return l;\n    };\n    window.mina = mina;\n    return mina;\n})(typeof eve == "undefined" ? function () {} : eve);\n\n// Copyright (c) 2013 - 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar Snap = (function(root) {\nSnap.version = "0.5.1";\n/*\\\n * Snap\n [ method ]\n **\n * Creates a drawing surface or wraps existing SVG element.\n **\n - width (number|string) width of surface\n - height (number|string) height of surface\n * or\n - DOM (SVGElement) element to be wrapped into Snap structure\n * or\n - array (array) array of elements (will return set of elements)\n * or\n - query (string) CSS query selector\n = (object) @Element\n\\*/\nfunction Snap(w, h) {\n    if (w) {\n        if (w.nodeType) {\n            return wrap(w);\n        }\n        if (is(w, "array") && Snap.set) {\n            return Snap.set.apply(Snap, w);\n        }\n        if (w instanceof Element) {\n            return w;\n        }\n        if (h == null) {\n            try {\n                w = glob.doc.querySelector(String(w));\n                return wrap(w);\n            } catch (e) {\n                return null;\n            }\n        }\n    }\n    w = w == null ? "100%" : w;\n    h = h == null ? "100%" : h;\n    return new Paper(w, h);\n}\nSnap.toString = function () {\n    return "Snap v" + this.version;\n};\nSnap._ = {};\nvar glob = {\n    win: root.window,\n    doc: root.window.document\n};\nSnap._.glob = glob;\nvar has = "hasOwnProperty",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    round = math.round,\n    E = "",\n    S = " ",\n    objectToString = Object.prototype.toString,\n    ISURL = /^url\\([\'"]?([^\\)]+?)[\'"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?%?)\\s*\\))\\s*$/i,\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    separator = Snap._.separator = /[,\\s]+/,\n    whitespace = /[\\s]/g,\n    commaSpaces = /[\\s]*,[\\s]*/,\n    hsrg = {hs: 1, rg: 1},\n    pathCommand = /([a-z])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    tCommand = /([rstm])[\\s,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\s]*,?[\\s]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\s]*,?[\\s]*/ig,\n    idgen = 0,\n    idprefix = "S" + (+new Date).toString(36),\n    ID = function (el) {\n        return (el && el.type ? el.type : E) + idprefix + (idgen++).toString(36);\n    },\n    xlink = "http://www.w3.org/1999/xlink",\n    xmlns = "http://www.w3.org/2000/svg",\n    hub = {},\n    /*\\\n     * Snap.url\n     [ method ]\n     **\n     * Wraps path into `"url(\'<path>\')"`.\n     - value (string) path\n     = (string) wrapped path\n    \\*/\n    URL = Snap.url = function (url) {\n        return "url(\'#" + url + "\')";\n    };\n\nfunction $(el, attr) {\n    if (attr) {\n        if (el == "#text") {\n            el = glob.doc.createTextNode(attr.text || attr["#text"] || "");\n        }\n        if (el == "#comment") {\n            el = glob.doc.createComment(attr.text || attr["#text"] || "");\n        }\n        if (typeof el == "string") {\n            el = $(el);\n        }\n        if (typeof attr == "string") {\n            if (el.nodeType == 1) {\n                if (attr.substring(0, 6) == "xlink:") {\n                    return el.getAttributeNS(xlink, attr.substring(6));\n                }\n                if (attr.substring(0, 4) == "xml:") {\n                    return el.getAttributeNS(xmlns, attr.substring(4));\n                }\n                return el.getAttribute(attr);\n            } else if (attr == "text") {\n                return el.nodeValue;\n            } else {\n                return null;\n            }\n        }\n        if (el.nodeType == 1) {\n            for (var key in attr) if (attr[has](key)) {\n                var val = Str(attr[key]);\n                if (val) {\n                    if (key.substring(0, 6) == "xlink:") {\n                        el.setAttributeNS(xlink, key.substring(6), val);\n                    } else if (key.substring(0, 4) == "xml:") {\n                        el.setAttributeNS(xmlns, key.substring(4), val);\n                    } else {\n                        el.setAttribute(key, val);\n                    }\n                } else {\n                    el.removeAttribute(key);\n                }\n            }\n        } else if ("text" in attr) {\n            el.nodeValue = attr.text;\n        }\n    } else {\n        el = glob.doc.createElementNS(xmlns, el);\n    }\n    return el;\n}\nSnap._.$ = $;\nSnap._.id = ID;\nfunction getAttrs(el) {\n    var attrs = el.attributes,\n        name,\n        out = {};\n    for (var i = 0; i < attrs.length; i++) {\n        if (attrs[i].namespaceURI == xlink) {\n            name = "xlink:";\n        } else {\n            name = "";\n        }\n        name += attrs[i].name;\n        out[name] = attrs[i].textContent;\n    }\n    return out;\n}\nfunction is(o, type) {\n    type = Str.prototype.toLowerCase.call(type);\n    if (type == "finite") {\n        return isFinite(o);\n    }\n    if (type == "array" &&\n        (o instanceof Array || Array.isArray && Array.isArray(o))) {\n        return true;\n    }\n    return  type == "null" && o === null ||\n            type == typeof o && o !== null ||\n            type == "object" && o === Object(o) ||\n            objectToString.call(o).slice(8, -1).toLowerCase() == type;\n}\n/*\\\n * Snap.format\n [ method ]\n **\n * Replaces construction of type `{<name>}` to the corresponding argument\n **\n - token (string) string to format\n - json (object) object which properties are used as a replacement\n = (string) formatted string\n > Usage\n | // this draws a rectangular shape equivalent to "M10,20h40v50h-40z"\n | paper.path(Snap.format("M{x},{y}h{dim.width}v{dim.height}h{dim[\'negative width\']}z", {\n |     x: 10,\n |     y: 20,\n |     dim: {\n |         width: 40,\n |         height: 50,\n |         "negative width": -40\n |     }\n | }));\n\\*/\nSnap.format = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n        objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[(\'|")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or ["xxxxx"] to run over object properties\n        replacer = function (all, key, obj) {\n            var res = obj;\n            key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                name = name || quotedName;\n                if (res) {\n                    if (name in res) {\n                        res = res[name];\n                    }\n                    typeof res == "function" && isFunc && (res = res());\n                }\n            });\n            res = (res == null || res == obj ? all : res) + "";\n            return res;\n        };\n    return function (str, obj) {\n        return Str(str).replace(tokenRegex, function (all, key) {\n            return replacer(all, key, obj);\n        });\n    };\n})();\nfunction clone(obj) {\n    if (typeof obj == "function" || Object(obj) !== obj) {\n        return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n        res[key] = clone(obj[key]);\n    }\n    return res;\n}\nSnap._.clone = clone;\nfunction repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n        return array.push(array.splice(i, 1)[0]);\n    }\n}\nfunction cacher(f, scope, postprocessor) {\n    function newf() {\n        var arg = Array.prototype.slice.call(arguments, 0),\n            args = arg.join("\\u2400"),\n            cache = newf.cache = newf.cache || {},\n            count = newf.count = newf.count || [];\n        if (cache[has](args)) {\n            repush(count, args);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        count.length >= 1e3 && delete cache[count.shift()];\n        count.push(args);\n        cache[args] = f.apply(scope, arg);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n    return newf;\n}\nSnap._.cacher = cacher;\nfunction angle(x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n        var x = x1 - x2,\n            y = y1 - y2;\n        if (!x && !y) {\n            return 0;\n        }\n        return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n        return angle(x1, y1, x3, y3) - angle(x2, y2, x3, y3);\n    }\n}\nfunction rad(deg) {\n    return deg % 360 * PI / 180;\n}\nfunction deg(rad) {\n    return rad * 180 / PI % 360;\n}\nfunction x_y() {\n    return this.x + S + this.y;\n}\nfunction x_y_w_h() {\n    return this.x + S + this.y + S + this.width + " \\xd7 " + this.height;\n}\n\n/*\\\n * Snap.rad\n [ method ]\n **\n * Transform angle to radians\n - deg (number) angle in degrees\n = (number) angle in radians\n\\*/\nSnap.rad = rad;\n/*\\\n * Snap.deg\n [ method ]\n **\n * Transform angle to degrees\n - rad (number) angle in radians\n = (number) angle in degrees\n\\*/\nSnap.deg = deg;\n/*\\\n * Snap.sin\n [ method ]\n **\n * Equivalent to `Math.sin()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) sin\n\\*/\nSnap.sin = function (angle) {\n    return math.sin(Snap.rad(angle));\n};\n/*\\\n * Snap.tan\n [ method ]\n **\n * Equivalent to `Math.tan()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) tan\n\\*/\nSnap.tan = function (angle) {\n    return math.tan(Snap.rad(angle));\n};\n/*\\\n * Snap.cos\n [ method ]\n **\n * Equivalent to `Math.cos()` only works with degrees, not radians.\n - angle (number) angle in degrees\n = (number) cos\n\\*/\nSnap.cos = function (angle) {\n    return math.cos(Snap.rad(angle));\n};\n/*\\\n * Snap.asin\n [ method ]\n **\n * Equivalent to `Math.asin()` only works with degrees, not radians.\n - num (number) value\n = (number) asin in degrees\n\\*/\nSnap.asin = function (num) {\n    return Snap.deg(math.asin(num));\n};\n/*\\\n * Snap.acos\n [ method ]\n **\n * Equivalent to `Math.acos()` only works with degrees, not radians.\n - num (number) value\n = (number) acos in degrees\n\\*/\nSnap.acos = function (num) {\n    return Snap.deg(math.acos(num));\n};\n/*\\\n * Snap.atan\n [ method ]\n **\n * Equivalent to `Math.atan()` only works with degrees, not radians.\n - num (number) value\n = (number) atan in degrees\n\\*/\nSnap.atan = function (num) {\n    return Snap.deg(math.atan(num));\n};\n/*\\\n * Snap.atan2\n [ method ]\n **\n * Equivalent to `Math.atan2()` only works with degrees, not radians.\n - num (number) value\n = (number) atan2 in degrees\n\\*/\nSnap.atan2 = function (num) {\n    return Snap.deg(math.atan2(num));\n};\n/*\\\n * Snap.angle\n [ method ]\n **\n * Returns an angle between two or three points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n - x3 (number) #optional x coord of third point\n - y3 (number) #optional y coord of third point\n = (number) angle in degrees\n\\*/\nSnap.angle = angle;\n/*\\\n * Snap.len\n [ method ]\n **\n * Returns distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len = function (x1, y1, x2, y2) {\n    return Math.sqrt(Snap.len2(x1, y1, x2, y2));\n};\n/*\\\n * Snap.len2\n [ method ]\n **\n * Returns squared distance between two points\n - x1 (number) x coord of first point\n - y1 (number) y coord of first point\n - x2 (number) x coord of second point\n - y2 (number) y coord of second point\n = (number) distance\n\\*/\nSnap.len2 = function (x1, y1, x2, y2) {\n    return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n};\n/*\\\n * Snap.closestPoint\n [ method ]\n **\n * Returns closest point to a given one on a given path.\n - path (Element) path element\n - x (number) x coord of a point\n - y (number) y coord of a point\n = (object) in format\n {\n    x (number) x coord of the point on the path\n    y (number) y coord of the point on the path\n    length (number) length of the path to the point\n    distance (number) distance from the given point to the path\n }\n\\*/\n// Copied from http://bl.ocks.org/mbostock/8027637\nSnap.closestPoint = function (path, x, y) {\n    function distance2(p) {\n        var dx = p.x - x,\n            dy = p.y - y;\n        return dx * dx + dy * dy;\n    }\n    var pathNode = path.node,\n        pathLength = pathNode.getTotalLength(),\n        precision = pathLength / pathNode.pathSegList.numberOfItems * .125,\n        best,\n        bestLength,\n        bestDistance = Infinity;\n\n    // linear scan for coarse approximation\n    for (var scan, scanLength = 0, scanDistance; scanLength <= pathLength; scanLength += precision) {\n        if ((scanDistance = distance2(scan = pathNode.getPointAtLength(scanLength))) < bestDistance) {\n            best = scan;\n            bestLength = scanLength;\n            bestDistance = scanDistance;\n        }\n    }\n\n    // binary search for precise estimate\n    precision *= .5;\n    while (precision > .5) {\n        var before,\n            after,\n            beforeLength,\n            afterLength,\n            beforeDistance,\n            afterDistance;\n        if ((beforeLength = bestLength - precision) >= 0 && (beforeDistance = distance2(before = pathNode.getPointAtLength(beforeLength))) < bestDistance) {\n            best = before;\n            bestLength = beforeLength;\n            bestDistance = beforeDistance;\n        } else if ((afterLength = bestLength + precision) <= pathLength && (afterDistance = distance2(after = pathNode.getPointAtLength(afterLength))) < bestDistance) {\n            best = after;\n            bestLength = afterLength;\n            bestDistance = afterDistance;\n        } else {\n            precision *= .5;\n        }\n    }\n\n    best = {\n        x: best.x,\n        y: best.y,\n        length: bestLength,\n        distance: Math.sqrt(bestDistance)\n    };\n    return best;\n}\n/*\\\n * Snap.is\n [ method ]\n **\n * Handy replacement for the `typeof` operator\n - o () any object or primitive\n - type (string) name of the type, e.g., `string`, `function`, `number`, etc.\n = (boolean) `true` if given value is of given type\n\\*/\nSnap.is = is;\n/*\\\n * Snap.snapTo\n [ method ]\n **\n * Snaps given value to given grid\n - values (array|number) given array of values or step of the grid\n - value (number) value to adjust\n - tolerance (number) #optional maximum distance to the target value that would trigger the snap. Default is `10`.\n = (number) adjusted value\n\\*/\nSnap.snapTo = function (values, value, tolerance) {\n    tolerance = is(tolerance, "finite") ? tolerance : 10;\n    if (is(values, "array")) {\n        var i = values.length;\n        while (i--) if (abs(values[i] - value) <= tolerance) {\n            return values[i];\n        }\n    } else {\n        values = +values;\n        var rem = value % values;\n        if (rem < tolerance) {\n            return value - rem;\n        }\n        if (rem > values - tolerance) {\n            return value - rem + values;\n        }\n    }\n    return value;\n};\n// Colour\n/*\\\n * Snap.getRGB\n [ method ]\n **\n * Parses color string as RGB object\n - color (string) color string in one of the following formats:\n # <ul>\n #     <li>Color name (<code>red</code>, <code>green</code>, <code>cornflowerblue</code>, etc)</li>\n #     <li>#  shortened HTML color: (<code>#000</code>, <code>#fc0</code>, etc.)</li>\n #     <li>#  full length HTML color: (<code>#000000</code>, <code>#bd2300</code>)</li>\n #     <li>rgb(, , )  red, green and blue channels values: (<code>rgb(200,&nbsp;100,&nbsp;0)</code>)</li>\n #     <li>rgba(, , , )  also with opacity</li>\n #     <li>rgb(%, %, %)  same as above, but in %: (<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>)</li>\n #     <li>rgba(%, %, %, %)  also with opacity</li>\n #     <li>hsb(, , )  hue, saturation and brightness values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>)</li>\n #     <li>hsba(, , , )  also with opacity</li>\n #     <li>hsb(%, %, %)  same as above, but in %</li>\n #     <li>hsba(%, %, %, %)  also with opacity</li>\n #     <li>hsl(, , )  hue, saturation and luminosity values: (<code>hsb(0.5,&nbsp;0.25,&nbsp;0.5)</code>)</li>\n #     <li>hsla(, , , )  also with opacity</li>\n #     <li>hsl(%, %, %)  same as above, but in %</li>\n #     <li>hsla(%, %, %, %)  also with opacity</li>\n # </ul>\n * Note that `%` can be used any time: `rgb(20%, 255, 50%)`.\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) true if string can\'t be parsed\n o }\n\\*/\nSnap.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf("-") + 1)) {\n        return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: rgbtoString};\n    }\n    if (colour == "none") {\n        return {r: -1, g: -1, b: -1, hex: "none", toString: rgbtoString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == "#") && (colour = toHex(colour));\n    if (!colour) {\n        return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: rgbtoString};\n    }\n    var res,\n        red,\n        green,\n        blue,\n        opacity,\n        t,\n        values,\n        rgb = colour.match(colourRegExp);\n    if (rgb) {\n        if (rgb[2]) {\n            blue = toInt(rgb[2].substring(5), 16);\n            green = toInt(rgb[2].substring(3, 5), 16);\n            red = toInt(rgb[2].substring(1, 3), 16);\n        }\n        if (rgb[3]) {\n            blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n            green = toInt((t = rgb[3].charAt(2)) + t, 16);\n            red = toInt((t = rgb[3].charAt(1)) + t, 16);\n        }\n        if (rgb[4]) {\n            values = rgb[4].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == "%" && (red *= 2.55);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == "%" && (green *= 2.55);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == "%" && (blue *= 2.55);\n            rgb[1].toLowerCase().slice(0, 4) == "rgba" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n        }\n        if (rgb[5]) {\n            values = rgb[5].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == "%" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == "%" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == "%" && (blue /= 100);\n            (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == "hsba" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n            return Snap.hsb2rgb(red, green, blue, opacity);\n        }\n        if (rgb[6]) {\n            values = rgb[6].split(commaSpaces);\n            red = toFloat(values[0]);\n            values[0].slice(-1) == "%" && (red /= 100);\n            green = toFloat(values[1]);\n            values[1].slice(-1) == "%" && (green /= 100);\n            blue = toFloat(values[2]);\n            values[2].slice(-1) == "%" && (blue /= 100);\n            (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n            rgb[1].toLowerCase().slice(0, 4) == "hsla" && (opacity = toFloat(values[3]));\n            values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n            return Snap.hsl2rgb(red, green, blue, opacity);\n        }\n        red = mmin(math.round(red), 255);\n        green = mmin(math.round(green), 255);\n        blue = mmin(math.round(blue), 255);\n        opacity = mmin(mmax(opacity, 0), 1);\n        rgb = {r: red, g: green, b: blue, toString: rgbtoString};\n        rgb.hex = "#" + (16777216 | blue | green << 8 | red << 16).toString(16).slice(1);\n        rgb.opacity = is(opacity, "finite") ? opacity : 1;\n        return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: rgbtoString};\n}, Snap);\n/*\\\n * Snap.hsb\n [ method ]\n **\n * Converts HSB values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - b (number) value or brightness\n = (string) hex representation of the color\n\\*/\nSnap.hsb = cacher(function (h, s, b) {\n    return Snap.hsb2rgb(h, s, b).hex;\n});\n/*\\\n * Snap.hsl\n [ method ]\n **\n * Converts HSL values to a hex representation of the color\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (string) hex representation of the color\n\\*/\nSnap.hsl = cacher(function (h, s, l) {\n    return Snap.hsl2rgb(h, s, l).hex;\n});\n/*\\\n * Snap.rgb\n [ method ]\n **\n * Converts RGB values to a hex representation of the color\n - r (number) red\n - g (number) green\n - b (number) blue\n = (string) hex representation of the color\n\\*/\nSnap.rgb = cacher(function (r, g, b, o) {\n    if (is(o, "finite")) {\n        var round = math.round;\n        return "rgba(" + [round(r), round(g), round(b), +o.toFixed(2)] + ")";\n    }\n    return "#" + (16777216 | b | g << 8 | r << 16).toString(16).slice(1);\n});\nvar toHex = function (color) {\n    var i = glob.doc.getElementsByTagName("head")[0] || glob.doc.getElementsByTagName("svg")[0],\n        red = "rgb(255, 0, 0)";\n    toHex = cacher(function (color) {\n        if (color.toLowerCase() == "red") {\n            return red;\n        }\n        i.style.color = red;\n        i.style.color = color;\n        var out = glob.doc.defaultView.getComputedStyle(i, E).getPropertyValue("color");\n        return out == red ? null : out;\n    });\n    return toHex(color);\n},\nhsbtoString = function () {\n    return "hsb(" + [this.h, this.s, this.b] + ")";\n},\nhsltoString = function () {\n    return "hsl(" + [this.h, this.s, this.l] + ")";\n},\nrgbtoString = function () {\n    return this.opacity == 1 || this.opacity == null ?\n            this.hex :\n            "rgba(" + [this.r, this.g, this.b, this.opacity] + ")";\n},\nprepareRGB = function (r, g, b) {\n    if (g == null && is(r, "object") && "r" in r && "g" in r && "b" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n    }\n    if (g == null && is(r, string)) {\n        var clr = Snap.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n    }\n    if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n    }\n\n    return [r, g, b];\n},\npackageRGB = function (r, g, b, o) {\n    r = math.round(r * 255);\n    g = math.round(g * 255);\n    b = math.round(b * 255);\n    var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        opacity: is(o, "finite") ? o : 1,\n        hex: Snap.rgb(r, g, b),\n        toString: rgbtoString\n    };\n    is(o, "finite") && (rgb.opacity = o);\n    return rgb;\n};\n/*\\\n * Snap.color\n [ method ]\n **\n * Parses the color string and returns an object featuring the color\'s component values\n - clr (string) color string in one of the supported formats (see @Snap.getRGB)\n = (object) Combined RGB/HSB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #,\n o     error (boolean) `true` if string can\'t be parsed,\n o     h (number) hue,\n o     s (number) saturation,\n o     v (number) value (brightness),\n o     l (number) lightness\n o }\n\\*/\nSnap.color = function (clr) {\n    var rgb;\n    if (is(clr, "object") && "h" in clr && "s" in clr && "b" in clr) {\n        rgb = Snap.hsb2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else if (is(clr, "object") && "h" in clr && "s" in clr && "l" in clr) {\n        rgb = Snap.hsl2rgb(clr);\n        clr.r = rgb.r;\n        clr.g = rgb.g;\n        clr.b = rgb.b;\n        clr.opacity = 1;\n        clr.hex = rgb.hex;\n    } else {\n        if (is(clr, "string")) {\n            clr = Snap.getRGB(clr);\n        }\n        if (is(clr, "object") && "r" in clr && "g" in clr && "b" in clr && !("error" in clr)) {\n            rgb = Snap.rgb2hsl(clr);\n            clr.h = rgb.h;\n            clr.s = rgb.s;\n            clr.l = rgb.l;\n            rgb = Snap.rgb2hsb(clr);\n            clr.v = rgb.b;\n        } else {\n            clr = {hex: "none"};\n            clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            clr.error = 1;\n        }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n};\n/*\\\n * Snap.hsb2rgb\n [ method ]\n **\n * Converts HSB values to an RGB object\n - h (number) hue\n - s (number) saturation\n - v (number) value or brightness\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsb2rgb = function (h, s, v, o) {\n    if (is(h, "object") && "h" in h && "s" in h && "b" in h) {\n        v = h.b;\n        s = h.s;\n        o = h.o;\n        h = h.h;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.hsl2rgb\n [ method ]\n **\n * Converts HSL values to an RGB object\n - h (number) hue\n - s (number) saturation\n - l (number) luminosity\n = (object) RGB object in the following format:\n o {\n o     r (number) red,\n o     g (number) green,\n o     b (number) blue,\n o     hex (string) color in HTML/CSS format: #\n o }\n\\*/\nSnap.hsl2rgb = function (h, s, l, o) {\n    if (is(h, "object") && "h" in h && "s" in h && "l" in h) {\n        l = h.l;\n        s = h.s;\n        h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n        h /= 360;\n        s /= 100;\n        l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = h % 360 / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n};\n/*\\\n * Snap.rgb2hsb\n [ method ]\n **\n * Converts RGB values to an HSB object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSB object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     b (number) brightness\n o }\n\\*/\nSnap.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = C == 0 ? null :\n        V == r ? (g - b) / C :\n        V == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n};\n/*\\\n * Snap.rgb2hsl\n [ method ]\n **\n * Converts RGB values to an HSL object\n - r (number) red\n - g (number) green\n - b (number) blue\n = (object) HSL object in the following format:\n o {\n o     h (number) hue,\n o     s (number) saturation,\n o     l (number) luminosity\n o }\n\\*/\nSnap.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = C == 0 ? null :\n        M == r ? (g - b) / C :\n        M == g ? (b - r) / C + 2 :\n                 (r - g) / C + 4;\n    H = (H + 360) % 6 * 60 / 360;\n    L = (M + m) / 2;\n    S = C == 0 ? 0 :\n         L < .5 ? C / (2 * L) :\n                  C / (2 - 2 * L);\n    return {h: H, s: S, l: L, toString: hsltoString};\n};\n\n// Transformations\n/*\\\n * Snap.parsePathString\n [ method ]\n **\n * Utility method\n **\n * Parses given path string into an array of arrays of path segments\n - pathString (string|array) path string or array of segments (in the last case it is returned straight away)\n = (array) array of segments\n\\*/\nSnap.parsePathString = function (pathString) {\n    if (!pathString) {\n        return null;\n    }\n    var pth = Snap.path(pathString);\n    if (pth.arr) {\n        return Snap.path.clone(pth.arr);\n    }\n\n    var paramCounts = {a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0},\n        data = [];\n    if (is(pathString, "array") && is(pathString[0], "array")) { // rough assumption\n        data = Snap.path.clone(pathString);\n    }\n    if (!data.length) {\n        Str(pathString).replace(pathCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            if (name == "m" && params.length > 2) {\n                data.push([b].concat(params.splice(0, 2)));\n                name = "l";\n                b = b == "m" ? "l" : "L";\n            }\n            if (name == "o" && params.length == 1) {\n                data.push([b, params[0]]);\n            }\n            if (name == "r") {\n                data.push([b].concat(params));\n            } else while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        });\n    }\n    data.toString = Snap.path.toString;\n    pth.arr = Snap.path.clone(data);\n    return data;\n};\n/*\\\n * Snap.parseTransformString\n [ method ]\n **\n * Utility method\n **\n * Parses given transform string into an array of transformations\n - TString (string|array) transform string or array of transformations (in the last case it is returned straight away)\n = (array) array of transformations\n\\*/\nvar parseTransformString = Snap.parseTransformString = function (TString) {\n    if (!TString) {\n        return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n        data = [];\n    if (is(TString, "array") && is(TString[0], "array")) { // rough assumption\n        data = Snap.path.clone(TString);\n    }\n    if (!data.length) {\n        Str(TString).replace(tCommand, function (a, b, c) {\n            var params = [],\n                name = b.toLowerCase();\n            c.replace(pathValues, function (a, b) {\n                b && params.push(+b);\n            });\n            data.push([b].concat(params));\n        });\n    }\n    data.toString = Snap.path.toString;\n    return data;\n};\nfunction svgTransform2string(tstr) {\n    var res = [];\n    tstr = tstr.replace(/(?:^|\\s)(\\w+)\\(([^)]+)\\)/g, function (all, name, params) {\n        params = params.split(/\\s*,\\s*|\\s+/);\n        if (name == "rotate" && params.length == 1) {\n            params.push(0, 0);\n        }\n        if (name == "scale") {\n            if (params.length > 2) {\n                params = params.slice(0, 2);\n            } else if (params.length == 2) {\n                params.push(0, 0);\n            }\n            if (params.length == 1) {\n                params.push(params[0], 0, 0);\n            }\n        }\n        if (name == "skewX") {\n            res.push(["m", 1, 0, math.tan(rad(params[0])), 1, 0, 0]);\n        } else if (name == "skewY") {\n            res.push(["m", 1, math.tan(rad(params[0])), 0, 1, 0, 0]);\n        } else {\n            res.push([name.charAt(0)].concat(params));\n        }\n        return all;\n    });\n    return res;\n}\nSnap._.svgTransform2string = svgTransform2string;\nSnap._.rgTransform = /^[a-z][\\s]*-?\\.?\\d/i;\nfunction transform2matrix(tstr, bbox) {\n    var tdata = parseTransformString(tstr),\n        m = new Snap.Matrix;\n    if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n            var t = tdata[i],\n                tlen = t.length,\n                command = Str(t[0]).toLowerCase(),\n                absolute = t[0] != command,\n                inver = absolute ? m.invert() : 0,\n                x1,\n                y1,\n                x2,\n                y2,\n                bb;\n            if (command == "t" && tlen == 2){\n                m.translate(t[1], 0);\n            } else if (command == "t" && tlen == 3) {\n                if (absolute) {\n                    x1 = inver.x(0, 0);\n                    y1 = inver.y(0, 0);\n                    x2 = inver.x(t[1], t[2]);\n                    y2 = inver.y(t[1], t[2]);\n                    m.translate(x2 - x1, y2 - y1);\n                } else {\n                    m.translate(t[1], t[2]);\n                }\n            } else if (command == "r") {\n                if (tlen == 2) {\n                    bb = bb || bbox;\n                    m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.rotate(t[1], x2, y2);\n                    } else {\n                        m.rotate(t[1], t[2], t[3]);\n                    }\n                }\n            } else if (command == "s") {\n                if (tlen == 2 || tlen == 3) {\n                    bb = bb || bbox;\n                    m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                } else if (tlen == 4) {\n                    if (absolute) {\n                        x2 = inver.x(t[2], t[3]);\n                        y2 = inver.y(t[2], t[3]);\n                        m.scale(t[1], t[1], x2, y2);\n                    } else {\n                        m.scale(t[1], t[1], t[2], t[3]);\n                    }\n                } else if (tlen == 5) {\n                    if (absolute) {\n                        x2 = inver.x(t[3], t[4]);\n                        y2 = inver.y(t[3], t[4]);\n                        m.scale(t[1], t[2], x2, y2);\n                    } else {\n                        m.scale(t[1], t[2], t[3], t[4]);\n                    }\n                }\n            } else if (command == "m" && tlen == 7) {\n                m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n            }\n        }\n    }\n    return m;\n}\nSnap._.transform2matrix = transform2matrix;\nSnap._unit2px = unit2px;\nvar contains = glob.doc.contains || glob.doc.compareDocumentPosition ?\n    function (a, b) {\n        var adown = a.nodeType == 9 ? a.documentElement : a,\n            bup = b && b.parentNode;\n            return a == bup || !!(bup && bup.nodeType == 1 && (\n                adown.contains ?\n                    adown.contains(bup) :\n                    a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16\n            ));\n    } :\n    function (a, b) {\n        if (b) {\n            while (b) {\n                b = b.parentNode;\n                if (b == a) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\nfunction getSomeDefs(el) {\n    var p = el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) ||\n            el.node.parentNode && wrap(el.node.parentNode) ||\n            Snap.select("svg") ||\n            Snap(0, 0),\n        pdefs = p.select("defs"),\n        defs  = pdefs == null ? false : pdefs.node;\n    if (!defs) {\n        defs = make("defs", p.node).node;\n    }\n    return defs;\n}\nfunction getSomeSVG(el) {\n    return el.node.ownerSVGElement && wrap(el.node.ownerSVGElement) || Snap.select("svg");\n}\nSnap._.getSomeDefs = getSomeDefs;\nSnap._.getSomeSVG = getSomeSVG;\nfunction unit2px(el, name, value) {\n    var svg = getSomeSVG(el).node,\n        out = {},\n        mgr = svg.querySelector(".svg---mgr");\n    if (!mgr) {\n        mgr = $("rect");\n        $(mgr, {x: -9e9, y: -9e9, width: 10, height: 10, "class": "svg---mgr", fill: "none"});\n        svg.appendChild(mgr);\n    }\n    function getW(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {width: val});\n        try {\n            return mgr.getBBox().width;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function getH(val) {\n        if (val == null) {\n            return E;\n        }\n        if (val == +val) {\n            return val;\n        }\n        $(mgr, {height: val});\n        try {\n            return mgr.getBBox().height;\n        } catch (e) {\n            return 0;\n        }\n    }\n    function set(nam, f) {\n        if (name == null) {\n            out[nam] = f(el.attr(nam) || 0);\n        } else if (nam == name) {\n            out = f(value == null ? el.attr(nam) || 0 : value);\n        }\n    }\n    switch (el.type) {\n        case "rect":\n            set("rx", getW);\n            set("ry", getH);\n        case "image":\n            set("width", getW);\n            set("height", getH);\n        case "text":\n            set("x", getW);\n            set("y", getH);\n        break;\n        case "circle":\n            set("cx", getW);\n            set("cy", getH);\n            set("r", getW);\n        break;\n        case "ellipse":\n            set("cx", getW);\n            set("cy", getH);\n            set("rx", getW);\n            set("ry", getH);\n        break;\n        case "line":\n            set("x1", getW);\n            set("x2", getW);\n            set("y1", getH);\n            set("y2", getH);\n        break;\n        case "marker":\n            set("refX", getW);\n            set("markerWidth", getW);\n            set("refY", getH);\n            set("markerHeight", getH);\n        break;\n        case "radialGradient":\n            set("fx", getW);\n            set("fy", getH);\n        break;\n        case "tspan":\n            set("dx", getW);\n            set("dy", getH);\n        break;\n        default:\n            set(name, getW);\n    }\n    svg.removeChild(mgr);\n    return out;\n}\n/*\\\n * Snap.select\n [ method ]\n **\n * Wraps a DOM element specified by CSS selector as @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.select = function (query) {\n    query = Str(query).replace(/([^\\\\]):/g, "$1\\\\:");\n    return wrap(glob.doc.querySelector(query));\n};\n/*\\\n * Snap.selectAll\n [ method ]\n **\n * Wraps DOM elements specified by CSS selector as set or array of @Element\n - query (string) CSS selector of the element\n = (Element) the current element\n\\*/\nSnap.selectAll = function (query) {\n    var nodelist = glob.doc.querySelectorAll(query),\n        set = (Snap.set || Array)();\n    for (var i = 0; i < nodelist.length; i++) {\n        set.push(wrap(nodelist[i]));\n    }\n    return set;\n};\n\nfunction add2group(list) {\n    if (!is(list, "array")) {\n        list = Array.prototype.slice.call(arguments, 0);\n    }\n    var i = 0,\n        j = 0,\n        node = this.node;\n    while (this[i]) delete this[i++];\n    for (i = 0; i < list.length; i++) {\n        if (list[i].type == "set") {\n            list[i].forEach(function (el) {\n                node.appendChild(el.node);\n            });\n        } else {\n            node.appendChild(list[i].node);\n        }\n    }\n    var children = node.childNodes;\n    for (i = 0; i < children.length; i++) {\n        this[j++] = wrap(children[i]);\n    }\n    return this;\n}\n// Hub garbage collector every 10s\nsetInterval(function () {\n    for (var key in hub) if (hub[has](key)) {\n        var el = hub[key],\n            node = el.node;\n        if (el.type != "svg" && !node.ownerSVGElement || el.type == "svg" && (!node.parentNode || "ownerSVGElement" in node.parentNode && !node.ownerSVGElement)) {\n            delete hub[key];\n        }\n    }\n}, 1e4);\nfunction Element(el) {\n    if (el.snap in hub) {\n        return hub[el.snap];\n    }\n    var svg;\n    try {\n        svg = el.ownerSVGElement;\n    } catch(e) {}\n    /*\\\n     * Element.node\n     [ property (object) ]\n     **\n     * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n     > Usage\n     | // draw a circle at coordinate 10,10 with radius of 10\n     | var c = paper.circle(10, 10, 10);\n     | c.node.onclick = function () {\n     |     c.attr("fill", "red");\n     | };\n    \\*/\n    this.node = el;\n    if (svg) {\n        this.paper = new Paper(svg);\n    }\n    /*\\\n     * Element.type\n     [ property (string) ]\n     **\n     * SVG tag name of the given element.\n    \\*/\n    this.type = el.tagName || el.nodeName;\n    var id = this.id = ID(this);\n    this.anims = {};\n    this._ = {\n        transform: []\n    };\n    el.snap = id;\n    hub[id] = this;\n    if (this.type == "g") {\n        this.add = add2group;\n    }\n    if (this.type in {g: 1, mask: 1, pattern: 1, symbol: 1}) {\n        for (var method in Paper.prototype) if (Paper.prototype[has](method)) {\n            this[method] = Paper.prototype[method];\n        }\n    }\n}\n   /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Gets or sets given attributes of the element.\n     **\n     - params (object) contains key-value pairs of attributes you want to set\n     * or\n     - param (string) name of the attribute\n     = (Element) the current element\n     * or\n     = (string) value of attribute\n     > Usage\n     | el.attr({\n     |     fill: "#fc0",\n     |     stroke: "#000",\n     |     strokeWidth: 2, // CamelCase...\n     |     "fill-opacity": 0.5, // or dash-separated names\n     |     width: "*=2" // prefixed values\n     | });\n     | console.log(el.attr("fill")); // #fc0\n     * Prefixed values in format `"+=10"` supported. All four operations\n     * (`+`, `-`, `*` and `/`) could be used. Optionally you can use units for `+`\n     * and `-`: `"+=2em"`.\n    \\*/\n    Element.prototype.attr = function (params, value) {\n        var el = this,\n            node = el.node;\n        if (!params) {\n            if (node.nodeType != 1) {\n                return {\n                    text: node.nodeValue\n                };\n            }\n            var attr = node.attributes,\n                out = {};\n            for (var i = 0, ii = attr.length; i < ii; i++) {\n                out[attr[i].nodeName] = attr[i].nodeValue;\n            }\n            return out;\n        }\n        if (is(params, "string")) {\n            if (arguments.length > 1) {\n                var json = {};\n                json[params] = value;\n                params = json;\n            } else {\n                return eve("snap.util.getattr." + params, el).firstDefined();\n            }\n        }\n        for (var att in params) {\n            if (params[has](att)) {\n                eve("snap.util.attr." + att, el, params[att]);\n            }\n        }\n        return el;\n    };\n/*\\\n * Snap.parse\n [ method ]\n **\n * Parses SVG fragment and converts it into a @Fragment\n **\n - svg (string) SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.parse = function (svg) {\n    var f = glob.doc.createDocumentFragment(),\n        full = true,\n        div = glob.doc.createElement("div");\n    svg = Str(svg);\n    if (!svg.match(/^\\s*<\\s*svg(?:\\s|>)/)) {\n        svg = "<svg>" + svg + "</svg>";\n        full = false;\n    }\n    div.innerHTML = svg;\n    svg = div.getElementsByTagName("svg")[0];\n    if (svg) {\n        if (full) {\n            f = svg;\n        } else {\n            while (svg.firstChild) {\n                f.appendChild(svg.firstChild);\n            }\n        }\n    }\n    return new Fragment(f);\n};\nfunction Fragment(frag) {\n    this.node = frag;\n}\n/*\\\n * Snap.fragment\n [ method ]\n **\n * Creates a DOM fragment from a given list of elements or strings\n **\n - varargs () SVG string\n = (Fragment) the @Fragment\n\\*/\nSnap.fragment = function () {\n    var args = Array.prototype.slice.call(arguments, 0),\n        f = glob.doc.createDocumentFragment();\n    for (var i = 0, ii = args.length; i < ii; i++) {\n        var item = args[i];\n        if (item.node && item.node.nodeType) {\n            f.appendChild(item.node);\n        }\n        if (item.nodeType) {\n            f.appendChild(item);\n        }\n        if (typeof item == "string") {\n            f.appendChild(Snap.parse(item).node);\n        }\n    }\n    return new Fragment(f);\n};\n\nfunction make(name, parent) {\n    var res = $(name);\n    parent.appendChild(res);\n    var el = wrap(res);\n    return el;\n}\nfunction Paper(w, h) {\n    var res,\n        desc,\n        defs,\n        proto = Paper.prototype;\n    if (w && w.tagName && w.tagName.toLowerCase() == "svg") {\n        if (w.snap in hub) {\n            return hub[w.snap];\n        }\n        var doc = w.ownerDocument;\n        res = new Element(w);\n        desc = w.getElementsByTagName("desc")[0];\n        defs = w.getElementsByTagName("defs")[0];\n        if (!desc) {\n            desc = $("desc");\n            desc.appendChild(doc.createTextNode("Created with Snap"));\n            res.node.appendChild(desc);\n        }\n        if (!defs) {\n            defs = $("defs");\n            res.node.appendChild(defs);\n        }\n        res.defs = defs;\n        for (var key in proto) if (proto[has](key)) {\n            res[key] = proto[key];\n        }\n        res.paper = res.root = res;\n    } else {\n        res = make("svg", glob.doc.body);\n        $(res.node, {\n            height: h,\n            version: 1.1,\n            width: w,\n            xmlns: xmlns\n        });\n    }\n    return res;\n}\nfunction wrap(dom) {\n    if (!dom) {\n        return dom;\n    }\n    if (dom instanceof Element || dom instanceof Fragment) {\n        return dom;\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == "svg") {\n        return new Paper(dom);\n    }\n    if (dom.tagName && dom.tagName.toLowerCase() == "object" && dom.type == "image/svg+xml") {\n        return new Paper(dom.contentDocument.getElementsByTagName("svg")[0]);\n    }\n    return new Element(dom);\n}\n\nSnap._.make = make;\nSnap._.wrap = wrap;\n/*\\\n * Paper.el\n [ method ]\n **\n * Creates an element on paper with a given name and no attributes\n **\n - name (string) tag name\n - attr (object) attributes\n = (Element) the current element\n > Usage\n | var c = paper.circle(10, 10, 10); // is the same as...\n | var c = paper.el("circle").attr({\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n | // and the same as\n | var c = paper.el("circle", {\n |     cx: 10,\n |     cy: 10,\n |     r: 10\n | });\n\\*/\nPaper.prototype.el = function (name, attr) {\n    var el = make(name, this.node);\n    attr && el.attr(attr);\n    return el;\n};\n/*\\\n * Element.children\n [ method ]\n **\n * Returns array of all the children of the element.\n = (array) array of Elements\n\\*/\nElement.prototype.children = function () {\n    var out = [],\n        ch = this.node.childNodes;\n    for (var i = 0, ii = ch.length; i < ii; i++) {\n        out[i] = Snap(ch[i]);\n    }\n    return out;\n};\nfunction jsonFiller(root, o) {\n    for (var i = 0, ii = root.length; i < ii; i++) {\n        var item = {\n                type: root[i].type,\n                attr: root[i].attr()\n            },\n            children = root[i].children();\n        o.push(item);\n        if (children.length) {\n            jsonFiller(children, item.childNodes = []);\n        }\n    }\n}\n/*\\\n * Element.toJSON\n [ method ]\n **\n * Returns object representation of the given element and all its children.\n = (object) in format\n o {\n o     type (string) this.type,\n o     attr (object) attributes map,\n o     childNodes (array) optional array of children in the same format\n o }\n\\*/\nElement.prototype.toJSON = function () {\n    var out = [];\n    jsonFiller([this], out);\n    return out[0];\n};\n// default\neve.on("snap.util.getattr", function () {\n    var att = eve.nt();\n    att = att.substring(att.lastIndexOf(".") + 1);\n    var css = att.replace(/[A-Z]/g, function (letter) {\n        return "-" + letter.toLowerCase();\n    });\n    if (cssAttr[has](css)) {\n        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, null).getPropertyValue(css);\n    } else {\n        return $(this.node, att);\n    }\n});\nvar cssAttr = {\n    "alignment-baseline": 0,\n    "baseline-shift": 0,\n    "clip": 0,\n    "clip-path": 0,\n    "clip-rule": 0,\n    "color": 0,\n    "color-interpolation": 0,\n    "color-interpolation-filters": 0,\n    "color-profile": 0,\n    "color-rendering": 0,\n    "cursor": 0,\n    "direction": 0,\n    "display": 0,\n    "dominant-baseline": 0,\n    "enable-background": 0,\n    "fill": 0,\n    "fill-opacity": 0,\n    "fill-rule": 0,\n    "filter": 0,\n    "flood-color": 0,\n    "flood-opacity": 0,\n    "font": 0,\n    "font-family": 0,\n    "font-size": 0,\n    "font-size-adjust": 0,\n    "font-stretch": 0,\n    "font-style": 0,\n    "font-variant": 0,\n    "font-weight": 0,\n    "glyph-orientation-horizontal": 0,\n    "glyph-orientation-vertical": 0,\n    "image-rendering": 0,\n    "kerning": 0,\n    "letter-spacing": 0,\n    "lighting-color": 0,\n    "marker": 0,\n    "marker-end": 0,\n    "marker-mid": 0,\n    "marker-start": 0,\n    "mask": 0,\n    "opacity": 0,\n    "overflow": 0,\n    "pointer-events": 0,\n    "shape-rendering": 0,\n    "stop-color": 0,\n    "stop-opacity": 0,\n    "stroke": 0,\n    "stroke-dasharray": 0,\n    "stroke-dashoffset": 0,\n    "stroke-linecap": 0,\n    "stroke-linejoin": 0,\n    "stroke-miterlimit": 0,\n    "stroke-opacity": 0,\n    "stroke-width": 0,\n    "text-anchor": 0,\n    "text-decoration": 0,\n    "text-rendering": 0,\n    "unicode-bidi": 0,\n    "visibility": 0,\n    "word-spacing": 0,\n    "writing-mode": 0\n};\n\neve.on("snap.util.attr", function (value) {\n    var att = eve.nt(),\n        attr = {};\n    att = att.substring(att.lastIndexOf(".") + 1);\n    attr[att] = value;\n    var style = att.replace(/-(\\w)/gi, function (all, letter) {\n            return letter.toUpperCase();\n        }),\n        css = att.replace(/[A-Z]/g, function (letter) {\n            return "-" + letter.toLowerCase();\n        });\n    if (cssAttr[has](css)) {\n        this.node.style[style] = value == null ? E : value;\n    } else {\n        $(this.node, attr);\n    }\n});\n(function (proto) {}(Paper.prototype));\n\n// simple ajax\n/*\\\n * Snap.ajax\n [ method ]\n **\n * Simple implementation of Ajax\n **\n - url (string) URL\n - postData (object|string) data for post request\n - callback (function) callback\n - scope (object) #optional scope of callback\n * or\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n = (XMLHttpRequest) the XMLHttpRequest object, just in case\n\\*/\nSnap.ajax = function (url, postData, callback, scope){\n    var req = new XMLHttpRequest,\n        id = ID();\n    if (req) {\n        if (is(postData, "function")) {\n            scope = callback;\n            callback = postData;\n            postData = null;\n        } else if (is(postData, "object")) {\n            var pd = [];\n            for (var key in postData) if (postData.hasOwnProperty(key)) {\n                pd.push(encodeURIComponent(key) + "=" + encodeURIComponent(postData[key]));\n            }\n            postData = pd.join("&");\n        }\n        req.open(postData ? "POST" : "GET", url, true);\n        if (postData) {\n            req.setRequestHeader("X-Requested-With", "XMLHttpRequest");\n            req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");\n        }\n        if (callback) {\n            eve.once("snap.ajax." + id + ".0", callback);\n            eve.once("snap.ajax." + id + ".200", callback);\n            eve.once("snap.ajax." + id + ".304", callback);\n        }\n        req.onreadystatechange = function() {\n            if (req.readyState != 4) return;\n            eve("snap.ajax." + id + "." + req.status, scope, req);\n        };\n        if (req.readyState == 4) {\n            return req;\n        }\n        req.send(postData);\n        return req;\n    }\n};\n/*\\\n * Snap.load\n [ method ]\n **\n * Loads external SVG file as a @Fragment (see @Snap.ajax for more advanced AJAX)\n **\n - url (string) URL\n - callback (function) callback\n - scope (object) #optional scope of callback\n\\*/\nSnap.load = function (url, callback, scope) {\n    Snap.ajax(url, function (req) {\n        var f = Snap.parse(req.responseText);\n        scope ? callback.call(scope, f) : callback(f);\n    });\n};\nvar getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n        doc = elem.ownerDocument,\n        body = doc.body,\n        docElem = doc.documentElement,\n        clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n        top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n        left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n        y: top,\n        x: left\n    };\n};\n/*\\\n * Snap.getElementByPoint\n [ method ]\n **\n * Returns you topmost element under given point.\n **\n = (object) Snap element object\n - x (number) x coordinate from the top left corner of the window\n - y (number) y coordinate from the top left corner of the window\n > Usage\n | Snap.getElementByPoint(mouseX, mouseY).attr({stroke: "#f00"});\n\\*/\nSnap.getElementByPoint = function (x, y) {\n    var paper = this,\n        svg = paper.canvas,\n        target = glob.doc.elementFromPoint(x, y);\n    if (glob.win.opera && target.tagName == "svg") {\n        var so = getOffset(target),\n            sr = target.createSVGRect();\n        sr.x = x - so.x;\n        sr.y = y - so.y;\n        sr.width = sr.height = 1;\n        var hits = target.getIntersectionList(sr, null);\n        if (hits.length) {\n            target = hits[hits.length - 1];\n        }\n    }\n    if (!target) {\n        return null;\n    }\n    return wrap(target);\n};\n/*\\\n * Snap.plugin\n [ method ]\n **\n * Let you write plugins. You pass in a function with five arguments, like this:\n | Snap.plugin(function (Snap, Element, Paper, global, Fragment) {\n |     Snap.newmethod = function () {};\n |     Element.prototype.newmethod = function () {};\n |     Paper.prototype.newmethod = function () {};\n | });\n * Inside the function you have access to all main objects (and their\n * prototypes). This allow you to extend anything you want.\n **\n - f (function) your plugin body\n\\*/\nSnap.plugin = function (f) {\n    f(Snap, Element, Paper, glob, Fragment);\n};\nglob.win.Snap = Snap;\nreturn Snap;\n}(window || this));\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        unit2px = Snap._unit2px,\n        $ = Snap._.$,\n        make = Snap._.make,\n        getSomeDefs = Snap._.getSomeDefs,\n        has = "hasOwnProperty",\n        wrap = Snap._.wrap;\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Returns the bounding box descriptor for the given element\n     **\n     = (object) bounding box descriptor:\n     o {\n     o     cx: (number) x of the center,\n     o     cy: (number) x of the center,\n     o     h: (number) height,\n     o     height: (number) height,\n     o     path: (string) path command for the box,\n     o     r0: (number) radius of a circle that fully encloses the box,\n     o     r1: (number) radius of the smallest circle that can be enclosed,\n     o     r2: (number) radius of the largest circle that can be enclosed,\n     o     vb: (string) box as a viewbox command,\n     o     w: (number) width,\n     o     width: (number) width,\n     o     x2: (number) x of the right side,\n     o     x: (number) x of the left side,\n     o     y2: (number) y of the bottom edge,\n     o     y: (number) y of the top edge\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (this.type == "tspan") {\n            return Snap._.box(this.node.getClientRects().item(0));\n        }\n        if (!Snap.Matrix || !Snap.path) {\n            return this.node.getBBox();\n        }\n        var el = this,\n            m = new Snap.Matrix;\n        if (el.removed) {\n            return Snap._.box();\n        }\n        while (el.type == "use") {\n            if (!isWithoutTransform) {\n                m = m.add(el.transform().localMatrix.translate(el.attr("x") || 0, el.attr("y") || 0));\n            }\n            if (el.original) {\n                el = el.original;\n            } else {\n                var href = el.attr("xlink:href");\n                el = el.original = el.node.ownerDocument.getElementById(href.substring(href.indexOf("#") + 1));\n            }\n        }\n        var _ = el._,\n            pathfinder = Snap.path.get[el.type] || Snap.path.get.deflt;\n        try {\n            if (isWithoutTransform) {\n                _.bboxwt = pathfinder ? Snap.path.getBBox(el.realPath = pathfinder(el)) : Snap._.box(el.node.getBBox());\n                return Snap._.box(_.bboxwt);\n            } else {\n                el.realPath = pathfinder(el);\n                el.matrix = el.transform().localMatrix;\n                _.bbox = Snap.path.getBBox(Snap.path.map(el.realPath, m.add(el.matrix)));\n                return Snap._.box(_.bbox);\n            }\n        } catch (e) {\n            // Firefox doesnt give you bbox of hidden element\n            return Snap._.box();\n        }\n    };\n    var propString = function () {\n        return this.string;\n    };\n    function extractTransform(el, tstr) {\n        if (tstr == null) {\n            var doReturn = true;\n            if (el.type == "linearGradient" || el.type == "radialGradient") {\n                tstr = el.node.getAttribute("gradientTransform");\n            } else if (el.type == "pattern") {\n                tstr = el.node.getAttribute("patternTransform");\n            } else {\n                tstr = el.node.getAttribute("transform");\n            }\n            if (!tstr) {\n                return new Snap.Matrix;\n            }\n            tstr = Snap._.svgTransform2string(tstr);\n        } else {\n            if (!Snap._.rgTransform.test(tstr)) {\n                tstr = Snap._.svgTransform2string(tstr);\n            } else {\n                tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || "");\n            }\n            if (is(tstr, "array")) {\n                tstr = Snap.path ? Snap.path.toString.call(tstr) : Str(tstr);\n            }\n            el._.transform = tstr;\n        }\n        var m = Snap._.transform2matrix(tstr, el.getBBox(1));\n        if (doReturn) {\n            return m;\n        } else {\n            el.matrix = m;\n        }\n    }\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Gets or sets transformation of the element\n     **\n     - tstr (string) transform string in Snap or SVG format\n     = (Element) the current element\n     * or\n     = (object) transformation descriptor:\n     o {\n     o     string (string) transform string,\n     o     globalMatrix (Matrix) matrix of all transformations applied to element or its parents,\n     o     localMatrix (Matrix) matrix of transformations applied only to the element,\n     o     diffMatrix (Matrix) matrix of difference between global and local transformations,\n     o     global (string) global transformation as string,\n     o     local (string) local transformation as string,\n     o     toString (function) returns `string` property\n     o }\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            var papa = this,\n                global = new Snap.Matrix(this.node.getCTM()),\n                local = extractTransform(this),\n                ms = [local],\n                m = new Snap.Matrix,\n                i,\n                localString = local.toTransformString(),\n                string = Str(local) == Str(this.matrix) ?\n                            Str(_.transform) : localString;\n            while (papa.type != "svg" && (papa = papa.parent())) {\n                ms.push(extractTransform(papa));\n            }\n            i = ms.length;\n            while (i--) {\n                m.add(ms[i]);\n            }\n            return {\n                string: string,\n                globalMatrix: global,\n                totalMatrix: m,\n                localMatrix: local,\n                diffMatrix: global.clone().add(local.invert()),\n                global: global.toTransformString(),\n                total: m.toTransformString(),\n                local: localString,\n                toString: propString\n            };\n        }\n        if (tstr instanceof Snap.Matrix) {\n            this.matrix = tstr;\n            this._.transform = tstr.toTransformString();\n        } else {\n            extractTransform(this, tstr);\n        }\n\n        if (this.node) {\n            if (this.type == "linearGradient" || this.type == "radialGradient") {\n                $(this.node, {gradientTransform: this.matrix});\n            } else if (this.type == "pattern") {\n                $(this.node, {patternTransform: this.matrix});\n            } else {\n                $(this.node, {transform: this.matrix});\n            }\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.parent\n     [ method ]\n     **\n     * Returns the element\'s parent\n     **\n     = (Element) the parent element\n    \\*/\n    elproto.parent = function () {\n        return wrap(this.node.parentNode);\n    };\n    /*\\\n     * Element.append\n     [ method ]\n     **\n     * Appends the given element to current one\n     **\n     - el (Element|Set) element to append\n     = (Element) the parent element\n    \\*/\n    /*\\\n     * Element.add\n     [ method ]\n     **\n     * See @Element.append\n    \\*/\n    elproto.append = elproto.add = function (el) {\n        if (el) {\n            if (el.type == "set") {\n                var it = this;\n                el.forEach(function (el) {\n                    it.add(el);\n                });\n                return this;\n            }\n            el = wrap(el);\n            this.node.appendChild(el.node);\n            el.paper = this.paper;\n        }\n        return this;\n    };\n    /*\\\n     * Element.appendTo\n     [ method ]\n     **\n     * Appends the current element to the given one\n     **\n     - el (Element) parent element to append to\n     = (Element) the child element\n    \\*/\n    elproto.appendTo = function (el) {\n        if (el) {\n            el = wrap(el);\n            el.append(this);\n        }\n        return this;\n    };\n    /*\\\n     * Element.prepend\n     [ method ]\n     **\n     * Prepends the given element to the current one\n     **\n     - el (Element) element to prepend\n     = (Element) the parent element\n    \\*/\n    elproto.prepend = function (el) {\n        if (el) {\n            if (el.type == "set") {\n                var it = this,\n                    first;\n                el.forEach(function (el) {\n                    if (first) {\n                        first.after(el);\n                    } else {\n                        it.prepend(el);\n                    }\n                    first = el;\n                });\n                return this;\n            }\n            el = wrap(el);\n            var parent = el.parent();\n            this.node.insertBefore(el.node, this.node.firstChild);\n            this.add && this.add();\n            el.paper = this.paper;\n            this.parent() && this.parent().add();\n            parent && parent.add();\n        }\n        return this;\n    };\n    /*\\\n     * Element.prependTo\n     [ method ]\n     **\n     * Prepends the current element to the given one\n     **\n     - el (Element) parent element to prepend to\n     = (Element) the child element\n    \\*/\n    elproto.prependTo = function (el) {\n        el = wrap(el);\n        el.prepend(this);\n        return this;\n    };\n    /*\\\n     * Element.before\n     [ method ]\n     **\n     * Inserts given element before the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.before = function (el) {\n        if (el.type == "set") {\n            var it = this;\n            el.forEach(function (el) {\n                var parent = el.parent();\n                it.node.parentNode.insertBefore(el.node, it.node);\n                parent && parent.add();\n            });\n            this.parent().add();\n            return this;\n        }\n        el = wrap(el);\n        var parent = el.parent();\n        this.node.parentNode.insertBefore(el.node, this.node);\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.after\n     [ method ]\n     **\n     * Inserts given element after the current one\n     **\n     - el (Element) element to insert\n     = (Element) the parent element\n    \\*/\n    elproto.after = function (el) {\n        el = wrap(el);\n        var parent = el.parent();\n        if (this.node.nextSibling) {\n            this.node.parentNode.insertBefore(el.node, this.node.nextSibling);\n        } else {\n            this.node.parentNode.appendChild(el.node);\n        }\n        this.parent() && this.parent().add();\n        parent && parent.add();\n        el.paper = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertBefore = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts the element after the given one\n     **\n     - el (Element) element next to whom insert to\n     = (Element) the parent element\n    \\*/\n    elproto.insertAfter = function (el) {\n        el = wrap(el);\n        var parent = this.parent();\n        el.node.parentNode.insertBefore(this.node, el.node.nextSibling);\n        this.paper = el.paper;\n        parent && parent.add();\n        el.parent() && el.parent().add();\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the DOM\n     = (Element) the detached element\n    \\*/\n    elproto.remove = function () {\n        var parent = this.parent();\n        this.node.parentNode && this.node.parentNode.removeChild(this.node);\n        delete this.paper;\n        this.removed = true;\n        parent && parent.add();\n        return this;\n    };\n    /*\\\n     * Element.select\n     [ method ]\n     **\n     * Gathers the nested @Element matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Element) result of query selection\n    \\*/\n    elproto.select = function (query) {\n        return wrap(this.node.querySelector(query));\n    };\n    /*\\\n     * Element.selectAll\n     [ method ]\n     **\n     * Gathers nested @Element objects matching the given set of CSS selectors\n     **\n     - query (string) CSS selector\n     = (Set|array) result of query selection\n    \\*/\n    elproto.selectAll = function (query) {\n        var nodelist = this.node.querySelectorAll(query),\n            set = (Snap.set || Array)();\n        for (var i = 0; i < nodelist.length; i++) {\n            set.push(wrap(nodelist[i]));\n        }\n        return set;\n    };\n    /*\\\n     * Element.asPX\n     [ method ]\n     **\n     * Returns given attribute of the element as a `px` value (not %, em, etc.)\n     **\n     - attr (string) attribute name\n     - value (string) #optional attribute value\n     = (Element) result of query selection\n    \\*/\n    elproto.asPX = function (attr, value) {\n        if (value == null) {\n            value = this.attr(attr);\n        }\n        return +unit2px(this, attr, value);\n    };\n    // SIERRA Element.use(): I suggest adding a note about how to access the original element the returned <use> instantiates. It\'s a part of SVG with which ordinary web developers may be least familiar.\n    /*\\\n     * Element.use\n     [ method ]\n     **\n     * Creates a `<use>` element linked to the current element\n     **\n     = (Element) the `<use>` element\n    \\*/\n    elproto.use = function () {\n        var use,\n            id = this.node.id;\n        if (!id) {\n            id = this.id;\n            $(this.node, {\n                id: id\n            });\n        }\n        if (this.type == "linearGradient" || this.type == "radialGradient" ||\n            this.type == "pattern") {\n            use = make(this.type, this.node.parentNode);\n        } else {\n            use = make("use", this.node.parentNode);\n        }\n        $(use.node, {\n            "xlink:href": "#" + id\n        });\n        use.original = this;\n        return use;\n    };\n    function fixids(el) {\n        var els = el.selectAll("*"),\n            it,\n            url = /^\\s*url\\(("|\'|)(.*)\\1\\)\\s*$/,\n            ids = [],\n            uses = {};\n        function urltest(it, name) {\n            var val = $(it.node, name);\n            val = val && val.match(url);\n            val = val && val[2];\n            if (val && val.charAt() == "#") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    var attr = {};\n                    attr[name] = Snap.url(id);\n                    $(it.node, attr);\n                });\n            }\n        }\n        function linktest(it) {\n            var val = $(it.node, "xlink:href");\n            if (val && val.charAt() == "#") {\n                val = val.substring(1);\n            } else {\n                return;\n            }\n            if (val) {\n                uses[val] = (uses[val] || []).concat(function (id) {\n                    it.attr("xlink:href", "#" + id);\n                });\n            }\n        }\n        for (var i = 0, ii = els.length; i < ii; i++) {\n            it = els[i];\n            urltest(it, "fill");\n            urltest(it, "stroke");\n            urltest(it, "filter");\n            urltest(it, "mask");\n            urltest(it, "clip-path");\n            linktest(it);\n            var oldid = $(it.node, "id");\n            if (oldid) {\n                $(it.node, {id: it.id});\n                ids.push({\n                    old: oldid,\n                    id: it.id\n                });\n            }\n        }\n        for (i = 0, ii = ids.length; i < ii; i++) {\n            var fs = uses[ids[i].old];\n            if (fs) {\n                for (var j = 0, jj = fs.length; j < jj; j++) {\n                    fs[j](ids[i].id);\n                }\n            }\n        }\n    }\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     * Creates a clone of the element and inserts it after the element\n     **\n     = (Element) the clone\n    \\*/\n    elproto.clone = function () {\n        var clone = wrap(this.node.cloneNode(true));\n        if ($(clone.node, "id")) {\n            $(clone.node, {id: clone.id});\n        }\n        fixids(clone);\n        clone.insertAfter(this);\n        return clone;\n    };\n    /*\\\n     * Element.toDefs\n     [ method ]\n     **\n     * Moves element to the shared `<defs>` area\n     **\n     = (Element) the element\n    \\*/\n    elproto.toDefs = function () {\n        var defs = getSomeDefs(this);\n        defs.appendChild(this.node);\n        return this;\n    };\n    /*\\\n     * Element.toPattern\n     [ method ]\n     **\n     * Creates a `<pattern>` element from the current element\n     **\n     * To create a pattern you have to specify the pattern rect:\n     - x (string|number)\n     - y (string|number)\n     - width (string|number)\n     - height (string|number)\n     = (Element) the `<pattern>` element\n     * You can use pattern later on as an argument for `fill` attribute:\n     | var p = paper.path("M10-5-10,15M15,0,0,15M0-5-20,15").attr({\n     |         fill: "none",\n     |         stroke: "#bada55",\n     |         strokeWidth: 5\n     |     }).pattern(0, 0, 10, 10),\n     |     c = paper.circle(200, 200, 100);\n     | c.attr({\n     |     fill: p\n     | });\n    \\*/\n    elproto.pattern = elproto.toPattern = function (x, y, width, height) {\n        var p = make("pattern", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, "object") && "x" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        $(p.node, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            patternUnits: "userSpaceOnUse",\n            id: p.id,\n            viewBox: [x, y, width, height].join(" ")\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n// SIERRA Element.marker(): clarify what a reference point is. E.g., helps you offset the object from its edge such as when centering it over a path.\n// SIERRA Element.marker(): I suggest the method should accept default reference point values.  Perhaps centered with (refX = width/2) and (refY = height/2)? Also, couldn\'t it assume the element\'s current _width_ and _height_? And please specify what _x_ and _y_ mean: offsets? If so, from where?  Couldn\'t they also be assigned default values?\n    /*\\\n     * Element.marker\n     [ method ]\n     **\n     * Creates a `<marker>` element from the current element\n     **\n     * To create a marker you have to specify the bounding rect and reference point:\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - refX (number)\n     - refY (number)\n     = (Element) the `<marker>` element\n     * You can specify the marker later as an argument for `marker-start`, `marker-end`, `marker-mid`, and `marker` attributes. The `marker` attribute places the marker at every point along the path, and `marker-mid` places them at every point except the start and end.\n    \\*/\n    // TODO add usage for markers\n    elproto.marker = function (x, y, width, height, refX, refY) {\n        var p = make("marker", getSomeDefs(this));\n        if (x == null) {\n            x = this.getBBox();\n        }\n        if (is(x, "object") && "x" in x) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            refX = x.refX || x.cx;\n            refY = x.refY || x.cy;\n            x = x.x;\n        }\n        $(p.node, {\n            viewBox: [x, y, width, height].join(" "),\n            markerWidth: width,\n            markerHeight: height,\n            orient: "auto",\n            refX: refX || 0,\n            refY: refY || 0,\n            id: p.id\n        });\n        p.node.appendChild(this.node);\n        return p;\n    };\n    var eldata = {};\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key. (Dont confuse\n     * with `data-` attributes)\n     *\n     * See also @Element.removeData\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: "#000"})\n     |          .data("i", i)\n     |          .click(function () {\n     |             alert(this.data("i"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0){\n            eve("snap.data.get." + this.id, this, data, null);\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (Snap.is(key, "object")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve("snap.data.get." + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve("snap.data.set." + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            eldata[this.id] = {};\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n    /*\\\n     * Element.outerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element, equivalent to HTML\'s `outerHTML`.\n     *\n     * See also @Element.innerSVG\n     = (string) SVG code for the element\n    \\*/\n    /*\\\n     * Element.toString\n     [ method ]\n     **\n     * See @Element.outerSVG\n    \\*/\n    elproto.outerSVG = elproto.toString = toString(1);\n    /*\\\n     * Element.innerSVG\n     [ method ]\n     **\n     * Returns SVG code for the element\'s contents, equivalent to HTML\'s `innerHTML`\n     = (string) SVG code for the element\n    \\*/\n    elproto.innerSVG = toString();\n    function toString(type) {\n        return function () {\n            var res = type ? "<" + this.type : "",\n                attr = this.node.attributes,\n                chld = this.node.childNodes;\n            if (type) {\n                for (var i = 0, ii = attr.length; i < ii; i++) {\n                    res += " " + attr[i].name + \'="\' +\n                            attr[i].value.replace(/"/g, \'\\\\"\') + \'"\';\n                }\n            }\n            if (chld.length) {\n                type && (res += ">");\n                for (i = 0, ii = chld.length; i < ii; i++) {\n                    if (chld[i].nodeType == 3) {\n                        res += chld[i].nodeValue;\n                    } else if (chld[i].nodeType == 1) {\n                        res += wrap(chld[i]).toString();\n                    }\n                }\n                type && (res += "</" + this.type + ">");\n            } else {\n                type && (res += "/>");\n            }\n            return res;\n        };\n    }\n    elproto.toDataURL = function () {\n        if (window && window.btoa) {\n            var bb = this.getBBox(),\n                svg = Snap.format(\'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>\', {\n                x: +bb.x.toFixed(3),\n                y: +bb.y.toFixed(3),\n                width: +bb.width.toFixed(3),\n                height: +bb.height.toFixed(3),\n                contents: this.outerSVG()\n            });\n            return "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(svg)));\n        }\n    };\n    /*\\\n     * Fragment.select\n     [ method ]\n     **\n     * See @Element.select\n    \\*/\n    Fragment.prototype.select = elproto.select;\n    /*\\\n     * Fragment.selectAll\n     [ method ]\n     **\n     * See @Element.selectAll\n    \\*/\n    Fragment.prototype.selectAll = elproto.selectAll;\n});\n\n// Copyright (c) 2016 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        Str = String,\n        has = "hasOwnProperty";\n    function slice(from, to, f) {\n        return function (arr) {\n            var res = arr.slice(from, to);\n            if (res.length == 1) {\n                res = res[0];\n            }\n            return f ? f(res) : res;\n        };\n    }\n    var Animation = function (attr, ms, easing, callback) {\n        if (typeof easing == "function" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        this.attr = attr;\n        this.dur = ms;\n        easing && (this.easing = easing);\n        callback && (this.callback = callback);\n    };\n    Snap._.Animation = Animation;\n    /*\\\n     * Snap.animation\n     [ method ]\n     **\n     * Creates an animation object\n     **\n     - attr (object) attributes of final destination\n     - duration (number) duration of the animation, in milliseconds\n     - easing (function) #optional one of easing functions of @mina or custom one\n     - callback (function) #optional callback function that fires when animation ends\n     = (object) animation object\n    \\*/\n    Snap.animation = function (attr, ms, easing, callback) {\n        return new Animation(attr, ms, easing, callback);\n    };\n    /*\\\n     * Element.inAnim\n     [ method ]\n     **\n     * Returns a set of animations that may be able to manipulate the current element\n     **\n     = (object) in format:\n     o {\n     o     anim (object) animation object,\n     o     mina (object) @mina object,\n     o     curStatus (number) 0..1  status of the animation: 0  just started, 1  just finished,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n    \\*/\n    elproto.inAnim = function () {\n        var el = this,\n            res = [];\n        for (var id in el.anims) if (el.anims[has](id)) {\n            (function (a) {\n                res.push({\n                    anim: new Animation(a._attrs, a.dur, a.easing, a._callback),\n                    mina: a,\n                    curStatus: a.status(),\n                    status: function (val) {\n                        return a.status(val);\n                    },\n                    stop: function () {\n                        a.stop();\n                    }\n                });\n            }(el.anims[id]));\n        }\n        return res;\n    };\n    /*\\\n     * Snap.animate\n     [ method ]\n     **\n     * Runs generic animation of one number into another with a caring function\n     **\n     - from (number|array) number or array of numbers\n     - to (number|array) number or array of numbers\n     - setter (function) caring function that accepts one number argument\n     - duration (number) duration, in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function to execute when animation ends\n     = (object) animation object in @mina format\n     o {\n     o     id (string) animation id, consider it read-only,\n     o     duration (function) gets or sets the duration of the animation,\n     o     easing (function) easing,\n     o     speed (function) gets or sets the speed of the animation,\n     o     status (function) gets or sets the status of the animation,\n     o     stop (function) stops the animation\n     o }\n     | var rect = Snap().rect(0, 0, 10, 10);\n     | Snap.animate(0, 10, function (val) {\n     |     rect.attr({\n     |         x: val\n     |     });\n     | }, 1000);\n     | // in given context is equivalent to\n     | rect.animate({x: 10}, 1000);\n    \\*/\n    Snap.animate = function (from, to, setter, ms, easing, callback) {\n        if (typeof easing == "function" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        var now = mina.time(),\n            anim = mina(from, to, now, now + ms, mina.time, setter, easing);\n        callback && eve.once("mina.finish." + anim.id, callback);\n        return anim;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops all the animations for the current element\n     **\n     = (Element) the current element\n    \\*/\n    elproto.stop = function () {\n        var anims = this.inAnim();\n        for (var i = 0, ii = anims.length; i < ii; i++) {\n            anims[i].stop();\n        }\n        return this;\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Animates the given attributes of the element\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     = (Element) the current element\n    \\*/\n    elproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == "function" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = attrs.dur;\n            attrs = attrs.attr;\n        }\n        var fkeys = [], tkeys = [], keys = {}, from, to, f, eq,\n            el = this;\n        for (var key in attrs) if (attrs[has](key)) {\n            if (el.equal) {\n                eq = el.equal(key, Str(attrs[key]));\n                from = eq.from;\n                to = eq.to;\n                f = eq.f;\n            } else {\n                from = +el.attr(key);\n                to = +attrs[key];\n            }\n            var len = is(from, "array") ? from.length : 1;\n            keys[key] = slice(fkeys.length, fkeys.length + len, f);\n            fkeys = fkeys.concat(from);\n            tkeys = tkeys.concat(to);\n        }\n        var now = mina.time(),\n            anim = mina(fkeys, tkeys, now, now + ms, mina.time, function (val) {\n                var attr = {};\n                for (var key in keys) if (keys[has](key)) {\n                    attr[key] = keys[key](val);\n                }\n                el.attr(attr);\n            }, easing);\n        el.anims[anim.id] = anim;\n        anim._attrs = attrs;\n        anim._callback = callback;\n        eve("snap.animcreated." + el.id, anim);\n        eve.once("mina.finish." + anim.id, function () {\n            eve.off("mina.*." + anim.id);\n            delete el.anims[anim.id];\n            callback && callback.call(el);\n        });\n        eve.once("mina.stop." + anim.id, function () {\n            eve.off("mina.*." + anim.id);\n            delete el.anims[anim.id];\n        });\n        return el;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var objectToString = Object.prototype.toString,\n        Str = String,\n        math = Math,\n        E = "";\n    function Matrix(a, b, c, d, e, f) {\n        if (b == null && objectToString.call(a) == "[object SVGMatrix]") {\n            this.a = a.a;\n            this.b = a.b;\n            this.c = a.c;\n            this.d = a.d;\n            this.e = a.e;\n            this.f = a.f;\n            return;\n        }\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds the given matrix to existing one\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.add(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + b * this.c,\n                bNew = a * this.b + b * this.d;\n            this.e += e * this.a + f * this.c;\n            this.f += e * this.b + f * this.d;\n            this.c = c * this.a + d * this.c;\n            this.d = c * this.b + d * this.d;\n\n            this.a = aNew;\n            this.b = bNew;\n            return this;\n        };\n        /*\\\n         * Matrix.multLeft\n         [ method ]\n         **\n         * Multiplies a passed affine transform to the left: M * this.\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         * or\n         - matrix (object) @Matrix\n        \\*/\n        Matrix.prototype.multLeft = function (a, b, c, d, e, f) {\n            if (a && a instanceof Matrix) {\n                return this.multLeft(a.a, a.b, a.c, a.d, a.e, a.f);\n            }\n            var aNew = a * this.a + c * this.b,\n                cNew = a * this.c + c * this.d,\n                eNew = a * this.e + c * this.f + e;\n            this.b = b * this.a + d * this.b;\n            this.d = b * this.c + d * this.d;\n            this.f = b * this.e + d * this.f + f;\n\n            this.a = aNew;\n            this.c = cNew;\n            this.e = eNew;\n            return this;\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns an inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns a copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         - x (number) horizontal offset distance\n         - y (number) vertical offset distance\n        \\*/\n        matrixproto.translate = function (x, y) {\n            this.e += x * this.a + y * this.c;\n            this.f += x * this.b + y * this.d;\n            return this;\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         - x (number) amount to be scaled, with `1` resulting in no change\n         - y (number) #optional amount to scale along the vertical axis. (Otherwise `x` applies to both axes.)\n         - cx (number) #optional horizontal origin point from which to scale\n         - cy (number) #optional vertical origin point from which to scale\n         * Default cx, cy is the middle point of the element.\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.translate(cx, cy);\n            this.a *= x;\n            this.b *= x;\n            this.c *= y;\n            this.d *= y;\n            (cx || cy) && this.translate(-cx, -cy);\n            return this;\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         - a (number) angle of rotation, in degrees\n         - x (number) horizontal origin point from which to rotate\n         - y (number) vertical origin point from which to rotate\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = Snap.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            return this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.skewX\n         [ method ]\n         **\n         * Skews the matrix along the x-axis\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skewX = function (x) {\n            return this.skew(x, 0);\n        };\n        /*\\\n         * Matrix.skewY\n         [ method ]\n         **\n         * Skews the matrix along the y-axis\n         - y (number) Angle to skew along the y-axis (in degrees).\n        \\*/\n        matrixproto.skewY = function (y) {\n            return this.skew(0, y);\n        };\n        /*\\\n         * Matrix.skew\n         [ method ]\n         **\n         * Skews the matrix\n         - y (number) Angle to skew along the y-axis (in degrees).\n         - x (number) Angle to skew along the x-axis (in degrees).\n        \\*/\n        matrixproto.skew = function (x, y) {\n            x = x || 0;\n            y = y || 0;\n            x = Snap.rad(x);\n            y = Snap.rad(y);\n            var c = math.tan(x).toFixed(9);\n            var b = math.tan(y).toFixed(9);\n            return this.add(1, b, c, 1, 0, 0);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Returns x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Returns y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.determinant\n         [ method ]\n         **\n         * Finds determinant of the given matrix.\n         = (number) determinant\n        \\*/\n        matrixproto.determinant = function () {\n            return this.a * this.d - this.b * this.c;\n        };\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.b], [this.c, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            if (this.determinant() < 0) {\n                out.scalex = -out.scalex;\n            }\n\n            // rotation\n            var sin = row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = Snap.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = Snap.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Returns transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this.split();\n            if (!+s.shear.toFixed(9)) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? "t" + [+s.dx.toFixed(4), +s.dy.toFixed(4)] : E) +\n                        (s.rotate ? "r" + [+s.rotate.toFixed(4), 0, 0] : E) +\n                        (s.scalex != 1 || s.scaley != 1 ? "s" + [s.scalex, s.scaley, 0, 0] : E);\n            } else {\n                return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n    /*\\\n     * Snap.Matrix\n     [ method ]\n     **\n     * Matrix constructor, extend on your own risk.\n     * To create matrices use @Snap.matrix.\n    \\*/\n    Snap.Matrix = Matrix;\n    /*\\\n     * Snap.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns a matrix based on the given parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     * or\n     - svgMatrix (SVGMatrix)\n     = (object) @Matrix\n    \\*/\n    Snap.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var has = "hasOwnProperty",\n        make = Snap._.make,\n        wrap = Snap._.wrap,\n        is = Snap.is,\n        getSomeDefs = Snap._.getSomeDefs,\n        reURLValue = /^url\\(([\'"]?)([^)]+)\\1\\)$/,\n        $ = Snap._.$,\n        URL = Snap.url,\n        Str = String,\n        separator = Snap._.separator,\n        E = "";\n    /*\\\n     * Snap.deurl\n     [ method ]\n     **\n     * Unwraps path from `"url(<path>)"`.\n     - value (string) url path\n     = (string) unwrapped path\n    \\*/\n    Snap.deurl = function (value) {\n        var res = String(value).match(reURLValue);\n        return res ? res[2] : value;\n    }\n    // Attributes event handlers\n    eve.on("snap.util.attr.mask", function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value.type == "mask") {\n                var mask = value;\n            } else {\n                mask = make("mask", getSomeDefs(this));\n                mask.node.appendChild(value.node);\n            }\n            !mask.node.id && $(mask.node, {\n                id: mask.id\n            });\n            $(this.node, {\n                mask: URL(mask.id)\n            });\n        }\n    });\n    (function (clipIt) {\n        eve.on("snap.util.attr.clip", clipIt);\n        eve.on("snap.util.attr.clip-path", clipIt);\n        eve.on("snap.util.attr.clipPath", clipIt);\n    }(function (value) {\n        if (value instanceof Element || value instanceof Fragment) {\n            eve.stop();\n            var clip,\n                node = value.node;\n            while (node) {\n                if (node.nodeName === "clipPath") {\n                    clip = new Element(node);\n                    break;\n                }\n                if (node.nodeName === "svg") {\n                    clip = undefined;\n                    break;\n                }\n                node = node.parentNode;\n            }\n            if (!clip) {\n                clip = make("clipPath", getSomeDefs(this));\n                clip.node.appendChild(value.node);\n                !clip.node.id && $(clip.node, {\n                    id: clip.id\n                });\n            }\n            $(this.node, {\n                "clip-path": URL(clip.node.id || clip.id)\n            });\n        }\n    }));\n    function fillStroke(name) {\n        return function (value) {\n            eve.stop();\n            if (value instanceof Fragment && value.node.childNodes.length == 1 &&\n                (value.node.firstChild.tagName == "radialGradient" ||\n                value.node.firstChild.tagName == "linearGradient" ||\n                value.node.firstChild.tagName == "pattern")) {\n                value = value.node.firstChild;\n                getSomeDefs(this).appendChild(value);\n                value = wrap(value);\n            }\n            if (value instanceof Element) {\n                if (value.type == "radialGradient" || value.type == "linearGradient"\n                   || value.type == "pattern") {\n                    if (!value.node.id) {\n                        $(value.node, {\n                            id: value.id\n                        });\n                    }\n                    var fill = URL(value.node.id);\n                } else {\n                    fill = value.attr(name);\n                }\n            } else {\n                fill = Snap.color(value);\n                if (fill.error) {\n                    var grad = Snap(getSomeDefs(this).ownerSVGElement).gradient(value);\n                    if (grad) {\n                        if (!grad.node.id) {\n                            $(grad.node, {\n                                id: grad.id\n                            });\n                        }\n                        fill = URL(grad.node.id);\n                    } else {\n                        fill = value;\n                    }\n                } else {\n                    fill = Str(fill);\n                }\n            }\n            var attrs = {};\n            attrs[name] = fill;\n            $(this.node, attrs);\n            this.node.style[name] = E;\n        };\n    }\n    eve.on("snap.util.attr.fill", fillStroke("fill"));\n    eve.on("snap.util.attr.stroke", fillStroke("stroke"));\n    var gradrg = /^([lr])(?:\\(([^)]*)\\))?(.*)$/i;\n    eve.on("snap.util.grad.parse", function parseGrad(string) {\n        string = Str(string);\n        var tokens = string.match(gradrg);\n        if (!tokens) {\n            return null;\n        }\n        var type = tokens[1],\n            params = tokens[2],\n            stops = tokens[3];\n        params = params.split(/\\s*,\\s*/).map(function (el) {\n            return +el == el ? +el : el;\n        });\n        if (params.length == 1 && params[0] == 0) {\n            params = [];\n        }\n        stops = stops.split("-");\n        stops = stops.map(function (el) {\n            el = el.split(":");\n            var out = {\n                color: el[0]\n            };\n            if (el[1]) {\n                out.offset = parseFloat(el[1]);\n            }\n            return out;\n        });\n        var len = stops.length,\n            start = 0,\n            j = 0;\n        function seed(i, end) {\n            var step = (end - start) / (i - j);\n            for (var k = j; k < i; k++) {\n                stops[k].offset = +(+start + step * (k - j)).toFixed(2);\n            }\n            j = i;\n            start = end;\n        }\n        len--;\n        for (var i = 0; i < len; i++) if ("offset" in stops[i]) {\n            seed(i, stops[i].offset);\n        }\n        stops[len].offset = stops[len].offset || 100;\n        seed(len, stops[len].offset);\n        return {\n            type: type,\n            params: params,\n            stops: stops\n        };\n    });\n\n    eve.on("snap.util.attr.d", function (value) {\n        eve.stop();\n        if (is(value, "array") && is(value[0], "array")) {\n            value = Snap.path.toString.call(value);\n        }\n        value = Str(value);\n        if (value.match(/[ruo]/i)) {\n            value = Snap.path.toAbsolute(value);\n        }\n        $(this.node, {d: value});\n    })(-1);\n    eve.on("snap.util.attr.#text", function (value) {\n        eve.stop();\n        value = Str(value);\n        var txt = glob.doc.createTextNode(value);\n        while (this.node.firstChild) {\n            this.node.removeChild(this.node.firstChild);\n        }\n        this.node.appendChild(txt);\n    })(-1);\n    eve.on("snap.util.attr.path", function (value) {\n        eve.stop();\n        this.attr({d: value});\n    })(-1);\n    eve.on("snap.util.attr.class", function (value) {\n        eve.stop();\n        this.node.className.baseVal = value;\n    })(-1);\n    eve.on("snap.util.attr.viewBox", function (value) {\n        var vb;\n        if (is(value, "object") && "x" in value) {\n            vb = [value.x, value.y, value.width, value.height].join(" ");\n        } else if (is(value, "array")) {\n            vb = value.join(" ");\n        } else {\n            vb = value;\n        }\n        $(this.node, {\n            viewBox: vb\n        });\n        eve.stop();\n    })(-1);\n    eve.on("snap.util.attr.transform", function (value) {\n        this.transform(value);\n        eve.stop();\n    })(-1);\n    eve.on("snap.util.attr.r", function (value) {\n        if (this.type == "rect") {\n            eve.stop();\n            $(this.node, {\n                rx: value,\n                ry: value\n            });\n        }\n    })(-1);\n    eve.on("snap.util.attr.textpath", function (value) {\n        eve.stop();\n        if (this.type == "text") {\n            var id, tp, node;\n            if (!value && this.textPath) {\n                tp = this.textPath;\n                while (tp.node.firstChild) {\n                    this.node.appendChild(tp.node.firstChild);\n                }\n                tp.remove();\n                delete this.textPath;\n                return;\n            }\n            if (is(value, "string")) {\n                var defs = getSomeDefs(this),\n                    path = wrap(defs.parentNode).path(value);\n                defs.appendChild(path.node);\n                id = path.id;\n                path.attr({id: id});\n            } else {\n                value = wrap(value);\n                if (value instanceof Element) {\n                    id = value.attr("id");\n                    if (!id) {\n                        id = value.id;\n                        value.attr({id: id});\n                    }\n                }\n            }\n            if (id) {\n                tp = this.textPath;\n                node = this.node;\n                if (tp) {\n                    tp.attr({"xlink:href": "#" + id});\n                } else {\n                    tp = $("textPath", {\n                        "xlink:href": "#" + id\n                    });\n                    while (node.firstChild) {\n                        tp.appendChild(node.firstChild);\n                    }\n                    node.appendChild(tp);\n                    this.textPath = wrap(tp);\n                }\n            }\n        }\n    })(-1);\n    eve.on("snap.util.attr.text", function (value) {\n        if (this.type == "text") {\n            var i = 0,\n                node = this.node,\n                tuner = function (chunk) {\n                    var out = $("tspan");\n                    if (is(chunk, "array")) {\n                        for (var i = 0; i < chunk.length; i++) {\n                            out.appendChild(tuner(chunk[i]));\n                        }\n                    } else {\n                        out.appendChild(glob.doc.createTextNode(chunk));\n                    }\n                    out.normalize && out.normalize();\n                    return out;\n                };\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var tuned = tuner(value);\n            while (tuned.firstChild) {\n                node.appendChild(tuned.firstChild);\n            }\n        }\n        eve.stop();\n    })(-1);\n    function setFontSize(value) {\n        eve.stop();\n        if (value == +value) {\n            value += "px";\n        }\n        this.node.style.fontSize = value;\n    }\n    eve.on("snap.util.attr.fontSize", setFontSize)(-1);\n    eve.on("snap.util.attr.font-size", setFontSize)(-1);\n\n\n    eve.on("snap.util.getattr.transform", function () {\n        eve.stop();\n        return this.transform();\n    })(-1);\n    eve.on("snap.util.getattr.textpath", function () {\n        eve.stop();\n        return this.textPath;\n    })(-1);\n    // Markers\n    (function () {\n        function getter(end) {\n            return function () {\n                eve.stop();\n                var style = glob.doc.defaultView.getComputedStyle(this.node, null).getPropertyValue("marker-" + end);\n                if (style == "none") {\n                    return style;\n                } else {\n                    return Snap(glob.doc.getElementById(style.match(reURLValue)[1]));\n                }\n            };\n        }\n        function setter(end) {\n            return function (value) {\n                eve.stop();\n                var name = "marker" + end.charAt(0).toUpperCase() + end.substring(1);\n                if (value == "" || !value) {\n                    this.node.style[name] = "none";\n                    return;\n                }\n                if (value.type == "marker") {\n                    var id = value.node.id;\n                    if (!id) {\n                        $(value.node, {id: value.id});\n                    }\n                    this.node.style[name] = URL(id);\n                    return;\n                }\n            };\n        }\n        eve.on("snap.util.getattr.marker-end", getter("end"))(-1);\n        eve.on("snap.util.getattr.markerEnd", getter("end"))(-1);\n        eve.on("snap.util.getattr.marker-start", getter("start"))(-1);\n        eve.on("snap.util.getattr.markerStart", getter("start"))(-1);\n        eve.on("snap.util.getattr.marker-mid", getter("mid"))(-1);\n        eve.on("snap.util.getattr.markerMid", getter("mid"))(-1);\n        eve.on("snap.util.attr.marker-end", setter("end"))(-1);\n        eve.on("snap.util.attr.markerEnd", setter("end"))(-1);\n        eve.on("snap.util.attr.marker-start", setter("start"))(-1);\n        eve.on("snap.util.attr.markerStart", setter("start"))(-1);\n        eve.on("snap.util.attr.marker-mid", setter("mid"))(-1);\n        eve.on("snap.util.attr.markerMid", setter("mid"))(-1);\n    }());\n    eve.on("snap.util.getattr.r", function () {\n        if (this.type == "rect" && $(this.node, "rx") == $(this.node, "ry")) {\n            eve.stop();\n            return $(this.node, "rx");\n        }\n    })(-1);\n    function textExtract(node) {\n        var out = [];\n        var children = node.childNodes;\n        for (var i = 0, ii = children.length; i < ii; i++) {\n            var chi = children[i];\n            if (chi.nodeType == 3) {\n                out.push(chi.nodeValue);\n            }\n            if (chi.tagName == "tspan") {\n                if (chi.childNodes.length == 1 && chi.firstChild.nodeType == 3) {\n                    out.push(chi.firstChild.nodeValue);\n                } else {\n                    out.push(textExtract(chi));\n                }\n            }\n        }\n        return out;\n    }\n    eve.on("snap.util.getattr.text", function () {\n        if (this.type == "text" || this.type == "tspan") {\n            eve.stop();\n            var out = textExtract(this.node);\n            return out.length == 1 ? out[0] : out;\n        }\n    })(-1);\n    eve.on("snap.util.getattr.#text", function () {\n        return this.node.textContent;\n    })(-1);\n    eve.on("snap.util.getattr.fill", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve("snap.util.getattr.fill", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on("snap.util.getattr.stroke", function (internal) {\n        if (internal) {\n            return;\n        }\n        eve.stop();\n        var value = eve("snap.util.getattr.stroke", this, true).firstDefined();\n        return Snap(Snap.deurl(value)) || value;\n    })(-1);\n    eve.on("snap.util.getattr.viewBox", function () {\n        eve.stop();\n        var vb = $(this.node, "viewBox");\n        if (vb) {\n            vb = vb.split(separator);\n            return Snap._.box(+vb[0], +vb[1], +vb[2], +vb[3]);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on("snap.util.getattr.points", function () {\n        var p = $(this.node, "points");\n        eve.stop();\n        if (p) {\n            return p.split(separator);\n        } else {\n            return;\n        }\n    })(-1);\n    eve.on("snap.util.getattr.path", function () {\n        var p = $(this.node, "d");\n        eve.stop();\n        return p;\n    })(-1);\n    eve.on("snap.util.getattr.class", function () {\n        return this.node.className.baseVal;\n    })(-1);\n    function getFontSize() {\n        eve.stop();\n        return this.node.style.fontSize;\n    }\n    eve.on("snap.util.getattr.fontSize", getFontSize)(-1);\n    eve.on("snap.util.getattr.font-size", getFontSize)(-1);\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var rgNotSpace = /\\S+/g,\n        rgBadSpace = /[\\t\\r\\n\\f]/g,\n        rgTrim = /(^\\s+|\\s+$)/g,\n        Str = String,\n        elproto = Element.prototype;\n    /*\\\n     * Element.addClass\n     [ method ]\n     **\n     * Adds given class name or list of class names to the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.addClass = function (value) {\n        var classes = Str(value || "").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n\n        if (classes.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (!~pos) {\n                    curClasses.push(clazz);\n                }\n            }\n\n            finalValue = curClasses.join(" ");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.removeClass\n     [ method ]\n     **\n     * Removes given class name or list of class names from the element.\n     - value (string) class name or space separated list of class names\n     **\n     = (Element) original element.\n    \\*/\n    elproto.removeClass = function (value) {\n        var classes = Str(value || "").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        if (curClasses.length) {\n            j = 0;\n            while (clazz = classes[j++]) {\n                pos = curClasses.indexOf(clazz);\n                if (~pos) {\n                    curClasses.splice(pos, 1);\n                }\n            }\n\n            finalValue = curClasses.join(" ");\n            if (className != finalValue) {\n                elem.className.baseVal = finalValue;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.hasClass\n     [ method ]\n     **\n     * Checks if the element has a given class name in the list of class names applied to it.\n     - value (string) class name\n     **\n     = (boolean) `true` if the element has given class\n    \\*/\n    elproto.hasClass = function (value) {\n        var elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [];\n        return !!~curClasses.indexOf(value);\n    };\n    /*\\\n     * Element.toggleClass\n     [ method ]\n     **\n     * Add or remove one or more classes from the element, depending on either\n     * the classs presence or the value of the `flag` argument.\n     - value (string) class name or space separated list of class names\n     - flag (boolean) value to determine whether the class should be added or removed\n     **\n     = (Element) original element.\n    \\*/\n    elproto.toggleClass = function (value, flag) {\n        if (flag != null) {\n            if (flag) {\n                return this.addClass(value);\n            } else {\n                return this.removeClass(value);\n            }\n        }\n        var classes = (value || "").match(rgNotSpace) || [],\n            elem = this.node,\n            className = elem.className.baseVal,\n            curClasses = className.match(rgNotSpace) || [],\n            j,\n            pos,\n            clazz,\n            finalValue;\n        j = 0;\n        while (clazz = classes[j++]) {\n            pos = curClasses.indexOf(clazz);\n            if (~pos) {\n                curClasses.splice(pos, 1);\n            } else {\n                curClasses.push(clazz);\n            }\n        }\n\n        finalValue = curClasses.join(" ");\n        if (className != finalValue) {\n            elem.className.baseVal = finalValue;\n        }\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var operators = {\n            "+": function (x, y) {\n                    return x + y;\n                },\n            "-": function (x, y) {\n                    return x - y;\n                },\n            "/": function (x, y) {\n                    return x / y;\n                },\n            "*": function (x, y) {\n                    return x * y;\n                }\n        },\n        Str = String,\n        reUnit = /[a-z]+$/i,\n        reAddon = /^\\s*([+\\-\\/*])\\s*=\\s*([\\d.eE+\\-]+)\\s*([^\\d\\s]+)?\\s*$/;\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    eve.on("snap.util.attr", function (val) {\n        var plus = Str(val).match(reAddon);\n        if (plus) {\n            var evnt = eve.nt(),\n                name = evnt.substring(evnt.lastIndexOf(".") + 1),\n                a = this.attr(name),\n                atr = {};\n            eve.stop();\n            var unit = plus[3] || "",\n                aUnit = a.match(reUnit),\n                op = operators[plus[1]];\n            if (aUnit && aUnit == unit) {\n                val = op(parseFloat(a), +plus[2]);\n            } else {\n                a = this.asPX(name);\n                val = op(this.asPX(name), this.asPX(name, plus[2] + unit));\n            }\n            if (isNaN(a) || isNaN(val)) {\n                return;\n            }\n            atr[name] = val;\n            this.attr(atr);\n        }\n    })(-10);\n    eve.on("snap.util.equal", function (name, b) {\n        var A, B, a = Str(this.attr(name) || ""),\n            el = this,\n            bplus = Str(b).match(reAddon);\n        if (bplus) {\n            eve.stop();\n            var unit = bplus[3] || "",\n                aUnit = a.match(reUnit),\n                op = operators[bplus[1]];\n            if (aUnit && aUnit == unit) {\n                return {\n                    from: parseFloat(a),\n                    to: op(parseFloat(a), +bplus[2]),\n                    f: getUnit(aUnit)\n                };\n            } else {\n                a = this.asPX(name);\n                return {\n                    from: a,\n                    to: op(a, this.asPX(name, bplus[2] + unit)),\n                    f: getNumber\n                };\n            }\n        }\n    })(-10);\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var proto = Paper.prototype,\n        is = Snap.is;\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - rx (number) #optional horizontal radius for rounded corners, default is 0\n     - ry (number) #optional vertical radius for rounded corners, default is rx or 0\n     = (object) the `rect` element\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    proto.rect = function (x, y, w, h, rx, ry) {\n        var attr;\n        if (ry == null) {\n            ry = rx;\n        }\n        if (is(x, "object") && x == "[object Object]") {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                width: w,\n                height: h\n            };\n            if (rx != null) {\n                attr.rx = rx;\n                attr.ry = ry;\n            }\n        }\n        return this.el("rect", attr);\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) the `circle` element\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    proto.circle = function (cx, cy, r) {\n        var attr;\n        if (is(cx, "object") && cx == "[object Object]") {\n            attr = cx;\n        } else if (cx != null) {\n            attr = {\n                cx: cx,\n                cy: cy,\n                r: r\n            };\n        }\n        return this.el("circle", attr);\n    };\n\n    var preload = (function () {\n        function onerror() {\n            this.parentNode.removeChild(this);\n        }\n        return function (src, f) {\n            var img = glob.doc.createElement("img"),\n                body = glob.doc.body;\n            img.style.cssText = "position:absolute;left:-9999em;top:-9999em";\n            img.onload = function () {\n                f.call(img);\n                img.onload = img.onerror = null;\n                body.removeChild(img);\n            };\n            img.onerror = onerror;\n            body.appendChild(img);\n            img.src = src;\n        };\n    }());\n\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Places an image on the surface\n     **\n     - src (string) URI of the source image\n     - x (number) x offset position\n     - y (number) y offset position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) the `image` element\n     * or\n     = (object) Snap element object with type `image`\n     **\n     > Usage\n     | var c = paper.image("apple.png", 10, 10, 80, 80);\n    \\*/\n    proto.image = function (src, x, y, width, height) {\n        var el = this.el("image");\n        if (is(src, "object") && "src" in src) {\n            el.attr(src);\n        } else if (src != null) {\n            var set = {\n                "xlink:href": src,\n                preserveAspectRatio: "none"\n            };\n            if (x != null && y != null) {\n                set.x = x;\n                set.y = y;\n            }\n            if (width != null && height != null) {\n                set.width = width;\n                set.height = height;\n            } else {\n                preload(src, function () {\n                    Snap._.$(el.node, {\n                        width: this.offsetWidth,\n                        height: this.offsetHeight\n                    });\n                });\n            }\n            Snap._.$(el.node, set);\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) the `ellipse` element\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    proto.ellipse = function (cx, cy, rx, ry) {\n        var attr;\n        if (is(cx, "object") && cx == "[object Object]") {\n            attr = cx;\n        } else if (cx != null) {\n            attr ={\n                cx: cx,\n                cy: cy,\n                rx: rx,\n                ry: ry\n            };\n        }\n        return this.el("ellipse", attr);\n    };\n    // SIERRA Paper.path(): Unclear from the link what a Catmull-Rom curveto is, and why it would make life any easier.\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a `<path>` element using the given string as the path\'s definition\n     - pathString (string) #optional path string in SVG format\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numerical form. Example:\n     | "M10,20L30,40"\n     * This example features two commands: `M`, with arguments `(10, 20)` and `L` with arguments `(30, 40)`. Uppercase letter commands express coordinates in absolute terms, while lowercase commands express them in relative terms from the most recently declared coordinates.\n     *\n     # <p>Here is short list of commands available, for more details see <a href="http://www.w3.org/TR/SVG/paths.html#PathData" title="Details of a path\'s data attribute\'s format are described in the SVG specification.">SVG path string format</a> or <a href="https://developer.mozilla.org/en/SVG/Tutorial/Paths">article about path strings at MDN</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic Bzier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic Bzier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href="http://en.wikipedia.org/wiki/CatmullRom_spline#Catmull.E2.80.93Rom_spline">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * _Catmull-Rom curveto_ is a not standard SVG command and added to make life easier.\n     * Note: there is a special case when a path consists of only three commands: `M10,10Rz`. In this case the path connects back to its starting point.\n     > Usage\n     | var c = paper.path("M10 10L90 90");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n    \\*/\n    proto.path = function (d) {\n        var attr;\n        if (is(d, "object") && !is(d, "array")) {\n            attr = d;\n        } else if (d) {\n            attr = {d: d};\n        }\n        return this.el("path", attr);\n    };\n    /*\\\n     * Paper.g\n     [ method ]\n     **\n     * Creates a group element\n     **\n     - varargs () #optional elements to nest within the group\n     = (object) the `g` element\n     **\n     > Usage\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g(c2, c1); // note that the order of elements is different\n     * or\n     | var c1 = paper.circle(),\n     |     c2 = paper.rect(),\n     |     g = paper.g();\n     | g.add(c2, c1);\n    \\*/\n    /*\\\n     * Paper.group\n     [ method ]\n     **\n     * See @Paper.g\n    \\*/\n    proto.group = proto.g = function (first) {\n        var attr,\n            el = this.el("g");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.svg\n     [ method ]\n     **\n     * Creates a nested SVG element.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `svg` element\n     **\n    \\*/\n    proto.svg = function (x, y, width, height, vbx, vby, vbw, vbh) {\n        var attrs = {};\n        if (is(x, "object") && y == null) {\n            attrs = x;\n        } else {\n            if (x != null) {\n                attrs.x = x;\n            }\n            if (y != null) {\n                attrs.y = y;\n            }\n            if (width != null) {\n                attrs.width = width;\n            }\n            if (height != null) {\n                attrs.height = height;\n            }\n            if (vbx != null && vby != null && vbw != null && vbh != null) {\n                attrs.viewBox = [vbx, vby, vbw, vbh];\n            }\n        }\n        return this.el("svg", attrs);\n    };\n    /*\\\n     * Paper.mask\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a mask.\n     **\n     = (object) the `mask` element\n     **\n    \\*/\n    proto.mask = function (first) {\n        var attr,\n            el = this.el("mask");\n        if (arguments.length == 1 && first && !first.type) {\n            el.attr(first);\n        } else if (arguments.length) {\n            el.add(Array.prototype.slice.call(arguments, 0));\n        }\n        return el;\n    };\n    /*\\\n     * Paper.ptrn\n     [ method ]\n     **\n     * Equivalent in behaviour to @Paper.g, except its a pattern.\n     - x (number) @optional X of the element\n     - y (number) @optional Y of the element\n     - width (number) @optional width of the element\n     - height (number) @optional height of the element\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     **\n     = (object) the `pattern` element\n     **\n    \\*/\n    proto.ptrn = function (x, y, width, height, vx, vy, vw, vh) {\n        if (is(x, "object")) {\n            var attr = x;\n        } else {\n            attr = {patternUnits: "userSpaceOnUse"};\n            if (x) {\n                attr.x = x;\n            }\n            if (y) {\n                attr.y = y;\n            }\n            if (width != null) {\n                attr.width = width;\n            }\n            if (height != null) {\n                attr.height = height;\n            }\n            if (vx != null && vy != null && vw != null && vh != null) {\n                attr.viewBox = [vx, vy, vw, vh];\n            } else {\n                attr.viewBox = [x || 0, y || 0, width || 0, height || 0];\n            }\n        }\n        return this.el("pattern", attr);\n    };\n    /*\\\n     * Paper.use\n     [ method ]\n     **\n     * Creates a <use> element.\n     - id (string) @optional id of element to link\n     * or\n     - id (Element) @optional element to link\n     **\n     = (object) the `use` element\n     **\n    \\*/\n    proto.use = function (id) {\n        if (id != null) {\n            if (id instanceof Element) {\n                if (!id.attr("id")) {\n                    id.attr({id: Snap._.id(id)});\n                }\n                id = id.attr("id");\n            }\n            if (String(id).charAt() == "#") {\n                id = id.substring(1);\n            }\n            return this.el("use", {"xlink:href": "#" + id});\n        } else {\n            return Element.prototype.use.call(this);\n        }\n    };\n    /*\\\n     * Paper.symbol\n     [ method ]\n     **\n     * Creates a <symbol> element.\n     - vbx (number) @optional viewbox X\n     - vby (number) @optional viewbox Y\n     - vbw (number) @optional viewbox width\n     - vbh (number) @optional viewbox height\n     = (object) the `symbol` element\n     **\n    \\*/\n    proto.symbol = function (vx, vy, vw, vh) {\n        var attr = {};\n        if (vx != null && vy != null && vw != null && vh != null) {\n            attr.viewBox = [vx, vy, vw, vh];\n        }\n\n        return this.el("symbol", attr);\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string|array) The text string to draw or array of strings to nest within separate `<tspan>` elements\n     = (object) the `text` element\n     **\n     > Usage\n     | var t1 = paper.text(50, 50, "Snap");\n     | var t2 = paper.text(50, 50, ["S","n","a","p"]);\n     | // Text path usage\n     | t1.attr({textpath: "M10,10L100,100"});\n     | // or\n     | var pth = paper.path("M10,10L100,100");\n     | t1.attr({textpath: pth});\n    \\*/\n    proto.text = function (x, y, text) {\n        var attr = {};\n        if (is(x, "object")) {\n            attr = x;\n        } else if (x != null) {\n            attr = {\n                x: x,\n                y: y,\n                text: text || ""\n            };\n        }\n        return this.el("text", attr);\n    };\n    /*\\\n     * Paper.line\n     [ method ]\n     **\n     * Draws a line\n     **\n     - x1 (number) x coordinate position of the start\n     - y1 (number) y coordinate position of the start\n     - x2 (number) x coordinate position of the end\n     - y2 (number) y coordinate position of the end\n     = (object) the `line` element\n     **\n     > Usage\n     | var t1 = paper.line(50, 50, 100, 100);\n    \\*/\n    proto.line = function (x1, y1, x2, y2) {\n        var attr = {};\n        if (is(x1, "object")) {\n            attr = x1;\n        } else if (x1 != null) {\n            attr = {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2\n            };\n        }\n        return this.el("line", attr);\n    };\n    /*\\\n     * Paper.polyline\n     [ method ]\n     **\n     * Draws a polyline\n     **\n     - points (array) array of points\n     * or\n     - varargs () points\n     = (object) the `polyline` element\n     **\n     > Usage\n     | var p1 = paper.polyline([10, 10, 100, 100]);\n     | var p2 = paper.polyline(10, 10, 100, 100);\n    \\*/\n    proto.polyline = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, "object") && !is(points, "array")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el("polyline", attr);\n    };\n    /*\\\n     * Paper.polygon\n     [ method ]\n     **\n     * Draws a polygon. See @Paper.polyline\n    \\*/\n    proto.polygon = function (points) {\n        if (arguments.length > 1) {\n            points = Array.prototype.slice.call(arguments, 0);\n        }\n        var attr = {};\n        if (is(points, "object") && !is(points, "array")) {\n            attr = points;\n        } else if (points != null) {\n            attr = {points: points};\n        }\n        return this.el("polygon", attr);\n    };\n    // gradients\n    (function () {\n        var $ = Snap._.$;\n        // gradients\' helpers\n        /*\\\n         * Element.stops\n         [ method ]\n         **\n         * Only for gradients!\n         * Returns array of gradient stops elements.\n         = (array) the stops array.\n        \\*/\n        function Gstops() {\n            return this.selectAll("stop");\n        }\n        /*\\\n         * Element.addStop\n         [ method ]\n         **\n         * Only for gradients!\n         * Adds another stop to the gradient.\n         - color (string) stops color\n         - offset (number) stops offset 0..100\n         = (object) gradient element\n        \\*/\n        function GaddStop(color, offset) {\n            var stop = $("stop"),\n                attr = {\n                    offset: +offset + "%"\n                };\n            color = Snap.color(color);\n            attr["stop-color"] = color.hex;\n            if (color.opacity < 1) {\n                attr["stop-opacity"] = color.opacity;\n            }\n            $(stop, attr);\n            var stops = this.stops(),\n                inserted;\n            for (var i = 0; i < stops.length; i++) {\n                var stopOffset = parseFloat(stops[i].attr("offset"));\n                if (stopOffset > offset) {\n                    this.node.insertBefore(stop, stops[i].node);\n                    inserted = true;\n                    break;\n                }\n            }\n            if (!inserted) {\n                this.node.appendChild(stop);\n            }\n            return this;\n        }\n        function GgetBBox() {\n            if (this.type == "linearGradient") {\n                var x1 = $(this.node, "x1") || 0,\n                    x2 = $(this.node, "x2") || 1,\n                    y1 = $(this.node, "y1") || 0,\n                    y2 = $(this.node, "y2") || 0;\n                return Snap._.box(x1, y1, math.abs(x2 - x1), math.abs(y2 - y1));\n            } else {\n                var cx = this.node.cx || .5,\n                    cy = this.node.cy || .5,\n                    r = this.node.r || 0;\n                return Snap._.box(cx - r, cy - r, r * 2, r * 2);\n            }\n        }\n        /*\\\n         * Element.setStops\n         [ method ]\n         **\n         * Only for gradients!\n         * Updates stops of the gradient based on passed gradient descriptor. See @Ppaer.gradient\n         - str (string) gradient descriptor part after `()`.\n         = (object) gradient element\n         | var g = paper.gradient("l(0, 0, 1, 1)#000-#f00-#fff");\n         | g.setStops("#fff-#000-#f00-#fc0");\n        \\*/\n        function GsetStops(str) {\n            var grad = str,\n                stops = this.stops();\n            if (typeof str == "string") {\n                grad = eve("snap.util.grad.parse", null, "l(0,0,0,1)" + str).firstDefined().stops;\n            }\n            if (!Snap.is(grad, "array")) {\n                return;\n            }\n            for (var i = 0; i < stops.length; i++) {\n                if (grad[i]) {\n                    var color = Snap.color(grad[i].color),\n                        attr = {"offset": grad[i].offset + "%"};\n                    attr["stop-color"] = color.hex;\n                    if (color.opacity < 1) {\n                        attr["stop-opacity"] = color.opacity;\n                    }\n                    stops[i].attr(attr);\n                } else {\n                    stops[i].remove();\n                }\n            }\n            for (i = stops.length; i < grad.length; i++) {\n                this.addStop(grad[i].color, grad[i].offset);\n            }\n            return this;\n        }\n        function gradient(defs, str) {\n            var grad = eve("snap.util.grad.parse", null, str).firstDefined(),\n                el;\n            if (!grad) {\n                return null;\n            }\n            grad.params.unshift(defs);\n            if (grad.type.toLowerCase() == "l") {\n                el = gradientLinear.apply(0, grad.params);\n            } else {\n                el = gradientRadial.apply(0, grad.params);\n            }\n            if (grad.type != grad.type.toLowerCase()) {\n                $(el.node, {\n                    gradientUnits: "userSpaceOnUse"\n                });\n            }\n            var stops = grad.stops,\n                len = stops.length;\n            for (var i = 0; i < len; i++) {\n                var stop = stops[i];\n                el.addStop(stop.color, stop.offset);\n            }\n            return el;\n        }\n        function gradientLinear(defs, x1, y1, x2, y2) {\n            var el = Snap._.make("linearGradient", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            el.setStops = GsetStops;\n            if (x1 != null) {\n                $(el.node, {\n                    x1: x1,\n                    y1: y1,\n                    x2: x2,\n                    y2: y2\n                });\n            }\n            return el;\n        }\n        function gradientRadial(defs, cx, cy, r, fx, fy) {\n            var el = Snap._.make("radialGradient", defs);\n            el.stops = Gstops;\n            el.addStop = GaddStop;\n            el.getBBox = GgetBBox;\n            if (cx != null) {\n                $(el.node, {\n                    cx: cx,\n                    cy: cy,\n                    r: r\n                });\n            }\n            if (fx != null && fy != null) {\n                $(el.node, {\n                    fx: fx,\n                    fy: fy\n                });\n            }\n            return el;\n        }\n        /*\\\n         * Paper.gradient\n         [ method ]\n         **\n         * Creates a gradient element\n         **\n         - gradient (string) gradient descriptor\n         > Gradient Descriptor\n         * The gradient descriptor is an expression formatted as\n         * follows: `<type>(<coords>)<colors>`.  The `<type>` can be\n         * either linear or radial.  The uppercase `L` or `R` letters\n         * indicate absolute coordinates offset from the SVG surface.\n         * Lowercase `l` or `r` letters indicate coordinates\n         * calculated relative to the element to which the gradient is\n         * applied.  Coordinates specify a linear gradient vector as\n         * `x1`, `y1`, `x2`, `y2`, or a radial gradient as `cx`, `cy`,\n         * `r` and optional `fx`, `fy` specifying a focal point away\n         * from the center of the circle. Specify `<colors>` as a list\n         * of dash-separated CSS color values.  Each color may be\n         * followed by a custom offset value, separated with a colon\n         * character.\n         > Examples\n         * Linear gradient, relative from top-left corner to bottom-right\n         * corner, from black through red to white:\n         | var g = paper.gradient("l(0, 0, 1, 1)#000-#f00-#fff");\n         * Linear gradient, absolute from (0, 0) to (100, 100), from black\n         * through red at 25% to white:\n         | var g = paper.gradient("L(0, 0, 100, 100)#000-#f00:25-#fff");\n         * Radial gradient, relative from the center of the element with radius\n         * half the width, from black to white:\n         | var g = paper.gradient("r(0.5, 0.5, 0.5)#000-#fff");\n         * To apply the gradient:\n         | paper.circle(50, 50, 40).attr({\n         |     fill: g\n         | });\n         = (object) the `gradient` element\n        \\*/\n        proto.gradient = function (str) {\n            return gradient(this.defs, str);\n        };\n        proto.gradientLinear = function (x1, y1, x2, y2) {\n            return gradientLinear(this.defs, x1, y1, x2, y2);\n        };\n        proto.gradientRadial = function (cx, cy, r, fx, fy) {\n            return gradientRadial(this.defs, cx, cy, r, fx, fy);\n        };\n        /*\\\n         * Paper.toString\n         [ method ]\n         **\n         * Returns SVG code for the @Paper\n         = (string) SVG code for the @Paper\n        \\*/\n        proto.toString = function () {\n            var doc = this.node.ownerDocument,\n                f = doc.createDocumentFragment(),\n                d = doc.createElement("div"),\n                svg = this.node.cloneNode(true),\n                res;\n            f.appendChild(d);\n            d.appendChild(svg);\n            Snap._.$(svg, {xmlns: "http://www.w3.org/2000/svg"});\n            res = d.innerHTML;\n            f.removeChild(f.firstChild);\n            return res;\n        };\n        /*\\\n         * Paper.toDataURL\n         [ method ]\n         **\n         * Returns SVG code for the @Paper as Data URI string.\n         = (string) Data URI string\n        \\*/\n        proto.toDataURL = function () {\n            if (window && window.btoa) {\n                return "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(this)));\n            }\n        };\n        /*\\\n         * Paper.clear\n         [ method ]\n         **\n         * Removes all child nodes of the paper, except <defs>.\n        \\*/\n        proto.clear = function () {\n            var node = this.node.firstChild,\n                next;\n            while (node) {\n                next = node.nextSibling;\n                if (node.tagName != "defs") {\n                    node.parentNode.removeChild(node);\n                } else {\n                    proto.clear.call({node: node});\n                }\n                node = next;\n            }\n        };\n    }());\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        is = Snap.is,\n        clone = Snap._.clone,\n        has = "hasOwnProperty",\n        p2s = /,?([a-z]),?/gi,\n        toFloat = parseFloat,\n        math = Math,\n        PI = math.PI,\n        mmin = math.min,\n        mmax = math.max,\n        pow = math.pow,\n        abs = math.abs;\n    function paths(ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    }\n    function box(x, y, width, height) {\n        if (x == null) {\n            x = y = width = height = 0;\n        }\n        if (y == null) {\n            y = x.y;\n            width = x.width;\n            height = x.height;\n            x = x.x;\n        }\n        return {\n            x: x,\n            y: y,\n            width: width,\n            w: width,\n            height: height,\n            h: height,\n            x2: x + width,\n            y2: y + height,\n            cx: x + width / 2,\n            cy: y + height / 2,\n            r1: math.min(width, height) / 2,\n            r2: math.max(width, height) / 2,\n            r0: math.sqrt(width * width + height * height) / 2,\n            path: rectPath(x, y, width, height),\n            vb: [x, y, width, height].join(" ")\n        };\n    }\n    function toString() {\n        return this.join(",").replace(p2s, "$1");\n    }\n    function pathClone(pathArray) {\n        var res = clone(pathArray);\n        res.toString = toString;\n        return res;\n    }\n    function getPointAtSegmentLength(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y,\n                getTotLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    }\n    function getLengthFactory(istotal, subpath) {\n        function O(val) {\n            return +(+val).toFixed(3);\n        }\n        return Snap._.cacher(function (path, length, onlystart) {\n            if (path instanceof Element) {\n                path = path.attr("d");\n            }\n            path = path2curve(path);\n            var x, y, p, l, sp = "", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == "M") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += [\n                                "C" + O(point.start.x),\n                                O(point.start.y),\n                                O(point.m.x),\n                                O(point.m.y),\n                                O(point.x),\n                                O(point.y)\n                            ];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = [\n                                "M" + O(point.x),\n                                O(point.y) + "C" + O(point.n.x),\n                                O(point.n.y),\n                                O(point.end.x),\n                                O(point.end.y),\n                                O(p[5]),\n                                O(p[6])\n                            ].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return point;\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            return point;\n        }, null, Snap._.clone);\n    }\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = 90 - math.atan2(mx - nx, my - ny) * 180 / PI;\n        // (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    }\n    function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!Snap.is(p1x, "array")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return box(\n            bbox.min.x,\n            bbox.min.y,\n            bbox.max.x - bbox.min.x,\n            bbox.max.y - bbox.min.y\n        );\n    }\n    function isPointInsideBBox(bbox, x, y) {\n        return  x >= bbox.x &&\n                x <= bbox.x + bbox.width &&\n                y >= bbox.y &&\n                y <= bbox.y + bbox.height;\n    }\n    function isBBoxIntersect(bbox1, bbox2) {\n        bbox1 = box(bbox1);\n        bbox2 = box(bbox2);\n        return isPointInsideBBox(bbox2, bbox1.x, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y)\n            || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2)\n            || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y)\n            || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2)\n            || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x\n                || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y\n                || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    }\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTotLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = bezierBBox(bez1),\n            bbox2 = bezierBBox(bez2);\n        if (!isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = ~~(l1 / 8),\n            n2 = ~~(l2 / 8),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? "y" : "x",\n                    cj = abs(dj1.x - dj.x) < .001 ? "y" : "x",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: t1,\n                                t2: t2\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function pathIntersection(path1, path2) {\n        return interPathHelper(path1, path2);\n    }\n    function pathIntersectionNumber(path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    }\n    function interPathHelper(path1, path2, justCount) {\n        path1 = path2curve(path1);\n        path2 = path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == "M") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == "C") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == "M") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == "C") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    function isPointInsidePath(path, x, y) {\n        var bbox = pathBBox(path);\n        return isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [["M", x, y], ["H", bbox.x2 + 10]], 1) % 2 == 1;\n    }\n    function pathBBox(path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return box();\n        }\n        path = path2curve(path);\n        var x = 0,\n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == "M") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X.concat(dim.min.x, dim.max.x);\n                Y = Y.concat(dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin.apply(0, X),\n            ymin = mmin.apply(0, Y),\n            xmax = mmax.apply(0, X),\n            ymax = mmax.apply(0, Y),\n            bb = box(xmin, ymin, xmax - xmin, ymax - ymin);\n        pth.bbox = clone(bb);\n        return bb;\n    }\n    function rectPath(x, y, w, h, r) {\n        if (r) {\n            return [\n                ["M", +x + +r, y],\n                ["l", w - r * 2, 0],\n                ["a", r, r, 0, 0, 1, r, r],\n                ["l", 0, h - r * 2],\n                ["a", r, r, 0, 0, 1, -r, r],\n                ["l", r * 2 - w, 0],\n                ["a", r, r, 0, 0, 1, -r, -r],\n                ["l", 0, r * 2 - h],\n                ["a", r, r, 0, 0, 1, r, -r],\n                ["z"]\n            ];\n        }\n        var res = [["M", x, y], ["l", w, 0], ["l", 0, h], ["l", -w, 0], ["z"]];\n        res.toString = toString;\n        return res;\n    }\n    function ellipsePath(x, y, rx, ry, a) {\n        if (a == null && ry == null) {\n            ry = rx;\n        }\n        x = +x;\n        y = +y;\n        rx = +rx;\n        ry = +ry;\n        if (a != null) {\n            var rad = Math.PI / 180,\n                x1 = x + rx * Math.cos(-ry * rad),\n                x2 = x + rx * Math.cos(-a * rad),\n                y1 = y + rx * Math.sin(-ry * rad),\n                y2 = y + rx * Math.sin(-a * rad),\n                res = [["M", x1, y1], ["A", rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n        } else {\n            res = [\n                ["M", x, y],\n                ["m", 0, -ry],\n                ["a", rx, ry, 0, 1, 1, 0, 2 * ry],\n                ["a", rx, ry, 0, 1, 1, 0, -2 * ry],\n                ["z"]\n            ];\n        }\n        res.toString = toString;\n        return res;\n    }\n    var unit2px = Snap._unit2px,\n        getPath = {\n        path: function (el) {\n            return el.attr("path");\n        },\n        circle: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx, attr.cy, attr.r);\n        },\n        ellipse: function (el) {\n            var attr = unit2px(el);\n            return ellipsePath(attr.cx || 0, attr.cy || 0, attr.rx, attr.ry);\n        },\n        rect: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height, attr.rx, attr.ry);\n        },\n        image: function (el) {\n            var attr = unit2px(el);\n            return rectPath(attr.x || 0, attr.y || 0, attr.width, attr.height);\n        },\n        line: function (el) {\n            return "M" + [el.attr("x1") || 0, el.attr("y1") || 0, el.attr("x2"), el.attr("y2")];\n        },\n        polyline: function (el) {\n            return "M" + el.attr("points");\n        },\n        polygon: function (el) {\n            return "M" + el.attr("points") + "z";\n        },\n        deflt: function (el) {\n            var bbox = el.node.getBBox();\n            return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n        }\n    };\n    function pathToRelative(pathArray) {\n        var pth = paths(pathArray),\n            lowerCase = String.prototype.toLowerCase;\n        if (pth.rel) {\n            return pathClone(pth.rel);\n        }\n        if (!Snap.is(pathArray, "array") || !Snap.is(pathArray && pathArray[0], "array")) {\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0;\n        if (pathArray[0][0] == "M") {\n            x = pathArray[0][1];\n            y = pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res.push(["M", x, y]);\n        }\n        for (var i = start, ii = pathArray.length; i < ii; i++) {\n            var r = res[i] = [],\n                pa = pathArray[i];\n            if (pa[0] != lowerCase.call(pa[0])) {\n                r[0] = lowerCase.call(pa[0]);\n                switch (r[0]) {\n                    case "a":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +(pa[6] - x).toFixed(3);\n                        r[7] = +(pa[7] - y).toFixed(3);\n                        break;\n                    case "v":\n                        r[1] = +(pa[1] - y).toFixed(3);\n                        break;\n                    case "m":\n                        mx = pa[1];\n                        my = pa[2];\n                    default:\n                        for (var j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +(pa[j] - (j % 2 ? x : y)).toFixed(3);\n                        }\n                }\n            } else {\n                r = res[i] = [];\n                if (pa[0] == "m") {\n                    mx = pa[1] + x;\n                    my = pa[2] + y;\n                }\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    res[i][k] = pa[k];\n                }\n            }\n            var len = res[i].length;\n            switch (res[i][0]) {\n                case "z":\n                    x = mx;\n                    y = my;\n                    break;\n                case "h":\n                    x += +res[i][len - 1];\n                    break;\n                case "v":\n                    y += +res[i][len - 1];\n                    break;\n                default:\n                    x += +res[i][len - 2];\n                    y += +res[i][len - 1];\n            }\n        }\n        res.toString = toString;\n        pth.rel = pathClone(res);\n        return res;\n    }\n    function pathToAbsolute(pathArray) {\n        var pth = paths(pathArray);\n        if (pth.abs) {\n            return pathClone(pth.abs);\n        }\n        if (!is(pathArray, "array") || !is(pathArray && pathArray[0], "array")) { // rough assumption\n            pathArray = Snap.parsePathString(pathArray);\n        }\n        if (!pathArray || !pathArray.length) {\n            return [["M", 0, 0]];\n        }\n        var res = [],\n            x = 0,\n            y = 0,\n            mx = 0,\n            my = 0,\n            start = 0,\n            pa0;\n        if (pathArray[0][0] == "M") {\n            x = +pathArray[0][1];\n            y = +pathArray[0][2];\n            mx = x;\n            my = y;\n            start++;\n            res[0] = ["M", x, y];\n        }\n        var crz = pathArray.length == 3 &&\n            pathArray[0][0] == "M" &&\n            pathArray[1][0].toUpperCase() == "R" &&\n            pathArray[2][0].toUpperCase() == "Z";\n        for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n            res.push(r = []);\n            pa = pathArray[i];\n            pa0 = pa[0];\n            if (pa0 != pa0.toUpperCase()) {\n                r[0] = pa0.toUpperCase();\n                switch (r[0]) {\n                    case "A":\n                        r[1] = pa[1];\n                        r[2] = pa[2];\n                        r[3] = pa[3];\n                        r[4] = pa[4];\n                        r[5] = pa[5];\n                        r[6] = +pa[6] + x;\n                        r[7] = +pa[7] + y;\n                        break;\n                    case "V":\n                        r[1] = +pa[1] + y;\n                        break;\n                    case "H":\n                        r[1] = +pa[1] + x;\n                        break;\n                    case "R":\n                        var dots = [x, y].concat(pa.slice(1));\n                        for (var j = 2, jj = dots.length; j < jj; j++) {\n                            dots[j] = +dots[j] + x;\n                            dots[++j] = +dots[j] + y;\n                        }\n                        res.pop();\n                        res = res.concat(catmullRom2bezier(dots, crz));\n                        break;\n                    case "O":\n                        res.pop();\n                        dots = ellipsePath(x, y, pa[1], pa[2]);\n                        dots.push(dots[0]);\n                        res = res.concat(dots);\n                        break;\n                    case "U":\n                        res.pop();\n                        res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                        r = ["U"].concat(res[res.length - 1].slice(-2));\n                        break;\n                    case "M":\n                        mx = +pa[1] + x;\n                        my = +pa[2] + y;\n                    default:\n                        for (j = 1, jj = pa.length; j < jj; j++) {\n                            r[j] = +pa[j] + (j % 2 ? x : y);\n                        }\n                }\n            } else if (pa0 == "R") {\n                dots = [x, y].concat(pa.slice(1));\n                res.pop();\n                res = res.concat(catmullRom2bezier(dots, crz));\n                r = ["R"].concat(pa.slice(-2));\n            } else if (pa0 == "O") {\n                res.pop();\n                dots = ellipsePath(x, y, pa[1], pa[2]);\n                dots.push(dots[0]);\n                res = res.concat(dots);\n            } else if (pa0 == "U") {\n                res.pop();\n                res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n                r = ["U"].concat(res[res.length - 1].slice(-2));\n            } else {\n                for (var k = 0, kk = pa.length; k < kk; k++) {\n                    r[k] = pa[k];\n                }\n            }\n            pa0 = pa0.toUpperCase();\n            if (pa0 != "O") {\n                switch (r[0]) {\n                    case "Z":\n                        x = +mx;\n                        y = +my;\n                        break;\n                    case "H":\n                        x = r[1];\n                        break;\n                    case "V":\n                        y = r[1];\n                        break;\n                    case "M":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n        }\n        res.toString = toString;\n        pth.abs = pathClone(res);\n        return res;\n    }\n    function l2c(x1, y1, x2, y2) {\n        return [x1, y1, x2, y2, x2, y2];\n    }\n    function q2c(x1, y1, ax, ay, x2, y2) {\n        var _13 = 1 / 3,\n            _23 = 2 / 3;\n        return [\n                _13 * x1 + _23 * ax,\n                _13 * y1 + _23 * ay,\n                _13 * x2 + _23 * ax,\n                _13 * y2 + _23 * ay,\n                x2,\n                y2\n            ];\n    }\n    function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n        // for more information of where this math came from visit:\n        // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n        var _120 = PI * 120 / 180,\n            rad = PI / 180 * (+angle || 0),\n            res = [],\n            xy,\n            rotate = Snap._.cacher(function (x, y, rad) {\n                var X = x * math.cos(rad) - y * math.sin(rad),\n                    Y = x * math.sin(rad) + y * math.cos(rad);\n                return {x: X, y: Y};\n            });\n        if (!rx || !ry) {\n            return [x1, y1, x2, y2, x2, y2];\n        }\n        if (!recursive) {\n            xy = rotate(x1, y1, -rad);\n            x1 = xy.x;\n            y1 = xy.y;\n            xy = rotate(x2, y2, -rad);\n            x2 = xy.x;\n            y2 = xy.y;\n            var cos = math.cos(PI / 180 * angle),\n                sin = math.sin(PI / 180 * angle),\n                x = (x1 - x2) / 2,\n                y = (y1 - y2) / 2;\n            var h = x * x / (rx * rx) + y * y / (ry * ry);\n            if (h > 1) {\n                h = math.sqrt(h);\n                rx = h * rx;\n                ry = h * ry;\n            }\n            var rx2 = rx * rx,\n                ry2 = ry * ry,\n                k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                    math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                cx = k * rx * y / ry + (x1 + x2) / 2,\n                cy = k * -ry * x / rx + (y1 + y2) / 2,\n                f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n            f1 = x1 < cx ? PI - f1 : f1;\n            f2 = x2 < cx ? PI - f2 : f2;\n            f1 < 0 && (f1 = PI * 2 + f1);\n            f2 < 0 && (f2 = PI * 2 + f2);\n            if (sweep_flag && f1 > f2) {\n                f1 = f1 - PI * 2;\n            }\n            if (!sweep_flag && f2 > f1) {\n                f2 = f2 - PI * 2;\n            }\n        } else {\n            f1 = recursive[0];\n            f2 = recursive[1];\n            cx = recursive[2];\n            cy = recursive[3];\n        }\n        var df = f2 - f1;\n        if (abs(df) > _120) {\n            var f2old = f2,\n                x2old = x2,\n                y2old = y2;\n            f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n            x2 = cx + rx * math.cos(f2);\n            y2 = cy + ry * math.sin(f2);\n            res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n        }\n        df = f2 - f1;\n        var c1 = math.cos(f1),\n            s1 = math.sin(f1),\n            c2 = math.cos(f2),\n            s2 = math.sin(f2),\n            t = math.tan(df / 4),\n            hx = 4 / 3 * rx * t,\n            hy = 4 / 3 * ry * t,\n            m1 = [x1, y1],\n            m2 = [x1 + hx * s1, y1 - hy * c1],\n            m3 = [x2 + hx * s2, y2 - hy * c2],\n            m4 = [x2, y2];\n        m2[0] = 2 * m1[0] - m2[0];\n        m2[1] = 2 * m1[1] - m2[1];\n        if (recursive) {\n            return [m2, m3, m4].concat(res);\n        } else {\n            res = [m2, m3, m4].concat(res).join().split(",");\n            var newres = [];\n            for (var i = 0, ii = res.length; i < ii; i++) {\n                newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n            }\n            return newres;\n        }\n    }\n    function findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t;\n        return {\n            x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n            y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n        };\n    }\n\n    // Returns bounding box of cubic bezier curve.\n    // Source: http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // Original version: NISHIO Hirokazu\n    // Modifications: https://github.com/timo22345\n    function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n        var tvalues = [],\n            bounds = [[], []],\n            a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n        for (var i = 0; i < 2; ++i) {\n            if (i == 0) {\n                b = 6 * x0 - 12 * x1 + 6 * x2;\n                a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n                c = 3 * x1 - 3 * x0;\n            } else {\n                b = 6 * y0 - 12 * y1 + 6 * y2;\n                a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n                c = 3 * y1 - 3 * y0;\n            }\n            if (abs(a) < 1e-12) {\n                if (abs(b) < 1e-12) {\n                    continue;\n                }\n                t = -c / b;\n                if (0 < t && t < 1) {\n                    tvalues.push(t);\n                }\n                continue;\n            }\n            b2ac = b * b - 4 * c * a;\n            sqrtb2ac = math.sqrt(b2ac);\n            if (b2ac < 0) {\n                continue;\n            }\n            t1 = (-b + sqrtb2ac) / (2 * a);\n            if (0 < t1 && t1 < 1) {\n                tvalues.push(t1);\n            }\n            t2 = (-b - sqrtb2ac) / (2 * a);\n            if (0 < t2 && t2 < 1) {\n                tvalues.push(t2);\n            }\n        }\n\n        var x, y, j = tvalues.length,\n            jlen = j,\n            mt;\n        while (j--) {\n            t = tvalues[j];\n            mt = 1 - t;\n            bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n            bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n        }\n\n        bounds[0][jlen] = x0;\n        bounds[1][jlen] = y0;\n        bounds[0][jlen + 1] = x3;\n        bounds[1][jlen + 1] = y3;\n        bounds[0].length = bounds[1].length = jlen + 2;\n\n\n        return {\n          min: {x: mmin.apply(0, bounds[0]), y: mmin.apply(0, bounds[1])},\n          max: {x: mmax.apply(0, bounds[0]), y: mmax.apply(0, bounds[1])}\n        };\n    }\n\n    function path2curve(path, path2) {\n        var pth = !path2 && paths(path);\n        if (!path2 && pth.curve) {\n            return pathClone(pth.curve);\n        }\n        var p = pathToAbsolute(path),\n            p2 = path2 && pathToAbsolute(path2),\n            attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n            processPath = function (path, d, pcom) {\n                var nx, ny;\n                if (!path) {\n                    return ["C", d.x, d.y, d.x, d.y, d.x, d.y];\n                }\n                !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n                switch (path[0]) {\n                    case "M":\n                        d.X = path[1];\n                        d.Y = path[2];\n                        break;\n                    case "A":\n                        path = ["C"].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                        break;\n                    case "S":\n                        if (pcom == "C" || pcom == "S") { // In "S" case we have to take into account, if the previous command is C/S.\n                            nx = d.x * 2 - d.bx;          // And reflect the previous\n                            ny = d.y * 2 - d.by;          // command\'s control point relative to the current point.\n                        }\n                        else {                            // or some else or nothing\n                            nx = d.x;\n                            ny = d.y;\n                        }\n                        path = ["C", nx, ny].concat(path.slice(1));\n                        break;\n                    case "T":\n                        if (pcom == "Q" || pcom == "T") { // In "T" case we have to take into account, if the previous command is Q/T.\n                            d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                            d.qy = d.y * 2 - d.qy;        // to case "S".\n                        }\n                        else {                            // or something else or nothing\n                            d.qx = d.x;\n                            d.qy = d.y;\n                        }\n                        path = ["C"].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                        break;\n                    case "Q":\n                        d.qx = path[1];\n                        d.qy = path[2];\n                        path = ["C"].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                        break;\n                    case "L":\n                        path = ["C"].concat(l2c(d.x, d.y, path[1], path[2]));\n                        break;\n                    case "H":\n                        path = ["C"].concat(l2c(d.x, d.y, path[1], d.y));\n                        break;\n                    case "V":\n                        path = ["C"].concat(l2c(d.x, d.y, d.x, path[1]));\n                        break;\n                    case "Z":\n                        path = ["C"].concat(l2c(d.x, d.y, d.X, d.Y));\n                        break;\n                }\n                return path;\n            },\n            fixArc = function (pp, i) {\n                if (pp[i].length > 7) {\n                    pp[i].shift();\n                    var pi = pp[i];\n                    while (pi.length) {\n                        pcoms1[i] = "A"; // if created multiple C:s, their original seg is saved\n                        p2 && (pcoms2[i] = "A"); // the same as above\n                        pp.splice(i++, 0, ["C"].concat(pi.splice(0, 6)));\n                    }\n                    pp.splice(i, 1);\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            fixM = function (path1, path2, a1, a2, i) {\n                if (path1 && path2 && path1[i][0] == "M" && path2[i][0] != "M") {\n                    path2.splice(i, 0, ["M", a2.x, a2.y]);\n                    a1.bx = 0;\n                    a1.by = 0;\n                    a1.x = path1[i][1];\n                    a1.y = path1[i][2];\n                    ii = mmax(p.length, p2 && p2.length || 0);\n                }\n            },\n            pcoms1 = [], // path commands of original path p\n            pcoms2 = [], // path commands of original path p2\n            pfirst = "", // temporary holder for original path command\n            pcom = ""; // holder for previous path command of original path\n        for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n            p[i] && (pfirst = p[i][0]); // save current path command\n\n            if (pfirst != "C") // C is not saved yet, because it may be result of conversion\n            {\n                pcoms1[i] = pfirst; // Save current path command\n                i && ( pcom = pcoms1[i - 1]); // Get previous path command pcom\n            }\n            p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n            if (pcoms1[i] != "A" && pfirst == "C") pcoms1[i] = "C"; // A is the only command\n            // which may produce multiple C:s\n            // so we have to make sure that C is also C in original path\n\n            fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n            if (p2) { // the same procedures is done to p2\n                p2[i] && (pfirst = p2[i][0]);\n                if (pfirst != "C") {\n                    pcoms2[i] = pfirst;\n                    i && (pcom = pcoms2[i - 1]);\n                }\n                p2[i] = processPath(p2[i], attrs2, pcom);\n\n                if (pcoms2[i] != "A" && pfirst == "C") {\n                    pcoms2[i] = "C";\n                }\n\n                fixArc(p2, i);\n            }\n            fixM(p, p2, attrs, attrs2, i);\n            fixM(p2, p, attrs2, attrs, i);\n            var seg = p[i],\n                seg2 = p2 && p2[i],\n                seglen = seg.length,\n                seg2len = p2 && seg2.length;\n            attrs.x = seg[seglen - 2];\n            attrs.y = seg[seglen - 1];\n            attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n            attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n            attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n            attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n            attrs2.x = p2 && seg2[seg2len - 2];\n            attrs2.y = p2 && seg2[seg2len - 1];\n        }\n        if (!p2) {\n            pth.curve = pathClone(p);\n        }\n        return p2 ? [p, p2] : p;\n    }\n    function mapPath(path, matrix) {\n        if (!matrix) {\n            return path;\n        }\n        var x, y, i, j, ii, jj, pathi;\n        path = path2curve(path);\n        for (i = 0, ii = path.length; i < ii; i++) {\n            pathi = path[i];\n            for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                x = matrix.x(pathi[j], pathi[j + 1]);\n                y = matrix.y(pathi[j], pathi[j + 1]);\n                pathi[j] = x;\n                pathi[j + 1] = y;\n            }\n        }\n        return path;\n    }\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push(["C",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n\n    // export\n    Snap.path = paths;\n\n    /*\\\n     * Snap.path.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the given path in pixels\n     **\n     - path (string) SVG path string\n     **\n     = (number) length\n    \\*/\n    Snap.path.getTotalLength = getTotalLength;\n    /*\\\n     * Snap.path.getPointAtLength\n     [ method ]\n     **\n     * Returns the coordinates of the point located at the given length along the given path\n     **\n     - path (string) SVG path string\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    Snap.path.getPointAtLength = getPointAtLength;\n    /*\\\n     * Snap.path.getSubpath\n     [ method ]\n     **\n     * Returns the subpath of a given path between given start and end lengths\n     **\n     - path (string) SVG path string\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    Snap.path.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns the length of the path in pixels (only works for `path` elements)\n     = (number) length\n    \\*/\n    elproto.getTotalLength = function () {\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n    };\n    // SIERRA Element.getPointAtLength()/Element.getTotalLength(): If a <path> is broken into different segments, is the jump distance to the new coordinates set by the _M_ or _m_ commands calculated as part of the path\'s total length?\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Returns coordinates of the point located at the given length on the given path (only works for `path` elements)\n     **\n     - length (number) length, in pixels, from the start of the path, excluding non-rendering jumps\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate,\n     o     y: (number) y coordinate,\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        return getPointAtLength(this.attr("d"), length);\n    };\n    // SIERRA Element.getSubpath(): Similar to the problem for Element.getPointAtLength(). Unclear how this would work for a segmented path. Overall, the concept of _subpath_ and what I\'m calling a _segment_ (series of non-_M_ or _Z_ commands) is unclear.\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Returns subpath of a given element from given start and end lengths (only works for `path` elements)\n     **\n     - from (number) length, in pixels, from the start of the path to the start of the segment\n     - to (number) length, in pixels, from the start of the path to the end of the segment\n     **\n     = (string) path string definition for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        return Snap.path.getSubpath(this.attr("d"), from, to);\n    };\n    Snap._.box = box;\n    /*\\\n     * Snap.path.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds dot coordinates on the given cubic bezir curve at the given t\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point,\n     o     y: (number) y coordinate of the point,\n     o     m: {\n     o         x: (number) x coordinate of the left anchor,\n     o         y: (number) y coordinate of the left anchor\n     o     },\n     o     n: {\n     o         x: (number) x coordinate of the right anchor,\n     o         y: (number) y coordinate of the right anchor\n     o     },\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve,\n     o         y: (number) y coordinate of the start of the curve\n     o     },\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve,\n     o         y: (number) y coordinate of the end of the curve\n     o     },\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    Snap.path.findDotsAtSegment = findDotsAtSegment;\n    /*\\\n     * Snap.path.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given cubic bezir curve\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezir curve\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.bezierBBox = bezierBBox;\n    /*\\\n     * Snap.path.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding box\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point is inside\n    \\*/\n    Snap.path.isPointInsideBBox = isPointInsideBBox;\n    Snap.closest = function (x, y, X, Y) {\n        var r = 100,\n            b = box(x - r / 2, y - r / 2, r, r),\n            inside = [],\n            getter = X[0].hasOwnProperty("x") ? function (i) {\n                return {\n                    x: X[i].x,\n                    y: X[i].y\n                };\n            } : function (i) {\n                return {\n                    x: X[i],\n                    y: Y[i]\n                };\n            },\n            found = 0;\n        while (r <= 1e6 && !found) {\n            for (var i = 0, ii = X.length; i < ii; i++) {\n                var xy = getter(i);\n                if (isPointInsideBBox(b, xy.x, xy.y)) {\n                    found++;\n                    inside.push(xy);\n                    break;\n                }\n            }\n            if (!found) {\n                r *= 2;\n                b = box(x - r / 2, y - r / 2, r, r)\n            }\n        }\n        if (r == 1e6) {\n            return;\n        }\n        var len = Infinity,\n            res;\n        for (i = 0, ii = inside.length; i < ii; i++) {\n            var l = Snap.len(x, y, inside[i].x, inside[i].y);\n            if (len > l) {\n                len = l;\n                inside[i].len = l;\n                res = inside[i];\n            }\n        }\n        return res;\n    };\n    /*\\\n     * Snap.path.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if bounding boxes intersect\n    \\*/\n    Snap.path.isBBoxIntersect = isBBoxIntersect;\n    /*\\\n     * Snap.path.intersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point,\n     o         y: (number) y coordinate of the point,\n     o         t1: (number) t value for segment of path1,\n     o         t2: (number) t value for segment of path2,\n     o         segment1: (number) order number for segment of path1,\n     o         segment2: (number) order number for segment of path2,\n     o         bez1: (array) eight coordinates representing bezir curve for the segment of path1,\n     o         bez2: (array) eight coordinates representing bezir curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    Snap.path.intersection = pathIntersection;\n    Snap.path.intersectionNumber = pathIntersectionNumber;\n    /*\\\n     * Snap.path.isPointInside\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     *\n     * Note: fill mode doesnt affect the result of this method.\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) `true` if point is inside the path\n    \\*/\n    Snap.path.isPointInside = isPointInsidePath;\n    /*\\\n     * Snap.path.getBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns the bounding box of a given path\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box,\n     o     y: (number) y coordinate of the left top point of the box,\n     o     x2: (number) x coordinate of the right bottom point of the box,\n     o     y2: (number) y coordinate of the right bottom point of the box,\n     o     width: (number) width of the box,\n     o     height: (number) height of the box\n     o }\n    \\*/\n    Snap.path.getBBox = pathBBox;\n    Snap.path.get = getPath;\n    /*\\\n     * Snap.path.toRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into relative values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toRelative = pathToRelative;\n    /*\\\n     * Snap.path.toAbsolute\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path coordinates into absolute values\n     - path (string) path string\n     = (array) path string\n    \\*/\n    Snap.path.toAbsolute = pathToAbsolute;\n    /*\\\n     * Snap.path.toCubic\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezir curves\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments\n    \\*/\n    Snap.path.toCubic = path2curve;\n    /*\\\n     * Snap.path.map\n     [ method ]\n     **\n     * Transform the path string with the given matrix\n     - path (string) path string\n     - matrix (object) see @Matrix\n     = (string) transformed path string\n    \\*/\n    Snap.path.map = mapPath;\n    Snap.path.toString = toString;\n    Snap.path.clone = pathClone;\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var mmax = Math.max,\n        mmin = Math.min;\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n\tthis.bindings = {};\n        this.length = 0;\n        this.type = "set";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i]) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set\n     *\n     * If the function returns `false`, the loop stops running.\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.animate\n     [ method ]\n     **\n     * Animates each element in set in sync.\n     *\n     **\n     - attrs (object) key-value pairs of destination attributes\n     - duration (number) duration of the animation in milliseconds\n     - easing (function) #optional easing function from @mina or custom\n     - callback (function) #optional callback function that executes when the animation ends\n     * or\n     - animation (array) array of animation parameter for each element in set in format `[attrs, duration, easing, callback]`\n     > Usage\n     | // animate all elements in set to radius 10\n     | set.animate({r: 10}, 500, mina.easein);\n     | // or\n     | // animate first element to radius 10, but second to radius 20 and in different time\n     | set.animate([{r: 10}, 500, mina.easein], [{r: 20}, 1500, mina.easein]);\n     = (Element) the current element\n    \\*/\n    setproto.animate = function (attrs, ms, easing, callback) {\n        if (typeof easing == "function" && !easing.length) {\n            callback = easing;\n            easing = mina.linear;\n        }\n        if (attrs instanceof Snap._.Animation) {\n            callback = attrs.callback;\n            easing = attrs.easing;\n            ms = easing.dur;\n            attrs = attrs.attr;\n        }\n        var args = arguments;\n        if (Snap.is(attrs, "array") && Snap.is(args[args.length - 1], "array")) {\n            var each = true;\n        }\n        var begin,\n            handler = function () {\n                if (begin) {\n                    this.b = begin;\n                } else {\n                    begin = this.b;\n                }\n            },\n            cb = 0,\n            set = this,\n            callbacker = callback && function () {\n                if (++cb == set.length) {\n                    callback.call(this);\n                }\n            };\n        return this.forEach(function (el, i) {\n            eve.once("snap.animcreated." + el.id, handler);\n            if (each) {\n                args[i] && el.animate.apply(el, args[i]);\n            } else {\n                el.animate(attrs, ms, easing, callbacker);\n            }\n        });\n    };\n    /*\\\n     * Set.remove\n     [ method ]\n     **\n     * Removes all children of the set.\n     *\n     = (object) Set object\n    \\*/\n    setproto.remove = function () {\n        while (this.length) {\n            this.pop().remove();\n        }\n        return this;\n    };\n    /*\\\n     * Set.bind\n     [ method ]\n     **\n     * Specifies how to handle a specific attribute when applied\n     * to a set.\n     *\n     **\n     - attr (string) attribute name\n     - callback (function) function to run\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     * or\n     - attr (string) attribute name\n     - element (Element) specific element in the set to apply the attribute to\n     - eattr (string) attribute on the element to bind the attribute to\n     = (object) Set object\n    \\*/\n    setproto.bind = function (attr, a, b) {\n        var data = {};\n        if (typeof a == "function") {\n            this.bindings[attr] = a;\n        } else {\n            var aname = b || attr;\n            this.bindings[attr] = function (v) {\n                data[aname] = v;\n                a.attr(data);\n            };\n        }\n        return this;\n    };\n    /*\\\n     * Set.attr\n     [ method ]\n     **\n     * Equivalent of @Element.attr.\n     = (object) Set object\n    \\*/\n    setproto.attr = function (value) {\n        var unbound = {};\n        for (var k in value) {\n            if (this.bindings[k]) {\n                this.bindings[k](value[k]);\n            } else {\n                unbound[k] = value[k];\n            }\n        }\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            this.items[i].attr(unbound);\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes range of elements from the set\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertion (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found and removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n        return false;\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Inserts set elements after given element.\n     **\n     - element (object) set will be inserted after this element\n     = (object) Set object\n    \\*/\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    /*\\\n     * Set.getBBox\n     [ method ]\n     **\n     * Union of all bboxes of the set. See @Element.getBBox.\n     = (object) bounding box descriptor. See @Element.getBBox.\n    \\*/\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin.apply(0, x);\n        y = mmin.apply(0, y);\n        x2 = mmax.apply(0, x2);\n        y2 = mmax.apply(0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y,\n            cx: x + (x2 - x) / 2,\n            cy: y + (y2 - y) / 2\n        };\n    };\n    /*\\\n     * Set.insertAfter\n     [ method ]\n     **\n     * Creates a clone of the set.\n     **\n     = (object) New Set object\n    \\*/\n    setproto.clone = function (s) {\n        s = new Set;\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return "Snap\\u2018s set";\n    };\n    setproto.type = "set";\n    // export\n    /*\\\n     * Snap.Set\n     [ property ]\n     **\n     * Set constructor.\n    \\*/\n    Snap.Set = Set;\n    /*\\\n     * Snap.set\n     [ method ]\n     **\n     * Creates a set and fills it with list of arguments.\n     **\n     = (object) New Set object\n     | var r = paper.rect(0, 0, 10, 10),\n     |     s1 = Snap.set(), // empty set\n     |     s2 = Snap.set(r, paper.circle(100, 100, 20)); // prefilled set\n    \\*/\n    Snap.set = function () {\n        var set = new Set;\n        if (arguments.length) {\n            set.push.apply(set, Array.prototype.slice.call(arguments, 0));\n        }\n        return set;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var names = {},\n        reUnit = /[%a-z]+$/i,\n        Str = String;\n    names.stroke = names.fill = "colour";\n    function getEmpty(item) {\n        var l = item[0];\n        switch (l.toLowerCase()) {\n            case "t": return [l, 0, 0];\n            case "m": return [l, 1, 0, 0, 1, 0, 0];\n            case "r": if (item.length == 4) {\n                return [l, 0, item[2], item[3]];\n            } else {\n                return [l, 0];\n            }\n            case "s": if (item.length == 5) {\n                return [l, 1, 1, item[3], item[4]];\n            } else if (item.length == 3) {\n                return [l, 1, 1];\n            } else {\n                return [l, 1];\n            }\n        }\n    }\n    function equaliseTransform(t1, t2, getBBox) {\n        t1 = t1 || new Snap.Matrix;\n        t2 = t2 || new Snap.Matrix;\n        t1 = Snap.parseTransformString(t1.toTransformString()) || [];\n        t2 = Snap.parseTransformString(t2.toTransformString()) || [];\n        var maxlength = Math.max(t1.length, t2.length),\n            from = [],\n            to = [],\n            i = 0, j, jj,\n            tt1, tt2;\n        for (; i < maxlength; i++) {\n            tt1 = t1[i] || getEmpty(t2[i]);\n            tt2 = t2[i] || getEmpty(tt1);\n            if (tt1[0] != tt2[0] ||\n                tt1[0].toLowerCase() == "r" && (tt1[2] != tt2[2] || tt1[3] != tt2[3]) ||\n                tt1[0].toLowerCase() == "s" && (tt1[3] != tt2[3] || tt1[4] != tt2[4])\n                ) {\n                    t1 = Snap._.transform2matrix(t1, getBBox());\n                    t2 = Snap._.transform2matrix(t2, getBBox());\n                    from = [["m", t1.a, t1.b, t1.c, t1.d, t1.e, t1.f]];\n                    to = [["m", t2.a, t2.b, t2.c, t2.d, t2.e, t2.f]];\n                    break;\n            }\n            from[i] = [];\n            to[i] = [];\n            for (j = 0, jj = Math.max(tt1.length, tt2.length); j < jj; j++) {\n                j in tt1 && (from[i][j] = tt1[j]);\n                j in tt2 && (to[i][j] = tt2[j]);\n            }\n        }\n        return {\n            from: path2array(from),\n            to: path2array(to),\n            f: getPath(from)\n        };\n    }\n    function getNumber(val) {\n        return val;\n    }\n    function getUnit(unit) {\n        return function (val) {\n            return +val.toFixed(3) + unit;\n        };\n    }\n    function getViewBox(val) {\n        return val.join(" ");\n    }\n    function getColour(clr) {\n        return Snap.rgb(clr[0], clr[1], clr[2], clr[3]);\n    }\n    function getPath(path) {\n        var k = 0, i, ii, j, jj, out, a, b = [];\n        for (i = 0, ii = path.length; i < ii; i++) {\n            out = "[";\n            a = [\'"\' + path[i][0] + \'"\'];\n            for (j = 1, jj = path[i].length; j < jj; j++) {\n                a[j] = "val[" + k++ + "]";\n            }\n            out += a + "]";\n            b[i] = out;\n        }\n        return Function("val", "return Snap.path.toString.call([" + b + "])");\n    }\n    function path2array(path) {\n        var out = [];\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            for (var j = 1, jj = path[i].length; j < jj; j++) {\n                out.push(path[i][j]);\n            }\n        }\n        return out;\n    }\n    function isNumeric(obj) {\n        return isFinite(obj);\n    }\n    function arrayEqual(arr1, arr2) {\n        if (!Snap.is(arr1, "array") || !Snap.is(arr2, "array")) {\n            return false;\n        }\n        return arr1.toString() == arr2.toString();\n    }\n    Element.prototype.equal = function (name, b) {\n        return eve("snap.util.equal", this, name, b).firstDefined();\n    };\n    eve.on("snap.util.equal", function (name, b) {\n        var A, B, a = Str(this.attr(name) || ""),\n            el = this;\n        if (names[name] == "colour") {\n            A = Snap.color(a);\n            B = Snap.color(b);\n            return {\n                from: [A.r, A.g, A.b, A.opacity],\n                to: [B.r, B.g, B.b, B.opacity],\n                f: getColour\n            };\n        }\n        if (name == "viewBox") {\n            A = this.attr(name).vb.split(" ").map(Number);\n            B = b.split(" ").map(Number);\n            return {\n                from: A,\n                to: B,\n                f: getViewBox\n            };\n        }\n        if (name == "transform" || name == "gradientTransform" || name == "patternTransform") {\n            if (typeof b == "string") {\n                b = Str(b).replace(/\\.{3}|\\u2026/g, a);\n            }\n            a = this.matrix;\n            if (!Snap._.rgTransform.test(b)) {\n                b = Snap._.transform2matrix(Snap._.svgTransform2string(b), this.getBBox());\n            } else {\n                b = Snap._.transform2matrix(b, this.getBBox());\n            }\n            return equaliseTransform(a, b, function () {\n                return el.getBBox(1);\n            });\n        }\n        if (name == "d" || name == "path") {\n            A = Snap.path.toCubic(a, b);\n            return {\n                from: path2array(A[0]),\n                to: path2array(A[1]),\n                f: getPath(A[0])\n            };\n        }\n        if (name == "points") {\n            A = Str(a).split(Snap._.separator);\n            B = Str(b).split(Snap._.separator);\n            return {\n                from: A,\n                to: B,\n                f: function (val) { return val; }\n            };\n        }\n        if (isNumeric(a) && isNumeric(b)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getNumber\n            };\n        }\n        var aUnit = a.match(reUnit),\n            bUnit = Str(b).match(reUnit);\n        if (aUnit && arrayEqual(aUnit, bUnit)) {\n            return {\n                from: parseFloat(a),\n                to: parseFloat(b),\n                f: getUnit(aUnit)\n            };\n        } else {\n            return {\n                from: this.asPX(name),\n                to: this.asPX(name, b),\n                f: getNumber\n            };\n        }\n    });\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n    has = "hasOwnProperty",\n    supportsTouch = "createTouch" in glob.doc,\n    events = [\n        "click", "dblclick", "mousedown", "mousemove", "mouseout",\n        "mouseover", "mouseup", "touchstart", "touchmove", "touchend",\n        "touchcancel"\n    ],\n    touchMap = {\n        mousedown: "touchstart",\n        mousemove: "touchmove",\n        mouseup: "touchend"\n    },\n    getScroll = function (xy, el) {\n        var name = xy == "y" ? "scrollTop" : "scrollLeft",\n            doc = el && el.node ? el.node.ownerDocument : glob.doc;\n        return doc[name in doc.documentElement ? "documentElement" : "body"][name];\n    },\n    preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    addEvent = function (obj, type, fn, element) {\n        var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n            f = function (e) {\n                var scrollY = getScroll("y", element),\n                    scrollX = getScroll("x", element);\n                if (supportsTouch && touchMap[has](type)) {\n                    for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                        if (e.targetTouches[i].target == obj || obj.contains(e.targetTouches[i].target)) {\n                            var olde = e;\n                            e = e.targetTouches[i];\n                            e.originalEvent = olde;\n                            e.preventDefault = preventTouch;\n                            e.stopPropagation = stopTouch;\n                            break;\n                        }\n                    }\n                }\n                var x = e.clientX + scrollX,\n                    y = e.clientY + scrollY;\n                return fn.call(element, e, x, y);\n            };\n\n        if (type !== realName) {\n            obj.addEventListener(type, f, false);\n        }\n\n        obj.addEventListener(realName, f, false);\n\n        return function () {\n            if (type !== realName) {\n                obj.removeEventListener(type, f, false);\n            }\n\n            obj.removeEventListener(realName, f, false);\n            return true;\n        };\n    },\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = getScroll("y"),\n            scrollX = getScroll("x"),\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch) {\n                var i = e.touches && e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id || dragi.el.node.contains(touch.target)) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            // glob.win.opera && parent.removeChild(node);\n            // node.style.display = "none";\n            // o = dragi.el.paper.getElementByPoint(x, y);\n            // node.style.display = display;\n            // glob.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            // o && eve("snap.drag.over." + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve("snap.drag.move." + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        Snap.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve("snap.drag.end." + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n            eve.off("snap.drag.*." + dragi.el.id);\n        }\n        drag = [];\n    };\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds a click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes a click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds a double click event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes a double click event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds a mousedown event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes a mousedown event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds a mousemove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes a mousemove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds a mouseout event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes a mouseout event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds a mouseover event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes a mouseover event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds a mouseup event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes a mouseup event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds a touchstart event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes a touchstart event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds a touchmove event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes a touchmove event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds a touchend event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes a touchend event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    \n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds a touchcancel event handler to the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes a touchcancel event handler from the element\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            Snap[eventName] = elproto[eventName] = function (fn, scope) {\n                if (Snap.is(fn, "function")) {\n                    this.events = this.events || [];\n                    this.events.push({\n                        name: eventName,\n                        f: fn,\n                        unbind: addEvent(this.node || document, eventName, fn, scope || this)\n                    });\n                } else {\n                    for (var i = 0, ii = this.events.length; i < ii; i++) if (this.events[i].name == eventName) {\n                        try {\n                            this.events[i].f.call(this);\n                        } catch (e) {}\n                    }\n                }\n                return this;\n            };\n            Snap["un" + eventName] =\n            elproto["un" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--) if (events[l].name == eventName &&\n                               (events[l].f == fn || !fn)) {\n                    events[l].unbind();\n                    events.splice(l, 1);\n                    !events.length && delete this.events;\n                    return this;\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds hover event handlers to the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes hover event handlers from the element\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    // SIERRA unclear what _context_ refers to for starting, ending, moving the drag gesture.\n    // SIERRA Element.drag(): _x position of the mouse_: Where are the x/y values offset from?\n    // SIERRA Element.drag(): much of this member\'s doc appears to be duplicated for some reason.\n    // SIERRA Unclear about this sentence: _Additionally following drag events will be triggered: drag.start.<id> on start, drag.end.<id> on end and drag.move.<id> on every move._ Is there a global _drag_ object to which you can assign handlers keyed by an element\'s ID?\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for an element\'s drag gesture\n     **\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionaly following `drag` events are triggered: `drag.start.<id>` on start, \n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element is dragged over another element \n     * `drag.over.<id>` fires as well.\n     *\n     * Start event and start handler are called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler are called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler are called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        var el = this;\n        if (!arguments.length) {\n            var origTransform;\n            return el.drag(function (dx, dy) {\n                this.attr({\n                    transform: origTransform + (origTransform ? "T" : "t") + [dx, dy]\n                });\n            }, function () {\n                origTransform = this.transform().local;\n            });\n        }\n        function start(e, x, y) {\n            (e.originalEvent || e).preventDefault();\n            el._drag.x = x;\n            el._drag.y = y;\n            el._drag.id = e.identifier;\n            !drag.length && Snap.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: el, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on("snap.drag.start." + el.id, onstart);\n            onmove && eve.on("snap.drag.move." + el.id, onmove);\n            onend && eve.on("snap.drag.end." + el.id, onend);\n            eve("snap.drag.start." + el.id, start_scope || move_scope || el, x, y, e);\n        }\n        function init(e, x, y) {\n            eve("snap.draginit." + el.id, el, e, x, y);\n        }\n        eve.on("snap.draginit." + el.id, start);\n        el._drag = {};\n        draggable.push({el: el, start: start, init: init});\n        el.mousedown(init);\n        return el;\n    };\n    /*\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut to assign event handler for `drag.over.<id>` event, where `id` is the element\'s `id` (see @Element.id)\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    // elproto.onDragOver = function (f) {\n    //     f ? eve.on("snap.drag.over." + this.id, f) : eve.unbind("snap.drag.over." + this.id);\n    // };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from the given element\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].init);\n            draggable.splice(i, 1);\n            eve.unbind("snap.drag.*." + this.id);\n            eve.unbind("snap.draginit." + this.id);\n        }\n        !draggable.length && Snap.unmousemove(dragMove).unmouseup(dragUp);\n        return this;\n    };\n});\n\n// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    var elproto = Element.prototype,\n        pproto = Paper.prototype,\n        rgurl = /^\\s*url\\((.+)\\)/,\n        Str = String,\n        $ = Snap._.$;\n    Snap.filter = {};\n    /*\\\n     * Paper.filter\n     [ method ]\n     **\n     * Creates a `<filter>` element\n     **\n     - filstr (string) SVG fragment of filter provided as a string\n     = (object) @Element\n     * Note: It is recommended to use filters embedded into the page inside an empty SVG element.\n     > Usage\n     | var f = paper.filter(\'<feGaussianBlur stdDeviation="2"/>\'),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    pproto.filter = function (filstr) {\n        var paper = this;\n        if (paper.type != "svg") {\n            paper = paper.paper;\n        }\n        var f = Snap.parse(Str(filstr)),\n            id = Snap._.id(),\n            width = paper.node.offsetWidth,\n            height = paper.node.offsetHeight,\n            filter = $("filter");\n        $(filter, {\n            id: id,\n            filterUnits: "userSpaceOnUse"\n        });\n        filter.appendChild(f.node);\n        paper.defs.appendChild(filter);\n        return new Element(filter);\n    };\n\n    eve.on("snap.util.getattr.filter", function () {\n        eve.stop();\n        var p = $(this.node, "filter");\n        if (p) {\n            var match = Str(p).match(rgurl);\n            return match && Snap.select(match[1]);\n        }\n    });\n    eve.on("snap.util.attr.filter", function (value) {\n        if (value instanceof Element && value.type == "filter") {\n            eve.stop();\n            var id = value.node.id;\n            if (!id) {\n                $(value.node, {id: value.id});\n                id = value.id;\n            }\n            $(this.node, {\n                filter: Snap.url(id)\n            });\n        }\n        if (!value || value == "none") {\n            eve.stop();\n            this.node.removeAttribute("filter");\n        }\n    });\n    /*\\\n     * Snap.filter.blur\n     [ method ]\n     **\n     * Returns an SVG markup string for the blur filter\n     **\n     - x (number) amount of horizontal blur, in pixels\n     - y (number) #optional amount of vertical blur, in pixels\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.blur(5, 10)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.blur = function (x, y) {\n        if (x == null) {\n            x = 2;\n        }\n        var def = y == null ? x : [x, y];\n        return Snap.format(\'\\<feGaussianBlur stdDeviation="{def}"/>\', {\n            def: def\n        });\n    };\n    Snap.filter.blur.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.shadow\n     [ method ]\n     **\n     * Returns an SVG markup string for the shadow filter\n     **\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - blur (number) #optional amount of blur\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - color (string) #optional color of the shadow\n     - opacity (number) #optional `0..1` opacity of the shadow\n     * which makes blur default to `4`. Or\n     - dx (number) #optional horizontal shift of the shadow, in pixels\n     - dy (number) #optional vertical shift of the shadow, in pixels\n     - opacity (number) #optional `0..1` opacity of the shadow\n     = (string) filter representation\n     > Usage\n     | var f = paper.filter(Snap.filter.shadow(0, 2, .3)),\n     |     c = paper.circle(10, 10, 10).attr({\n     |         filter: f\n     |     });\n    \\*/\n    Snap.filter.shadow = function (dx, dy, blur, color, opacity) {\n        if (opacity == null) {\n            if (color == null) {\n                opacity = blur;\n                blur = 4;\n                color = "#000";\n            } else {\n                opacity = color;\n                color = blur;\n                blur = 4;\n            }\n        }\n        if (blur == null) {\n            blur = 4;\n        }\n        if (opacity == null) {\n            opacity = 1;\n        }\n        if (dx == null) {\n            dx = 0;\n            dy = 2;\n        }\n        if (dy == null) {\n            dy = dx;\n        }\n        color = Snap.color(color);\n        return Snap.format(\'<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>\', {\n            color: color,\n            dx: dx,\n            dy: dy,\n            blur: blur,\n            opacity: opacity\n        });\n    };\n    Snap.filter.shadow.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.grayscale\n     [ method ]\n     **\n     * Returns an SVG markup string for the grayscale filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.grayscale = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format(\'<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>\', {\n            a: 0.2126 + 0.7874 * (1 - amount),\n            b: 0.7152 - 0.7152 * (1 - amount),\n            c: 0.0722 - 0.0722 * (1 - amount),\n            d: 0.2126 - 0.2126 * (1 - amount),\n            e: 0.7152 + 0.2848 * (1 - amount),\n            f: 0.0722 - 0.0722 * (1 - amount),\n            g: 0.2126 - 0.2126 * (1 - amount),\n            h: 0.0722 + 0.9278 * (1 - amount)\n        });\n    };\n    Snap.filter.grayscale.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.sepia\n     [ method ]\n     **\n     * Returns an SVG markup string for the sepia filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.sepia = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format(\'<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>\', {\n            a: 0.393 + 0.607 * (1 - amount),\n            b: 0.769 - 0.769 * (1 - amount),\n            c: 0.189 - 0.189 * (1 - amount),\n            d: 0.349 - 0.349 * (1 - amount),\n            e: 0.686 + 0.314 * (1 - amount),\n            f: 0.168 - 0.168 * (1 - amount),\n            g: 0.272 - 0.272 * (1 - amount),\n            h: 0.534 - 0.534 * (1 - amount),\n            i: 0.131 + 0.869 * (1 - amount)\n        });\n    };\n    Snap.filter.sepia.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.saturate\n     [ method ]\n     **\n     * Returns an SVG markup string for the saturate filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.saturate = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format(\'<feColorMatrix type="saturate" values="{amount}"/>\', {\n            amount: 1 - amount\n        });\n    };\n    Snap.filter.saturate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.hueRotate\n     [ method ]\n     **\n     * Returns an SVG markup string for the hue-rotate filter\n     **\n     - angle (number) angle of rotation\n     = (string) filter representation\n    \\*/\n    Snap.filter.hueRotate = function (angle) {\n        angle = angle || 0;\n        return Snap.format(\'<feColorMatrix type="hueRotate" values="{angle}"/>\', {\n            angle: angle\n        });\n    };\n    Snap.filter.hueRotate.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.invert\n     [ method ]\n     **\n     * Returns an SVG markup string for the invert filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.invert = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n//        <feColorMatrix type="matrix" values="-1 0 0 0 1  0 -1 0 0 1  0 0 -1 0 1  0 0 0 1 0" color-interpolation-filters="sRGB"/>\n        return Snap.format(\'<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>\', {\n            amount: amount,\n            amount2: 1 - amount\n        });\n    };\n    Snap.filter.invert.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.brightness\n     [ method ]\n     **\n     * Returns an SVG markup string for the brightness filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.brightness = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format(\'<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>\', {\n            amount: amount\n        });\n    };\n    Snap.filter.brightness.toString = function () {\n        return this();\n    };\n    /*\\\n     * Snap.filter.contrast\n     [ method ]\n     **\n     * Returns an SVG markup string for the contrast filter\n     **\n     - amount (number) amount of filter (`0..1`)\n     = (string) filter representation\n    \\*/\n    Snap.filter.contrast = function (amount) {\n        if (amount == null) {\n            amount = 1;\n        }\n        return Snap.format(\'<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>\', {\n            amount: amount,\n            amount2: .5 - amount / 2\n        });\n    };\n    Snap.filter.contrast.toString = function () {\n        return this();\n    };\n});\n\n// Copyright (c) 2014 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob, Fragment) {\n    var box = Snap._.box,\n        is = Snap.is,\n        firstLetter = /^[^a-z]*([tbmlrc])/i,\n        toString = function () {\n            return "T" + this.dx + "," + this.dy;\n        };\n    /*\\\n     * Element.getAlign\n     [ method ]\n     **\n     * Returns shift needed to align the element relatively to given element.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `"top"`, `"middle"`, `"bottom"`, `"left"`, `"center"`, `"right"`\n     = (object|string) Object in format `{dx: , dy: }` also has a string representation as a transformation string\n     > Usage\n     | el.transform(el.getAlign(el2, "top"));\n     * or\n     | var dy = el.getAlign(el2, "top").dy;\n    \\*/\n    Element.prototype.getAlign = function (el, way) {\n        if (way == null && is(el, "string")) {\n            way = el;\n            el = null;\n        }\n        el = el || this.paper;\n        var bx = el.getBBox ? el.getBBox() : box(el),\n            bb = this.getBBox(),\n            out = {};\n        way = way && way.match(firstLetter);\n        way = way ? way[1].toLowerCase() : "c";\n        switch (way) {\n            case "t":\n                out.dx = 0;\n                out.dy = bx.y - bb.y;\n            break;\n            case "b":\n                out.dx = 0;\n                out.dy = bx.y2 - bb.y2;\n            break;\n            case "m":\n                out.dx = 0;\n                out.dy = bx.cy - bb.cy;\n            break;\n            case "l":\n                out.dx = bx.x - bb.x;\n                out.dy = 0;\n            break;\n            case "r":\n                out.dx = bx.x2 - bb.x2;\n                out.dy = 0;\n            break;\n            default:\n                out.dx = bx.cx - bb.cx;\n                out.dy = 0;\n            break;\n        }\n        out.toString = toString;\n        return out;\n    };\n    /*\\\n     * Element.align\n     [ method ]\n     **\n     * Aligns the element relatively to given one via transformation.\n     * If no elements specified, parent `<svg>` container will be used.\n     - el (object) @optional alignment element\n     - way (string) one of six values: `"top"`, `"middle"`, `"bottom"`, `"left"`, `"center"`, `"right"`\n     = (object) this element\n     > Usage\n     | el.align(el2, "top");\n     * or\n     | el.align("middle");\n    \\*/\n    Element.prototype.align = function (el, way) {\n        return this.transform("..." + this.getAlign(el, way));\n    };\n});\n\n// Copyright (c) 2017 Adobe Systems Incorporated. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nSnap.plugin(function (Snap, Element, Paper, glob) {\n    // Colours are from https://www.materialui.co\n    var red         = "#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000",\n        pink        = "#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162",\n        purple      = "#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF",\n        deeppurple  = "#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA",\n        indigo      = "#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE",\n        blue        = "#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF",\n        lightblue   = "#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA",\n        cyan        = "#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4",\n        teal        = "#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5",\n        green       = "#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853",\n        lightgreen  = "#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17",\n        lime        = "#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00",\n        yellow      = "#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600",\n        amber       = "#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00",\n        orange      = "#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00",\n        deeporange  = "#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00",\n        brown       = "#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723",\n        grey        = "#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121",\n        bluegrey    = "#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238";\n    /*\\\n     * Snap.mui\n     [ property ]\n     **\n     * Contain Material UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.mui.deeppurple, stroke: Snap.mui.amber[600]});\n     # For colour reference: <a href="https://www.materialui.co">https://www.materialui.co</a>.\n    \\*/\n    Snap.mui = {};\n    /*\\\n     * Snap.flat\n     [ property ]\n     **\n     * Contain Flat UI colours.\n     | Snap().rect(0, 0, 10, 10).attr({fill: Snap.flat.carrot, stroke: Snap.flat.wetasphalt});\n     # For colour reference: <a href="https://www.materialui.co">https://www.materialui.co</a>.\n    \\*/\n    Snap.flat = {};\n    function saveColor(colors) {\n        colors = colors.split(/(?=#)/);\n        var color = new String(colors[5]);\n        color[50] = colors[0];\n        color[100] = colors[1];\n        color[200] = colors[2];\n        color[300] = colors[3];\n        color[400] = colors[4];\n        color[500] = colors[5];\n        color[600] = colors[6];\n        color[700] = colors[7];\n        color[800] = colors[8];\n        color[900] = colors[9];\n        if (colors[10]) {\n            color.A100 = colors[10];\n            color.A200 = colors[11];\n            color.A400 = colors[12];\n            color.A700 = colors[13];\n        }\n        return color;\n    }\n    Snap.mui.red = saveColor(red);\n    Snap.mui.pink = saveColor(pink);\n    Snap.mui.purple = saveColor(purple);\n    Snap.mui.deeppurple = saveColor(deeppurple);\n    Snap.mui.indigo = saveColor(indigo);\n    Snap.mui.blue = saveColor(blue);\n    Snap.mui.lightblue = saveColor(lightblue);\n    Snap.mui.cyan = saveColor(cyan);\n    Snap.mui.teal = saveColor(teal);\n    Snap.mui.green = saveColor(green);\n    Snap.mui.lightgreen = saveColor(lightgreen);\n    Snap.mui.lime = saveColor(lime);\n    Snap.mui.yellow = saveColor(yellow);\n    Snap.mui.amber = saveColor(amber);\n    Snap.mui.orange = saveColor(orange);\n    Snap.mui.deeporange = saveColor(deeporange);\n    Snap.mui.brown = saveColor(brown);\n    Snap.mui.grey = saveColor(grey);\n    Snap.mui.bluegrey = saveColor(bluegrey);\n    Snap.flat.turquoise = "#1abc9c";\n    Snap.flat.greensea = "#16a085";\n    Snap.flat.sunflower = "#f1c40f";\n    Snap.flat.orange = "#f39c12";\n    Snap.flat.emerland = "#2ecc71";\n    Snap.flat.nephritis = "#27ae60";\n    Snap.flat.carrot = "#e67e22";\n    Snap.flat.pumpkin = "#d35400";\n    Snap.flat.peterriver = "#3498db";\n    Snap.flat.belizehole = "#2980b9";\n    Snap.flat.alizarin = "#e74c3c";\n    Snap.flat.pomegranate = "#c0392b";\n    Snap.flat.amethyst = "#9b59b6";\n    Snap.flat.wisteria = "#8e44ad";\n    Snap.flat.clouds = "#ecf0f1";\n    Snap.flat.silver = "#bdc3c7";\n    Snap.flat.wetasphalt = "#34495e";\n    Snap.flat.midnightblue = "#2c3e50";\n    Snap.flat.concrete = "#95a5a6";\n    Snap.flat.asbestos = "#7f8c8d";\n    /*\\\n     * Snap.importMUIColors\n     [ method ]\n     **\n     * Imports Material UI colours into global object.\n     | Snap.importMUIColors();\n     | Snap().rect(0, 0, 10, 10).attr({fill: deeppurple, stroke: amber[600]});\n     # For colour reference: <a href="https://www.materialui.co">https://www.materialui.co</a>.\n    \\*/\n    Snap.importMUIColors = function () {\n        for (var color in Snap.mui) {\n            if (Snap.mui.hasOwnProperty(color)) {\n                window[color] = Snap.mui[color];\n            }\n        }\n    };\n});\n\nreturn Snap;\n}));'},function(e,t){!function(){"use strict";let e={};t.setData=(t,n)=>{e[t]=n},t.getData=t=>e.hasOwnProperty(t)?e[t]:null,t.empty=()=>{e={}}}()},function(e,t,n){!function(){"use strict";let e=!0;let i=0;const r=n(40),a=Object.assign(r.config,{globalPosition:"top center",position:"top center",className:"warning",autoHide:!0});let o=null;const s=()=>{isTemplate||(o=setInterval(()=>{e&&i++,i>=60&&(e=!1,clearInterval(o),o=null,"function"==typeof t.callbackAfterUserNotActive&&t.pendingChanges&&isSigned&&($.notify(beforeSaveMessage,a),setTimeout(()=>t.callbackAfterUserNotActive(),5e3)))},1e3))},l=()=>{i=0,e=!0,null===o&&s()};s(),t.addUserActionsToRoot=()=>{document.addEventListener("keydown",e=>{l()}),document.addEventListener("mousedown",e=>{l()}),document.addEventListener("mousemove",e=>{l()})},t.addUserActionsToIframe=e=>{e.addEventListener("keydown",e=>{l()}),e.addEventListener("mousedown",e=>{l()}),e.addEventListener("mousemove",e=>{l()})},t.getStatus=()=>e,t.callbackAfterUserNotActive=null,t.pendingChanges=!1}()},function(e,t){var n;Calendar=function(){function e(e){return"string"==typeof e&&(e=document.getElementById(e)),e}function t(e,t,n){for(n=0;n<e.length;++n)t(e[n])}function n(e){var t,i,r=0,a=0,o=/^div$/i.test(e.tagName);return o&&e.scrollLeft&&(r=e.scrollLeft),o&&e.scrollTop&&(a=e.scrollTop),t={x:e.offsetLeft-r,y:e.offsetTop-a},e.offsetParent&&(i=n(e.offsetParent),t.x+=i.x,t.y+=i.y),t}function i(e,t){var n=X?e.clientX+document.body.scrollLeft:e.pageX,i=X?e.clientY+document.body.scrollTop:e.pageY;return t&&(n-=t.x,i-=t.y),{x:n,y:i}}function r(e,t){var n=e.style;return null!=t&&(n.display=t?"":"none"),"none"!=n.display}function a(e,t){return""===t?X?e.style.filter="":e.style.opacity="":null!=t?X?e.style.filter="alpha(opacity="+100*t+")":e.style.opacity=t:X?/alpha\(opacity=([0-9.])+\)/.test(e.style.opacity)&&(t=parseFloat(RegExp.$1)/100):t=parseFloat(e.style.opacity),t}function o(e,t,n){function i(){var t=e.len;e.onUpdate(n/t,o),n==t&&r(),++n}function r(){t&&(clearInterval(t),t=null),e.onStop(n/e.len,o)}function a(){t&&r(),n=0,t=setInterval(i,1e3/e.fps)}function o(e,t,n,i){return i?n+e*(t-n):t+e*(n-t)}return e=g(e,{fps:50,len:15,onUpdate:se,onStop:se}),X&&(e.len=Math.round(e.len/2)),a(),{start:a,stop:r,update:i,args:e,map:o}}function s(e,t){if(!t(e))for(var n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&s(n,t)}function l(e,t){var n=c(arguments,2);return null==t?function(){return e.apply(this,n.concat(c(arguments)))}:function(){return e.apply(t,n.concat(c(arguments)))}}function c(e,t){var n,i,r;null==t&&(t=0);try{n=Array.prototype.slice.call(e,t)}catch(a){for(n=Array(e.length-t),i=t,r=0;i<e.length;++i,++r)n[r]=e[i]}return n}function d(e,t,n){var i=null;return i=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),t&&(i.className=t),n&&n.appendChild(i),i}function u(e,t,n){if(t instanceof Array)for(var i=t.length;--i>=0;)u(e,t[i],n);else p(t,n,e?n:null);return e}function h(e,t){return p(e,t,t)}function p(e,t,n){if(e){var i,r=e.className.replace(/^\s+|\s+$/,"").split(/\x20/),a=[];for(i=r.length;i>0;)r[--i]!=t&&a.push(r[i]);n&&a.push(n),e.className=a.join(" ")}return n}function f(e){return e=e||window.event,X?(e.cancelBubble=!0,e.returnValue=!1):(e.preventDefault(),e.stopPropagation()),!1}function m(e,t,n,i){if(e instanceof Array)for(var r=e.length;--r>=0;)m(e[r],t,n,i);else if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&m(e,r,t[r],n);else e.addEventListener?e.addEventListener(t,n,!!X||!!i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function g(e,t,n,i){for(n in i={},t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}function b(e){if(/\S/.test(e)){function t(t){for(var n=t.length;--n>=0;)if(0==t[n].toLowerCase().indexOf(e))return n+1}return t(A("smn"))||t(A("mn"))}}function v(e){if(e){if("number"==typeof e)return w(e);if(!(e instanceof Date)){var t=e.split(/-/);return new Date(parseInt(t[0],10),parseInt(t[1],10)-1,parseInt(t[2],10),12,0,0,0)}}return e}function y(e,t){var n,i=e.getMonth(),r=e.getDate(),a=e.getFullYear(),o=x(e),s=e.getDay(),l=e.getHours(),c=l>=12,d=c?l-12:l,u=function(e){e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);var t=new Date(e.getFullYear(),0,1,12,0,0),n=e-t;return Math.floor(n/864e5)}(e),h=e.getMinutes(),p=e.getSeconds();return 0===d&&(d=12),n={"%a":A("sdn")[s],"%A":A("dn")[s],"%b":A("smn")[i],"%B":A("mn")[i],"%C":1+Math.floor(a/100),"%d":r<10?"0"+r:r,"%e":r,"%H":l<10?"0"+l:l,"%I":d<10?"0"+d:d,"%j":u<10?"00"+u:u<100?"0"+u:u,"%k":l,"%l":d,"%m":i<9?"0"+(1+i):1+i,"%o":1+i,"%M":h<10?"0"+h:h,"%n":"\n","%p":c?"PM":"AM","%P":c?"pm":"am","%s":Math.floor(e.getTime()/1e3),"%S":p<10?"0"+p:p,"%t":"\t","%U":o<10?"0"+o:o,"%W":o<10?"0"+o:o,"%V":o<10?"0"+o:o,"%u":s+1,"%w":s,"%y":(""+a).substr(2,2),"%Y":a,"%%":"%"},t.replace(/%./g,(function(e){return n.hasOwnProperty(e)?n[e]:e}))}function _(e,t,n){var i=e.getFullYear(),r=e.getMonth(),a=e.getDate(),o=t.getFullYear(),s=t.getMonth(),l=t.getDate();return i<o?-3:i>o?3:r<s?-2:r>s?2:n?0:a<l?-1:a>l?1:0}function w(e,t,n,i,r){if(!(e instanceof Date)){e=parseInt(e,10);var a=Math.floor(e/1e4);e%=1e4;var o=Math.floor(e/100);e%=100,e=new Date(a,o-1,e,null==t?12:t,null==n?0:n,null==i?0:i,null==r?0:r)}return e}function k(e){return e instanceof Date?1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate():"string"==typeof e?parseInt(e,10):e}function x(e){var t=(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0)).getDay();e.setDate(e.getDate()-(t+6)%7+3);var n=e.valueOf();return e.setMonth(0),e.setDate(4),Math.round((n-e.valueOf())/6048e5)+1}function A(e,t){var n=ee.__.data[e];return t&&"string"==typeof n&&(n=C(n,t)),n}function C(e,t){return e.replace(/\$\{([^:\}]+)(:[^\}]+)?\}/g,(function(e,n,i){var r,a=t[n];return i&&(r=i.substr(1).split(/\s*\|\s*/),a=(a>=r.length?r[r.length-1]:r[a]).replace(/##?/g,(function(e){return 2==e.length?"#":a}))),a}))}function S(e){if(!this._menuAnim){var t=((e=e||window.event).target||e.srcElement).getAttribute("dyc-btn"),n=e.keyCode,i=e.charCode||n,r=re[n];if("year"==t&&13==n)return(d=new Date(this.date)).setDate(1),d.setFullYear(this._getInputYear()),this.moveTo(d,!0),I(this,!1),f(e);if(this._menuVisible){if(27==n)return I(this,!1),f(e)}else{if(e.ctrlKey||(r=null),null==r&&!e.ctrlKey&&(r=ae[n]),36==n&&(r=0),null!=r)return B(this,r),f(e);i=String.fromCharCode(i).toLowerCase();var a=this.els.yearInput,o=this.selection;if(" "==i)return I(this,!0),this.focus(),a.focus(),a.select(),f(e);if(i>="0"&&i<="9")return I(this,!0),this.focus(),a.value=i,a.focus(),f(e);for(var s=A("mn"),l=e.shiftKey?-1:this.date.getMonth(),c=0;++c<12;){if(0==s[(l+c)%12].toLowerCase().indexOf(i))return(d=new Date(this.date)).setDate(1),d.setMonth((l+c)%12),this.moveTo(d,!0),f(e)}if(n>=37&&n<=40){var d;if((d=this._lastHoverDate)||o.isEmpty()||((d=n<39?o.getFirstDate():o.getLastDate())<this._firstDateVisible||d>this._lastDateVisible)&&(d=null),d){var u=d;d=w(d);for(l=100;l-- >0;){switch(n){case 37:d.setDate(d.getDate()-1);break;case 38:d.setDate(d.getDate()-7);break;case 39:d.setDate(d.getDate()+1);break;case 40:d.setDate(d.getDate()+7)}if(!this.isDisabled(d))break}((d=k(d))<this._firstDateVisible||d>this._lastDateVisible)&&this.moveTo(d)}else d=n<39?this._lastDateVisible:this._firstDateVisible;return p(this._getDateDiv(u),h(this._getDateDiv(d),"DynarchCalendar-hover-date")),this._lastHoverDate=d,f(e)}if(13==n&&this._lastHoverDate)return o.type==q.SEL_MULTIPLE&&(e.shiftKey||e.ctrlKey)?(e.shiftKey&&this._selRangeStart&&(o.clear(!0),o.selectRange(this._selRangeStart,this._lastHoverDate)),e.ctrlKey&&o.set(this._selRangeStart=this._lastHoverDate,!0)):o.reset(this._selRangeStart=this._lastHoverDate),f(e);27==n&&!this.args.cont&&this.hide()}}}function E(){this.refresh();var e=this.inputField,t=this.selection;if(e){var n=t.print(this.dateFormat);/input|textarea/i.test(e.tagName)?e.value=n:e.innerHTML=n}this.callHooks("onSelect",this,t)}function T(e){var t=M(e=e||window.event);if(t){var n=t.getAttribute("dyc-btn"),i=t.getAttribute("dyc-type"),r=e.wheelDelta?e.wheelDelta/120:-e.detail/3;if(r=r<0?-1:r>0?1:0,this.args.reverseWheel&&(r=-r),/^(time-(hour|min))/.test(i)){switch(RegExp.$1){case"time-hour":this.setHours(this.getHours()+r);break;case"time-min":this.setMinutes(this.getMinutes()+this.args.minuteStep*r)}f(e)}else/Y/i.test(n)&&(r*=2),B(this,-r),f(e)}}function D(e,t){var n=M(t=t||window.event);if(n){var i=n.getAttribute("dyc-type");if(i&&!n.getAttribute("disabled")&&(!e||!this._bodyAnim||"date"!=i)){var r=n.getAttribute("dyc-cls");r=r?L(r,0):"DynarchCalendar-hover-"+i,("date"!=i||this.selection.type)&&u(e,n,r),"date"==i&&(u(e,n.parentNode.parentNode,"DynarchCalendar-hover-week"),this._showTooltip(n.getAttribute("dyc-date"))),/^time-hour/.test(i)&&u(e,this.els.timeHour,"DynarchCalendar-hover-time"),/^time-min/.test(i)&&u(e,this.els.timeMinute,"DynarchCalendar-hover-time"),p(this._getDateDiv(this._lastHoverDate),"DynarchCalendar-hover-date"),this._lastHoverDate=null}}e||this._showTooltip()}function L(e,t){return"DynarchCalendar-"+e.split(/,/)[t]}function M(e){for(var t=e.target||e.srcElement,n=t;t&&t.getAttribute&&!t.getAttribute("dyc-type");)t=t.parentNode;return t.getAttribute&&t||n}function $(e){e=e||window.event;var t=this.els.topCont.style,n=i(e,this._mouseDiff);t.left=n.x+"px",t.top=n.y+"px"}function F(e,t){var r=M(t=t||window.event);if(r&&!r.getAttribute("disabled")){var a,o=r.getAttribute("dyc-btn"),s=r.getAttribute("dyc-type"),c=r.getAttribute("dyc-date"),d=this.selection,u={mouseover:f,mousemove:f,mouseup:function(e){var t=r.getAttribute("dyc-cls");t&&p(r,L(t,1)),clearTimeout(a),function e(t,n,i,r){if(t instanceof Array)for(var a=t.length;--a>=0;)e(t[a],n,i);else if("object"==typeof n)for(var a in n)n.hasOwnProperty(a)&&e(t,a,n[a],i);else t.removeEventListener?t.removeEventListener(n,i,!!X||!!r):t.detachEvent?t.detachEvent("on"+n,i):t["on"+n]=null}(document,u,!0),u=null}};if(e){setTimeout(l(this.focus,this),1);var g=r.getAttribute("dyc-cls");if(g&&h(r,L(g,1)),"menu"==o)this.toggleMenu();else if(r&&/^[+-][MY]$/.test(o))if(B(this,o)){var b=l((function(){B(this,o,!0)?a=setTimeout(b,40):(u.mouseup(),B(this,o))}),this);a=setTimeout(b,350),m(document,u,!0)}else u.mouseup();else if("year"==o)this.els.yearInput.focus(),this.els.yearInput.select();else if("time-am"==s)m(document,u,!0);else if(/^time/.test(s)){b=l((function(e){O.call(this,e),a=setTimeout(b,100)}),this,s);O.call(this,s),a=setTimeout(b,350),m(document,u,!0)}else c&&d.type&&(d.type==q.SEL_MULTIPLE?t.shiftKey&&this._selRangeStart?d.selectRange(this._selRangeStart,c):(!t.ctrlKey&&!d.isSelected(c)&&d.clear(!0),d.set(c,!0),this._selRangeStart=c):(d.set(c),this.moveTo(w(c),2)),r=this._getDateDiv(c),D.call(this,!0,{target:r})),m(document,u,!0);X&&u&&/dbl/i.test(t.type)&&u.mouseup(),!this.args.fixed&&/^(DynarchCalendar-(topBar|bottomBar|weekend|weekNumber|menu(-sep)?))?$/.test(r.className)&&!this.args.cont&&(u.mousemove=l($,this),this._mouseDiff=i(t,n(this.els.topCont)),m(document,u,!0))}else if("today"==o)!this._menuVisible&&d.type==q.SEL_SINGLE&&d.set(new Date),this.moveTo(new Date,!0),I(this,!1);else if(/^m([0-9]+)/.test(o)){(c=new Date(this.date)).setDate(1),c.setMonth(RegExp.$1),c.setFullYear(this._getInputYear()),this.moveTo(c,!0),I(this,!1)}else"time-am"==s&&this.setHours(this.getHours()+12);X||f(t)}}function I(e,t){e._menuVisible=t,u(t,e.els.title,"DynarchCalendar-pressed-title");var n=e.els.menu;if(Q&&(n.style.height=e.els.main.offsetHeight+"px"),e.args.animation){e._menuAnim&&e._menuAnim.stop();var i=e.els.main.offsetHeight;Q&&(n.style.width=e.els.topBar.offsetWidth+"px"),t&&(n.firstChild.style.marginTop=-i+"px",e.args.opacity>0&&a(n,0),r(n,!0)),e._menuAnim=o({onUpdate:function(r,o){n.firstChild.style.marginTop=o(oe.accel_b(r),-i,0,!t)+"px",e.args.opacity>0&&a(n,o(oe.accel_b(r),0,.85,!t))},onStop:function(){e.args.opacity>0&&a(n,.85),n.firstChild.style.marginTop="",e._menuAnim=null,t||(r(n,!1),e.focused&&e.focus())}})}else r(n,t),e.focused&&e.focus()}function B(e,t,n){var i;if(this._bodyAnim&&this._bodyAnim.stop(),0!=t)switch((i=new Date(e.date)).setDate(1),t){case"-Y":case-2:i.setFullYear(i.getFullYear()-1);break;case"+Y":case 2:i.setFullYear(i.getFullYear()+1);break;case"-M":case-1:i.setMonth(i.getMonth()-1);break;case"+M":case 1:i.setMonth(i.getMonth()+1)}else i=new Date;return e.moveTo(i,!n)}function O(e){switch(e){case"time-hour+":this.setHours(this.getHours()+1);break;case"time-hour-":this.setHours(this.getHours()-1);break;case"time-min+":this.setMinutes(this.getMinutes()+this.args.minuteStep);break;case"time-min-":this.setMinutes(this.getMinutes()-this.args.minuteStep);break;default:return}}function j(){this._bluringTimeout=setTimeout(l(R,this),50)}function R(){this.focused=!1,p(this.els.main,"DynarchCalendar-focused"),this._menuVisible&&I(this,!1),this.args.cont||this.hide(),this.callHooks("onBlur",this)}function N(){this._bluringTimeout&&clearTimeout(this._bluringTimeout),this.focused=!0,h(this.els.main,"DynarchCalendar-focused"),this.callHooks("onFocus",this)}function P(e){var t=d("div"),n=e.els={},i={mousedown:l(F,e,!0),mouseup:l(F,e,!1),mouseover:l(D,e,!0),mouseout:l(D,e,!1),keypress:l(S,e)};return e.args.noScroll||(i[J?"DOMMouseScroll":"mousewheel"]=l(T,e)),X&&(i.dblclick=i.mousedown,i.keydown=i.keypress),t.innerHTML=function(e){var t=["<table class='DynarchCalendar-topCont'",te,"><tr><td>","<div class='DynarchCalendar'>",X?"<a class='DynarchCalendar-focusLink' href='#'></a>":"<button class='DynarchCalendar-focusLink'></button>","<div class='DynarchCalendar-topBar'>","<div dyc-type='nav' dyc-btn='-Y' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-prevYear'><div></div></div>","<div dyc-type='nav' dyc-btn='+Y' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-nextYear'><div></div></div>","<div dyc-type='nav' dyc-btn='-M' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-prevMonth'><div></div></div>","<div dyc-type='nav' dyc-btn='+M' dyc-cls='hover-navBtn,pressed-navBtn' ","class='DynarchCalendar-navBtn DynarchCalendar-nextMonth'><div></div></div>","<table class='DynarchCalendar-titleCont'",te,"><tr><td>","<div dyc-type='title' dyc-btn='menu' dyc-cls='hover-title,pressed-title' class='DynarchCalendar-title'>",z(e),"</div></td></tr></table>","<div class='DynarchCalendar-dayNames'>",U(e),"</div>","</div>","<div class='DynarchCalendar-body'></div>"];return(e.args.bottomBar||e.args.showTime)&&t.push("<div class='DynarchCalendar-bottomBar'>",H(e),"</div>"),t.push("<div class='DynarchCalendar-menu' style='display: none'>",Y(e),"</div>","<div class='DynarchCalendar-tooltip'></div>","</div>","</td></tr></table>"),t.join("")}(e),s(t.firstChild,(function(e){var t=ne[e.className];t&&(n[t]=e),X&&e.setAttribute("unselectable","on")})),m(n.main,i),m([n.focusLink,n.yearInput],e._focusEvents={focus:l(N,e),blur:l(j,e)}),e.moveTo(e.date,!1),e.setTime(null,!0),n.topCont}function H(e){function t(){i.showTime&&(n.push("<td>"),function(e,t){t.push("<table class='DynarchCalendar-time'"+te+"><tr>","<td rowspan='2'><div dyc-type='time-hour' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-hour'></div></td>","<td dyc-type='time-hour+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>","<td rowspan='2' class='DynarchCalendar-time-sep'></td>","<td rowspan='2'><div dyc-type='time-min' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-minute'></div></td>","<td dyc-type='time-min+' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-up'></td>"),12==e.args.showTime&&t.push("<td rowspan='2' class='DynarchCalendar-time-sep'></td>","<td rowspan='2'><div class='DynarchCalendar-time-am' dyc-type='time-am' dyc-cls='hover-time,pressed-time'></div></td>"),t.push("</tr><tr>","<td dyc-type='time-hour-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td>","<td dyc-type='time-min-' dyc-cls='hover-time,pressed-time' class='DynarchCalendar-time-down'></td>","</tr></table>")}(e,n),n.push("</td>"))}var n=[],i=e.args;return n.push("<table",te," style='width:100%'><tr>"),"left"==i.timePos&&t(),i.bottomBar&&(n.push("<td>"),n.push("<table",te,"><tr><td>","<div dyc-btn='today' dyc-cls='hover-bottomBar-today,pressed-bottomBar-today' dyc-type='bottomBar-today' ","class='DynarchCalendar-bottomBar-today'>",A("today"),"</div>","</td></tr></table>"),n.push("</td>")),"right"==i.timePos&&t(),n.push("</tr></table>"),n.join("")}function Y(e){for(var t,n=["<table height='100%'",te,"><tr><td>","<table style='margin-top: 1.5em'",te,">","<tr><td colspan='3'><input dyc-btn='year' class='DynarchCalendar-menu-year' size='6' value='",e.date.getFullYear(),"' /></td></tr>","<tr><td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='today'>",A("goToday"),"</div></td></tr>","</table>","<p class='DynarchCalendar-menu-sep'>&nbsp;</p>","<table class='DynarchCalendar-menu-mtable'",te,">"],i=A("smn"),r=0,a=n.length;r<12;){for(n[a++]="<tr>",t=4;--t>0;)n[a++]="<td><div dyc-type='menubtn' dyc-cls='hover-navBtn,pressed-navBtn' dyc-btn='m"+r+"' class='DynarchCalendar-menu-month'>"+i[r++]+"</div></td>";n[a++]="</tr>"}return n[a++]="</table></td></tr></table>",n.join("")}function z(e){return"<div unselectable='on'>"+y(e.date,e.args.titleFormat)+"</div>"}function W(e,t,n){t=t||e.date,n=n||e.fdow;var i=(t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0)).getMonth(),r=[],a=0,o=e.args.weekNumbers;t.setDate(1);var s=(t.getDay()-n)%7;s<0&&(s+=7),t.setDate(0-s),t.setDate(t.getDate()+1);var l=new Date,c=l.getDate(),d=l.getMonth(),u=l.getFullYear();r[a++]="<table class='DynarchCalendar-bodyTable'"+te+">";for(var h=0;h<6;++h){r[a++]="<tr class='DynarchCalendar-week",0==h&&(r[a++]=" DynarchCalendar-first-row"),5==h&&(r[a++]=" DynarchCalendar-last-row"),r[a++]="'>",o&&(r[a++]="<td class='DynarchCalendar-first-col'><div class='DynarchCalendar-weekNumber'>"+x(t)+"</div></td>");for(var p=0;p<7;++p){var f=t.getDate(),m=t.getMonth(),g=t.getFullYear(),b=1e4*g+100*(m+1)+f,v=e.selection.isSelected(b),y=e.isDisabled(t);r[a++]="<td class='",0==p&&!o&&(r[a++]=" DynarchCalendar-first-col"),0==p&&0==h&&(e._firstDateVisible=b),6==p&&(r[a++]=" DynarchCalendar-last-col",5==h&&(e._lastDateVisible=b)),v&&(r[a++]=" DynarchCalendar-td-selected"),r[a++]="'><div dyc-type='date' unselectable='on' dyc-date='"+b+"' ",y&&(r[a++]="disabled='1' "),r[a++]="class='DynarchCalendar-day",A("weekend").indexOf(t.getDay())>=0&&(r[a++]=" DynarchCalendar-weekend"),m!=i&&(r[a++]=" DynarchCalendar-day-othermonth"),f==c&&m==d&&g==u&&(r[a++]=" DynarchCalendar-day-today"),y&&(r[a++]=" DynarchCalendar-day-disabled"),v&&(r[a++]=" DynarchCalendar-day-selected"),(y=e.args.dateInfo(t))&&y.klass&&(r[a++]=" "+y.klass),r[a++]="'>"+f+"</div></td>",t=new Date(g,m,f+1,12,0,0,0)}r[a++]="</tr>"}return r[a++]="</table>",r.join("")}function U(e){var t=["<table",te,"><tr>"],n=0;for(e.args.weekNumbers&&t.push("<td><div class='DynarchCalendar-weekNumber'>",A("wk"),"</div></td>");n<7;){var i=(n+++e.fdow)%7;t.push("<td><div",A("weekend").indexOf(i)>=0?" class='DynarchCalendar-weekend'>":">",A("sdn")[i],"</div></td>")}return t.push("</tr></table>"),t.join("")}function q(n){n=n||{},this.args=n=g(n,{animation:!Q,cont:null,bottomBar:!0,date:!0,fdow:A("fdow"),min:null,max:null,reverseWheel:!1,selection:[],selectionType:q.SEL_SINGLE,weekNumbers:!1,align:"Bl/ / /T/r",inputField:null,trigger:null,dateFormat:"%Y-%m-%d",fixed:!1,opacity:X?1:3,titleFormat:"%b %Y",showTime:!1,timePos:"right",time:!0,minuteStep:5,noScroll:!1,disabled:se,checkRange:!1,dateInfo:se,onChange:se,onSelect:se,onTimeChange:se,onFocus:se,onBlur:se}),this.handlers={};var i=this,r=new Date;n.min=v(n.min),n.max=v(n.max),!0===n.date&&(n.date=r),!0===n.time&&(n.time=100*r.getHours()+Math.floor(r.getMinutes()/n.minuteStep)*n.minuteStep),this.date=v(n.date),this.time=n.time,this.fdow=n.fdow,t("onChange onSelect onTimeChange onFocus onBlur".split(/\s+/),(function(e){var t=n[e];t instanceof Array||(t=[t]),i.handlers[e]=t})),this.selection=new q.Selection(n.selection,n.selectionType,E,this);var a=P(this);n.cont&&e(n.cont).appendChild(a),n.trigger&&this.manageFields(n.trigger,n.inputField,n.dateFormat)}var V=navigator.userAgent,G=/opera/i.test(V),K=/Konqueror|Safari|KHTML/i.test(V),X=/msie/i.test(V)&&!G&&!/mac_powerpc/i.test(V),Q=X&&/msie 6/i.test(V),J=/gecko/i.test(V)&&!K&&!G&&!X,Z=q.prototype,ee=q.I18N={};q.SEL_NONE=0,q.SEL_SINGLE=1,q.SEL_MULTIPLE=2,q.SEL_WEEK=3,q.dateToInt=k,q.intToDate=w,q.printDate=y,q.formatString=C,q.i18n=A,q.LANG=function(e,t,n){ee.__=ee[e]={name:t,data:n}},q.setup=function(e){return new q(e)},Z.moveTo=function(e,t){var n,i=this,r=_(e=v(e),i.date,!0),s=i.args,l=s.min&&_(e,s.min),c=s.max&&_(e,s.max);if(s.animation||(t=!1),u(null!=l&&l<=1,[i.els.navPrevMonth,i.els.navPrevYear],"DynarchCalendar-navDisabled"),u(null!=c&&c>=-1,[i.els.navNextMonth,i.els.navNextYear],"DynarchCalendar-navDisabled"),l<-1&&(e=s.min,n=1,r=0),c>1&&(e=s.max,n=2,r=0),i.date=e,i.refresh(!!t),i.callHooks("onChange",i,e,t),t&&(0!=r||2!=t)){i._bodyAnim&&i._bodyAnim.stop();var h=i.els.body,p=d("div","DynarchCalendar-animBody-"+ie[r],h),f=h.firstChild,m=(a(f),n?oe.brakes:0==r?oe.shake:oe.accel_ab2),g=r*r>4,b=g?f.offsetTop:f.offsetLeft,y=p.style,w=g?h.offsetHeight:h.offsetWidth;if(r<0?w+=b:r>0?w=b-w:(w=Math.round(w/7),2==n&&(w=-w)),!n&&0!=r){var k=p.cloneNode(!0),x=k.style,A=2*w;k.appendChild(f.cloneNode(!0)),x[g?"marginTop":"marginLeft"]=w+"px",h.appendChild(k)}f.style.visibility="hidden",p.innerHTML=W(i),i._bodyAnim=o({onUpdate:function(e,t){var o=m(e);if(k)var s=t(o,w,A)+"px";n?y[g?"marginTop":"marginLeft"]=t(o,w,0)+"px":((g||0==r)&&(y.marginTop=t(0==r?m(e*e):o,0,w)+"px",0!=r&&(x.marginTop=s)),g&&0!=r||(y.marginLeft=t(o,0,w)+"px",0!=r&&(x.marginLeft=s))),i.args.opacity>2&&k&&(a(k,1-o),a(p,o))},onStop:function(t){h.innerHTML=W(i,e),i._bodyAnim=null}})}return i._lastHoverDate=null,l>=-1&&c<=1},Z.isDisabled=function(e){var t=this.args;return t.min&&_(e,t.min)<0||t.max&&_(e,t.max)>0||t.disabled(e)},Z.toggleMenu=function(){I(this,!this._menuVisible)},Z.refresh=function(e){var t=this.els;e||(t.body.innerHTML=W(this)),t.title.innerHTML=z(this),t.yearInput.value=this.date.getFullYear()},Z.redraw=function(){var e=this,t=e.els;e.refresh(),t.dayNames.innerHTML=U(e),t.menu.innerHTML=Y(e),t.bottomBar&&(t.bottomBar.innerHTML=H(e)),s(t.topCont,(function(n){var i=ne[n.className];i&&(t[i]=n),"DynarchCalendar-menu-year"==n.className?(m(n,e._focusEvents),t.yearInput=n):X&&n.setAttribute("unselectable","on")})),e.setTime(null,!0)},Z.setLanguage=function(e){var t=q.setLanguage(e);t&&(this.fdow=t.data.fdow,this.redraw())},q.setLanguage=function(e){var t=ee[e];return t&&(ee.__=t),t},Z.focus=function(){try{this.els[this._menuVisible?"yearInput":"focusLink"].focus()}catch(e){}N.call(this)},Z.blur=function(){this.els.focusLink.blur(),this.els.yearInput.blur(),R.call(this)},Z.showAt=function(e,t,n){this._showAnim&&this._showAnim.stop(),n=n&&this.args.animation;var i=this.els.topCont,r=this,s=this.els.body.firstChild,l=s.offsetHeight,c=i.style;c.position="absolute",c.left=e+"px",c.top=t+"px",c.zIndex=1e4,c.display="",n&&(s.style.marginTop=-l+"px",this.args.opacity>1&&a(i,0),this._showAnim=o({onUpdate:function(e,t){s.style.marginTop=-t(oe.accel_b(e),l,0)+"px",r.args.opacity>1&&a(i,e)},onStop:function(){r.args.opacity>1&&a(i,""),r._showAnim=null}}))},Z.hide=function(){var e=this.els.topCont,t=this,i=this.els.body.firstChild,r=i.offsetHeight,s=n(e).y;this.args.animation?(this._showAnim&&this._showAnim.stop(),this._showAnim=o({onUpdate:function(n,o){t.args.opacity>1&&a(e,1-n),i.style.marginTop=-o(oe.accel_b(n),0,r)+"px",e.style.top=o(oe.accel_ab(n),s,s-10)+"px"},onStop:function(){e.style.display="none",i.style.marginTop="",t.args.opacity>1&&a(e,""),t._showAnim=null}})):e.style.display="none",this.inputField=null},Z.popup=function(t,i){function r(e){var n={x:d.x,y:d.y};return e?(/B/.test(e)&&(n.y+=t.offsetHeight),/b/.test(e)&&(n.y+=t.offsetHeight-a.y),/T/.test(e)&&(n.y-=a.y),/l/.test(e)&&(n.x-=a.x-t.offsetWidth),/L/.test(e)&&(n.x-=a.x),/R/.test(e)&&(n.x+=t.offsetWidth),/c/i.test(e)&&(n.x+=(t.offsetWidth-a.x)/2),/m/i.test(e)&&(n.y+=(t.offsetHeight-a.y)/2),n):n}t=e(t),i||(i=this.args.align),i=i.split(/\x2f/);var a,o=n(t),s=this.els.topCont,l=s.style,c=function(){var e=document.documentElement,t=document.body;return{x:e.scrollLeft||t.scrollLeft,y:e.scrollTop||t.scrollTop,w:e.clientWidth||window.innerWidth||t.clientWidth,h:e.clientHeight||window.innerHeight||t.clientHeight}}();l.visibility="hidden",l.display="",this.showAt(0,0),document.body.appendChild(s),a={x:s.offsetWidth,y:s.offsetHeight};var d=o;(d=r(i[0])).y<c.y&&(d.y=o.y,d=r(i[1])),d.x+a.x>c.x+c.w&&(d.x=o.x,d=r(i[2])),d.y+a.y>c.y+c.h&&(d.y=o.y,d=r(i[3])),d.x<c.x&&(d.x=o.x,d=r(i[4])),this.showAt(d.x,d.y,!0),l.visibility="",this.focus()},Z.manageFields=function(t,n,i){var r=this;n=e(n),t=e(t),/^button$/i.test(t.tagName)&&t.setAttribute("type","button"),m(t,"click",(function(){var e,a,o,s;(r.inputField=n,r.dateFormat=i,r.selection.type==q.SEL_SINGLE)&&((e=/input|textarea/i.test(n.tagName)?n.value:n.innerText||n.textContent)&&(a=/(^|[^%])%[bBmo]/.exec(i),o=/(^|[^%])%[de]/.exec(i),a&&o&&(s=a.index<o.index),(e=Calendar.parseDate(e,s))&&(r.selection.set(e,!1,!0),r.args.showTime&&(r.setHours(e.getHours()),r.setMinutes(e.getMinutes())),r.moveTo(e))));r.popup(t)}))},Z.callHooks=function(e){for(var t=c(arguments,1),n=this.handlers[e],i=0;i<n.length;++i)n[i].apply(this,t)},Z.addEventListener=function(e,t){this.handlers[e].push(t)},Z.removeEventListener=function(e,t){for(var n=this.handlers[e],i=n.length;--i>=0;)n[i]===t&&n.splice(i,1)},Z.getTime=function(){return this.time},Z.setTime=function(e,t){if(this.args.showTime){e=null!=e?e:this.time,this.time=e;var n=this.getHours(),i=this.getMinutes(),r=n<12;12==this.args.showTime&&(0==n&&(n=12),n>12&&(n-=12),this.els.timeAM.innerHTML=A(r?"AM":"PM")),n<10&&(n="0"+n),i<10&&(i="0"+i),this.els.timeHour.innerHTML=n,this.els.timeMinute.innerHTML=i,t||this.callHooks("onTimeChange",this,e)}},Z.getHours=function(){return Math.floor(this.time/100)},Z.getMinutes=function(){return this.time%100},Z.setHours=function(e){e<0&&(e+=24),this.setTime(e%24*100+this.time%100)},Z.setMinutes=function(e){e<0&&(e+=60),e=Math.floor(e/this.args.minuteStep)*this.args.minuteStep,this.setTime(100*this.getHours()+e%60)},Z._getInputYear=function(){var e=parseInt(this.els.yearInput.value,10);return isNaN(e)&&(e=this.date.getFullYear()),e},Z._showTooltip=function(e){var t,n="",i=this.els.tooltip;e&&(e=w(e),(t=this.args.dateInfo(e))&&t.tooltip&&(n="<div class='DynarchCalendar-tooltipCont'>"+y(e,t.tooltip)+"</div>")),i.innerHTML=n};var te=" align='center' cellspacing='0' cellpadding='0'",ne={"DynarchCalendar-topCont":"topCont","DynarchCalendar-focusLink":"focusLink",DynarchCalendar:"main","DynarchCalendar-topBar":"topBar","DynarchCalendar-title":"title","DynarchCalendar-dayNames":"dayNames","DynarchCalendar-body":"body","DynarchCalendar-menu":"menu","DynarchCalendar-menu-year":"yearInput","DynarchCalendar-bottomBar":"bottomBar","DynarchCalendar-tooltip":"tooltip","DynarchCalendar-time-hour":"timeHour","DynarchCalendar-time-minute":"timeMinute","DynarchCalendar-time-am":"timeAM","DynarchCalendar-navBtn DynarchCalendar-prevYear":"navPrevYear","DynarchCalendar-navBtn DynarchCalendar-nextYear":"navNextYear","DynarchCalendar-navBtn DynarchCalendar-prevMonth":"navPrevMonth","DynarchCalendar-navBtn DynarchCalendar-nextMonth":"navNextMonth"},ie={"-3":"backYear","-2":"back",0:"now",2:"fwd",3:"fwdYear"},re={37:-1,38:-2,39:1,40:2},ae={33:-1,34:1};Z._getDateDiv=function(e){var t=null;if(e)try{s(this.els.body,(function(n){if(n.getAttribute("dyc-date")==e)throw t=n}))}catch(e){}return t},(q.Selection=function(e,t,n,i){this.type=t,this.sel=e instanceof Array?e:[e],this.onChange=l(n,i),this.cal=i}).prototype={get:function(){return this.type==q.SEL_SINGLE?this.sel[0]:this.sel},isEmpty:function(){return 0==this.sel.length},set:function(e,t,n){var i=this.type==q.SEL_SINGLE;e instanceof Array?(this.sel=e,this.normalize(),n||this.onChange(this)):(e=k(e),i||!this.isSelected(e)?(i?this.sel=[e]:this.sel.splice(this.findInsertPos(e),0,e),this.normalize(),n||this.onChange(this)):t&&this.unselect(e,n))},reset:function(){this.sel=[],this.set.apply(this,arguments)},countDays:function(){for(var e,t,n,i=0,r=this.sel,a=r.length;--a>=0;)(e=r[a])instanceof Array&&(t=w(e[0]),n=w(e[1]),i+=Math.round(Math.abs(n.getTime()-t.getTime())/864e5)),++i;return i},unselect:function(e,t){e=k(e);for(var n,i=!1,r=this.sel,a=r.length;--a>=0;)if((n=r[a])instanceof Array){if(e>=n[0]&&e<=n[1]){var o=w(e),s=o.getDate();if(e==n[0])o.setDate(s+1),n[0]=k(o),i=!0;else if(e==n[1])o.setDate(s-1),n[1]=k(o),i=!0;else{var l=new Date(o);l.setDate(s+1),o.setDate(s-1),r.splice(a+1,0,[k(l),n[1]]),n[1]=k(o),i=!0}}}else e==n&&(r.splice(a,1),i=!0);i&&(this.normalize(),t||this.onChange(this))},normalize:function(){this.sel=this.sel.sort((function(e,t){return e instanceof Array&&(e=e[0]),t instanceof Array&&(t=t[0]),e-t}));for(var e,t,n=this.sel,i=n.length;--i>=0;){if((e=n[i])instanceof Array){if(e[0]>e[1]){n.splice(i,1);continue}e[0]==e[1]&&(e=n[i]=e[0])}if(t){var r=t,a=e instanceof Array?e[1]:e;if((a=w(a)).setDate(a.getDate()+1),(a=k(a))>=r){var o=n[i+1];e instanceof Array&&o instanceof Array?(e[1]=o[1],n.splice(i+1,1)):e instanceof Array?(e[1]=t,n.splice(i+1,1)):o instanceof Array?(o[0]=e,n.splice(i,1)):(n[i]=[e,o],n.splice(i+1,1))}}t=e instanceof Array?e[0]:e}},findInsertPos:function(e){for(var t,n=this.sel,i=n.length;--i>=0&&((t=n[i])instanceof Array&&(t=t[0]),!(t<=e)););return i+1},clear:function(e){this.sel=[],e||this.onChange(this)},selectRange:function(e,n){if((e=k(e))>(n=k(n))){var i=e;e=n,n=i}var r=this.cal.args.checkRange;if(!r)return this._do_selectRange(e,n);try{t(new q.Selection([[e,n]],q.SEL_MULTIPLE,se).getDates(),l((function(e){if(this.isDisabled(e))throw r instanceof Function&&r(e,this),"OUT"}),this.cal)),this._do_selectRange(e,n)}catch(e){}},_do_selectRange:function(e,t){this.sel.push([e,t]),this.normalize(),this.onChange(this)},isSelected:function(e){for(var t,n=this.sel.length;--n>=0;)if((t=this.sel[n])instanceof Array&&e>=t[0]&&e<=t[1]||e==t)return!0;return!1},getFirstDate:function(){var e=this.sel[0];return e&&e instanceof Array&&(e=e[0]),e},getLastDate:function(){if(this.sel.length>0){var e=this.sel[this.sel.length-1];return e&&e instanceof Array&&(e=e[1]),e}},print:function(e,t){var n,i=[],r=0,a=this.cal.getHours(),o=this.cal.getMinutes();for(t||(t=" -> ");r<this.sel.length;)(n=this.sel[r++])instanceof Array?i.push(y(w(n[0],a,o),e)+t+y(w(n[1],a,o),e)):i.push(y(w(n,a,o),e));return i},getDates:function(e){for(var t,n,i=[],r=0;r<this.sel.length;){if((n=this.sel[r++])instanceof Array)for(t=w(n[0]),n=n[1];k(t)<n;)i.push(e?y(t,e):new Date(t)),t.setDate(t.getDate()+1);else t=w(n);i.push(e?y(t,e):t)}return i}},q.isUnicodeLetter=function(e){return e.toUpperCase()!=e.toLowerCase()},q.parseDate=function(e,t,n){if(!/\S/.test(e))return"";e=e.replace(/^\s+/,"").replace(/\s+$/,""),n=n||new Date;var i=null,r=null,a=null,o=null,s=null,l=null,c=e.match(/([0-9]{1,2}):([0-9]{1,2})(:[0-9]{1,2})?\s*(am|pm)?/i);c&&(o=parseInt(c[1],10),s=parseInt(c[2],10),l=c[3]?parseInt(c[3].substr(1),10):0,e=e.substring(0,c.index)+e.substr(c.index+c[0].length),c[4]&&("pm"==c[4].toLowerCase()&&o<12?o+=12:"am"==c[4].toLowerCase()&&o>=12&&(o-=12)));for(var d=function(){function t(e){l.push(e)}function n(){for(var e="";r()&&/[0-9]/.test(r());)e+=a();return c(r())?i(e):parseInt(e,10)}function i(e){for(;r()&&c(r());)e+=a();return e}function r(){return e.charAt(s)}function a(){return e.charAt(s++)}for(var o,s=0,l=[],c=q.isUnicodeLetter;s<e.length;)o=r(),c(o)?t(i("")):/[0-9]/.test(o)?t(n()):a();return l}(),u=[],h=0;h<d.length;++h){var p=d[h];/^[0-9]{4}$/.test(p)?(i=parseInt(p,10),null==r&&null==a&&null==t&&(t=!0)):/^[0-9]{1,2}$/.test(p)?(p=parseInt(p,10))<60?p<0||p>12?p>=1&&p<=31&&(a=p):u.push(p):i=p:null==r&&(r=b(p))}return u.length<2?1==u.length&&(null==a?a=u.shift():null==r&&(r=u.shift())):t?(null==r&&(r=u.shift()),null==a&&(a=u.shift())):(null==a&&(a=u.shift()),null==r&&(r=u.shift())),null==i&&(i=u.length>0?u.shift():n.getFullYear()),i<30?i+=2e3:i<99&&(i+=1900),null==r&&(r=n.getMonth()+1),null!=i&&null!=r&&null!=a?new Date(i,r-1,a,o,s,l):null};var oe={elastic_b:function(e){return 1-Math.cos(5.5*-e*Math.PI)/Math.pow(2,7*e)},magnetic:function(e){return 1-Math.cos(e*e*e*10.5*Math.PI)/Math.exp(4*e)},accel_b:function(e){return 1-(e=1-e)*e*e*e},accel_a:function(e){return e*e*e},accel_ab:function(e){return e=1-e,1-Math.sin(e*e*Math.PI/2)},accel_ab2:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},brakes:function(e){return e=1-e,1-Math.sin(e*e*Math.PI)},shake:function(e){return e<.5?-Math.cos(11*e*Math.PI)*e*e:(e=1-e,Math.cos(11*e*Math.PI)*e*e)}},se=new Function;return q}(),Calendar.isUnicodeLetter=(n=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]","i"),function(e){return n.test(e)}),Calendar.LANG("en","English",{fdow:1,goToday:"Go Today",today:"Today",wk:"wk",weekend:"0,6",AM:"am",PM:"pm",mn:["January","February","March","April","May","June","July","August","September","October","November","December"],smn:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dn:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],sdn:["Su","Mo","Tu","We","Th","Fr","Sa","Su"]})},function(e,t,n){
/* flatpickr v4.6.6, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],_enable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},o=function(e){return!0===e?1:0};function s(e,t,n){var i;return void 0===n&&(n=!1),function(){var r=this,a=arguments;null!==i&&clearTimeout(i),i=window.setTimeout((function(){i=null,n||e.apply(r,a)}),t),n&&!i&&e.apply(r,a)}}var l=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(e,t){var n=d("div","numInputWrapper"),i=d("input","numInput "+e),r=d("span","arrowUp"),a=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var o in t)i.setAttribute(o,t[o]);return n.appendChild(i),n.appendChild(r),n.appendChild(a),n}function p(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var f=function(){},m=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},g={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),r=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[v.w(e,t,n)]},F:function(e,t,n){return m(v.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(v.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return m(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return a(e.getFullYear(),4)},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,o=void 0===a?r:a,s=e.isMobile,l=void 0!==s&&s;return function(e,t,i){var r=i||o;return void 0===n.formatDate||l?t.split("").map((function(t,i,a){return v[t]&&"\\"!==a[i-1]?v[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},_=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,o=void 0===a?r:a;return function(e,t,r,a){if(0===e||e){var s,l=a||o,c=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var d=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)s=new Date,r=!0;else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else if(n&&n.parseDate)s=n.parseDate(e,d);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var h=void 0,p=[],f=0,m=0,v="";f<d.length;f++){var y=d[f],_="\\"===y,w="\\"===d[f-1]||_;if(b[y]&&!w){v+=b[y];var k=new RegExp(v).exec(e);k&&(h=!0)&&p["Y"!==y?"push":"unshift"]({fn:g[y],val:k[++m]})}else _||(v+=".");p.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,l)||s}))}s=h?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+c))}}};function w(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var k=864e5;function x(f,g){var v={config:e(e({},i),C.defaultConfig),l10n:r};function x(e){return e.bind(v)}function A(){var e=v.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==v.calendarContainer&&(v.calendarContainer.style.visibility="hidden",v.calendarContainer.style.display="block"),void 0!==v.daysContainer){var t=(v.days.offsetWidth+1)*e.showMonths;v.daysContainer.style.width=t+"px",v.calendarContainer.style.width=t+(void 0!==v.weekWrapper?v.weekWrapper.offsetWidth:0)+"px",v.calendarContainer.style.removeProperty("visibility"),v.calendarContainer.style.removeProperty("display")}}))}function S(e){if(0===v.selectedDates.length){var t=void 0!==v.config.minDate?new Date(v.config.minDate.getTime()):new Date,n=D(),i=n.hours,r=n.minutes,s=n.seconds;t.setHours(i,r,s,0),v.setDate(t,!1)}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=p(e),i=n;void 0!==v.amPM&&n===v.amPM&&(v.amPM.textContent=v.l10n.amPM[o(v.amPM.textContent===v.l10n.amPM[0])]);var r=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),c=parseInt(i.value,10),d=e.delta||(t?38===e.which?1:-1:0),u=c+l*d;if(void 0!==i.value&&2===i.value.length){var h=i===v.hourElement,f=i===v.minuteElement;u<r?(u=s+u+o(!h)+(o(h)&&o(!v.amPM)),f&&O(void 0,-1,v.hourElement)):u>s&&(u=i===v.hourElement?u-s-o(!v.amPM):r,f&&O(void 0,1,v.hourElement)),v.amPM&&h&&(1===l?u+c===23:Math.abs(u-c)>l)&&(v.amPM.textContent=v.l10n.amPM[o(v.amPM.textContent===v.l10n.amPM[0])]),i.value=a(u)}}(e);var l=v._input.value;E(),ye(),v._input.value!==l&&v._debouncedChange()}function E(){if(void 0!==v.hourElement&&void 0!==v.minuteElement){var e,t,n=(parseInt(v.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(v.minuteElement.value,10)||0)%60,r=void 0!==v.secondElement?(parseInt(v.secondElement.value,10)||0)%60:0;void 0!==v.amPM&&(e=n,t=v.amPM.textContent,n=e%12+12*o(t===v.l10n.amPM[1]));var a=void 0!==v.config.minTime||v.config.minDate&&v.minDateHasTime&&v.latestSelectedDateObj&&0===w(v.latestSelectedDateObj,v.config.minDate,!0);if(void 0!==v.config.maxTime||v.config.maxDate&&v.maxDateHasTime&&v.latestSelectedDateObj&&0===w(v.latestSelectedDateObj,v.config.maxDate,!0)){var s=void 0!==v.config.maxTime?v.config.maxTime:v.config.maxDate;(n=Math.min(n,s.getHours()))===s.getHours()&&(i=Math.min(i,s.getMinutes())),i===s.getMinutes()&&(r=Math.min(r,s.getSeconds()))}if(a){var l=void 0!==v.config.minTime?v.config.minTime:v.config.minDate;(n=Math.max(n,l.getHours()))===l.getHours()&&(i=Math.max(i,l.getMinutes())),i===l.getMinutes()&&(r=Math.max(r,l.getSeconds()))}L(n,i,r)}}function T(e){var t=e||v.latestSelectedDateObj;t&&L(t.getHours(),t.getMinutes(),t.getSeconds())}function D(){var e=v.config.defaultHour,t=v.config.defaultMinute,n=v.config.defaultSeconds;if(void 0!==v.config.minDate){var i=v.config.minDate.getHours(),r=v.config.minDate.getMinutes();(e=Math.max(e,i))===i&&(t=Math.max(r,t)),e===i&&t===r&&(n=v.config.minDate.getSeconds())}if(void 0!==v.config.maxDate){var a=v.config.maxDate.getHours(),o=v.config.maxDate.getMinutes();(e=Math.min(e,a))===a&&(t=Math.min(o,t)),e===a&&t===o&&(n=v.config.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}function L(e,t,n){void 0!==v.latestSelectedDateObj&&v.latestSelectedDateObj.setHours(e%24,t,n||0,0),v.hourElement&&v.minuteElement&&!v.isMobile&&(v.hourElement.value=a(v.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),v.minuteElement.value=a(t),void 0!==v.amPM&&(v.amPM.textContent=v.l10n.amPM[o(e>=12)]),void 0!==v.secondElement&&(v.secondElement.value=a(n)))}function M(e){var t=p(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&Q(n)}function $(e,t,n,i){return t instanceof Array?t.forEach((function(t){return $(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return $(e,t,n,i)})):(e.addEventListener(t,n,i),void v._handlers.push({element:e,event:t,handler:n,options:i}))}function F(){fe("onChange")}function I(e,t){var n=void 0!==e?v.parseDate(e):v.latestSelectedDateObj||(v.config.minDate&&v.config.minDate>v.now?v.config.minDate:v.config.maxDate&&v.config.maxDate<v.now?v.config.maxDate:v.now),i=v.currentYear,r=v.currentMonth;try{void 0!==n&&(v.currentYear=n.getFullYear(),v.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,v.config.errorHandler(e)}t&&v.currentYear!==i&&(fe("onYearChange"),z()),!t||v.currentYear===i&&v.currentMonth===r||fe("onMonthChange"),v.redraw()}function B(e){var t=p(e);~t.className.indexOf("arrow")&&O(e,t.classList.contains("arrowUp")?1:-1)}function O(e,t,n){var i=e&&p(e),r=n||i&&i.parentNode&&i.parentNode.firstChild,a=me("increment");a.delta=t,r&&r.dispatchEvent(a)}function j(e,t,n,i){var r=J(t,!0),a=d("span","flatpickr-day "+e,t.getDate().toString());return a.dateObj=t,a.$i=i,a.setAttribute("aria-label",v.formatDate(t,v.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===w(t,v.now)&&(v.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,ge(t)&&(a.classList.add("selected"),v.selectedDateElem=a,"range"===v.config.mode&&(c(a,"startRange",v.selectedDates[0]&&0===w(t,v.selectedDates[0],!0)),c(a,"endRange",v.selectedDates[1]&&0===w(t,v.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===v.config.mode&&function(e){return!("range"!==v.config.mode||v.selectedDates.length<2)&&w(e,v.selectedDates[0])>=0&&w(e,v.selectedDates[1])<=0}(t)&&!ge(t)&&a.classList.add("inRange"),v.weekNumbers&&1===v.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&v.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+v.config.getWeek(t)+"</span>"),fe("onDayCreate",a),a}function R(e){e.focus(),"range"===v.config.mode&&ne(e)}function N(e){for(var t=e>0?0:v.config.showMonths-1,n=e>0?v.config.showMonths:-1,i=t;i!=n;i+=e)for(var r=v.daysContainer.children[i],a=e>0?0:r.children.length-1,o=e>0?r.children.length:-1,s=a;s!=o;s+=e){var l=r.children[s];if(-1===l.className.indexOf("hidden")&&J(l.dateObj))return l}}function P(e,t){var n=Z(document.activeElement||document.body),i=void 0!==e?e:n?document.activeElement:void 0!==v.selectedDateElem&&Z(v.selectedDateElem)?v.selectedDateElem:void 0!==v.todayDateElem&&Z(v.todayDateElem)?v.todayDateElem:N(t>0?1:-1);void 0===i?v._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():v.currentMonth,i=t>0?v.config.showMonths:-1,r=t>0?1:-1,a=n-v.currentMonth;a!=i;a+=r)for(var o=v.daysContainer.children[a],s=n-v.currentMonth===a?e.$i+t:t<0?o.children.length-1:0,l=o.children.length,c=s;c>=0&&c<l&&c!=(t>0?l:-1);c+=r){var d=o.children[c];if(-1===d.className.indexOf("hidden")&&J(d.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return R(d)}v.changeMonth(r),P(N(r),0)}(i,t):R(i)}function H(e,t){for(var n=(new Date(e,t,1).getDay()-v.l10n.firstDayOfWeek+7)%7,i=v.utils.getDaysInMonth((t-1+12)%12,e),r=v.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),o=v.config.showMonths>1,s=o?"prevMonthDay hidden":"prevMonthDay",l=o?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,u=0;c<=i;c++,u++)a.appendChild(j(s,new Date(e,t-1,c),c,u));for(c=1;c<=r;c++,u++)a.appendChild(j("",new Date(e,t,c),c,u));for(var h=r+1;h<=42-n&&(1===v.config.showMonths||u%7!=0);h++,u++)a.appendChild(j(l,new Date(e,t+1,h%r),h,u));var p=d("div","dayContainer");return p.appendChild(a),p}function Y(){if(void 0!==v.daysContainer){u(v.daysContainer),v.weekNumbers&&u(v.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<v.config.showMonths;t++){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),e.appendChild(H(n.getFullYear(),n.getMonth()))}v.daysContainer.appendChild(e),v.days=v.daysContainer.firstChild,"range"===v.config.mode&&1===v.selectedDates.length&&ne()}}function z(){if(!(v.config.showMonths>1||"dropdown"!==v.config.monthSelectorType)){var e=function(e){return!(void 0!==v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&e<v.config.minDate.getMonth()||void 0!==v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()&&e>v.config.maxDate.getMonth())};v.monthsDropdownContainer.tabIndex=-1,v.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(v.currentYear,t).getMonth().toString(),n.textContent=m(t,v.config.shorthandCurrentMonth,v.l10n),n.tabIndex=-1,v.currentMonth===t&&(n.selected=!0),v.monthsDropdownContainer.appendChild(n)}}}function W(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();v.config.showMonths>1||"static"===v.config.monthSelectorType?e=d("span","cur-month"):(v.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),v.monthsDropdownContainer.setAttribute("aria-label",v.l10n.monthAriaLabel),$(v.monthsDropdownContainer,"change",(function(e){var t=p(e),n=parseInt(t.value,10);v.changeMonth(n-v.currentMonth),fe("onMonthChange")})),z(),e=v.monthsDropdownContainer);var i=h("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",v.l10n.yearAriaLabel),v.config.minDate&&r.setAttribute("min",v.config.minDate.getFullYear().toString()),v.config.maxDate&&(r.setAttribute("max",v.config.maxDate.getFullYear().toString()),r.disabled=!!v.config.minDate&&v.config.minDate.getFullYear()===v.config.maxDate.getFullYear());var a=d("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(i),n.appendChild(a),t.appendChild(n),{container:t,yearElement:r,monthElement:e}}function U(){u(v.monthNav),v.monthNav.appendChild(v.prevMonthNav),v.config.showMonths&&(v.yearElements=[],v.monthElements=[]);for(var e=v.config.showMonths;e--;){var t=W();v.yearElements.push(t.yearElement),v.monthElements.push(t.monthElement),v.monthNav.appendChild(t.container)}v.monthNav.appendChild(v.nextMonthNav)}function q(){v.weekdayContainer?u(v.weekdayContainer):v.weekdayContainer=d("div","flatpickr-weekdays");for(var e=v.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");v.weekdayContainer.appendChild(t)}return V(),v.weekdayContainer}function V(){if(v.weekdayContainer){var e=v.l10n.firstDayOfWeek,n=t(v.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=v.config.showMonths;i--;)v.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function G(e,t){void 0===t&&(t=!0);var n=t?e:e-v.currentMonth;n<0&&!0===v._hidePrevMonthArrow||n>0&&!0===v._hideNextMonthArrow||(v.currentMonth+=n,(v.currentMonth<0||v.currentMonth>11)&&(v.currentYear+=v.currentMonth>11?1:-1,v.currentMonth=(v.currentMonth+12)%12,fe("onYearChange"),z()),Y(),fe("onMonthChange"),be())}function K(e){return!(!v.config.appendTo||!v.config.appendTo.contains(e))||v.calendarContainer.contains(e)}function X(e){if(v.isOpen&&!v.config.inline){var t=p(e),n=K(t),i=t===v.input||t===v.altInput||v.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(v.input)||~e.path.indexOf(v.altInput)),r="blur"===e.type?i&&e.relatedTarget&&!K(e.relatedTarget):!i&&!n&&!K(e.relatedTarget),a=!v.config.ignoredFocusElements.some((function(e){return e.contains(t)}));r&&a&&(void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement&&""!==v.input.value&&void 0!==v.input.value&&S(),v.close(),v.config&&"range"===v.config.mode&&1===v.selectedDates.length&&(v.clear(!1),v.redraw()))}}function Q(e){if(!(!e||v.config.minDate&&e<v.config.minDate.getFullYear()||v.config.maxDate&&e>v.config.maxDate.getFullYear())){var t=e,n=v.currentYear!==t;v.currentYear=t||v.currentYear,v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth=Math.min(v.config.maxDate.getMonth(),v.currentMonth):v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&(v.currentMonth=Math.max(v.config.minDate.getMonth(),v.currentMonth)),n&&(v.redraw(),fe("onYearChange"),z())}}function J(e,t){void 0===t&&(t=!0);var n=v.parseDate(e,void 0,t);if(v.config.minDate&&n&&w(n,v.config.minDate,void 0!==t?t:!v.minDateHasTime)<0||v.config.maxDate&&n&&w(n,v.config.maxDate,void 0!==t?t:!v.maxDateHasTime)>0)return!1;if(0===v.config.enable.length&&0===v.config.disable.length)return!0;if(void 0===n)return!1;for(var i=v.config.enable.length>0,r=i?v.config.enable:v.config.disable,a=0,o=void 0;a<r.length;a++){if("function"==typeof(o=r[a])&&o(n))return i;if(o instanceof Date&&void 0!==n&&o.getTime()===n.getTime())return i;if("string"==typeof o&&void 0!==n){var s=v.parseDate(o,void 0,!0);return s&&s.getTime()===n.getTime()?i:!i}if("object"==typeof o&&void 0!==n&&o.from&&o.to&&n.getTime()>=o.from.getTime()&&n.getTime()<=o.to.getTime())return i}return!i}function Z(e){return void 0!==v.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&v.daysContainer.contains(e)}function ee(e){e.target!==v._input||e.relatedTarget&&K(e.relatedTarget)||v.setDate(v._input.value,!0,e.target===v.altInput?v.config.altFormat:v.config.dateFormat)}function te(e){var t=p(e),n=v.config.wrap?f.contains(t):t===v._input,i=v.config.allowInput,r=v.isOpen&&(!i||!n),a=v.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return v.setDate(v._input.value,!0,t===v.altInput?v.config.altFormat:v.config.dateFormat),t.blur();v.open()}else if(K(t)||r||a){var o=!!v.timeContainer&&v.timeContainer.contains(t);switch(e.keyCode){case 13:o?(e.preventDefault(),S(),ce()):de(e);break;case 27:e.preventDefault(),ce();break;case 8:case 46:n&&!v.config.allowInput&&(e.preventDefault(),v.clear());break;case 37:case 39:if(o||n)v.hourElement&&v.hourElement.focus();else if(e.preventDefault(),void 0!==v.daysContainer&&(!1===i||document.activeElement&&Z(document.activeElement))){var s=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),G(s),P(N(1),0)):P(void 0,s)}break;case 38:case 40:e.preventDefault();var l=40===e.keyCode?1:-1;v.daysContainer&&void 0!==t.$i||t===v.input||t===v.altInput?e.ctrlKey?(e.stopPropagation(),Q(v.currentYear-l),P(N(1),0)):o||P(void 0,7*l):t===v.currentYearElement?Q(v.currentYear-l):v.config.enableTime&&(!o&&v.hourElement&&v.hourElement.focus(),S(e),v._debouncedChange());break;case 9:if(o){var c=[v.hourElement,v.minuteElement,v.secondElement,v.amPM].concat(v.pluginElements).filter((function(e){return e})),d=c.indexOf(t);if(-1!==d){var u=c[d+(e.shiftKey?-1:1)];e.preventDefault(),(u||v._input).focus()}}else!v.config.noCalendar&&v.daysContainer&&v.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),v._input.focus())}}if(void 0!==v.amPM&&t===v.amPM)switch(e.key){case v.l10n.amPM[0].charAt(0):case v.l10n.amPM[0].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[0],E(),ye();break;case v.l10n.amPM[1].charAt(0):case v.l10n.amPM[1].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[1],E(),ye()}(n||K(t))&&fe("onKeyDown",e)}function ne(e){if(1===v.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():v.days.firstElementChild.dateObj.getTime(),n=v.parseDate(v.selectedDates[0],void 0,!0).getTime(),i=Math.min(t,v.selectedDates[0].getTime()),r=Math.max(t,v.selectedDates[0].getTime()),a=!1,o=0,s=0,l=i;l<r;l+=k)J(new Date(l),!0)||(a=a||l>i&&l<r,l<n&&(!o||l>o)?o=l:l>n&&(!s||l<s)&&(s=l));for(var c=0;c<v.config.showMonths;c++)for(var d=v.daysContainer.children[c],u=function(i,r){var l,c,u,h=d.children[i],p=h.dateObj.getTime(),f=o>0&&p<o||s>0&&p>s;return f?(h.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){h.classList.remove(e)})),"continue"):a&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){h.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=v.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&p===n?h.classList.add("startRange"):n>t&&p===n&&h.classList.add("endRange"),p>=o&&(0===s||p<=s)&&(c=n,u=t,(l=p)>Math.min(c,u)&&l<Math.max(c,u))&&h.classList.add("inRange"))))},h=0,p=d.children.length;h<p;h++)u(h)}}function ie(){!v.isOpen||v.config.static||v.config.inline||se()}function re(e){return function(t){var n=v.config["_"+e+"Date"]=v.parseDate(t,v.config.dateFormat),i=v.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(v["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),v.selectedDates&&(v.selectedDates=v.selectedDates.filter((function(e){return J(e)})),v.selectedDates.length||"min"!==e||T(n),ye()),v.daysContainer&&(le(),void 0!==n?v.currentYearElement[e]=n.getFullYear().toString():v.currentYearElement.removeAttribute(e),v.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function ae(){return v.config.wrap?f.querySelector("[data-input]"):f}function oe(){"object"!=typeof v.config.locale&&void 0===C.l10ns[v.config.locale]&&v.config.errorHandler(new Error("flatpickr: invalid locale "+v.config.locale)),v.l10n=e(e({},C.l10ns.default),"object"==typeof v.config.locale?v.config.locale:"default"!==v.config.locale?C.l10ns[v.config.locale]:void 0),b.K="("+v.l10n.amPM[0]+"|"+v.l10n.amPM[1]+"|"+v.l10n.amPM[0].toLowerCase()+"|"+v.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},g),JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===C.defaultConfig.time_24hr&&(v.config.time_24hr=v.l10n.time_24hr),v.formatDate=y(v),v.parseDate=_({config:v.config,l10n:v.l10n})}function se(e){if(void 0!==v.calendarContainer){fe("onPreCalendarPosition");var t=e||v._positionElement,n=Array.prototype.reduce.call(v.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=v.calendarContainer.offsetWidth,r=v.config.position.split(" "),a=r[0],o=r.length>1?r[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,d="above"===a||"below"!==a&&l<n&&s.top>n,u=window.pageYOffset+s.top+(d?-n-2:t.offsetHeight+2);if(c(v.calendarContainer,"arrowTop",!d),c(v.calendarContainer,"arrowBottom",d),!v.config.inline){var h=window.pageXOffset+s.left,p=!1,f=!1;"center"===o?(h-=(i-s.width)/2,p=!0):"right"===o&&(h-=i-s.width,f=!0),c(v.calendarContainer,"arrowLeft",!p&&!f),c(v.calendarContainer,"arrowCenter",p),c(v.calendarContainer,"arrowRight",f);var m=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=h+i>window.document.body.offsetWidth,b=m+i>window.document.body.offsetWidth;if(c(v.calendarContainer,"rightMost",g),!v.config.static)if(v.calendarContainer.style.top=u+"px",g)if(b){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===y)return;var _=window.document.body.offsetWidth,w=Math.max(0,_/2-i/2),k=y.cssRules.length,x="{left:"+s.left+"px;right:auto;}";c(v.calendarContainer,"rightMost",!1),c(v.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,k),v.calendarContainer.style.left=w+"px",v.calendarContainer.style.right="auto"}else v.calendarContainer.style.left="auto",v.calendarContainer.style.right=m+"px";else v.calendarContainer.style.left=h+"px",v.calendarContainer.style.right="auto"}}}function le(){v.config.noCalendar||v.isMobile||(z(),be(),Y())}function ce(){v._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(v.close,0):v.close()}function de(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(p(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=v.latestSelectedDateObj=new Date(n.dateObj.getTime()),r=(i.getMonth()<v.currentMonth||i.getMonth()>v.currentMonth+v.config.showMonths-1)&&"range"!==v.config.mode;if(v.selectedDateElem=n,"single"===v.config.mode)v.selectedDates=[i];else if("multiple"===v.config.mode){var a=ge(i);a?v.selectedDates.splice(parseInt(a),1):v.selectedDates.push(i)}else"range"===v.config.mode&&(2===v.selectedDates.length&&v.clear(!1,!1),v.latestSelectedDateObj=i,v.selectedDates.push(i),0!==w(i,v.selectedDates[0],!0)&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(E(),r){var o=v.currentYear!==i.getFullYear();v.currentYear=i.getFullYear(),v.currentMonth=i.getMonth(),o&&(fe("onYearChange"),z()),fe("onMonthChange")}if(be(),Y(),ye(),r||"range"===v.config.mode||1!==v.config.showMonths?void 0!==v.selectedDateElem&&void 0===v.hourElement&&v.selectedDateElem&&v.selectedDateElem.focus():R(n),void 0!==v.hourElement&&void 0!==v.hourElement&&v.hourElement.focus(),v.config.closeOnSelect){var s="single"===v.config.mode&&!v.config.enableTime,l="range"===v.config.mode&&2===v.selectedDates.length&&!v.config.enableTime;(s||l)&&ce()}F()}}v.parseDate=_({config:v.config,l10n:v.l10n}),v._handlers=[],v.pluginElements=[],v.loadedPlugins=[],v._bind=$,v._setHoursFromDate=T,v._positionCalendar=se,v.changeMonth=G,v.changeYear=Q,v.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),v.input.value="",void 0!==v.altInput&&(v.altInput.value=""),void 0!==v.mobileInput&&(v.mobileInput.value=""),v.selectedDates=[],v.latestSelectedDateObj=void 0,!0===t&&(v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth()),!0===v.config.enableTime){var n=D(),i=n.hours,r=n.minutes,a=n.seconds;L(i,r,a)}v.redraw(),e&&fe("onChange")},v.close=function(){v.isOpen=!1,v.isMobile||(void 0!==v.calendarContainer&&v.calendarContainer.classList.remove("open"),void 0!==v._input&&v._input.classList.remove("active")),fe("onClose")},v._createElement=d,v.destroy=function(){void 0!==v.config&&fe("onDestroy");for(var e=v._handlers.length;e--;){var t=v._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(v._handlers=[],v.mobileInput)v.mobileInput.parentNode&&v.mobileInput.parentNode.removeChild(v.mobileInput),v.mobileInput=void 0;else if(v.calendarContainer&&v.calendarContainer.parentNode)if(v.config.static&&v.calendarContainer.parentNode){var n=v.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else v.calendarContainer.parentNode.removeChild(v.calendarContainer);v.altInput&&(v.input.type="text",v.altInput.parentNode&&v.altInput.parentNode.removeChild(v.altInput),delete v.altInput),v.input&&(v.input.type=v.input._type,v.input.classList.remove("flatpickr-input"),v.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete v[e]}catch(e){}}))},v.isEnabled=J,v.jumpToDate=I,v.open=function(e,t){if(void 0===t&&(t=v._positionElement),!0===v.isMobile){if(e){e.preventDefault();var n=p(e);n&&n.blur()}return void 0!==v.mobileInput&&(v.mobileInput.focus(),v.mobileInput.click()),void fe("onOpen")}if(!v._input.disabled&&!v.config.inline){var i=v.isOpen;v.isOpen=!0,i||(v.calendarContainer.classList.add("open"),v._input.classList.add("active"),fe("onOpen"),se(t)),!0===v.config.enableTime&&!0===v.config.noCalendar&&(!1!==v.config.allowInput||void 0!==e&&v.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return v.hourElement.select()}),50))}},v.redraw=le,v.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(v.config,e),e)void 0!==ue[i]&&ue[i].forEach((function(e){return e()}));else v.config[e]=t,void 0!==ue[e]?ue[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(v.config[e]=l(t));v.redraw(),ye(!0)},v.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=v.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return v.clear(t);he(e,n),v.latestSelectedDateObj=v.selectedDates[v.selectedDates.length-1],v.redraw(),I(void 0,t),T(),0===v.selectedDates.length&&v.clear(!1),ye(t),t&&fe("onChange")},v.toggle=function(e){if(!0===v.isOpen)return v.close();v.open(e)};var ue={locale:[oe,V],showMonths:[U,A,q],minDate:[I],maxDate:[I]};function he(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return v.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[v.parseDate(e,t)];else if("string"==typeof e)switch(v.config.mode){case"single":case"time":n=[v.parseDate(e,t)];break;case"multiple":n=e.split(v.config.conjunction).map((function(e){return v.parseDate(e,t)}));break;case"range":n=e.split(v.l10n.rangeSeparator).map((function(e){return v.parseDate(e,t)}))}else v.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));v.selectedDates=v.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&J(e,!1)})),"range"===v.config.mode&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function pe(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?v.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:v.parseDate(e.from,void 0),to:v.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function fe(e,t){if(void 0!==v.config){var n=v.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](v.selectedDates,v.input.value,v,t);"onChange"===e&&(v.input.dispatchEvent(me("change")),v.input.dispatchEvent(me("input")))}}function me(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ge(e){for(var t=0;t<v.selectedDates.length;t++)if(0===w(v.selectedDates[t],e))return""+t;return!1}function be(){v.config.noCalendar||v.isMobile||!v.monthNav||(v.yearElements.forEach((function(e,t){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),v.config.showMonths>1||"static"===v.config.monthSelectorType?v.monthElements[t].textContent=m(n.getMonth(),v.config.shorthandCurrentMonth,v.l10n)+" ":v.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),v._hidePrevMonthArrow=void 0!==v.config.minDate&&(v.currentYear===v.config.minDate.getFullYear()?v.currentMonth<=v.config.minDate.getMonth():v.currentYear<v.config.minDate.getFullYear()),v._hideNextMonthArrow=void 0!==v.config.maxDate&&(v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth+1>v.config.maxDate.getMonth():v.currentYear>v.config.maxDate.getFullYear()))}function ve(e){return v.selectedDates.map((function(t){return v.formatDate(t,e)})).filter((function(e,t,n){return"range"!==v.config.mode||v.config.enableTime||n.indexOf(e)===t})).join("range"!==v.config.mode?v.config.conjunction:v.l10n.rangeSeparator)}function ye(e){void 0===e&&(e=!0),void 0!==v.mobileInput&&v.mobileFormatStr&&(v.mobileInput.value=void 0!==v.latestSelectedDateObj?v.formatDate(v.latestSelectedDateObj,v.mobileFormatStr):""),v.input.value=ve(v.config.dateFormat),void 0!==v.altInput&&(v.altInput.value=ve(v.config.altFormat)),!1!==e&&fe("onValueUpdate")}function _e(e){var t=p(e),n=v.prevMonthNav.contains(t),i=v.nextMonthNav.contains(t);n||i?G(n?-1:1):v.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?v.changeYear(v.currentYear+1):t.classList.contains("arrowDown")&&v.changeYear(v.currentYear-1)}return function(){v.element=v.input=f,v.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=e(e({},JSON.parse(JSON.stringify(f.dataset||{}))),g),a={};v.config.parseDate=r.parseDate,v.config.formatDate=r.formatDate,Object.defineProperty(v.config,"enable",{get:function(){return v.config._enable},set:function(e){v.config._enable=pe(e)}}),Object.defineProperty(v.config,"disable",{get:function(){return v.config._disable},set:function(e){v.config._disable=pe(e)}});var o="time"===r.mode;if(!r.dateFormat&&(r.enableTime||o)){var s=C.defaultConfig.dateFormat||i.dateFormat;a.dateFormat=r.noCalendar||o?"H:i"+(r.enableSeconds?":S":""):s+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||o)&&!r.altFormat){var c=C.defaultConfig.altFormat||i.altFormat;a.altFormat=r.noCalendar||o?"h:i"+(r.enableSeconds?":S K":" K"):c+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(v.config,"minDate",{get:function(){return v.config._minDate},set:re("min")}),Object.defineProperty(v.config,"maxDate",{get:function(){return v.config._maxDate},set:re("max")});var d=function(e){return function(t){v.config["min"===e?"_minTime":"_maxTime"]=v.parseDate(t,"H:i:S")}};Object.defineProperty(v.config,"minTime",{get:function(){return v.config._minTime},set:d("min")}),Object.defineProperty(v.config,"maxTime",{get:function(){return v.config._maxTime},set:d("max")}),"time"===r.mode&&(v.config.noCalendar=!0,v.config.enableTime=!0),Object.assign(v.config,a,r);for(var u=0;u<t.length;u++)v.config[t[u]]=!0===v.config[t[u]]||"true"===v.config[t[u]];for(n.filter((function(e){return void 0!==v.config[e]})).forEach((function(e){v.config[e]=l(v.config[e]||[]).map(x)})),v.isMobile=!v.config.disableMobile&&!v.config.inline&&"single"===v.config.mode&&!v.config.disable.length&&!v.config.enable.length&&!v.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<v.config.plugins.length;u++){var h=v.config.plugins[u](v)||{};for(var p in h)n.indexOf(p)>-1?v.config[p]=l(h[p]).map(x).concat(v.config[p]):void 0===r[p]&&(v.config[p]=h[p])}r.altInputClass||(v.config.altInputClass=ae().className+" "+v.config.altInputClass),fe("onParseConfig")}(),oe(),v.input=ae(),v.input?(v.input._type=v.input.type,v.input.type="text",v.input.classList.add("flatpickr-input"),v._input=v.input,v.config.altInput&&(v.altInput=d(v.input.nodeName,v.config.altInputClass),v._input=v.altInput,v.altInput.placeholder=v.input.placeholder,v.altInput.disabled=v.input.disabled,v.altInput.required=v.input.required,v.altInput.tabIndex=v.input.tabIndex,v.altInput.type="text",v.input.setAttribute("type","hidden"),!v.config.static&&v.input.parentNode&&v.input.parentNode.insertBefore(v.altInput,v.input.nextSibling)),v.config.allowInput||v._input.setAttribute("readonly","readonly"),v._positionElement=v.config.positionElement||v._input):v.config.errorHandler(new Error("Invalid input element specified")),function(){v.selectedDates=[],v.now=v.parseDate(v.config.now)||new Date;var e=v.config.defaultDate||("INPUT"!==v.input.nodeName&&"TEXTAREA"!==v.input.nodeName||!v.input.placeholder||v.input.value!==v.input.placeholder?v.input.value:null);e&&he(e,v.config.dateFormat),v._initialDate=v.selectedDates.length>0?v.selectedDates[0]:v.config.minDate&&v.config.minDate.getTime()>v.now.getTime()?v.config.minDate:v.config.maxDate&&v.config.maxDate.getTime()<v.now.getTime()?v.config.maxDate:v.now,v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth(),v.selectedDates.length>0&&(v.latestSelectedDateObj=v.selectedDates[0]),void 0!==v.config.minTime&&(v.config.minTime=v.parseDate(v.config.minTime,"H:i")),void 0!==v.config.maxTime&&(v.config.maxTime=v.parseDate(v.config.maxTime,"H:i")),v.minDateHasTime=!!v.config.minDate&&(v.config.minDate.getHours()>0||v.config.minDate.getMinutes()>0||v.config.minDate.getSeconds()>0),v.maxDateHasTime=!!v.config.maxDate&&(v.config.maxDate.getHours()>0||v.config.maxDate.getMinutes()>0||v.config.maxDate.getSeconds()>0)}(),v.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=v.currentMonth),void 0===t&&(t=v.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:v.l10n.daysInMonth[e]}},v.isMobile||function(){var e=window.document.createDocumentFragment();if(v.calendarContainer=d("div","flatpickr-calendar"),v.calendarContainer.tabIndex=-1,!v.config.noCalendar){if(e.appendChild((v.monthNav=d("div","flatpickr-months"),v.yearElements=[],v.monthElements=[],v.prevMonthNav=d("span","flatpickr-prev-month"),v.prevMonthNav.innerHTML=v.config.prevArrow,v.nextMonthNav=d("span","flatpickr-next-month"),v.nextMonthNav.innerHTML=v.config.nextArrow,U(),Object.defineProperty(v,"_hidePrevMonthArrow",{get:function(){return v.__hidePrevMonthArrow},set:function(e){v.__hidePrevMonthArrow!==e&&(c(v.prevMonthNav,"flatpickr-disabled",e),v.__hidePrevMonthArrow=e)}}),Object.defineProperty(v,"_hideNextMonthArrow",{get:function(){return v.__hideNextMonthArrow},set:function(e){v.__hideNextMonthArrow!==e&&(c(v.nextMonthNav,"flatpickr-disabled",e),v.__hideNextMonthArrow=e)}}),v.currentYearElement=v.yearElements[0],be(),v.monthNav)),v.innerContainer=d("div","flatpickr-innerContainer"),v.config.weekNumbers){var t=function(){v.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",v.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;v.innerContainer.appendChild(n),v.weekNumbers=i,v.weekWrapper=n}v.rContainer=d("div","flatpickr-rContainer"),v.rContainer.appendChild(q()),v.daysContainer||(v.daysContainer=d("div","flatpickr-days"),v.daysContainer.tabIndex=-1),Y(),v.rContainer.appendChild(v.daysContainer),v.innerContainer.appendChild(v.rContainer),e.appendChild(v.innerContainer)}v.config.enableTime&&e.appendChild(function(){v.calendarContainer.classList.add("hasTime"),v.config.noCalendar&&v.calendarContainer.classList.add("noCalendar"),v.timeContainer=d("div","flatpickr-time"),v.timeContainer.tabIndex=-1;var e=d("span","flatpickr-time-separator",":"),t=h("flatpickr-hour",{"aria-label":v.l10n.hourAriaLabel});v.hourElement=t.getElementsByTagName("input")[0];var n=h("flatpickr-minute",{"aria-label":v.l10n.minuteAriaLabel});if(v.minuteElement=n.getElementsByTagName("input")[0],v.hourElement.tabIndex=v.minuteElement.tabIndex=-1,v.hourElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getHours():v.config.time_24hr?v.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(v.config.defaultHour)),v.minuteElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getMinutes():v.config.defaultMinute),v.hourElement.setAttribute("step",v.config.hourIncrement.toString()),v.minuteElement.setAttribute("step",v.config.minuteIncrement.toString()),v.hourElement.setAttribute("min",v.config.time_24hr?"0":"1"),v.hourElement.setAttribute("max",v.config.time_24hr?"23":"12"),v.minuteElement.setAttribute("min","0"),v.minuteElement.setAttribute("max","59"),v.timeContainer.appendChild(t),v.timeContainer.appendChild(e),v.timeContainer.appendChild(n),v.config.time_24hr&&v.timeContainer.classList.add("time24hr"),v.config.enableSeconds){v.timeContainer.classList.add("hasSeconds");var i=h("flatpickr-second");v.secondElement=i.getElementsByTagName("input")[0],v.secondElement.value=a(v.latestSelectedDateObj?v.latestSelectedDateObj.getSeconds():v.config.defaultSeconds),v.secondElement.setAttribute("step",v.minuteElement.getAttribute("step")),v.secondElement.setAttribute("min","0"),v.secondElement.setAttribute("max","59"),v.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),v.timeContainer.appendChild(i)}return v.config.time_24hr||(v.amPM=d("span","flatpickr-am-pm",v.l10n.amPM[o((v.latestSelectedDateObj?v.hourElement.value:v.config.defaultHour)>11)]),v.amPM.title=v.l10n.toggleTitle,v.amPM.tabIndex=-1,v.timeContainer.appendChild(v.amPM)),v.timeContainer}()),c(v.calendarContainer,"rangeMode","range"===v.config.mode),c(v.calendarContainer,"animate",!0===v.config.animate),c(v.calendarContainer,"multiMonth",v.config.showMonths>1),v.calendarContainer.appendChild(e);var r=void 0!==v.config.appendTo&&void 0!==v.config.appendTo.nodeType;if((v.config.inline||v.config.static)&&(v.calendarContainer.classList.add(v.config.inline?"inline":"static"),v.config.inline&&(!r&&v.element.parentNode?v.element.parentNode.insertBefore(v.calendarContainer,v._input.nextSibling):void 0!==v.config.appendTo&&v.config.appendTo.appendChild(v.calendarContainer)),v.config.static)){var s=d("div","flatpickr-wrapper");v.element.parentNode&&v.element.parentNode.insertBefore(s,v.element),s.appendChild(v.element),v.altInput&&s.appendChild(v.altInput),s.appendChild(v.calendarContainer)}v.config.static||v.config.inline||(void 0!==v.config.appendTo?v.config.appendTo:window.document.body).appendChild(v.calendarContainer)}(),function(){if(v.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(v.element.querySelectorAll("[data-"+e+"]"),(function(t){return $(t,"click",v[e])}))})),v.isMobile)!function(){var e=v.config.enableTime?v.config.noCalendar?"time":"datetime-local":"date";v.mobileInput=d("input",v.input.className+" flatpickr-mobile"),v.mobileInput.tabIndex=1,v.mobileInput.type=e,v.mobileInput.disabled=v.input.disabled,v.mobileInput.required=v.input.required,v.mobileInput.placeholder=v.input.placeholder,v.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",v.selectedDates.length>0&&(v.mobileInput.defaultValue=v.mobileInput.value=v.formatDate(v.selectedDates[0],v.mobileFormatStr)),v.config.minDate&&(v.mobileInput.min=v.formatDate(v.config.minDate,"Y-m-d")),v.config.maxDate&&(v.mobileInput.max=v.formatDate(v.config.maxDate,"Y-m-d")),v.input.getAttribute("step")&&(v.mobileInput.step=String(v.input.getAttribute("step"))),v.input.type="hidden",void 0!==v.altInput&&(v.altInput.type="hidden");try{v.input.parentNode&&v.input.parentNode.insertBefore(v.mobileInput,v.input.nextSibling)}catch(e){}$(v.mobileInput,"change",(function(e){v.setDate(p(e).value,!1,v.mobileFormatStr),fe("onChange"),fe("onClose")}))}();else{var e=s(ie,50);v._debouncedChange=s(F,300),v.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&$(v.daysContainer,"mouseover",(function(e){"range"===v.config.mode&&ne(p(e))})),$(window.document.body,"keydown",te),v.config.inline||v.config.static||$(window,"resize",e),void 0!==window.ontouchstart?$(window.document,"touchstart",X):$(window.document,"click",X),$(window.document,"focus",X,{capture:!0}),!0===v.config.clickOpens&&($(v._input,"focus",v.open),$(v._input,"click",v.open)),void 0!==v.daysContainer&&($(v.monthNav,"click",_e),$(v.monthNav,["keyup","increment"],M),$(v.daysContainer,"click",de)),void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement&&($(v.timeContainer,["increment"],S),$(v.timeContainer,"blur",S,{capture:!0}),$(v.timeContainer,"click",B),$([v.hourElement,v.minuteElement],["focus","click"],(function(e){return p(e).select()})),void 0!==v.secondElement&&$(v.secondElement,"focus",(function(){return v.secondElement&&v.secondElement.select()})),void 0!==v.amPM&&$(v.amPM,"click",(function(e){S(e),F()}))),v.config.allowInput&&$(v._input,"blur",ee)}}(),(v.selectedDates.length||v.config.noCalendar)&&(v.config.enableTime&&T(v.config.noCalendar?v.latestSelectedDateObj||v.config.minDate:void 0),ye(!1)),A();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!v.isMobile&&t&&se(),fe("onReady")}(),v}function A(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],r=0;r<n.length;r++){var a=n[r];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=x(a,t||{}),i.push(a._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},r=0,a=t;r<a.length;r++){var o=a[r];i(o)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return A(this,e)},HTMLElement.prototype.flatpickr=function(e){return A([this],e)});var C=function(e,t){return"string"==typeof e?A(window.document.querySelectorAll(e),t):e instanceof Node?A([e],t):A(e,t)};return C.defaultConfig={},C.l10ns={en:e({},r),default:e({},r)},C.localize=function(t){C.l10ns.default=e(e({},C.l10ns.default),t)},C.setDefaults=function(t){C.defaultConfig=e(e({},C.defaultConfig),t)},C.parseDate=_({}),C.formatDate=y({}),C.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return A(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=C),C}()},function(e,t,n){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.inputElement,n=(0,o.default)(e),i=function(e){var t=e.target.value;return n.update(t)};return t.addEventListener("input",i),n.update(t.value),{textMaskInputElement:n,destroy:function(){t.removeEventListener("input",i)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0,t.maskInput=r;var a=n(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return i(a).default}});var o=i(n(5));t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,r.isArray)(t)){if((void 0===t?"undefined":i(t))!==a.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,r.processCaretTraps)(t).maskWithoutCaretTraps}var l=n.guide,c=void 0===l||l,d=n.previousConformedValue,u=void 0===d?s:d,h=n.placeholderChar,p=void 0===h?a.placeholderChar:h,f=n.placeholder,m=void 0===f?(0,r.convertMaskToPlaceholder)(t,p):f,g=n.currentCaretPosition,b=n.keepCharPositions,v=!1===c&&void 0!==u,y=e.length,_=u.length,w=m.length,k=t.length,x=y-_,A=x>0,C=g+(A?-x:0),S=C+Math.abs(x);if(!0===b&&!A){for(var E=s,T=C;T<S;T++)m[T]===p&&(E+=p);e=e.slice(0,C)+E+e.slice(C,y)}for(var D=e.split(s).map((function(e,t){return{char:e,isNew:t>=C&&t<S}})),L=y-1;L>=0;L--){var M=D[L].char;if(M!==p){var $=L>=C&&_===k;M===m[$?L-x:L]&&D.splice(L,1)}}var F=s,I=!1;e:for(var B=0;B<w;B++){var O=m[B];if(O===p){if(D.length>0)for(;D.length>0;){var j=D.shift(),R=j.char,N=j.isNew;if(R===p&&!0!==v){F+=p;continue e}if(t[B].test(R)){if(!0===b&&!1!==N&&u!==s&&!1!==c&&A){for(var P=D.length,H=null,Y=0;Y<P;Y++){var z=D[Y];if(z.char!==p&&!1===z.isNew)break;if(z.char===p){H=Y;break}}null!==H?(F+=R,D.splice(H,1)):B--}else F+=R;continue e}I=!0}!1===v&&(F+=m.substr(B,w));break}F+=O}if(v&&!1===A){for(var W=null,U=0;U<F.length;U++)m[U]===p&&(W=U);F=null!==W?F.substr(0,W+1):s}return{conformedValue:F,meta:{someCharsRejected:I}}};var r=n(3),a=n(1),o=[],s=""},function(e,t,n){"use strict";function i(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.placeholderChar;if(!i(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(e){return e instanceof RegExp?t:e})).join("")},t.isArray=i,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(o));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var r=n(1),a=[],o="[]"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,r=void 0===t?i:t,a=e.previousPlaceholder,o=void 0===a?i:a,s=e.currentCaretPosition,l=void 0===s?0:s,c=e.conformedValue,d=e.rawValue,u=e.placeholderChar,h=e.placeholder,p=e.indexesOfPipedChars,f=void 0===p?n:p,m=e.caretTrapIndexes,g=void 0===m?n:m;if(0===l||!d.length)return 0;var b=d.length,v=r.length,y=h.length,_=c.length,w=b-v,k=w>0;if(w>1&&!k&&0!==v)return l;var x=0,A=void 0,C=void 0;if(!k||r!==c&&c!==h){var S=c.toLowerCase(),E=d.toLowerCase().substr(0,l).split(i).filter((function(e){return-1!==S.indexOf(e)}));C=E[E.length-1];var T=o.substr(0,E.length).split(i).filter((function(e){return e!==u})).length,D=h.substr(0,E.length).split(i).filter((function(e){return e!==u})).length!==T,L=void 0!==o[E.length-1]&&void 0!==h[E.length-2]&&o[E.length-1]!==u&&o[E.length-1]!==h[E.length-1]&&o[E.length-1]===h[E.length-2];!k&&(D||L)&&T>0&&h.indexOf(C)>-1&&void 0!==d[l]&&(A=!0,C=d[l]);for(var M=f.map((function(e){return S[e]})).filter((function(e){return e===C})).length,$=E.filter((function(e){return e===C})).length,F=h.substr(0,h.indexOf(u)).split(i).filter((function(e,t){return e===C&&d[t]!==e})).length+$+M+(A?1:0),I=0,B=0;B<_&&(x=B+1,S[B]===C&&I++,!(I>=F));B++);}else x=l-w;if(k){for(var O=x,j=x;j<=y;j++)if(h[j]===u&&(O=j),h[j]===u||-1!==g.indexOf(j)||j===y)return O}else if(A){for(var R=x-1;R>=0;R--)if(c[R]===C||-1!==g.indexOf(R)||0===R)return R}else for(var N=x;N>=0;N--)if(h[N-1]===u||-1!==g.indexOf(N)||0===N)return N};var n=[],i=""},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){document.activeElement===e&&(m?g((function(){return e.setSelectionRange(t,t,p)}),0):e.setSelectionRange(t,t,p))}function a(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(null==e)return h;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,p=i.inputElement,m=i.mask,g=i.guide,b=i.pipe,v=i.placeholderChar,y=void 0===v?u.placeholderChar:v,_=i.keepCharPositions,w=void 0!==_&&_,k=i.showMask,x=void 0!==k&&k;if(void 0===n&&(n=p.value),n!==t.previousConformedValue){(void 0===m?"undefined":s(m))===f&&void 0!==m.pipe&&void 0!==m.mask&&(b=m.pipe,m=m.mask);var A=void 0,C=void 0;if(m instanceof Array&&(A=(0,d.convertMaskToPlaceholder)(m,y)),!1!==m){var S=a(n),E=p.selectionEnd,T=t.previousConformedValue,D=t.previousPlaceholder,L=void 0;if((void 0===m?"undefined":s(m))===u.strFunction){if(!1===(C=m(S,{currentCaretPosition:E,previousConformedValue:T,placeholderChar:y})))return;var M=(0,d.processCaretTraps)(C),$=M.maskWithoutCaretTraps,F=M.indexes;C=$,L=F,A=(0,d.convertMaskToPlaceholder)(C,y)}else C=m;var I={previousConformedValue:T,guide:g,placeholderChar:y,pipe:b,placeholder:A,currentCaretPosition:E,keepCharPositions:w},B=(0,c.default)(S,C,I),O=B.conformedValue,j=(void 0===b?"undefined":s(b))===u.strFunction,R={};j&&(!1===(R=b(O,o({rawValue:S},I)))?R={value:T,rejected:!0}:(0,d.isString)(R)&&(R={value:R}));var N=j?R.value:O,P=(0,l.default)({previousConformedValue:T,previousPlaceholder:D,conformedValue:N,placeholder:A,rawValue:S,currentCaretPosition:E,placeholderChar:y,indexesOfPipedChars:R.indexesOfPipedChars,caretTrapIndexes:L}),H=N===A&&0===P,Y=x?A:h,z=H?Y:N;t.previousConformedValue=z,t.previousPlaceholder=A,p.value!==z&&(p.value=z,r(p,P))}}}}};var l=i(n(4)),c=i(n(2)),d=n(3),u=n(1),h="",p="none",f="object",m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])},function(e,t,n){!function(){const t=n(186),i={messages:[],table:document.getElementById("webinar-messages"),storeNode:null,init:(e,{parentFrame:n})=>{i.storeNode=e.querySelector('script[type="application/json"]'),i.messages=[],i.storeNode||(i.storeNode=n.contentWindow.document.createElement("script"),i.storeNode.type="application/json",e.appendChild(i.storeNode)),""!==i.storeNode.innerText&&i.parseJSON(i.storeNode.innerText),$("#csv-file").on("change",e=>{const n=new FormData,[r]=e.currentTarget.files;r&&(n.append("action","csv"),n.append("file",r),t.post(dataURLs.ajax,n,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:e})=>e.map(([e,t,n])=>({sec:e,username:t,message:n}))).then(e=>i.messages=[...i.messages,...e]).then(()=>i.showMessages()))}),i.showMessages()},parseJSON:e=>{i.messages=JSON.parse(e)},saveJSON:()=>{i.storeNode.innerText=JSON.stringify(i.messages)},addMessage:(e,t,n)=>{i.messages.push({sec:e,username:t,message:n}),i.showMessages()},clearAllMessages:()=>{i.messages=[],i.showMessages()},showMessages:()=>{if(i.table.innerHTML=null,i.messages.length)i.message=i.messages.sort((e,t)=>parseInt(e.sec)>parseInt(t.sec)?1:parseInt(e.sec)<parseInt(t.sec)?-1:0),i.messages.forEach(({sec:e,username:t,message:n},r)=>{const a=document.createElement("tr");a.innerHTML=`<td>${e}</td>\n                    <td>${t}</td>\n                    <td>${n}</td>\n                    <td><i class="fa fa-trash text-danger" style="cursor: pointer; font-size: 18px"></i></td>`,i.table.appendChild(a),a.querySelector(".fa-trash").addEventListener("click",()=>{i.messages.splice(r,1),i.showMessages()})});else{const e=document.createElement("tr");e.innerHTML='<td colspan="4" align="center">Empty</td>',i.table.appendChild(e)}}};e.exports=i}()},function(e,t,n){const{styleeditor:i}=n(28);(()=>{"use strict";const t={container:document.getElementById("bumpModal"),checkboxList:null,selectedMemberships:[],styleeditor:null,bumpSave:document.getElementById("btnBumpSave"),init:e=>{if(t.styleeditor=e,!t.container)return!1;t.checkboxList=t.container.querySelectorAll('input[name="membership[]"]'),t.checkboxList.forEach(e=>e.addEventListener("change",t.handlerChange)),t.bumpSave.addEventListener("click",n=>{t.save(e.activeElement.element),$("#bumpModal").modal("hide")}),$("#bumpModal").on("shown.bs.modal",t.reset),$("#bumpModal").on("hide.bs.modal",t.showCount)},handlerChange:({target:e})=>{e.checked?t.selectedMemberships.push(e.value):t.selectedMemberships=t.selectedMemberships.filter(t=>t!=e.value),3==t.countChecked()?t.disabledCheckbox():t.enableCheckbox()},disabledCheckbox:()=>{Array.from(t.checkboxList).filter(e=>!e.checked).forEach(e=>e.setAttribute("disabled",!0))},enableCheckbox:()=>{t.checkboxList.forEach(e=>e.removeAttribute("disabled"))},reset:()=>{t.selectedMemberships=JSON.parse(t.styleeditor.activeElement.element.getAttribute("data-bump-list"))||[],console.log(t.selectedMemberships),t.checkboxList.forEach(e=>{e.checked=-1!==t.selectedMemberships.indexOf(e.value),e.removeAttribute("disabled")}),3==t.countChecked()&&t.disabledCheckbox()},save:e=>{e.setAttribute("data-bump-list",JSON.stringify(t.selectedMemberships))},countChecked:()=>t.selectedMemberships.length,showCount:()=>{document.querySelector('a[href="#bumpModal"]').innerHTML=`<span class="label label-warning m-r-10">${t.countChecked()}</span>Select Products`}};e.exports=t})()},function(e,t,n){(e=>{const t=n(28),i=n(9),r=n(238);document.addEventListener("DOMContentLoaded",()=>{e("#nftModal").on("shown.bs.modal",n=>{const{element:i}=t.styleeditor.activeElement,r=i.parentNode.querySelector('script[data-type="config"][type="application/json"]');let a={};r&&(a={...JSON.parse(r.innerText)}),Object.keys(a).forEach(e=>{const t=n.currentTarget.querySelector(`[name="${e}"]`);t&&(t.value=a[e]),t.value==a[e]&&"checkbox"==t.type&&(t.checked=!0)}),e("#network").selectpicker("refresh")}),document.getElementById("btnNftSettingSave").addEventListener("click",n=>{n.preventDefault();const{activeElement:a}=t.styleeditor;let o=a.element.parentNode.querySelector('script[data-type="config"][type="application/json"]');if(!o){const{parentFrame:e}=a;o=e.contentDocument.createElement("script"),o.setAttribute("type","application/json"),o.setAttribute("data-type","config"),a.element.parentNode.appendChild(o)}o.innerText=JSON.stringify(r.serializeArray(document.getElementById("nftModal"))),e("#nftModal").modal("hide"),i.site.setPendingChanges(!0)})})})(window.jQuery)},function(e,t,n){!function(){"use strict";let e=n(12),t=n(28).styleeditor,i=n(11).appUI,r=n(10),a={imageModal:document.getElementById("imageModal"),myImages:document.getElementById("myImages"),selectedImage:"",buttonImageModalUseImage:document.getElementById("buttonImageModalUseImage"),divImageLibrary:document.getElementById("divImageLibrary"),inputSlimUpload:document.getElementById("slimUpload"),divImageDetailPanel:document.getElementById("imageDetailPanel"),imgSlimEditImage:document.getElementById("slimEditImage"),slimWithSettings:document.getElementById("slimWithSettings"),linkFullImage:document.getElementById("linkFullImage"),inputImageWidth:document.getElementById("inputImageWidth"),inputImageHeight:document.getElementById("inputImageHeight"),checkFixedRatio:document.getElementById("checkFixedRation"),buttonUpdateImageDimensions:document.getElementById("buttonUpdateImageDimensions"),buttonDeleteImage:document.getElementById("buttonDeleteImage"),confirmDeleteImage:document.getElementById("confirmDeleteImage"),imageDeleteYes:document.getElementById("imageDeleteYes"),imageDeleteNo:document.getElementById("imageDeleteNo"),formStyleEditor:document.getElementById("stylingForm"),anchorMyImagesTab:document.getElementById("anchorMyImagesTab"),init:function(){showModal||($("a#ie_admintab, a#ie_myimagestab").on("show.bs.tab",(function(e){var t=$(e.target).attr("href");$(t).find("img").trigger("sporty")})),$(this.buttonImageModalUseImage).on("click",a.useSelectedImage),window.slimImageUpload=this.slimImageUpload,window.slimImageUpdate=this.slimImageUpdate,window.slimImageTransform=this.slimImageTransform,window.slimHandleServerError=this.slimHandleServerError,null!==a.inputImageWidth&&(a.inputImageWidth.addEventListener("blur",this.enforeImageRatio),a.inputImageWidth.addEventListener("change",this.enforeImageRatio),a.inputImageWidth.addEventListener("keyup",this.enforeImageRatio)),null!==a.inputImageHeight&&(a.inputImageHeight.addEventListener("blur",this.enforeImageRatio),a.inputImageHeight.addEventListener("change",this.enforeImageRatio),a.inputImageHeight.addEventListener("keyup",this.enforeImageRatio)),null!==a.buttonUpdateImageDimensions&&a.buttonUpdateImageDimensions.addEventListener("click",this.updateDimensions),this.buttonDeleteImage&&this.buttonDeleteImage.addEventListener("click",(function(e){e.preventDefault(),$(e.target).fadeOut(()=>{$(a.confirmDeleteImage).fadeIn()})})),this.imageDeleteNo&&this.imageDeleteNo.addEventListener("click",(function(e){e.preventDefault(),$(a.confirmDeleteImage).fadeOut(()=>{$(a.buttonDeleteImage).fadeIn()})})),this.imageDeleteYes&&this.imageDeleteYes.addEventListener("click",(function(e){e.preventDefault();var t={image:a.selectedImage.getAttribute("data-org-src"),thumb:a.selectedImage.getAttribute("data-thumb")};$.ajax({url:i.dataUrls.delimage,data:t,type:"post"}).done((function(){a.resetImageEditPanel(),a.divImageDetailPanel.classList.remove("open"),$(a.selectedImage).closest(".image").fadeOut((function(){this.remove()}))}))})),$(this.imageModal).on("show.bs.modal",(function(){a.divImageDetailPanel.classList.remove("open"),a.resetImageEditPanel();var e,n,i=a.divImageLibrary.querySelectorAll("img[data-original-src]");for(e in i)i.hasOwnProperty(e)&&(i[e].setAttribute("src",i[e].getAttribute("data-original-src")),i[e].removeAttribute("data-original-src"));Object.keys(t.activeElement).length>0&&(null!==t.activeElement.element.getAttribute("src")&&(n=t.activeElement.element.getAttribute("src").replace(/^.*[\\\/]/,"").split("?")[0]),$("#imageModal .image .imageWrap").each((function(){this.hasAttribute("data-org-src")&&this.getAttribute("data-org-src").replace(/^.*[\\\/]/,"")===n?($(".nav-tabs a[href='#myImagesTab']",a.imageModal).tab("show"),a.imageInLibraryClickOn(this)):$(this).closest(".image").removeClass("active")})))})),$(a.divImageLibrary).on("click",".image",a.imageInLibraryClick))},resetImageEditPanel:function(){a.confirmDeleteImage.style.display="none",a.buttonDeleteImage.style.display="inline",a.buttonImageModalUseImage&&(a.buttonImageModalUseImage.disabled=!0)},updateDimensions:function(){var e=a.buttonUpdateImageDimensions.innerText;a.buttonUpdateImageDimensions.innerText=a.buttonUpdateImageDimensions.getAttribute("data-loading"),a.buttonUpdateImageDimensions.setAttribute("disabled",!0),$.ajax({url:i.dataUrls.resizeImage,data:{image:a.selectedImage.getAttribute("data-org-src"),width:a.inputImageWidth.value,height:a.inputImageHeight.value},type:"post",dataType:"json"}).done((function(t){a.buttonUpdateImageDimensions.innerText=a.buttonUpdateImageDimensions.getAttribute("data-confirm"),a.buttonUpdateImageDimensions.removeAttribute("disabled"),setTimeout((function(){a.buttonUpdateImageDimensions.innerText=e}),4e3),1===t.responseCode&&(a.currentSlimEdit.destroy(),a.imgSlimEditImage.setAttribute("src",a.selectedImage.getAttribute("data-org-src")+"?"+Math.random()),a.currentSlimEdit=Slim.create(a.imgSlimEditImage,{ratio:a.selectedImage.getAttribute("data-ratio"),service:a.selectedImage.getAttribute("data-service"),fetcher:a.selectedImage.getAttribute("data-fetcher"),maxFileSize:a.selectedImage.getAttribute("data-max-file-size"),statusFileType:a.selectedImage.getAttribute("data-status-file-type"),statusImageTooSmall:a.selectedImage.getAttribute("data-status-image-too-small"),statusUnknownResponse:a.selectedImage.getAttribute("data-status-unknown-response"),statusUploadSuccess:a.selectedImage.getAttribute("data-status-upload-success"),didUpload:slimImageUpdate,buttonCancelLabel:a.selectedImage.getAttribute("data-button-cancel-label"),buttonConfirmLabel:a.selectedImage.getAttribute("data-button-confirm-label"),label:a.selectedImage.getAttribute("data-label"),push:!0}))}))},enforeImageRatio:function(e){var t=e.target,n=a.selectedImage.getAttribute("data-ratio");a.checkFixedRatio.checked&&(t===a.inputImageWidth?a.inputImageHeight.value=Math.round(a.inputImageWidth.value/n):t===a.inputImageHeight&&(a.inputImageWidth.value=Math.round(a.inputImageHeight.value*n)))},useSelectedImage:function(){""!==a.selectedImage&&("IMG"===t.activeElement.element.tagName?(t.activeElement.element.hasAttribute("src")&&$(t.activeElement.element).attr("src",a.selectedImage.getAttribute("data-org-src")+"?"+Math.random()),$(t.activeElement.element).parents(e.imageLightboxWrapper).size()>0&&$(t.activeElement.element).parents(e.imageLightboxWrapper).find("a").attr("href",a.selectedImage.getAttribute("data-org-src")),$(t.activeElement.element).on("load",function(){t.activeElement.parentBlock.heightAdjustment()}.bind(this))):a.formStyleEditor.querySelector('input[name="background-image"]').value="url("+a.selectedImage.getAttribute("data-org-src")+")",$("#imageModal").modal("hide"),r.publish("onPendingChanges"))},slimHandleServerError:function(e,t){return e},slimImageUpload:function(e,t,n){var i=document.createElement("DIV"),r=document.createElement("DIV");document.createElement("IMG");"success"===n.status&&(n.usedspace&&a.anchorMyImagesTab&&(a.anchorMyImagesTab.querySelector("span").innerText=n.usedspace),$(a.inputSlimUpload).parent().find("button.slim-btn-remove").trigger("click"),i.classList.add("image"),r.classList.add("imageWrap"),r.style.backgroundImage="url('"+n.thumb+"')",r.setAttribute("data-ratio","free"),r.setAttribute("data-service",a.slimWithSettings.getAttribute("data-service")),r.setAttribute("data-fetcher",a.slimWithSettings.getAttribute("data-fetcher")),r.setAttribute("data-max-file-size",a.slimWithSettings.getAttribute("data-status-file-size")),r.setAttribute("data-status-file-type",a.slimWithSettings.getAttribute("data-status-file-type")),r.setAttribute("data-status-image-too-small",a.slimWithSettings.getAttribute("data-status-image-too-small")),r.setAttribute("data-status-unknown-response",a.slimWithSettings.getAttribute("data-status-unknown-response")),r.setAttribute("data-status-upload-success",a.slimWithSettings.getAttribute("data-status-upload-success")),r.setAttribute("data-did-upload","slimImageUpdate"),r.setAttribute("data-button-cancel-label",a.slimWithSettings.getAttribute("data-button-cancel-label")),r.setAttribute("data-button-confirm-label",a.slimWithSettings.getAttribute("data-button-confirm-label")),r.setAttribute("data-label",a.slimWithSettings.getAttribute("data-label")),r.setAttribute("data-org-src",n.full),r.setAttribute("data-thumb",n.thumb),i.appendChild(r),a.myImages.appendChild(i))},slimImageUpdate:function(e,t,n){var i=a.selectedImage.getAttribute("data-thumb");a.selectedImage.style.backgroundImage="url('"+i+"?"+Math.random()+"')"},slimImageTransform:function(e,t){a.inputImageWidth.value=e.output.width,a.inputImageHeight.value=e.output.height,t(e)},imageInLibraryClick:function(){$(this).closest(".image")[0].classList.contains("active")?a.imageInLibraryClickOff(this):a.imageInLibraryClickOn(this)},imageInLibraryClickOff:function(e){a.selectedImage="",$(e).closest(".image").removeClass("active"),a.divImageDetailPanel.classList.remove("open"),a.buttonImageModalUseImage&&(a.buttonImageModalUseImage.disabled=!0)},imageInLibraryClickOn:function(e){var t=document.createElement("IMG");a.resetImageEditPanel(),a.buttonImageModalUseImage&&(a.buttonImageModalUseImage.disabled=!1),$(".image",a.divImageLibrary).removeClass("active"),a.selectedImage=$(e).closest(".image").find(".imageWrap")[0],$(e).closest(".image").addClass("active"),a.selectedImage.getAttribute("data-admin")||(a.linkFullImage.innerText=a.selectedImage.getAttribute("data-org-src").replace(/^.*[\\\/]/,""),a.linkFullImage.href=a.selectedImage.getAttribute("data-org-src"),Slim.destroy(a.imgSlimEditImage),a.imgSlimEditImage.setAttribute("src",a.selectedImage.getAttribute("data-org-src")),a.currentSlimEdit=Slim.create(a.imgSlimEditImage,{ratio:a.selectedImage.getAttribute("data-ratio"),service:a.selectedImage.getAttribute("data-service"),fetcher:a.selectedImage.getAttribute("data-fetcher"),maxFileSize:a.selectedImage.getAttribute("data-max-file-size"),statusFileType:a.selectedImage.getAttribute("data-status-file-type"),statusImageTooSmall:a.selectedImage.getAttribute("data-status-image-too-small"),statusUnknownResponse:a.selectedImage.getAttribute("data-status-unknown-response"),statusUploadSuccess:a.selectedImage.getAttribute("data-status-upload-success"),didUpload:slimImageUpdate,didReceiveServerError:slimHandleServerError,willTransform:slimImageTransform,buttonCancelLabel:a.selectedImage.getAttribute("data-button-cancel-label"),buttonConfirmLabel:a.selectedImage.getAttribute("data-button-confirm-label"),label:a.selectedImage.getAttribute("data-label"),push:!0}),t.src=a.selectedImage.getAttribute("data-org-src"),t.style.position="absolute",t.style.left="-10000px",t.style.top="0px",document.body.appendChild(t),t.addEventListener("load",(function(){a.inputImageWidth.value=t.width,a.inputImageHeight.value=t.height,a.selectedImage.setAttribute("data-ratio",t.width/t.height),t.remove()})),a.divImageDetailPanel.classList.add("open"))}};a.init()}()},function(e,t,n){!function(){"use strict";var e=n(10),t=n(12),i=(n(15),n(9)),r=(n(11).appUI,n(28).styleeditor),a={customFontNames:{},activeEditor:{},hasChanges:!1,init:function(){e.subscribe("onBlockLoaded",(function(e){a.injectFrameCSS(e),a.fontsInBlock(e)})),e.subscribe("onContentClick",(function(e){a.contentClick(e)})),e.subscribe("onBeforeSave",(function(){0!==Object.keys(a.activeEditor).length&&(a.activeEditor.element.removeAttribute("data-sbpro-editor"),a.activeEditor.element.classList.remove("sb_open"),a.activeEditor.element.classList.remove("sb_hover"),$(a.activeEditor).froalaEditor("destroy"))})),e.subscribe("siteDataLoaded",(function(){a.fontsInApp()})),e.subscribe("onSkeletonLoaded",(function(e){setTimeout((function(){a.fontsInSkeleton(e)}),4e3)}))},fontsInSkeleton:function(e){if(null===i.site.customFonts)return!1;let t=document.createElement("LINK");t.href=a.makeGoogleFontApiString(),t.rel="stylesheet",t.type="text/css",$(e).contents().find("head").append($(t))},fontsInBlock:function(e){if(null===i.site.customFonts)return!1;let n=document.createElement("LINK");n.href=a.makeGoogleFontApiString(),n.rel="stylesheet",n.type="text/css",e.frameDocument.head.querySelectorAll('link[href*="'+t.google_api_url+'"]').forEach((function(e){e.remove()})),e.frameDocument.head.appendChild(n)},fontsInApp:function(){if(null===i.site.customFonts)return!1;let e=document.createElement("LINK");e.href=a.makeGoogleFontApiString(),e.rel="stylesheet",e.type="text/css",$("head").append($(e))},makeGoogleFontApiString:function(){let e="",n=t.google_api_url;return i.site.customFonts.forEach((function(t){e+=t.api_entry,e+="|",a.customFontNames[t.css_name]=t.nice_name})),e=e.substring(0,e.length-1),n+e},injectFrameCSS:function(e){for(var n=0;n<t.cssUrls.length;n++)if(!e.hasExternalCSS(t.cssUrls[n])){var i=document.createElement("LINK");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.cssUrls[n]),i.setAttribute("type","text/css"),i.setAttribute("media","screen"),i.setAttribute("charset","utf-8"),i.setAttribute("id","mediumCss"+n),e.frameDocument.head.appendChild(i)}},contentClick:function(n){this.activeEditor=n,this.hasChanges=!1;var o=t.froalaConfig;null!==i.site.customFonts&&Object.assign(o.fontFamily,a.customFontNames),$(n.element).parents("*[data-component]").each((function(){this.removeAttribute("draggable")})),n.element.setAttribute("data-sbpro-editor",!0),n.destroyToolBar(),o.enter=$.FroalaEditor.ENTER_BR,$(n.element).addClass("sb_open").froalaEditor(o).on("froalaEditor.blur",(function(t,i){this.activeEditor={},t.currentTarget.removeAttribute("data-sbpro-editor"),t.currentTarget.classList.remove("sb_open"),t.currentTarget.classList.remove("sb_hover"),i.destroy(),n.parentBlock.heightAdjustment(),$(n.element).parents("*[data-component]").each((function(){this.setAttribute("draggable",!0)})),a.hasChanges&&(e.publish("onBlockChange",n.parentBlock,"change"),n.element.querySelectorAll("a").forEach(e=>r.setupCanvasElementsOnElement(e,"a")))})).on("froalaEditor.click",function(e,t,n){t.toolbar.hide()}.bind(this)).on("froalaEditor.contentChanged",(function(e,t){t.events.focus(),n.parentBlock.heightAdjustment(),i.site.setPendingChanges(!0),a.hasChanges=!0})).on("froalaEditor.commands.after",(function(e,t,n,r,a){null!==i.site.customFonts&&i.site.customFonts.forEach((function(e){if(e.css_name===r){let t=!0;i.site.activePage.pageSettings.google_fonts.forEach((function(n){n.css_name===e.css_name&&(t=!1)})),t&&i.site.activePage.pageSettings.google_fonts.push(e)}}))})),$(n.element).froalaEditor("events.focus")}};a.init()}()},function(e,t,n){!function(){"use strict";n(11).appUI;var e=n(10);n(9);const{protectedObj:t}=n(240);({buttonSiteSettings2:$(".siteSettingsModalButton"),buttonSaveSiteSettings:document.getElementById("saveSiteSettingsButton"),selectHostingOptions:{},modalSiteSettings:document.getElementById("siteSettings"),selectHostingOptionsId:"#select_hostingOptions",init:function(){this.buttonSiteSettings2.on("click",this.siteSettingsModal),$(this.buttonSaveSiteSettings).on("click",this.saveSiteSettings),$(this.modalSiteSettings).on("change",this.selectHostingOptionsId,function(e){this.switchHostingOption(e)}.bind(this))},siteSettingsModal:function(e){e.preventDefault(),$("#siteSettings").modal("show"),$("#siteSettings .modal-alerts .alert").fadeOut(500,(function(){$(this).remove()})),$("#siteSettings .modal-body-content > *").show(),$("#cancelSiteSettingsButton > span").eq(1).html("Cancel & Close"),$("#saveSiteSettingsButton").show(),$("input#siteID").val($(this).attr("data-siteid"))},saveSiteSettings:function(){$("#siteSettings .alert").fadeOut(500,(function(){$(this).remove()})),$("#saveSiteSettingsButton").addClass("disabled"),$("#siteSettings .modal-body-content > *").hide(),$("#siteSettings .loader").show();let n=$("form#siteSettingsForm").serializeArray();$.ajax({url:$("form#siteSettingsForm").prop("action"),type:"post",dataType:"json",data:n}).done((function(i){0===i.responseCode?$("#siteSettings .loader").fadeOut(500,(function(){$("#siteSettings .modal-alerts").append(i.responseHTML),$("#siteSettings .modal-body-content > *").show(),$("#saveSiteSettingsButton").removeClass("disabled")})):1===i.responseCode&&(e.publish("onSiteDetailsSaved",n),$("#siteSettings .loader").fadeOut(500,(function(){t.setProtection(),$("#siteTitle").text(i.siteName),$("#siteSettings .modal-alerts").append(i.responseHTML),$("#saveSiteSettingsButton").removeClass("disabled").hide(),$("#cancelSiteSettingsButton > span").eq(1).html("Close"),$("#site_"+i.siteID+" .window .top b").text(i.siteName)})))}))}}).init()}()},function(e,t,n){!function(){"use strict";var e=n(12),t=n(9),i=n(11).appUI,r={buttonPublish:document.getElementById("publishPage"),buttonSavePendingBeforePublishing:document.getElementById("buttonSavePendingBeforePublishing"),publishModal:document.getElementById("publishModal"),setRoot:document.getElementById("hosting-set-root-block"),buttonPublishSubmit:document.getElementById("publishSubmit"),publishActive:0,theItem:{},modalSiteSettings:document.getElementById("siteSettings"),inputDomainSettingsDirectory:document.getElementById("domain-settings-directory"),init:function(){$(this.buttonPublish).on("click",this.loadPublishModal),$(this.buttonSavePendingBeforePublishing).on("click",this.saveBeforePublishing),$(this.buttonPublishSubmit).on("click",this.ftpUpload),$(this.modalSiteSettings).on("click","#siteSettingsBrowseFTPButton, .link",this.browseFTP),$(this.modalSiteSettings).on("click","#ftpListItems .close",this.closeFtpBrowser),$(this.modalSiteSettings).on("click","#siteSettingsTestFTP",this.testFTPConnection),$(this.setRoot).on("change",(function(){$("#hosting-settings-dir-block").stop(!0,!0).fadeToggle("fast")})),$(".selectpicker").selectpicker(),$("#domain-settings-id").on("change",this.changeDomain),$(this.buttonPublish).show(),$("body").on("siteSettingsLoad",this.showPublishSettings),$(this.inputDomainSettingsDirectory).on("keyup blur",(function(){$(this).prop("value",$(this).prop("value").toLowerCase())})),"#publish"===window.location.hash&&$(this.buttonPublish).click()},changeDomain:function(){"Domains hosted with us"==$(this).find("option:selected").parent().prop("label")&&($("#hosting-settings-url-block,#hosting-directory-helper,#hosting-settings-dir-block,#href").stop(!0,!0).fadeOut("fast").prop("value",null),$("#hosting-set-root-block, #hosting-directory-tips").stop(!0,!0).fadeIn("fast"),$("#domain-settings-directory").prop("readonly",!1)),"Domains you host externally"==$(this).find("option:selected").parent().prop("label")&&($("#hosting-settings-url-block, #hosting-directory-helper, #hosting-settings-dir-block, #href").stop(!0,!0).fadeIn("fast"),$("#hosting-set-root-block, #hosting-directory-tips").stop(!0,!0).fadeOut("fast").prop("value",null),$("#domain-settings-directory").prop("readonly",!0))},loadPublishModal:function(e){e.preventDefault(),0===r.publishActive&&($("#publishModal .modal-alerts > *").each((function(){$(this).remove()})),$("#publishModal .modal-body > .alert-error").hide(),$("#publishModal_assets .publishing").each((function(){$(this).hide(),$(this).find(".working").show(),$(this).find(".done").hide()})),$("#publishModal_assets input").each((function(){$(this).removeClass("published")})),!0===t.site.pendingChanges?($("#publishModal #publishPendingChangesMessage").show(),$("#publishModal .modal-body-content").hide()):($("#publishModal_pages tbody > *").remove(),$("#pages li:visible").each((function(){var e=$(this).find("a:first").text(),t=$('<tr><td class="text-center" style="width: 30px;"><label class="checkbox no-label"><input type="checkbox" value="'+e+'" data-type="page" name="pages[]" data-toggle="checkbox"></label></td><td>'+e+'<span class="publishing"><span class="working">Publishing... <img src="'+i.baseUrl+'skin/pagebuilder/img/publishLoader.gif"></span><span class="done text-primary">Published &nbsp;<span class="fui-check"></span></span></span></td></tr>');t.find("input").radiocheck(),t.find("input").on("check uncheck toggle",(function(){$(this).closest("tr")[$(this).prop("checked")?"addClass":"removeClass"]("selected-row")})),$("#publishModal_pages tbody").append(t)})),$("#publishModal #publishPendingChangesMessage").hide(),$("#publishModal .modal-body-content").show())),$("#publishModal").modal("show")},saveBeforePublishing:function(){$("#publishModal #publishPendingChangesMessage").hide(),$("#publishModal .loader").show(),$(this).addClass("disabled"),t.site.prepForSave(!1);var e={};e.pages=t.site.sitePagesReadyForServer,t.site.pagesToDelete.length>0&&(e.toDelete=t.site.pagesToDelete),e.siteData=t.site.data,$.ajax({url:i.dataUrls.save,type:"POST",dataType:"json",data:e}).done((function(e){$("#publishModal .loader").fadeOut(500,(function(){$("#publishModal .modal-alerts").append($(e.responseHTML)),setTimeout((function(){$("#publishModal .modal-alerts .alert-success").fadeOut(500,(function(){$(this).remove()}))}),2500),$("#publishModal #publishPendingChangesMessage .btn.save").removeClass("disabled")})),1===e.responseCode&&(t.site.setPendingChanges(!1),$("#publishModal_pages tbody > *").remove(),$("#pages li:visible").each((function(){var e=$(this).find("a:first").text(),t=$('<tr><td class="text-center" style="width: 0px;"><label class="checkbox"><input type="checkbox" value="'+e+'" data-type="page" name="pages[]" data-toggle="checkbox"></label></td><td>'+e+'<span class="publishing"><span class="working">Publishing... <img src="'+i.baseUrl+'img/publishLoader.gif"></span><span class="done text-primary">Published &nbsp;<span class="fui-check"></span></span></span></td></tr>');t.find("input").radiocheck(),t.find("input").on("check uncheck toggle",(function(){$(this).closest("tr")[$(this).prop("checked")?"addClass":"removeClass"]("selected-row")})),$("#publishModal_pages tbody").append(t)})),$("#publishModal .modal-body-content").fadeIn(500))}))},publishCheckboxEvent:function(){var e=!1;$("#publishModal input[type=checkbox]").each((function(){if($(this).prop("checked"))return e=!0,!1})),e?$("#publishSubmit").removeClass("disabled"):$("#publishSubmit").addClass("disabled")},publishSite:function(){r.publishActive=1,$("#publishSubmit, #publishCancel").addClass("disabled"),$("#publishModal .modal-alerts > *").remove(),$('#publishModal form input[type="hidden"].page').remove(),$("#pageList > ul").each((function(){if($("#publishModal #publishModal_pages input:eq("+($(this).index()+1)+")").prop("checked")){var t=$("iframe#skeleton").contents().find(e.pageContainer);t.find("*").remove(),$(this).find("iframe").each((function(){var n,i=$(this).attr("data-sandbox");for(var r in(n=void 0!==i&&!1!==i?$("#sandboxes #"+i).contents().find(e.pageContainer):$(this).contents().find(e.pageContainer)).find(".frameCover").each((function(){$(this).remove()})),e.editableItems)n.find(r).each((function(){$(this).removeAttr("data-selector"),""===$(this).attr("style")&&$(this).removeAttr("style")}));var a=n.html(),o=$(this).contents().find(e.pageContainer).find("script");if(o.size()>0){var s=document.getElementById("skeleton");o.each((function(){var t;""!==$(this).text()?((t=s.contentWindow.document.createElement("script")).type="text/javascript",t.innerHTML=$(this).text(),s.contentWindow.document.getElementById(e.pageContainer.substring(1)).appendChild(t)):null!==$(this).attr("src")&&((t=s.contentWindow.document.createElement("script")).type="text/javascript",t.src=$(this).attr("src"),s.contentWindow.document.getElementById(e.pageContainer.substring(1)).appendChild(t))}))}t.append($(a))}));var n=$('<input type="hidden" class="page" name="xpages['+$("#pages li:eq("+($(this).index()+1)+") a:first").text()+']" value="">');$("#publishModal form").prepend(n),n.val("<html>"+$("iframe#skeleton").contents().find("html").html()+"</html>")}})),r.publishAsset()},publishAsset:function(){var e,t=$("#publishModal_assets input[type=checkbox]:checked:not(.published, .toggleAll), #publishModal_pages input[type=checkbox]:checked:not(.published, .toggleAll)");t.size()>0?(r.theItem=t.first(),r.theItem.closest("td").next().find(".publishing").fadeIn(500),"page"===r.theItem.attr("data-type")?e={siteID:$("form#publishForm input[name=siteID]").val(),item:r.theItem.val(),pageContent:$('form#publishForm input[name="xpages['+r.theItem.val()+']"]').val()}:"asset"===r.theItem.attr("data-type")&&(e={siteID:$("form#publishForm input[name=siteID]").val(),item:r.theItem.val()}),$.ajax({url:$("form#publishForm").attr("action")+"/"+r.theItem.attr("data-type"),type:"post",data:e,dataType:"json"}).done((function(e){0===e.responseCode?(r.theItem.closest("td").next().find(".working").hide(),$("#publishSubmit, #publishCancel").removeClass("disabled"),$("#publishModal .modal-alerts").append($(e.responseHTML))):1===e.responseCode&&(r.theItem.closest("td").next().find(".working").hide(),r.theItem.closest("td").next().find(".done").fadeIn(),r.theItem.addClass("published"),r.publishAsset())}))):(r.publishActive=0,$("#publishSubmit, #publishCancel").removeClass("disabled"),$("#publishModal .modal-body > .alert-success").fadeIn(500,(function(){setTimeout((function(){$("#publishModal .modal-body > .alert-success").fadeOut(500)}),2500)})))},showPublishSettings:function(){$("#siteSettingsPublishing").show()},browseFTP:function(e){if(e.preventDefault(),""===$("#ftp_server").val()||""===$("#ftp_user").val()||""===$("#ftp_password").val())return alert("Please make sure all FTP connection details are present"),!1;$(this).hasClass("link")&&($(this).hasClass("back")?$("#ftp_path").val($(this).attr("href")):"/"===$("#ftp_path").val().substr($("#ftp_path").val.length-1)?$("#ftp_path").val($("#ftp_path").val()+$(this).attr("href")):$("#ftp_path").val($("#ftp_path").val()+"/"+$(this).attr("href"))),$("#ftpAlerts .alert").fadeOut(500,(function(){$(this).remove()})),$(this).addClass("disabled"),$("#ftpListItems > *").remove(),$("#ftpBrowse .loaderFtp").show(),$("#ftpBrowse").slideDown(500);var t=$(this);$.ajax({url:i.siteUrl+"sites/connect",type:"post",dataType:"json",data:$("form#siteSettingsForm").serializeArray()}).done((function(e){t.removeClass("disabled"),$("#ftpBrowse .loaderFtp").hide(),0===e.responseCode?$("#ftpAlerts").append($(e.responseHTML)):1===e.responseCode&&$("#ftpListItems").append($(e.responseHTML))}))},closeFtpBrowser:function(e){e.preventDefault(),$(this).closest("#ftpBrowse").slideUp(500)},testFTPConnection:function(){if(""===$("#ftp_server").val()||""===$("#ftp_user").val()||""===$("#ftp_password").val())return alert("Please make sure all FTP connection details are present"),!1;$("#ftpTestAlerts .alert").fadeOut(500,(function(){$(this).remove()})),$(this).addClass("disabled"),$(this).next().fadeIn(500);var e=$(this);$.ajax({url:i.siteUrl+"sites/test_ftp",type:"post",dataType:"json",data:$("form#siteSettingsForm").serializeArray()}).done((function(t){e.removeClass("disabled"),e.next().fadeOut(500),(0===t.responseCode||1===t.responseCode)&&$("#ftpTestAlerts").append($(t.responseHTML))}))},ftpUpload:function(){if(null!=document.getElementById("domain-settings-directory")&&!$("#hosting-set-root").prop("checked")){if(""==$("#domain-settings-directory").prop("value").trim())return $(r.publishModal).find(".modal-alerts").empty().append('<div class="alert alert-warning"><h4>Ouch! Something went wrong:</h4>Homepage Folder is empty.</div>'),!1;if(/([^A-Za-z0-9-]+)/g.test($("#domain-settings-directory").prop("value").trim())){let e=$("#domain-settings-directory").prop("value").trim().toLowerCase();return $(r.publishModal).find(".modal-alerts").empty().append(`<div class="alert alert-warning"><h4>This folder name is not valid.</h4> Please input the folder name as "${e.replace(/([^A-Za-z0-9-]+)/g,"")}" or "${e.replace(/([^A-Za-z0-9- ]+)/g,"").replace(/\s/g,"-")}".</div>`),!1}}$(this).addClass("disabled"),$(this).next().fadeIn(500),$("#publishModal .loader").show();var e=$(this);$.ajax({url:$("form#publishForm").attr("action"),type:"post",dataType:"json",data:$("form#publishForm").serializeArray()}).done((function(t){$("#publishModal .loader").hide(),e.removeClass("disabled"),0===t.responseCode?($("#publishModal .modal-body > .alert-error").show(),$("#publishModal .modal-alerts").append($(t.responseHTML))):1===t.responseCode&&($("#publishModal .modal-body > .alert-success").show(),$("#publishModal .optionPane.export, #publishSubmit, #publishModal .alert.alert-info").remove(),$("#publishCancel").html("Close"),$("#publishModal .modal-body-content").append(`<div class="alert alert-info" role="alert"> \n\t\t\t\t\t\t\t<strong>URL: </strong> <a href="${t.placement}" class="alert-link">${t.placement}</a>. \n\t\t\t\t\t\t</div>`))}))}};r.init()}()},function(e,t,n){!function(){"use strict";var e=n(12),t=n(9),i=n(15);({modalExport:document.getElementById("exportModal"),buttonExport:document.getElementById("exportPage"),init:function(){$(this.modalExport).on("show.bs.modal",this.doExportModal),$(this.modalExport).on("shown.bs.modal",this.prepExport),$(this.modalExport).find("form").on("submit",this.exportFormSubmit),$(this.buttonExport).show()},doExportModal:function(){$("#exportModal > form #exportSubmit").show("")},prepExport:function(n){$('#exportModal form input[type="hidden"].pages').remove(),$("#pageList > ul").each((function(){var n,r=$("iframe#skeleton").contents().find(e.pageContainer);for(var a in r.find("*").remove(),$(this).find("iframe").each((function(){var t=$(this).attr("data-sandbox");(n=void 0!==t&&!1!==t?$("#sandboxes #"+t).contents().find(e.pageContainer):$(this).contents().find(e.pageContainer)).find(".frameCover").each((function(){$(this).remove()}));var i=n.html(),a=$(this).contents().find(e.pageContainer).find("script");if(a.size()>0){var o,s=document.getElementById("skeleton");a.each((function(){""!==$(this).text()?((o=s.contentWindow.document.createElement("script")).type="text/javascript",o.innerHTML=$(this).text(),s.contentWindow.document.getElementById(e.pageContainer.substring(1)).appendChild(o)):null!==$(this).attr("src")&&((o=s.contentWindow.document.createElement("script")).type="text/javascript",o.src=$(this).attr("src"),s.contentWindow.document.getElementById(e.pageContainer.substring(1)).appendChild(o))}))}r.append($(i)),r.find("*[data-parallax]").each((function(){this.style.backgroundImage=""}))})),e.editableItems)$("iframe#skeleton").contents().find("html").find(a).each((function(){$(this).removeAttr("data-selector"),""===$(this).attr("style")&&$(this).removeAttr("style")}));$("iframe#skeleton").contents().find("html").find("*[data-component]").each((function(){this.hasAttribute("class")?this.removeAttribute("data-component"):$(this).replaceWith($(this).contents())})),$("iframe#skeleton").contents().find("html").find("*[data-container]").each((function(){this.hasAttribute("class")?this.removeAttribute("data-container"):$(this).replaceWith($(this).contents())})),$("iframe#skeleton").contents().find("html").find("*[draggable]").each((function(){this.removeAttribute("draggable")})),$("iframe#skeleton").contents().find("body").find("*").contents().each((function(){this.nodeType===Node.COMMENT_NODE&&$(this).remove()})),$("iframe#skeleton").contents().find("body").find("#mouseposition-extension-element-full-container").remove();var o=$('<input type="hidden" name="pages['+t.site.sitePages[$(this).index()].name+']" class="pages" value="">');$("#exportModal form").prepend(o);let s=$("iframe#skeleton").contents().find("html").clone();s.find('head link[href*="fonts.googleapis.com"]').remove(),o.val(i.custom_base64_encode("<html>"+s.html()+"</html>"))}))},exportFormSubmit:function(){$("#exportModal > form #exportSubmit").hide(""),$("#exportModal > form #exportCancel").text("Close Window")}}).init()}()},function(e,t,n){!function(){"use strict";n(12);var e=n(9),t=n(10),i=n(15);({modalPreview:document.getElementById("previewModal"),buttonPreview:document.getElementById("buttonPreview"),init:function(){$(this.modalPreview).on("shown.bs.modal",this.prepPreview),$(this.modalPreview).on("show.bs.modal",this.prepPreviewLink),$(this.buttonPreview).show()},prepPreview:function(){var n;t.publish("onBeforePreview"),$('#previewModal form input[type="hidden"]').remove(),e.site.activePage.fullPage(),n=$('<input type="hidden" name="page" value="">'),$("#previewModal form").prepend(n),n.val(i.custom_base64_encode("<html>"+$("iframe#skeleton").contents().find("html").html()+"</html>")),n=$('<input type="hidden" name="meta_title" value="">'),$("#previewModal form").prepend(n),n.val(e.site.activePage.pageSettings.title),n=$('<input type="hidden" name="meta_description" value="">'),$("#previewModal form").prepend(n),n.val(e.site.activePage.pageSettings.meta_description),n=$('<input type="hidden" name="meta_keywords" value="">'),$("#previewModal form").prepend(n),n.val(e.site.activePage.pageSettings.meta_keywords),n=$('<input type="hidden" name="header_includes" value="">'),$("#previewModal form").prepend(n),n.val(e.site.activePage.pageSettings.header_includes),n=$('<input type="hidden" name="page_css" value="">'),$("#previewModal form").prepend(n),n.val(e.site.activePage.pageSettings.page_css),n=$('<input type="hidden" name="siteID" value="">'),$("#previewModal form").prepend(n),n.val(e.site.data.sites_id)},prepPreviewLink:function(){$("#pagePreviewLink").attr("href",$("#pagePreviewLink").attr("data-defurl")+$("#pages li.active a").text())}}).init()}()},function(e,t,n){!function(){"use strict";const e=n(40),t=n(329);n(10);({optimization_test:document.getElementById("optimization_test"),goal_lead:document.getElementById("goal_lead"),goal_registration:document.getElementById("goal_registration"),goal_sale:document.getElementById("goal_sale"),tracking_code_lead:document.getElementById("tracking_code_lead"),tracking_code_registration:document.getElementById("tracking_code_registration"),tracking_code_sale:document.getElementById("tracking_code_sale"),init:function(){if(![this.optimization_test,this.goal_lead,this.goal_registration,this.goal_sale].every(e=>e))return!1;$(this.optimization_test).on("switchChange.bootstrapSwitch",this.activateOptimizationTest),[this.goal_lead,this.goal_registration,this.goal_sale].map(e=>e.addEventListener("change",this.selectGoal.bind(this))),[this.tracking_code_lead,this.tracking_code_registration,this.tracking_code_sale].map(e=>e.addEventListener("click",this.copyTrackCode.bind(this)))},activateOptimizationTest:function(e){const t=document.querySelectorAll("[data-test]");t&&$(t).fadeToggle("fast")},selectGoal:function(e){e.preventDefault();const t=e.currentTarget.parentNode.nextElementSibling;t&&(t.style.display=e.currentTarget.checked?"flex":"none")},copyTrackCode:function(i){i.preventDefault();const{site:r}=n(9),a=i.currentTarget.getAttribute("data-goal");t(`<script src="https://fasttrk.net/services/testab/track.js.php?pageid=${r.activePage.pageID}&goals_type=${a}"><\/script>`),$.notify("Copied",Object.assign(e.config,{position:"top center",className:"warning"}))}}).init()}()},function(e,t,n){"use strict";var i=n(330),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,l,c,d=!1;t||(t={}),n=t.debug||!1;try{if(o=i(),s=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),void 0===i.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=r[t.format]||r.default;window.clipboardData.setData(a,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(c),s.selectNodeContents(c),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return d}},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},function(e,t,n){!function(){"use strict";n(12);var t=n(10),i=n(332),r={init:function(){t.subscribe("onSidebarDataReady",function(){this.dragDrop=new i({draggables:'[data-sidesecond="components"] li img',handle:".dragdrop",accepts:[{draggable:"*[data-component]",droppable:"*[data-container]"},{draggable:'*[data-component="grid"]',droppable:".container, .container-fluid"},{draggable:'*[data-component="navbar"]',droppable:".container, .container-fluid"},{draggable:"ul[data-dnd-list] li",droppable:"ul[data-dnd-list]"}]}),this.dragDrop.start()}.bind(this)),t.subscribe("onBlockLoaded",function(e){this.dragDrop.addFrame({target:e,selector:'*[data-component]:not([data-component="form-group"]), ul[data-dnd-list] li'})}.bind(this))}};r.init(),e.exports=r}()},function(e,t,n){!function(){"use strict";var t=n(9),i=n(10);Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});var r=function(e){this.draggables=e.draggables||null,this.inframeCssUrl=e.inFrameCssUrl||null,this.handle=e.handle||null,this.accepts=e.accepts||[{draggable:"*",droppable:"*"}],this.currentElement,this.currentElementChangeFlag,this.elementRectangle,this.countdown,this.dragoverqueue_processtimer,this.currentlyDragged,this.oldParent,this.sourceBlock,this.divScrollTopID="#top_scroll_page",this.divScrollBottomID="#bottom_scroll_page"};r.prototype.start=function(){$(this.draggables).on("dragstart",this.dragStart.bind(this)),$(this.draggables).on("dragend",this.dragStop.bind(this)),$(this.draggables).on("mousedown",this.beforeDrag.bind(this))},r.prototype.beforeDrag=function(e){e.stopPropagation(),this.target=e.target;for(var t=0;t<this.accepts.length;t++)$(e.currentTarget).is(this.accepts[t].draggable)&&(this.oldParent=$(this.target).closest(this.accepts[t].droppable))},r.prototype.makeid=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},r.prototype.isAllowed=function(e,t){if(a.isGridNested(e,t))return!1;if(e.contains(t))return!1;if(null===this.accepts)return!0;for(var n=0;n<this.accepts.length;n++)if($(e).is(this.accepts[n].draggable)){if($(t).is(this.accepts[n].droppable))return!0}else;return!1},r.prototype.setCurrentElement=function(e){if(this.isAllowed(this.currentlyDragged,e))this.currentElement=$(e);else for(var t=0;t<this.accepts.length;t++)$(e).is(this.accepts[t].draggable)&&(this.currentElement=$(e).closest(this.accepts[t].droppable))},r.prototype.dragStart=function(e,t){if(document.querySelector(this.divScrollTopID).style.display="block",document.querySelector(this.divScrollBottomID).style.display="block",this.sourceBlock=t,"grid"===window.canvasMode&&e.currentTarget.hasAttribute("data-component")&&"grid"!==e.currentTarget.getAttribute("data-component"))return!1;var n;(e.stopPropagation(),null!==this.handle&&this.target&&this.target.querySelector(this.handle))&&(this.target.querySelector(this.handle).contains(this.target)||e.preventDefault());e.currentTarget.id=this.makeid(),this.dragoverqueue_processtimer=setInterval((function(){a.ProcessDragOverQueue()}),100),e.currentTarget.hasAttribute("data-insert-html")?(n=$(e.currentTarget).attr("data-insert-html"),this.currentlyDragged=$(n).get(0)):(n="#"+e.currentTarget.id,this.currentlyDragged=$(e.currentTarget).closest("body").find(n).get(0)),e.originalEvent.dataTransfer.setData("Text",n),i.publish("onComponentDragStart",this.currentlyDragged)},r.prototype.dragStop=function(){document.querySelector(this.divScrollTopID).style.display="block",document.querySelector(this.divScrollBottomID).style.display="block",clearInterval(this.dragoverqueue_processtimer),a.removePlaceholder(),a.ClearContainerContext(),this.target.removeAttribute("id"),this.oldParent&&0===this.oldParent.find("*").size()&&this.oldParent.text("")},r.prototype.addFrame=function(e){e.target.frame;for(var n="",r=e.target.frameDocument.querySelectorAll("body, html"),o=0;o<this.accepts.length;o++)n+=this.accepts[o].droppable,o<this.accepts.length-1&&(n+=", ");$(r).on("dragenter","*",function(e){e.stopPropagation(),this.currentElement=$(e.currentTarget),this.currentElementChangeFlag=!0,this.elementRectangle=e.target.getBoundingClientRect(),this.countdown=1}.bind(this)).on("dragover","*",function(e){if(e.preventDefault(),e.stopPropagation(),this.countdown%15==0||!1!==this.currentElementChangeFlag){var t=(e=e||window.event).originalEvent.clientX,i=e.originalEvent.clientY;this.countdown=this.countdown+1,this.currentElementChangeFlag=!1;var r={x:t,y:i};a.AddEntryToDragOverQueue(this.currentElement,this.elementRectangle,r,this.accepts,this.currentlyDragged,this,n)}else this.countdown=this.countdown+1}.bind(this)),$(e.target.frameDocument).find("body,html").on("drop",function(n){if(n.preventDefault(),n.stopPropagation(),n.isTrigger)r=triggerEvent.originalEvent;else var r=n.originalEvent;try{var o=r.dataTransfer.getData("text"),s=$(n.currentTarget).find(".drop-marker"),l=s.get(0).parentNode,c="#"===o[0]?$("iframe",this.frameContainer).contents().find(o):$(o);if(!this.isAllowed(c.get(0),l))return!1;c.get(0).setAttribute("draggable",!0),s.after(c),s.remove(),c[0].hasAttribute("data-component")&&"button"===c[0].getAttribute("data-component")&&c[0].parentNode.classList.contains("navbar-buttons")&&c[0].querySelector(".btn").classList.add("navbar-btn")}catch(r){console.log(r)}setTimeout((function(){e.target.heightAdjustment()}),100),void 0!==this.sourceBlock&&this.sourceBlock.heightAdjustment(),i.publish("onComponentDrop",e.target,c),t.site.setPendingChanges(!0),a.ClearContainerContext()}.bind(this)),$(e.target.frameDocument).find(e.selector).each((function(){this.setAttribute("draggable",!0)})),$(r).on("dragstart",e.selector,function(t){this.dragStart(t,e.target)}.bind(this)),$(r).on("dragend",e.selector,this.dragStop.bind(this)),$(r).on("mousedown",e.selector,this.beforeDrag.bind(this))};var a={dragoverqueue:[],accepts:[],GetMouseBearingsPercentage:function(e,t,n){return t||(t=e.get(0).getBoundingClientRect()),{x:(n.x-t.left)/(t.right-t.left)*100,y:(n.y-t.top)/(t.bottom-t.top)*100}},OrchestrateDragDrop:function(e,t,n){var i=e.get(0).ownerDocument;if(!e||0===e.length||!t||!n)return!1;e.is("html")&&(e=e.find("body"));var r=5,a=5,o=this.GetMouseBearingsPercentage(e,t,n);if(o.x>r&&o.x<100-r&&o.y>a&&o.y<100-a){var s=(e=e[0].classList.contains("item")?e.find(".container").first():e[0].hasAttribute("data-parent")&&"1"===e[0].getAttribute("data-parent")?e.parent():e.closest(this.droppableString)).clone();if(s.find(".drop-marker").remove(),""!==s.html()||this.checkVoidElement(s))if(0===s.children().length||"LI"===e[0].tagName)this.PlaceInside(e);else if(1===s.children().length)this.DecideBeforeAfter(e.children(":not(.drop-marker,[data-dragcontext-marker])").first(),o);else{var l=this.findNearestElement(e,n.x,n.y);this.DecideBeforeAfter(l.el,o,n)}else if(o.y<90)return this.PlaceInside(e)}else if(o.x<=r||o.y<=a){var c=null;(c=o.y<=o.x?this.FindValidParent(e,"top"):this.FindValidParent(e,"left")).is("body,html")&&(c=$(i).find("body").children(":not(.drop-marker,[data-dragcontext-marker])").first()),this.DecideBeforeAfter(c,o,n)}else if(o.x>=100-r||o.y>=100-a){c=null;(c=o.y>=o.x?this.FindValidParent(e,"bottom"):this.FindValidParent(e,"right")).is("body,html")&&(c=$(i).find("body").children(":not(.drop-marker,[data-dragcontext-marker])").last()),this.DecideBeforeAfter(c,o,n)}},DecideBeforeAfter:function(e,t,n){n&&(t=this.GetMouseBearingsPercentage(e,null,n));var i="inline"===e.css("display")||"inline-block"===e.css("display");return e.is("br")&&(i=!1),i?t.x<50?this.PlaceBefore(e):this.PlaceAfter(e):t.y<50?this.PlaceBefore(e):this.PlaceAfter(e)},checkVoidElement:function(e){var t=["i","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","video","iframe","source","track","wbr"].join(",");return!!e.is(t)},calculateDistance:function(e,t,n){return Math.sqrt(Math.pow(e.x-t,2)+Math.pow(e.y-n,2))},FindValidParent:function(e,t){switch(t){case"left":for(;;){var n=e.get(0).getBoundingClientRect(),i=e.parent().get(0).getBoundingClientRect();if(e.is("body"))return e;if(0!==Math.abs(i.left-n.left))return e;e=e.parent()}break;case"right":for(;;){n=e.get(0).getBoundingClientRect(),i=e.parent().get(0).getBoundingClientRect();if(e.is("body"))return e;if(0!==Math.abs(i.right-n.right))return e;e=e.parent()}break;case"top":case"bottom":for(;;){n=e.get(0).getBoundingClientRect(),i=e.parent().get(0).getBoundingClientRect();if(e.is("body"))return e;if(this.dnd.isAllowed(this.dragged,e[0].parentNode))return e;e=e.parent()}}},addPlaceHolder:function(e,t,n){if(void 0===e[0])return!1;switch(n||(n=this.getPlaceHolder()),this.removePlaceholder(),t){case"before":n.find(".message").html(e.parent().data("sh-dnd-error")),this.dnd.isAllowed(this.dragged,e[0].parentNode)&&e.before(n),this.AddContainerContext(e,"sibling");break;case"after":n.find(".message").html(e.parent().data("sh-dnd-error")),this.dnd.isAllowed(this.dragged,e[0].parentNode)&&e.after(n),this.AddContainerContext(e,"sibling");break;case"inside-prepend":this.isGridNested(this.dragged,this.dropZone[0]),n.find(".message").html(e.data("sh-dnd-error")),e.prepend(n),this.AddContainerContext(e,"inside");break;case"inside-append":this.isGridNested(this.dragged,this.dropZone[0]),n.find(".message").html(e.data("sh-dnd-error")),e.append(n),this.AddContainerContext(e,"inside")}},removePlaceholder:function(){$("iframe",document.getElementById("clientframe-container")).contents().find(".drop-marker").remove()},getPlaceHolder:function(){return $("<li class='drop-marker'></li>")},PlaceInside:function(e){var t=this.getPlaceHolder();t.addClass("horizontal").css("width",e.width()+"px"),this.addPlaceHolder(e,"inside-append",t)},PlaceBefore:function(e){var t=this.getPlaceHolder(),n="inline"===e.css("display")||"inline-block"===e.css("display");if(e.is("br"))n=!1;else if(e.is("td,th"))return t.addClass("horizontal").css("width",e.width()+"px"),this.addPlaceHolder(e,"inside-prepend",t);n?t.addClass("vertical").css("height",e.innerHeight()+"px"):t.addClass("horizontal").css("width",e.parent().width()+"px"),this.addPlaceHolder(e,"before",t)},PlaceAfter:function(e){var t=this.getPlaceHolder(),n="inline"===e.css("display")||"inline-block"===e.css("display");if(e.is("br"))n=!1;else if(e.is("td,th"))return t.addClass("horizontal").css("width",e.width()+"px"),this.addPlaceHolder(e,"inside-append",t);n?t.addClass("vertical").css("height",e.innerHeight()+"px"):t.addClass("horizontal").css("width",e.parent().width()+"px"),this.addPlaceHolder(e,"after",t)},findNearestElement:function(e,t,n){var i=this,r=null,a=e.children(":not(.drop-marker,[data-dragcontext-marker],.background-item,.kartra_element_bg)");if(a.length>0){if(a.each((function(){if(!$(this).is(".drop-marker")){var e,a=$(this).get(0).getBoundingClientRect(),o=0,s=null,l="",c=a.left,d=a.right,u=a.top,h=a.bottom,p=null,f=null;if(n>u&&n<h?p=t<c&&n<d?{x:t,y:n,position:"before"}:{x:t,y:n,position:"after"}:t>c&&t<d?p=n<u&&n<h?{x:t,y:u,position:"before"}:{x:t,y:h,position:"after"}:t<c&&t<d?(p={x:c,y:u,position:"before"},f={x:c,y:h,position:"after"}):t>c&&t>d?(p={x:d,y:u,position:"before"},f={x:d,y:h,position:"after"}):n<u&&n<h?(p={x:c,y:u,position:"before"},f={x:d,y:u,position:"after"}):n>u&&n>h&&(p={x:c,y:h,position:"before"},f={x:d,y:h,position:"after"}),e=i.calculateDistance(p,t,n),null!==f&&(s=i.calculateDistance(f,t,n)),e<s||null===s?(o=e,l=p.position):(o=s,l=f.position),null!==r&&r.distance<o)return!0;r={el:this,distance:o,xPosition1:c,xPosition2:d,yPosition1:u,yPosition2:h,position:l}}})),null!==r){var o=r.position;return{el:$(r.el),position:o}}return!1}},AddEntryToDragOverQueue:function(e,t,n,i,r,a,o){var s=[e,t,n];this.dragoverqueue.push(s),this.accepts=i,this.dragged=r,this.dropZone=e,this.dnd=a,this.droppableString=o},ProcessDragOverQueue:function(e,t,n){var i=this.dragoverqueue.pop();if(this.dragoverqueue=[],i&&3===i.length){var r=i[0],a=i[1];n=i[2];this.OrchestrateDragDrop(r,a,n)}},GetContextMarker:function(){return $("<div data-dragcontext-marker><span data-dragcontext-marker-text></span></div>")},AddContainerContext:function(e,t){var n=e.get(0).ownerDocument,i=this.GetContextMarker();switch(this.ClearContainerContext(),e[0].hasAttribute("class")&&(e[0].classList.contains("container")||e[0].classList.contains("container-fluid"))&&e[0].classList.add("container-hover"),e.is("html,body")&&(t="inside",e=$(n).contents().find("body")),t){case"inside":if(this.PositionContextMarker(i,e),e.hasClass("stackhive-nodrop-zone")&&i.addClass("invalid"),!this.dnd.isAllowed(this.dragged,e[0]))return!1;var r=this.getElementName(e);i.find("[data-dragcontext-marker-text]").html(r),0!==$(n).contents().find("body [data-sh-parent-marker]").length?$(n).contents().find("body [data-sh-parent-marker]").first().before(i):$(n).contents().find("body").append(i);break;case"sibling":if(this.PositionContextMarker(i,e.parent()),e.parent().hasClass("stackhive-nodrop-zone")&&i.addClass("invalid"),!this.dnd.isAllowed(this.dragged,e.parent()[0]))return!1;r=this.getElementName(e.parent());i.find("[data-dragcontext-marker-text]").html(r),i.attr("data-dragcontext-marker",r.toLowerCase()),0!==$(n).contents().find("body [data-sh-parent-marker]").length?$(n).contents().find("body [data-sh-parent-marker]").first().before(i):$(n).contents().find("body").append(i)}},PositionContextMarker:function(e,t){var n=t.get(0).ownerDocument,i=n.defaultView,r=t.get(0).getBoundingClientRect();e.css({height:r.height+4+"px",width:r.width+4+"px",top:r.top+$(i).scrollTop()-2+"px",left:r.left+$(i).scrollLeft()-2+"px"}),r.top+$(n).contents().find("body").scrollTop()<24&&e.find("[data-dragcontext-marker-text]").css("top","0px")},ClearContainerContext:function(){$("iframe",document.getElementById("clientframe-container")).contents().find("[data-dragcontext-marker]").remove(),$("iframe",document.getElementById("clientframe-container")).contents().find(".container-hover").removeClass("container-hover")},getElementName:function(e){return e[0].hasAttribute("data-container")?"Component container, "+e[0].tagName:"UL"===e[0].tagName||"OL"===e[0].tagName?"List":e[0].tagName+"("+e[0].className+")"},isGridNested:function(e,t){$(e),$(t);return!1}};e.exports=r}()},function(e,t,n){!function(){"use strict";n(12);var e=n(11),t=n(9),i=n(10),r={gridViewSwitch:document.getElementById("gridViewSwitch"),reactivateGridMode:!1,init:function(){$(this.gridViewSwitch).on("switchChange.bootstrapSwitch",function(e,t){t?this.activateGridView():this.deactivateGridView()}.bind(this)),i.subscribe("onBeforeSave",(function(){e.gridViewMode&&($(r.gridViewSwitch).bootstrapSwitch("state",!1),r.reactivateGridMode=!0)})),i.subscribe("onAfterSave",(function(){r.reactivateGridMode&&($(r.gridViewSwitch).bootstrapSwitch("state",!0),r.reactivateGridMode=!1)})),i.subscribe("onComponentDragStart",(function(t){t.hasAttribute("data-component")&&"grid"===t.getAttribute("data-component")&&!e.gridViewMode&&$(r.gridViewSwitch).bootstrapSwitch("state",!0)})),i.subscribe("onBlockLoaded",(function(t){e.gridViewMode&&t.gridView(!0)}))},activateGridView:function(){e.gridViewMode=!0,t.site.gridView(!0)},deactivateGridView:function(){e.gridViewMode=!1,t.site.gridView(!1)}};r.init()}()},function(e,t,n){!function(){"use strict";n(12);let e=n(9),t=n(10),i=n(11).appUI,r=n(15);var a={divPopups:document.getElementById("popups"),sideSecondPopupsNav:document.querySelector('*[data-sidesecond="popups"] nav'),selectPopupType:document.getElementById("selectPopupType"),dzEntryPopup:document.getElementById("entryPopup"),dzExitPopup:document.getElementById("exitPopup"),dzRegularPopup:document.getElementById("regularPopup"),popupDz:document.querySelectorAll(".popupDz"),popupDzUl:document.querySelectorAll(".popupDz > ul"),frameWrapper:document.getElementById("frameWrapper"),buttonBlocks:document.querySelector('button[data-side="blocks"]'),buttonTemplates:document.querySelector('button[data-side="templates"]'),buttonClosePopups:document.getElementById("buttonClosePopups"),activePopupDz:"entry",lockPopupMode:!1,init:function(){this.listenToDZULChanges(),e.Block.prototype.deletePopup=function(){this.parentLI.remove();let t=this;e.site.activePage.popups.forEach((n,i)=>{n===t&&e.site.activePage.popups.splice(i,1)}),e.site.setPendingChanges(!0)},$(a.selectPopupType).on("change",(function(){for(let e of a.popupDz)e.classList.remove("visible");"Entry"===this.value?(a.activePopupDz="entry",a.dzEntryPopup.classList.add("visible")):"Exit"===this.value?(a.activePopupDz="exit",a.dzExitPopup.classList.add("visible")):"Regular"===this.value&&(a.activePopupDz="regular",a.dzRegularPopup.classList.add("visible")),a.setPopupHeight()})),t.subscribe("onStyleEditorOpen",()=>{a.lockPopupMode=!0}),a.buttonClosePopups.addEventListener("click",()=>{a.lockPopupMode=!1,t.publish("onSideClose")}),t.subscribe("onSideOpen",e=>{a.lockPopupMode=!1;let t,n=document.querySelectorAll('*[data-sidesecond="popups"] nav img:not([src])');for(t of n)t.setAttribute("src",t.getAttribute("data-original-src"));if("popups"===e){let e=a.frameWrapper.offsetHeight;a.divPopups.style.height=e+"px",a.divPopups.querySelector(".wrapper").style.height=e+"px",a.divPopups.classList.add("visible"),a.buttonBlocks.setAttribute("disabled",!0),null!==a.buttonTemplates&&a.buttonTemplates.setAttribute("disabled",!0),a.setPopupHeight()}else"components"!==e&&(a.divPopups.classList.remove("visible"),a.buttonBlocks.removeAttribute("disabled"),null!==a.buttonTemplates&&a.buttonTemplates.removeAttribute("disabled"))}),window.addEventListener("resize",r.debounce(()=>{let e=a.frameWrapper.offsetHeight;a.divPopups.style.height=e+"px",a.divPopups.querySelector(".wrapper").style.height=e+"px"},500,!1),!1),t.subscribe("onSideClose",()=>{a.lockPopupMode||(a.divPopups.classList.remove("visible"),a.buttonBlocks.removeAttribute("disabled"),null!==a.buttonTemplates&&a.buttonTemplates.removeAttribute("disabled"))}),t.subscribe("createPopupsSidebar",(e,t)=>{a.createPopupsSidebar(e,t)}),t.subscribe("onChangePage",t=>{e.site.sitePages.forEach(e=>{e.popups.forEach(n=>{e===t?n.parentLI.classList.remove("hidden"):n.parentLI.classList.add("hidden")})});for(let e of a.popupDzUl)a.resetPlaceholders(e)}),$(a.popupDzUl).sortable({revert:!0,placeholder:"drop-hover-popup",handle:".dragBlock",cancel:"",beforeStop:(t,n)=>{"entry"===a.activePopupDz?e.site.activePage.popups.forEach(e=>{"entry"===e.popupType&&e.deletePopup()}):"exit"===a.activePopupDz&&e.site.activePage.popups.forEach(e=>{"exit"===e.popupType&&e.deletePopup()});let i=new e.Block("popup");i.popupType=a.activePopupDz,i.popupReoccurrence="All",i.popupDelay=0,i.popupID=r.randomString(10),i.placeOnCanvas(n)},receive:(e,t)=>{}})},resetPlaceholders:function(e){let t=e.querySelectorAll("li"),n=!0;for(let e of t){"none"!==window.getComputedStyle(e).display&&(n=!1)}e.nextElementSibling.style.display=n?"flex":"none"},listenToDZULChanges:function(){for(let e of a.popupDzUl);},setPopupHeight:function(){console.log(),e.site.activePage.popups.forEach(e=>{e.popupType===a.activePopupDz&&e.heightAdjustment()})},createPopupsSidebar:function(t,n){let r,o,s=document.createElement("UL");for(o=0;o<n.length;o++){var l=i.cnmPath;-1!==n[o].blocks_url.indexOf("getframe/?id")&&(l=i.siteUrl),r=$('<li><img data-original-src="'+i.cnmPath+n[o].blocks_thumb+'" data-srcc="'+l+n[o].blocks_url+'" data-height="'+n[o].blocks_height+'"></li>'),s.appendChild(r[0])}a.sideSecondPopupsNav.appendChild(s),$("li",a.sideSecondPopupsNav).each((function(){$(this).draggable({helper:function(){return $('<div style="height: 100px; width: 300px; background: #F9FAFA; box-shadow: 5px 5px 1px rgba(0,0,0,0.1); text-align: center; line-height: 100px; font-size: 28px; color: #16A085; z-index: 1000"><span class="fui-list"></span></div>')},revert:"invalid",appendTo:"body",connectToSortable:"#popups .popupDz > ul",start:function(t,n){if(e.site.activePage.transparentOverlay("on"),"entry"===a.activePopupDz||"exit"===a.activePopupDz){let t;"entry"===a.activePopupDz?t=a.dzEntryPopup.querySelectorAll(':not(.hidden)[data-page-id="'+e.site.activePage.pageID+'"]'):"exit"===a.activePopupDz&&(t=a.dzExitPopup.querySelectorAll(':not(.hidden)[data-page-id="'+e.site.activePage.pageID+'"]'));for(let e of t)e.style.display="none"}},stop:function(t,n){if(e.site.activePage.transparentOverlay("off"),"entry"===a.activePopupDz||"exit"===a.activePopupDz){let t;"entry"===a.activePopupDz?t=a.dzEntryPopup.querySelectorAll(':not(.hidden)[data-page-id="'+e.site.activePage.pageID+'"]'):"exit"===a.activePopupDz&&(t=a.dzExitPopup.querySelectorAll(':not(.hidden)[data-page-id="'+e.site.activePage.pageID+'"]'));for(let e of t)e.style.display="block"}},drag:function(e,t){if(t.originalPosition.top-t.offset.top>100){var n=parseInt($(this).data("startingScrollTop"));t.position.top-=n}}})}))}};a.init()}()},function(e,t){!function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})}()},function(e,t,n){!function(){"use strict";showModal&&$("#newSiteModal").modal("show");let e=n(11).appUI;var t={wrapperSites:document.getElementById("sites"),selectUser:document.getElementById("userDropDown"),selectSort:document.getElementById("sortDropDown"),buttonDeleteSite:document.getElementById("deleteSiteButton"),buttonsDeleteSite:document.querySelectorAll(".deleteSiteButton"),divSites:document.getElementById("sites"),buttonSearchSites:document.getElementById("buttonSearchSites"),inputSearchSites:document.getElementById("inputSearchSites"),ulCatList:document.getElementById("ulCatList"),ulTemplateList:document.getElementById("ulTemplateList"),divEmptyCanvas:document.getElementById("divEmptyCanvas"),linkNewSite:document.getElementById("linkNewSite"),npm:document.querySelector(".newPageModal"),linkNewPage:document.getElementById("linkNewPage"),init:function(){window.storage.setData("pageId","new"),$(this.ulCatList).on("click","button:not(.active)",(function(){let e=this.getAttribute("data-cat-id");$(t.ulCatList).find("button").removeClass("active"),$(this).addClass("active"),t.deselectTemplate(),"canvas"===e?($(t.linkNewSite).removeClass("disabled"),$(".templateList").hide(),$(t.divEmptyCanvas).fadeIn()):($(t.linkNewSite).addClass("disabled"),$(t.divEmptyCanvas).hide(),$(".templateList").show(),$(".templateList li").hide(),$('.templateList li[data-cat-id="'+e+'"]').fadeIn())})),$(t.ulTemplateList).on("click","a",(function(){let e=this.classList.contains("active");return $(t.linkNewSite).removeClass("disabled"),t.deselectTemplate(),e||(this.classList.add("active"),t.activateTemplate(this.getAttribute("data-template-id"))),!1})),t.npmUlCategory=t.npm.querySelector('[data-list="category"]'),t.npmTemplateWrapper=t.npm.querySelector(".templateWrapper"),t.npmCanvas=t.npm.querySelector(".divEmptyCanvas"),t.npmTemplateList=t.npm.querySelector(".templateList"),t.npmTemplateListItems=t.npmTemplateList.querySelectorAll(".templateList__item a"),$(t.npmUlCategory).on("click","button",e=>{if(e.preventDefault(),e.currentTarget.classList.contains("active"))return;const n=e.currentTarget.getAttribute("data-cat-id");t.npmUlCategory.querySelectorAll("button").forEach(e=>e.classList.remove("active")),e.currentTarget.classList.add("active"),"canvas"==n?($(t.npmCanvas).stop(!0,!0).fadeIn(),$(t.npmTemplateList).stop(!0,!0).fadeOut(),t.linkNewPage.classList.remove("disabled"),window.storage.setData("pageId","new")):(t.npmTemplateList.querySelectorAll(".templateList__item").forEach(e=>e.style.display="none"),t.npmTemplateList.querySelectorAll(`.templateList__item[data-cat-id="${n}"]`).forEach(e=>e.style.display="flex"),t.linkNewPage.classList.add("disabled"),$(t.npmCanvas).stop(!0,!0).fadeOut(),$(t.npmTemplateList).stop(!0,!0).fadeIn())}),$(t.npmTemplateListItems).on("click",e=>{e.preventDefault(),e.currentTarget.classList.contains("active")||(t.npmTemplateListItems.forEach(e=>e.classList.remove("active")),e.currentTarget.classList.add("active"),t.linkNewPage.classList.remove("disabled"),window.storage.setData("pageId",e.currentTarget.getAttribute("data-page-id")))}),$(t.linkNewPage).on("click",e=>{e.preventDefault(),t.deselectPage()})},deselectPage:function(){$(t.linkNewPage).removeClass("disabled"),$(t.npmUlCategory).find("button").removeClass("active"),$(t.npmUlCategory).find('button[data-cat-id="canvas"]').addClass("active"),$(t.npmCanvas).fadeIn(),$(t.npmTemplateList).fadeOut(),$(t.npmTemplateListItems).removeClass("active"),window.storage.setData("pageId","new")},deselectTemplate:function(){$(t.linkNewSite).removeClass("disabled"),t.activateTemplate(0),$(t.ulTemplateList).find("a").removeClass("active")},activateTemplate:function(n){t.linkNewSite.href=0===n?e.dataUrls.create+"?new":e.dataUrls.create+"?new&template="+n}};t.init()}(storage)}]);